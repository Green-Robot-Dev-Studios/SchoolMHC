var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(r)}function a(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function c(t){let e;return u(t,(t=>e=t))(),e}function h(t,e,n){t.$$.on_destroy.push(u(e,n))}function l(t,e,n,r){if(t){const i=f(t,e,n,r);return t[0](i)}}function f(t,e,r,i){return t[1]&&i?n(r.ctx.slice(),t[1](i(e))):r.ctx}function p(t,e,n,r,i,o,a){const s=function(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}(e,r,i,o);if(s){const i=f(e,n,r,a);t.p(i,s)}}function d(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function v(t,e){const n={};e=new Set(e);for(const r in t)e.has(r)||"$"===r[0]||(n[r]=t[r]);return n}const m="undefined"!=typeof window;let g=m?()=>window.performance.now():()=>Date.now(),y=m?t=>requestAnimationFrame(t):t;const b=new Set;function w(t){b.forEach((e=>{e.c(t)||(b.delete(e),e.f())})),0!==b.size&&y(w)}function I(t,e,n){t.insertBefore(e,n||null)}function E(t){t.parentNode.removeChild(t)}function T(t){return document.createElement(t)}function _(t){return document.createTextNode(t)}function S(){return _(" ")}function A(){return _("")}function N(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function k(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function D(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)null==e[r]?t.removeAttribute(r):"style"===r?t.style.cssText=e[r]:"__value"===r?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:k(t,r,e[r])}function C(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function x(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function O(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const R=new Set;let P,L=0;function $(t,e,n,r,i,o,a,s=0){const u=16.666/r;let c="{\n";for(let t=0;t<=1;t+=u){const r=e+(n-e)*o(t);c+=100*t+`%{${a(r,1-r)}}\n`}const h=c+`100% {${a(n,1-n)}}\n}`,l=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(h)}_${s}`,f=t.ownerDocument;R.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(T("style")).sheet),d=f.__svelte_rules||(f.__svelte_rules={});d[l]||(d[l]=!0,p.insertRule(`@keyframes ${l} ${h}`,p.cssRules.length));const v=t.style.animation||"";return t.style.animation=`${v?`${v}, `:""}${l} ${r}ms linear ${i}ms 1 both`,L+=1,l}function M(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-r.length;i&&(t.style.animation=r.join(", "),L-=i,L||y((()=>{L||(R.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),R.clear())})))}function F(t){P=t}function V(){if(!P)throw new Error("Function called outside component initialization");return P}function U(t){V().$$.on_mount.push(t)}function j(t){V().$$.on_destroy.push(t)}function q(){const t=V();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const i=O(e,n);r.slice().forEach((e=>{e.call(t,i)}))}}}function B(t,e){V().$$.context.set(t,e)}function K(t){return V().$$.context.get(t)}function G(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}const H=[],z=[],W=[],X=[],Q=Promise.resolve();let Y=!1;function J(){Y||(Y=!0,Q.then(nt))}function Z(t){W.push(t)}let tt=!1;const et=new Set;function nt(){if(!tt){tt=!0;do{for(let t=0;t<H.length;t+=1){const e=H[t];F(e),rt(e.$$)}for(F(null),H.length=0;z.length;)z.pop()();for(let t=0;t<W.length;t+=1){const e=W[t];et.has(e)||(et.add(e),e())}W.length=0}while(H.length);for(;X.length;)X.pop()();Y=!1,tt=!1,et.clear()}}function rt(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Z)}}let it;function ot(t,e,n){t.dispatchEvent(O(`${e?"intro":"outro"}${n}`))}const at=new Set;let st;function ut(){st={r:0,c:[],p:st}}function ct(){st.r||o(st.c),st=st.p}function ht(t,e){t&&t.i&&(at.delete(t),t.i(e))}function lt(t,e,n,r){if(t&&t.o){if(at.has(t))return;at.add(t),st.c.push((()=>{at.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const ft={duration:0};function pt(n,r,i,s){let u=r(n,i),c=s?0:1,h=null,l=null,f=null;function p(){f&&M(n,f)}function d(t,e){const n=t.b-c;return e*=Math.abs(n),{a:c,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function v(r){const{delay:i=0,duration:a=300,easing:s=e,tick:v=t,css:m}=u||ft,I={start:g()+i,b:r};r||(I.group=st,st.r+=1),h||l?l=I:(m&&(p(),f=$(n,c,r,a,i,s,m)),r&&v(0,1),h=d(I,a),Z((()=>ot(n,r,"start"))),function(t){let e;0===b.size&&y(w),new Promise((n=>{b.add(e={c:t,f:n})}))}((t=>{if(l&&t>l.start&&(h=d(l,a),l=null,ot(n,h.b,"start"),m&&(p(),f=$(n,c,h.b,h.duration,0,s,u.css))),h)if(t>=h.end)v(c=h.b,1-c),ot(n,h.b,"end"),l||(h.b?p():--h.group.r||o(h.group.c)),h=null;else if(t>=h.start){const e=t-h.start;c=h.a+h.d*s(e/h.duration),v(c,1-c)}return!(!h&&!l)})))}return{run(t){a(u)?(it||(it=Promise.resolve(),it.then((()=>{it=null}))),it).then((()=>{u=u(),v(t)})):v(t)},end(){p(),h=l=null}}}function dt(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const a=t[o],s=e[o];if(s){for(const t in a)t in s||(r[t]=1);for(const t in s)i[t]||(n[t]=s[t],i[t]=1);t[o]=s}else for(const t in a)i[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function vt(t){return"object"==typeof t&&null!==t?t:{}}function mt(t){t&&t.c()}function gt(t,e,n,i){const{fragment:s,on_mount:u,on_destroy:c,after_update:h}=t.$$;s&&s.m(e,n),i||Z((()=>{const e=u.map(r).filter(a);c?c.push(...e):o(e),t.$$.on_mount=[]})),h.forEach(Z)}function yt(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function bt(e,n,r,a,s,u,c=[-1]){const h=P;F(e);const l=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:s,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:n.context||[]),callbacks:i(),dirty:c,skip_bound:!1};let f=!1;if(l.ctx=r?r(e,n.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return l.ctx&&s(l.ctx[t],l.ctx[t]=i)&&(!l.skip_bound&&l.bound[t]&&l.bound[t](i),f&&function(t,e){-1===t.$$.dirty[0]&&(H.push(t),J(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],l.update(),f=!0,o(l.before_update),l.fragment=!!a&&a(l.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);l.fragment&&l.fragment.l(t),t.forEach(E)}else l.fragment&&l.fragment.c();n.intro&&ht(e.$$.fragment),gt(e,n.target,n.anchor,n.customElement),nt()}F(h)}class wt{$destroy(){yt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const It=t=>void 0===t,Et=t=>"function"==typeof t,Tt=t=>"number"==typeof t;function _t(){let t=0;return()=>t++}const St="undefined"==typeof window;function At(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}const Nt=[];function kt(e,n=t){let r;const i=[];function o(t){if(s(e,t)&&(e=t,r)){const t=!Nt.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),Nt.push(n,e)}if(t){for(let t=0;t<Nt.length;t+=2)Nt[t][0](Nt[t+1]);Nt.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(a,s=t){const u=[a,s];return i.push(u),1===i.length&&(r=n(o)||t),a(e),()=>{const t=i.indexOf(u);-1!==t&&i.splice(t,1),0===i.length&&(r(),r=null)}}}}function Dt(e,n,r){const i=!Array.isArray(e),s=i?[e]:e,c=n.length<2;return{subscribe:kt(r,(e=>{let r=!1;const h=[];let l=0,f=t;const p=()=>{if(l)return;f();const r=n(i?h[0]:h,e);c?e(r):f=a(r)?r:t},d=s.map(((t,e)=>u(t,(t=>{h[e]=t,l&=~(1<<e),r&&p()}),(()=>{l|=1<<e}))));return r=!0,p(),function(){o(d),f()}})).subscribe}}const Ct=t=>`@@svnav-ctx__${t}`,xt=Ct("LOCATION"),Ot=Ct("ROUTER"),Rt=Ct("ROUTE"),Pt=Ct("ROUTE_PARAMS"),Lt=Ct("FOCUS_ELEM"),$t=/^:(.+)/,Mt=(t,e)=>t.substr(0,e.length)===e,Ft=t=>"*"===t[0],Vt=t=>t.replace(/(^\/+|\/+$)/g,"");function Ut(t,e=!1){const n=Vt(t).split("/");return e?n.filter(Boolean):n}const jt=(t,e)=>t+(e?`?${e}`:""),qt=t=>`/${Vt(t)}`;function Bt(...t){const e=t.map((t=>Ut(t,!0).join("/"))).join("/");return qt(e)}const Kt={1:"Link",2:"Route",3:"Router",4:"useFocus",5:"useLocation",6:"useMatch",7:"useNavigate",8:"useParams",9:"useResolvable",10:"useResolve",11:"navigate"},Gt=t=>Kt[t];function Ht(t,e,n,r){const i=n&&function(t,e){let n;return 2===t?n=e.path?`path="${e.path}"`:"default":1===t?n=`to="${e.to}"`:3===t&&(n=`basepath="${e.basepath||""}"`),`<${Gt(t)} ${n||""} />`}(r||t,n),o=i?`\n\nOccurred in: ${i}`:"",a=Gt(t);return`<${a}> ${Et(e)?e(a):e}${o}`}const zt=t=>(...e)=>t(Ht(...e)),Wt=zt((t=>{throw new Error(t)})),Xt=zt(console.warn);function Qt(t,e){return{route:t,score:t.default?0:Ut(t.fullPath).reduce(((t,e)=>{let n=t;return n+=4,(t=>""===t)(e)?n+=1:(t=>$t.test(t))(e)?n+=2:Ft(e)?n-=5:n+=3,n}),0),index:e}}function Yt(t,e){let n,r;const[i]=e.split("?"),o=Ut(i),a=""===o[0],s=function(t){return t.map(Qt).sort(((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index))}(t);for(let t=0,i=s.length;t<i;t++){const{route:i}=s[t];let u=!1;const c={},h=t=>({...i,params:c,uri:t});if(i.default){r=h(e);continue}const l=Ut(i.fullPath),f=Math.max(o.length,l.length);let p=0;for(;p<f;p++){const t=l[p],e=o[p];if(!It(t)&&Ft(t)){const e="*"===t?"*":t.slice(1);c[e]=o.slice(p).map(decodeURIComponent).join("/");break}if(It(e)){u=!0;break}const n=$t.exec(t);if(n&&!a){const t=decodeURIComponent(e);c[n[1]]=t}else if(t!==e){u=!0;break}}if(!u){n=h(Bt(...o.slice(0,p)));break}}return n||r||null}function Jt(t,e){return Yt([t],e)}function Zt(t,e){const{pathname:n,hash:r="",search:i="",state:o}=t,a=Ut(e,!0),s=Ut(n,!0);for(;a.length;)a[0]!==s[0]&&Wt(3,`Invalid state: All locations must begin with the basepath "${e}", found "${n}"`),a.shift(),s.shift();return{pathname:Bt(...s),hash:r,search:i,state:o}}const te=t=>1===t.length?"":t;function ee(t){const e=t.indexOf("?"),n=t.indexOf("#"),r=-1!==e,i=-1!==n,o=i?te(t.substr(n)):"",a=i?t.substr(0,n):t,s=r?te(a.substr(e)):"";return{pathname:r?a.substr(0,e):a,search:s,hash:o}}function ne(t,e,n){return Bt(n,function(t,e){if(Mt(t,"/"))return t;const[n,r]=t.split("?"),[i]=e.split("?"),o=Ut(n),a=Ut(i);if(""===o[0])return jt(i,r);if(!Mt(o[0],".")){const t=a.concat(o).join("/");return jt(("/"===i?"":"/")+t,r)}const s=a.concat(o),u=[];return s.forEach((t=>{".."===t?u.pop():"."!==t&&u.push(t)})),jt(`/${u.join("/")}`,r)}(t,e))}function re(t,e){const n=qt(t.replace(/\*.*$/,""));const r=Ut(n,!0),i=Jt({fullPath:n},Bt(...Ut(e,!0).slice(0,r.length)));return i&&i.uri}const ie="POP";function oe(t){return{...t.location,pathname:encodeURI(decodeURI(t.location.pathname)),state:t.history.state,_key:t.history.state&&t.history.state._key||"initial"}}function ae(t,e){return{...ee(e),state:t}}const se=!(St||!window.document||!window.document.createElement),ue=!St&&"null"===window.location.origin,ce=function(t){let e=[],n=oe(t),r=ie;const i=(t=e)=>t.forEach((t=>t({location:n,action:r})));return{get location(){return n},listen(o){e.push(o);i([o]);const a=At(t,"popstate",(()=>{n=oe(t),r=ie,i([o])}));return()=>{a(),e=e.filter((t=>t!==o))}},navigate(e,o){const{state:a={},replace:s=!1}=o||{};if(r=s?"REPLACE":"PUSH",Tt(e))o&&Xt(11,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),r=ie,t.history.go(e);else{const n={...a,_key:Math.random().toString(36).substring(2)};try{t.history[s?"replaceState":"pushState"](n,"",e)}catch(n){t.location[s?"replace":"assign"](e)}}n=oe(t),i()}}}(se&&!ue?window:function(t="/"){let e=0,n=[ae(null,t)];return{get entries(){return n},get location(){return n[e]},addEventListener(){},removeEventListener(){},history:{get state(){return n[e].state},pushState(t,r,i){e++,n=n.slice(0,e),n.push(ae(t,i))},replaceState(t,r,i){n[e]=ae(t,i)},go(t){const r=e+t;r<0||r>n.length-1||(e=r)}}}}());let he=null,le=!0;function fe(t){(!he||t.level>he.level||t.level===he.level&&function(t,e){const n=document.querySelectorAll("[data-svnav-router]");for(let r=0;r<n.length;r++){const i=n[r],o=Number(i.dataset.svnavRouter);if(o===t)return!0;if(o===e)return!1}return!1}(t.routerId,he.routerId))&&(he=t)}function pe(t){if(!t)return!1;const e="tabindex";try{if(!t.hasAttribute(e)){let n;t.setAttribute(e,"-1");const r=()=>{t.removeAttribute(e),n()};n=At(t,"blur",r)}return t.focus(),document.activeElement===t}catch(t){return!1}}function de(t,e){return Number(t.dataset.svnavRouteEnd)===e}function ve(t,e=document){return e.querySelector(t)}function me(t){Promise.resolve(c(t.focusElement)).then((e=>{const n=e||function(t){let e=ve(`[data-svnav-route-start="${t}"]`).nextElementSibling;for(;!de(e,t);){if(/^H[1-6]$/i.test(e.tagName))return e;const t=ve("h1,h2,h3,h4,h5,h6",e);if(t)return t;e=e.nextElementSibling}return null}(t.id);n||Xt(3,'Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don\'t want this Route or Router to manage focus, pass "primary={false}" to it.',t,2);pe(n)||pe(document.documentElement)}))}const ge=(t,e,n)=>(r,i)=>(J(),Q).then((()=>{if(he&&!le){if(r&&me(he.route),t.announcements&&i){const{path:r,fullPath:i,meta:o,params:a,uri:s}=he.route,u=t.createAnnouncement({path:r,fullPath:i,meta:o,params:a,uri:s},c(n));Promise.resolve(u).then((t=>{e.set(t)}))}he=null}else le=!1}));function ye(t){let e,n,r,i,o;const a=t[20].default,s=l(a,t,t[19],null);let u=t[2]&&t[4]&&t[1].announcements&&function(t){let e,n;return{c(){e=T("div"),n=_(t[0]),k(e,"role","status"),k(e,"aria-atomic","true"),k(e,"aria-live","polite"),k(e,"style","position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;")},m(t,r){I(t,e,r),function(t,e){t.appendChild(e)}(e,n)},p(t,e){1&e[0]&&C(n,t[0])},d(t){t&&E(e)}}}(t);return{c(){e=T("div"),n=S(),s&&s.c(),r=S(),u&&u.c(),i=A(),x(e,"display","none"),k(e,"aria-hidden","true"),k(e,"data-svnav-router",t[3])},m(t,a){I(t,e,a),I(t,n,a),s&&s.m(t,a),I(t,r,a),u&&u.m(t,a),I(t,i,a),o=!0},p(t,e){s&&s.p&&(!o||524288&e[0])&&p(s,a,t,t[19],e,null,null),t[2]&&t[4]&&t[1].announcements&&u.p(t,e)},i(t){o||(ht(s,t),o=!0)},o(t){lt(s,t),o=!1},d(t){t&&E(e),t&&E(n),s&&s.d(t),t&&E(r),u&&u.d(t),t&&E(i)}}}const be=_t(),we="/";function Ie(t,e,n){let r,i,o,a,s,{$$slots:u={},$$scope:c}=e,{basepath:l=we}=e,{url:f=null}=e,{history:p=ce}=e,{primary:d=!0}=e,{a11y:v={}}=e;const m={createAnnouncement:t=>`Navigated to ${t.uri}`,announcements:!0,...v},g=l,y=qt(l),b=K(xt),w=K(Ot),I=!b,E=be(),T=d&&!(w&&!w.manageFocus),_=kt("");h(t,_,(t=>n(0,s=t)));const S=kt([]);h(t,S,(t=>n(16,i=t)));const A=kt(null);h(t,A,(t=>n(18,a=t)));let N=!1;const k=I?0:w.level+1,D=I?kt(Zt(St?ee(f):p.location,y)):b;h(t,D,(t=>n(15,r=t)));const C=kt(r);h(t,C,(t=>n(17,o=t)));const x=ge(m,_,D),O=t=>e=>e.filter((e=>e.id!==t));return I||l===we||Xt(3,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:l}),I&&(U((()=>p.listen((t=>{const e=Zt(t.location,y);C.set(r),D.set(e)})))),B(xt,D)),B(Ot,{activeRoute:A,registerRoute:function(t){if(St){if(N)return;const e=Jt(t,r.pathname);if(e)return N=!0,e}else S.update((e=>{const n=O(t.id)(e);return n.push(t),n}))},unregisterRoute:function(t){S.update(O(t))},manageFocus:T,level:k,id:E,history:I?p:w.history,basepath:I?y:w.basepath}),t.$$set=t=>{"basepath"in t&&n(10,l=t.basepath),"url"in t&&n(11,f=t.url),"history"in t&&n(12,p=t.history),"primary"in t&&n(13,d=t.primary),"a11y"in t&&n(14,v=t.a11y),"$$scope"in t&&n(19,c=t.$$scope)},t.$$.update=()=>{if(1024&t.$$.dirty[0]&&l!==g&&Xt(3,'You cannot change the "basepath" prop. It is ignored.'),98304&t.$$.dirty[0]){const t=Yt(i,r.pathname);A.set(t)}if(163840&t.$$.dirty[0]&&I){const t=!!r.hash,e=!t&&T,n=!t||r.pathname!==o.pathname;x(e,n)}262144&t.$$.dirty[0]&&T&&a&&a.primary&&fe({level:k,routerId:E,route:a})},[s,m,I,E,T,_,S,A,D,C,l,f,p,d,v,r,i,o,a,c,u]}class Ee extends wt{constructor(t){super(),bt(this,t,Ie,ye,s,{basepath:10,url:11,history:12,primary:13,a11y:14},[-1,-1])}}function Te(t,e,n=Ot,r=3){K(n)||Wt(t,(t=>`You cannot use ${t} outside of a ${Gt(r)}.`),e)}function _e(){return Te(5),(t=>{const{subscribe:e}=K(t);return{subscribe:e}})(xt)}function Se(){const{history:t}=K(Ot);return t}function Ae(){const t=K(Rt);return t?Dt(t,(t=>t.base)):kt("/")}function Ne(){Te(10);const t=Ae(),{basepath:e}=K(Ot);return n=>ne(n,c(t),e)}const ke=t=>({params:16&t,location:4&t}),De=t=>({params:St?c(t[9]):t[4],location:t[2],navigate:t[10]});function Ce(t){let e,n;return e=new Ee({props:{primary:t[1],$$slots:{default:[Re]},$$scope:{ctx:t}}}),{c(){mt(e.$$.fragment)},m(t,r){gt(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.primary=t[1]),264213&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function xe(t){let e;const n=t[17].default,r=l(n,t,t[18],De);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||262164&i)&&p(r,n,t,t[18],i,ke,De)},i(t){e||(ht(r,t),e=!0)},o(t){lt(r,t),e=!1},d(t){r&&r.d(t)}}}function Oe(t){let e,r,i;const o=[{location:t[2]},{navigate:t[10]},St?c(t[9]):t[4],t[11]];var a=t[0];function s(t){let e={};for(let t=0;t<o.length;t+=1)e=n(e,o[t]);return{props:e}}return a&&(e=new a(s())),{c(){e&&mt(e.$$.fragment),r=A()},m(t,n){e&&gt(e,t,n),I(t,r,n),i=!0},p(t,n){const i=3604&n?dt(o,[4&n&&{location:t[2]},1024&n&&{navigate:t[10]},528&n&&vt(St?c(t[9]):t[4]),2048&n&&vt(t[11])]):{};if(a!==(a=t[0])){if(e){ut();const t=e;lt(t.$$.fragment,1,0,(()=>{yt(t,1)})),ct()}a?(e=new a(s()),mt(e.$$.fragment),ht(e.$$.fragment,1),gt(e,r.parentNode,r)):e=null}else a&&e.$set(i)},i(t){i||(e&&ht(e.$$.fragment,t),i=!0)},o(t){e&&lt(e.$$.fragment,t),i=!1},d(t){t&&E(r),e&&yt(e,t)}}}function Re(t){let e,n,r,i;const o=[Oe,xe],a=[];function s(t,e){return null!==t[0]?0:1}return e=s(t),n=a[e]=o[e](t),{c(){n.c(),r=A()},m(t,n){a[e].m(t,n),I(t,r,n),i=!0},p(t,i){let u=e;e=s(t),e===u?a[e].p(t,i):(ut(),lt(a[u],1,1,(()=>{a[u]=null})),ct(),n=a[e],n?n.p(t,i):(n=a[e]=o[e](t),n.c()),ht(n,1),n.m(r.parentNode,r))},i(t){i||(ht(n),i=!0)},o(t){lt(n),i=!1},d(t){a[e].d(t),t&&E(r)}}}function Pe(t){let e,n,r,i,o,a=t[3]&&Ce(t);return{c(){e=T("div"),n=S(),a&&a.c(),r=S(),i=T("div"),x(e,"display","none"),k(e,"aria-hidden","true"),k(e,"data-svnav-route-start",t[5]),x(i,"display","none"),k(i,"aria-hidden","true"),k(i,"data-svnav-route-end",t[5])},m(t,s){I(t,e,s),I(t,n,s),a&&a.m(t,s),I(t,r,s),I(t,i,s),o=!0},p(t,[e]){t[3]?a?(a.p(t,e),8&e&&ht(a,1)):(a=Ce(t),a.c(),ht(a,1),a.m(r.parentNode,r)):a&&(ut(),lt(a,1,1,(()=>{a=null})),ct())},i(t){o||(ht(a),o=!0)},o(t){lt(a),o=!1},d(t){t&&E(e),t&&E(n),a&&a.d(t),t&&E(r),t&&E(i)}}}const Le=_t();function $e(t,e,r){let i;const o=["path","component","meta","primary"];let a,s,u,c,l=v(e,o),{$$slots:f={},$$scope:p}=e,{path:m=""}=e,{component:g=null}=e,{meta:y={}}=e,{primary:b=!0}=e;Te(2,e);const w=Le(),{registerRoute:I,unregisterRoute:E,activeRoute:T}=K(Ot);h(t,T,(t=>r(16,u=t)));const _=Ae();h(t,_,(t=>r(15,a=t)));const S=_e();h(t,S,(t=>r(2,s=t)));const A=kt(null);let N;const k=kt(),D=kt({});h(t,D,(t=>r(4,c=t))),B(Rt,k),B(Pt,D),B(Lt,A);const C=function(){Te(7);const t=Ne(),{navigate:e}=Se();return(n,r)=>{const i=Tt(n)?n:t(n);return e(i,r)}}();return St||j((()=>E(w))),t.$$set=t=>{r(23,e=n(n({},e),d(t))),r(11,l=v(e,o)),"path"in t&&r(12,m=t.path),"component"in t&&r(0,g=t.component),"meta"in t&&r(13,y=t.meta),"primary"in t&&r(1,b=t.primary),"$$scope"in t&&r(18,p=t.$$scope)},t.$$.update=()=>{if(45062&t.$$.dirty){const t=""===m,e=Bt(a,m),n={id:w,path:m,meta:y,default:t,fullPath:t?"":e,base:t?a:re(e,s.pathname),primary:b,focusElement:A};k.set(n),r(14,N=I(n))}if(81920&t.$$.dirty&&r(3,i=!!(N||u&&u.id===w)),81928&t.$$.dirty&&i){const{params:t}=N||u;D.set(t)}},e=d(e),[g,b,s,i,c,w,T,_,S,D,C,l,m,y,N,a,u,f,p]}class Me extends wt{constructor(t){super(),bt(this,t,$e,Pe,s,{path:12,component:0,meta:13,primary:1})}}function Fe(t){let e,r,i,o;const a=t[13].default,s=l(a,t,t[12],null);let u=[{href:t[0]},t[1],t[2]],c={};for(let t=0;t<u.length;t+=1)c=n(c,u[t]);return{c(){e=T("a"),s&&s.c(),D(e,c)},m(n,a){I(n,e,a),s&&s.m(e,null),r=!0,i||(o=N(e,"click",t[4]),i=!0)},p(t,[n]){s&&s.p&&(!r||4096&n)&&p(s,a,t,t[12],n,null,null),D(e,c=dt(u,[(!r||1&n)&&{href:t[0]},2&n&&t[1],4&n&&t[2]]))},i(t){r||(ht(s,t),r=!0)},o(t){lt(s,t),r=!1},d(t){t&&E(e),s&&s.d(t),i=!1,o()}}}function Ve(t,e,r){let i,o,a,s,u;const c=["to","replace","state","getProps"];let l,f=v(e,c),{$$slots:p={},$$scope:m}=e,{to:g}=e,{replace:y=!1}=e,{state:b={}}=e,{getProps:w=null}=e;Te(1,e);const I=_e();h(t,I,(t=>r(9,l=t)));const E=q(),T=Ne(),{navigate:_}=Se();return t.$$set=t=>{r(17,e=n(n({},e),d(t))),r(18,f=v(e,c)),"to"in t&&r(5,g=t.to),"replace"in t&&r(6,y=t.replace),"state"in t&&r(7,b=t.state),"getProps"in t&&r(8,w=t.getProps),"$$scope"in t&&r(12,m=t.$$scope)},t.$$.update=()=>{544&t.$$.dirty&&r(0,i=T(g,l)),513&t.$$.dirty&&r(10,o=Mt(l.pathname,i)),513&t.$$.dirty&&r(11,a=i===l.pathname),2048&t.$$.dirty&&r(1,s=a?{"aria-current":"page"}:{}),r(2,u=(()=>{if(Et(w)){const t=w({location:l,href:i,isPartiallyCurrent:o,isCurrent:a});return{...f,...t}}return f})())},e=d(e),[i,s,u,I,function(t){if(E("click",t),function(t){return!t.defaultPrevented&&0===t.button&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)){t.preventDefault();_(i,{state:b,replace:a||y})}},g,y,b,w,l,o,a,m,p]}class Ue extends wt{constructor(t){super(),bt(this,t,Ve,Fe,s,{to:5,replace:6,state:7,getProps:8})}}function je(t){let e;const n=t[5].default,r=l(n,t,t[4],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||16&i)&&p(r,n,t,t[4],i,null,null)},i(t){e||(ht(r,t),e=!0)},o(t){lt(r,t),e=!1},d(t){r&&r.d(t)}}}function qe(t){let e,n,r=t[0]&&je(t);return{c(){r&&r.c(),e=A()},m(t,i){r&&r.m(t,i),I(t,e,i),n=!0},p(t,[n]){t[0]?r?(r.p(t,n),1&n&&ht(r,1)):(r=je(t),r.c(),ht(r,1),r.m(e.parentNode,e)):r&&(ut(),lt(r,1,1,(()=>{r=null})),ct())},i(t){n||(ht(r),n=!0)},o(t){lt(r),n=!1},d(t){r&&r.d(t),t&&E(e)}}}function Be(t,e,n){let{$$slots:r={},$$scope:i}=e,{firebase:o}=e,{perf:a=!1}=e,{analytics:s=!1}=e,u=!1;const c=q();return B("firebase",{getFirebase:()=>o}),U((()=>{if(n(1,o=o||window&&window.firebase),!o)throw Error("No firebase app was provided. You must provide an initialized Firebase app or make it available globally.");a&&o.performance(),s&&o.analytics(),c("initializeApp",{firebase:o}),n(0,u=!0)})),t.$$set=t=>{"firebase"in t&&n(1,o=t.firebase),"perf"in t&&n(2,a=t.perf),"analytics"in t&&n(3,s=t.analytics),"$$scope"in t&&n(4,i=t.$$scope)},[u,o,a,s,i,r]}class Ke extends wt{constructor(t){super(),bt(this,t,Be,qe,s,{firebase:1,perf:2,analytics:3})}}function Ge(t){const e=function(){const{getFirebase:t}=K("firebase");return t()}();if(!e)throw new Error("Missing Firebase app in context. Are you inside a 'FirebaseApp' component?");if(t){const n=e[t];if(n&&n())return n();throw new Error(`Firebase ${t} not found. You may be missing "import 'firebase/${t}'" `)}return e}const He=t=>({user:1&t}),ze=t=>({user:t[0],auth:t[1].auth}),We=t=>({user:1&t}),Xe=t=>({user:t[0],auth:t[1].auth}),Qe=t=>({user:1&t}),Ye=t=>({user:t[0],auth:t[1].auth}),Je=t=>({user:1&t}),Ze=t=>({user:t[0],auth:t[1].auth});function tn(t){let e;const n=t[4]["signed-out"],r=l(n,t,t[3],Xe);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||9&i)&&p(r,n,t,t[3],i,We,Xe)},i(t){e||(ht(r,t),e=!0)},o(t){lt(r,t),e=!1},d(t){r&&r.d(t)}}}function en(t){let e;const n=t[4].default,r=l(n,t,t[3],Ye);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||9&i)&&p(r,n,t,t[3],i,Qe,Ye)},i(t){e||(ht(r,t),e=!0)},o(t){lt(r,t),e=!1},d(t){r&&r.d(t)}}}function nn(t){let e,n,r,i,o;const a=t[4].before,s=l(a,t,t[3],Ze),u=[en,tn],c=[];function h(t,e){return t[0]?0:1}n=h(t),r=c[n]=u[n](t);const f=t[4].after,d=l(f,t,t[3],ze);return{c(){s&&s.c(),e=S(),r.c(),i=S(),d&&d.c()},m(t,r){s&&s.m(t,r),I(t,e,r),c[n].m(t,r),I(t,i,r),d&&d.m(t,r),o=!0},p(t,[e]){s&&s.p&&(!o||9&e)&&p(s,a,t,t[3],e,Je,Ze);let l=n;n=h(t),n===l?c[n].p(t,e):(ut(),lt(c[l],1,1,(()=>{c[l]=null})),ct(),r=c[n],r?r.p(t,e):(r=c[n]=u[n](t),r.c()),ht(r,1),r.m(i.parentNode,i)),d&&d.p&&(!o||9&e)&&p(d,f,t,t[3],e,He,ze)},i(t){o||(ht(s,t),ht(r),ht(d,t),o=!0)},o(t){lt(s,t),lt(r),lt(d,t),o=!1},d(t){s&&s.d(t),t&&E(e),c[n].d(t),t&&E(i),d&&d.d(t)}}}function rn(t,e,n){let r,{$$slots:i={},$$scope:o}=e,{persist:a=null}=e,s=function(t={persist:null}){const e=Ge("auth"),n="sveltefire_user";let r=null;const{persist:i}=t;i&&(r=JSON.parse(t.persist.getItem(n)));const o=kt(r,(()=>{const r=e.onAuthStateChanged((e=>{s(e),i&&t.persist.setItem(n,JSON.stringify(e))}));return()=>r})),{subscribe:a,set:s}=o;return{subscribe:a,auth:e}}({persist:a});h(t,s,(t=>n(0,r=t)));const u=q();let c;return U((()=>{c=s.subscribe((t=>{u("user",{user:t})}))})),j((()=>c())),t.$$set=t=>{"persist"in t&&n(2,a=t.persist),"$$scope"in t&&n(3,o=t.$$scope)},[r,s,a,o,i]}class on extends wt{constructor(t){super(),bt(this,t,rn,nn,s,{persist:2})}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var an=function(t,e){return(an=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function sn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}an(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var un=function(){return(un=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function cn(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function hn(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function ln(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fn(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function pn(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var dn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=o>>2,l=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(f=64)),r.push(n[h],n[l],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var h=a<<4&240|s>>2;if(r.push(h),64!==u){var l=s<<6&192|u;r.push(l)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function vn(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=vn(t[n],e[n]));return t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var mn=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function gn(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function yn(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var bn=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,wn.prototype.create),o}return sn(e,t),e}(Error),wn=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?In(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new bn(i,s,r);return u},t}();function In(t,e){return t.replace(En,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var En=/\{\$([^}]+)}/g;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Tn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _n(t,e){var n=new Sn(t,e);return n.subscribe.bind(n)}var Sn=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=An),void 0===r.error&&(r.error=An),void 0===r.complete&&(r.complete=An);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function An(){}
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Nn(t){return t&&t._delegate?t._delegate:t}var kn=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),Dn="[DEFAULT]",Cn=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t=Dn);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new mn;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=un({identifier:Dn,optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t))try{this.getOrInitializeService({instanceIdentifier:Dn})}catch(t){}try{for(var r=ln(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=fn(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=Dn),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return cn(this,void 0,void 0,(function(){var t;return hn(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(pn(pn([],fn(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),fn(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=Dn),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.instanceIdentifier,i=void 0===r?Dn:r,o=t.options,a=void 0===o?{}:o,s=this.normalizeInstanceIdentifier(i);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:s,options:a});try{for(var c=ln(this.instancesDeferred.entries()),h=c.next();!h.done;h=c.next()){var l=fn(h.value,2),f=l[0],p=l[1];s===this.normalizeInstanceIdentifier(f)&&p.resolve(u)}}catch(t){e={error:t}}finally{try{h&&!h.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(u,s),u},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r;try{for(var i=ln(this.onInitCallbacks),o=i.next();!o.done;o=i.next()){var a=o.value;try{a(t,e)}catch(t){}}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===Dn?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(t){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:Dn:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var xn,On=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new Cn(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function Rn(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Pn,Ln=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(Pn||(Pn={}));var $n,Mn={debug:Pn.DEBUG,verbose:Pn.VERBOSE,info:Pn.INFO,warn:Pn.WARN,error:Pn.ERROR,silent:Pn.SILENT},Fn=Pn.INFO,Vn=((xn={})[Pn.DEBUG]="log",xn[Pn.VERBOSE]="log",xn[Pn.INFO]="info",xn[Pn.WARN]="warn",xn[Pn.ERROR]="error",xn),Un=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=Vn[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,Rn(["["+i+"]  "+t.name+":"],n))}},jn=function(){function t(t){this.name=t,this._logLevel=Fn,this._logHandler=Un,this._userLogHandler=null,Ln.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Pn))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?Mn[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Rn([this,Pn.DEBUG],t)),this._logHandler.apply(this,Rn([this,Pn.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Rn([this,Pn.VERBOSE],t)),this._logHandler.apply(this,Rn([this,Pn.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Rn([this,Pn.INFO],t)),this._logHandler.apply(this,Rn([this,Pn.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Rn([this,Pn.WARN],t)),this._logHandler.apply(this,Rn([this,Pn.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Rn([this,Pn.ERROR],t)),this._logHandler.apply(this,Rn([this,Pn.ERROR],t))},t}();function qn(t){Ln.forEach((function(e){e.setLogLevel(t)}))}var Bn,Kn=(($n={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",$n["bad-app-name"]="Illegal App name: '{$appName}",$n["duplicate-app"]="Firebase App named '{$appName}' already exists",$n["app-deleted"]="Firebase App named '{$appName}' already deleted",$n["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",$n["invalid-log-argument"]="First argument to `onLog` must be null or a function.",$n),Gn=new wn("app","Firebase",Kn),Hn="@firebase/app",zn="[DEFAULT]",Wn=((Bn={})[Hn]="fire-core",Bn["@firebase/analytics"]="fire-analytics",Bn["@firebase/app-check"]="fire-app-check",Bn["@firebase/auth"]="fire-auth",Bn["@firebase/database"]="fire-rtdb",Bn["@firebase/functions"]="fire-fn",Bn["@firebase/installations"]="fire-iid",Bn["@firebase/messaging"]="fire-fcm",Bn["@firebase/performance"]="fire-perf",Bn["@firebase/remote-config"]="fire-rc",Bn["@firebase/storage"]="fire-gcs",Bn["@firebase/firestore"]="fire-fst",Bn["fire-js"]="fire-js",Bn["firebase-wrapper"]="fire-js-all",Bn),Xn=new jn("@firebase/app"),Qn=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=vn(void 0,t),this.container=new On(e.name),this._addComponent(new kn("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e=zn),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=zn),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){Xn.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Gn.create("app-deleted",{appName:this.name_})},t}();Qn.prototype.name&&Qn.prototype.options||Qn.prototype.delete||console.log("dc");
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Yn(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=zn);var a=o.name;if("string"!=typeof a||!a)throw Gn.create("bad-app-name",{appName:String(a)});if(Tn(e,a))throw Gn.create("duplicate-app",{appName:a});var s=new t(n,o,r);return e[a]=s,s},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=Wn[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void Xn.warn(u.join(" "))}o(new kn(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:qn,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw Gn.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=Mn[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:Pn[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=Ln;r<i.length;r++)n(i[r])}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t,e)},apps:null,SDK_VERSION:"8.6.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!Tn(e,t=t||zn))throw Gn.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return Xn.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw Gn.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&vn(s,o.serviceProps),r[a]=s,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?t:[])}}for(var u=0,c=Object.keys(e);u<c.length;u++){var h=c[u];e[h]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Jn=function t(){var e=Yn(Qn);return e.INTERNAL=un(un({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){vn(e,t)},createSubscribe:_n,ErrorFactory:wn,deepExtend:vn}),e}(),Zn=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Xn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var tr=self.firebase.SDK_VERSION;tr&&tr.indexOf("LITE")>=0&&Xn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var er=Jn.initializeApp;Jn.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return yn()&&Xn.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),er.apply(void 0,t)};var nr=Jn;!function(t,e){t.INTERNAL.registerComponent(new kn("platform-logger",(function(t){return new Zn(t)}),"PRIVATE")),t.registerVersion(Hn,"0.6.22",e),t.registerVersion("fire-js","")}(nr);
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
nr.registerVersion("firebase","8.6.1","app");
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var rr=function(t,e){return(rr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function ir(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var or,ar="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},sr=sr||{},ur=ar||self;function cr(){}function hr(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function lr(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var fr="closure_uid_"+(1e9*Math.random()>>>0),pr=0;function dr(t,e,n){return t.call.apply(t.bind,arguments)}function vr(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function mr(t,e,n){return(mr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dr:vr).apply(null,arguments)}function gr(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function yr(){return Date.now()}function br(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function wr(){this.j=this.j,this.i=this.i}wr.prototype.j=!1,wr.prototype.ja=function(){var t;!this.j&&(this.j=!0,this.G(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,fr)&&t[fr]||(t[fr]=++pr))},wr.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Ir=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Er=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Tr(t){return Array.prototype.concat.apply([],arguments)}function _r(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Sr(t){return/^[\s\xa0]*$/.test(t)}var Ar,Nr=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function kr(t,e){return-1!=t.indexOf(e)}function Dr(t,e){return t<e?-1:t>e?1:0}t:{var Cr=ur.navigator;if(Cr){var xr=Cr.userAgent;if(xr){Ar=xr;break t}}Ar=""}function Or(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Rr(t){var e={};for(var n in t)e[n]=t[n];return e}var Pr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Lr(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Pr.length;o++)n=Pr[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function $r(t){return $r[" "](t),t}$r[" "]=cr;var Mr,Fr,Vr=kr(Ar,"Opera"),Ur=kr(Ar,"Trident")||kr(Ar,"MSIE"),jr=kr(Ar,"Edge"),qr=jr||Ur,Br=kr(Ar,"Gecko")&&!(kr(Ar.toLowerCase(),"webkit")&&!kr(Ar,"Edge"))&&!(kr(Ar,"Trident")||kr(Ar,"MSIE"))&&!kr(Ar,"Edge"),Kr=kr(Ar.toLowerCase(),"webkit")&&!kr(Ar,"Edge");function Gr(){var t=ur.document;return t?t.documentMode:void 0}t:{var Hr="",zr=(Fr=Ar,Br?/rv:([^\);]+)(\)|;)/.exec(Fr):jr?/Edge\/([\d\.]+)/.exec(Fr):Ur?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Fr):Kr?/WebKit\/(\S+)/.exec(Fr):Vr?/(?:Version)[ \/]?(\S+)/.exec(Fr):void 0);if(zr&&(Hr=zr?zr[1]:""),Ur){var Wr=Gr();if(null!=Wr&&Wr>parseFloat(Hr)){Mr=String(Wr);break t}}Mr=Hr}var Xr,Qr={};function Yr(t){return function(t,e){var n=Qr;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Nr(String(Mr)).split("."),r=Nr(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=Dr(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Dr(0==a[2].length,0==s[2].length)||Dr(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(ur.document&&Ur){var Jr=Gr();Xr=Jr||(parseInt(Mr,10)||void 0)}else Xr=void 0;var Zr=Xr,ti=!Ur||9<=Number(Zr),ei=Ur&&!Yr("9"),ni=function(){if(!ur.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ur.addEventListener("test",cr,e),ur.removeEventListener("test",cr,e)}catch(t){}return t}();function ri(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ii(t,e){if(ri.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Br){t:{try{$r(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:oi[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ri.prototype.b=function(){this.defaultPrevented=!0},br(ii,ri);var oi={2:"touch",3:"pen",4:"mouse"};ii.prototype.b=function(){ii.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ei)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var ai="closure_listenable_"+(1e6*Math.random()|0),si=0;function ui(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++si,this.Y=this.Z=!1}function ci(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function hi(t){this.src=t,this.a={},this.b=0}function li(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Ir(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ci(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function fi(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}hi.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=fi(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new ui(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var pi="closure_lm_"+(1e6*Math.random()|0),di={};function vi(t,e,n,r,i){if(r&&r.once)return gi(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)vi(t,e[o],n,r,i);return null}return n=Si(n),t&&t[ai]?t.va(e,n,lr(r)?!!r.capture:!!r,i):mi(t,e,n,!1,r,i)}function mi(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=lr(i)?!!i.capture:!!i;if(a&&!ti)return null;var s=Ti(t);if(s||(t[pi]=s=new hi(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=Ei,e=ti?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ni||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(wi(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function gi(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)gi(t,e[o],n,r,i);return null}return n=Si(n),t&&t[ai]?t.wa(e,n,lr(r)?!!r.capture:!!r,i):mi(t,e,n,!0,r,i)}function yi(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)yi(t,e[o],n,r,i);else r=lr(r)?!!r.capture:!!r,n=Si(n),t&&t[ai]?(t=t.c,(e=String(e).toString())in t.a&&(-1<(n=fi(o=t.a[e],n,r,i))&&(ci(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Ti(t))&&(e=t.a[e.toString()],t=-1,e&&(t=fi(e,n,r,i)),(n=-1<t?e[t]:null)&&bi(n))}function bi(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ai])li(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(wi(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ti(e))?(li(n,t),0==n.b&&(n.src=null,e[pi]=null)):ci(t)}}}function wi(t){return t in di?di[t]:di[t]="on"+t}function Ii(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&bi(t),n.call(r,e)}function Ei(t,e){if(t.Y)return!0;if(!ti){if(!e)t:{e=["window","event"];for(var n=ur,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ii(t,e=new ii(e,this))}return Ii(t,new ii(e,this))}function Ti(t){return(t=t[pi])instanceof hi?t:null}var _i="__closure_events_fn_"+(1e9*Math.random()>>>0);function Si(t){return"function"==typeof t?t:(t[_i]||(t[_i]=function(e){return t.handleEvent(e)}),t[_i])}function Ai(){wr.call(this),this.c=new hi(this),this.J=this,this.C=null}function Ni(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new ri(e,t);else if(e instanceof ri)e.target=e.target||t;else{var i=e;Lr(e=new ri(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=ki(a,r,!0,e)&&i}if(i=ki(a=e.a=t,r,!0,e)&&i,i=ki(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=ki(a=e.a=n[o],r,!1,e)&&i}function ki(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&li(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}br(Ai,wr),Ai.prototype[ai]=!0,(or=Ai.prototype).addEventListener=function(t,e,n,r){vi(this,t,e,n,r)},or.removeEventListener=function(t,e,n,r){yi(this,t,e,n,r)},or.G=function(){if(Ai.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ci(n[r]);delete e.a[t],e.b--}}this.C=null},or.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},or.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Di=ur.JSON.stringify;function Ci(){this.b=this.a=null}var xi,Oi=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new Pi}),(function(t){t.reset()}));function Ri(){var t=Fi,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Pi(){this.next=this.b=this.a=null}function Li(t){ur.setTimeout((function(){throw t}),0)}function $i(t,e){xi||function(){var t=ur.Promise.resolve(void 0);xi=function(){t.then(Vi)}}(),Mi||(xi(),Mi=!0),Fi.add(t,e)}Ci.prototype.add=function(t,e){var n=Oi.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Pi.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Pi.prototype.reset=function(){this.next=this.b=this.a=null};var Mi=!1,Fi=new Ci;function Vi(){for(var t;t=Ri();){try{t.a.call(t.b)}catch(t){Li(t)}var e=Oi;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Mi=!1}function Ui(t,e){Ai.call(this),this.b=t||1,this.a=e||ur,this.f=mr(this.Za,this),this.g=yr()}function ji(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function qi(t,e,n){if("function"==typeof t)n&&(t=mr(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=mr(t.handleEvent,t)}return 2147483647<Number(e)?-1:ur.setTimeout(t,e||0)}function Bi(t){t.a=qi((function(){t.a=null,t.c&&(t.c=!1,Bi(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}br(Ui,Ai),(or=Ui.prototype).aa=!1,or.M=null,or.Za=function(){if(this.aa){var t=yr()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ni(this,"tick"),this.aa&&(ji(this),this.start()))}},or.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=yr())},or.G=function(){Ui.X.G.call(this),ji(this),delete this.a};var Ki=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}rr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Bi(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(ur.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(wr);function Gi(t){wr.call(this),this.b=t,this.a={}}br(Gi,wr);var Hi=[];function zi(t,e,n,r){Array.isArray(n)||(n&&(Hi[0]=n.toString()),n=Hi);for(var i=0;i<n.length;i++){var o=vi(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Wi(t){Or(t.a,(function(t,e){this.a.hasOwnProperty(e)&&bi(t)}),t),t.a={}}function Xi(){this.a=!0}function Qi(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Di(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}Gi.prototype.G=function(){Gi.X.G.call(this),Wi(this)},Gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xi.prototype.info=function(){};var Yi={},Ji=null;function Zi(){return Ji=Ji||new Ai}function to(t){ri.call(this,Yi.Fa,t)}function eo(t){var e=Zi();Ni(e,new to(e,t))}function no(t,e){ri.call(this,Yi.STAT_EVENT,t),this.stat=e}function ro(t){var e=Zi();Ni(e,new no(e,t))}function io(t){ri.call(this,Yi.Ga,t)}function oo(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ur.setTimeout((function(){t()}),e)}Yi.Fa="serverreachability",br(to,ri),Yi.STAT_EVENT="statevent",br(no,ri),Yi.Ga="timingevent",br(io,ri);var ao={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},so={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function uo(){}function co(t){var e;return(e=t.a)||(e=t.a={}),e}function ho(){}uo.prototype.a=null;var lo,fo={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function po(){ri.call(this,"d")}function vo(){ri.call(this,"c")}function mo(){}function go(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Gi(this),this.P=yo,t=qr?125:void 0,this.R=new Ui(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}br(po,ri),br(vo,ri),br(mo,uo),lo=new mo;var yo=45e3,bo={},wo={};function Io(t,e,n){t.H=1,t.i=Bo(Mo(e)),t.j=n,t.I=!0,Eo(t,null)}function Eo(t,e){t.u=yr(),So(t),t.l=Mo(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),na(n.b,"t",r),t.D=0,t.a=Qa(t.g,t.g.C?e:null),0<t.O&&(t.F=new Ki(mr(t.Ca,t,t.a),t.O)),zi(t.J,t.a,"readystatechange",t.Xa),e=t.B?Rr(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),eo(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var h=c[0];c=c[1];var l=h.split("_");a=2<=l.length&&"type"==l[1]?a+(h+"=")+c+"&":a+(h+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function To(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=_o(t,n);if(i==wo){4==e&&(t.h=4,ro(14),r=!1),Qi(t.c,t.f,null,"[Incomplete Response]");break}if(i==bo){t.h=4,ro(15),Qi(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Qi(t.c,t.f,i,null),Co(t,i)}4==e&&0==n.length&&(t.h=1,ro(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),qa(e),e.F=!0,ro(11))):(Qi(t.c,t.f,n,"[Invalid Chunked Response]"),Do(t),ko(t))}function _o(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?wo:(n=Number(e.substring(n,r)),isNaN(n)?bo:(r+=1)+n>e.length?wo:(e=e.substr(r,n),t.D=r+n,e))}function So(t){t.T=yr()+t.P,Ao(t,t.P)}function Ao(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=oo(mr(t.Va,t),e)}function No(t){t.o&&(ur.clearTimeout(t.o),t.o=null)}function ko(t){0==t.g.v||t.A||Ga(t.g,t)}function Do(t){No(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,ji(t.R),Wi(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Co(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||ca(n.b,t)))if(n.I=t.N,!t.C&&ca(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Ka(n),Ra(n)}ja(n),ro(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=oo(mr(n.Sa,n),6e3));if(1>=ua(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else za(n,11)}else if((t.C||n.a==t)&&Ka(n),!Sr(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var h=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(h){var l=u.b;!l.a&&(kr(h,"spdy")||kr(h,"quic")||kr(h,"h2"))&&(l.f=l.g,l.a=new Set,l.b&&(ha(l,l.b),l.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,qo(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=yr()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=t;if((u=n).la=Xa(u,u.C?u.ga:null,u.fa),p.C){la(u.b,p);var d=p,v=u.D;v&&d.setTimeout(v),d.o&&(No(d),So(d)),u.a=p}else Ua(u);0<n.g.length&&$a(n)}else"stop"!=i[0]&&"close"!=i[0]||za(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?za(n,7):Oa(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);eo(4)}catch(t){}}function xo(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(hr(t)||"string"==typeof t)Er(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(hr(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(hr(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Oo(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Oo)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ro(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Po(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Po(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Po(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(or=go.prototype).setTimeout=function(t){this.P=t},or.Xa=function(t){t=t.target;var e=this.F;e&&3==ka(t)?e.f():this.Ca(t)},or.Ca=function(t){try{if(t==this.a)t:{var e=ka(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!qr&&!this.a.$())){this.A||4!=e||7==n||eo(8==n||0>=r?3:2),No(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sr(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,ro(12),Do(this),ko(this);break t}Qi(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Co(this,u)}this.I?(To(this,e,o),qr&&this.b&&3==e&&(zi(this.J,this.R,"tick",this.Wa),this.R.start())):(Qi(this.c,this.f,o,null),Co(this,o)),4==e&&Do(this),this.b&&!this.A&&(4==e?Ga(this.g,this):(this.b=!1,So(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ro(12)):(this.h=0,ro(13)),Do(this),ko(this)}}}catch(t){}},or.Wa=function(){if(this.a){var t=ka(this.a),e=this.a.$();this.D<e.length&&(No(this),To(this,t,e),this.b&&4!=t&&So(this))}},or.cancel=function(){this.A=!0,Do(this)},or.Va=function(){this.o=null;var t=yr();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(eo(3),ro(17)),Do(this),this.h=2,ko(this)):Ao(this,this.T-t)},(or=Oo.prototype).K=function(){Ro(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},or.L=function(){return Ro(this),this.a.concat()},or.get=function(t,e){return Po(this.b,t)?this.b[t]:e},or.set=function(t,e){Po(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},or.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Lo=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $o(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof $o){this.a=void 0!==e?e:t.a,Fo(this,t.f),this.j=t.j,Vo(this,t.c),Uo(this,t.h),this.g=t.g,e=t.b;var n=new Jo;n.c=e.c,e.a&&(n.a=new Oo(e.a),n.b=e.b),jo(this,n),this.i=t.i}else t&&(n=String(t).match(Lo))?(this.a=!!e,Fo(this,n[1]||"",!0),this.j=Ko(n[2]||""),Vo(this,n[3]||"",!0),Uo(this,n[4]),this.g=Ko(n[5]||"",!0),jo(this,n[6]||"",!0),this.i=Ko(n[7]||"")):(this.a=!!e,this.b=new Jo(null,this.a))}function Mo(t){return new $o(t)}function Fo(t,e,n){t.f=n?Ko(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Vo(t,e,n){t.c=n?Ko(e,!0):e}function Uo(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function jo(t,e,n){e instanceof Jo?(t.b=e,function(t,e){e&&!t.f&&(Zo(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(ta(this,e),na(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Go(e,Qo)),t.b=new Jo(e,t.a))}function qo(t,e,n){t.b.set(e,n)}function Bo(t){return qo(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^yr()).toString(36)),t}function Ko(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Go(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ho),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ho(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}$o.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Go(e,zo,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Go(e,zo,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Go(n,"/"==n.charAt(0)?Xo:Wo,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Go(n,Yo)),t.join("")};var zo=/[#\/\?@]/g,Wo=/[#\?:]/g,Xo=/[#\?]/g,Qo=/[#\?@]/g,Yo=/#/g;function Jo(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Zo(t){t.a||(t.a=new Oo,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function ta(t,e){Zo(t),e=ra(t,e),Po(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Po((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ro(t)))}function ea(t,e){return Zo(t),e=ra(t,e),Po(t.a.b,e)}function na(t,e,n){ta(t,e),0<n.length&&(t.c=null,t.a.set(ra(t,e),_r(n)),t.b+=n.length)}function ra(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(or=Jo.prototype).add=function(t,e){Zo(this),this.c=null,t=ra(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},or.forEach=function(t,e){Zo(this),this.a.forEach((function(n,r){Er(n,(function(n){t.call(e,n,r,this)}),this)}),this)},or.L=function(){Zo(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},or.K=function(t){Zo(this);var e=[];if("string"==typeof t)ea(this,t)&&(e=Tr(e,this.a.get(ra(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Tr(e,t[n])}return e},or.set=function(t,e){return Zo(this),this.c=null,ea(this,t=ra(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},or.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},or.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var ia=function(t,e){this.b=t,this.a=e};function oa(t){this.g=t||aa,ur.PerformanceNavigationTiming?t=0<(t=ur.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(ur.ia&&ur.ia.ya&&ur.ia.ya()&&ur.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var aa=10;function sa(t){return!!t.b||!!t.a&&t.a.size>=t.f}function ua(t){return t.b?1:t.a?t.a.size:0}function ca(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function ha(t,e){t.a?t.a.add(e):t.b=e}function la(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function fa(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=ir(t.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return _r(t.c)}function pa(){}function da(){this.a=new pa}function va(t,e,n){var r=n||"";try{xo(t,(function(t,n){var i=t;lr(t)&&(i=Di(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function ma(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}oa.prototype.cancel=function(){var t,e;if(this.c=fa(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=ir(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},pa.prototype.stringify=function(t){return ur.JSON.stringify(t,void 0)},pa.prototype.parse=function(t){return ur.JSON.parse(t,void 0)};var ga=ur.JSON.parse;function ya(t){Ai.call(this),this.headers=new Oo,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=ba,this.D=this.F=!1}br(ya,Ai);var ba="",wa=/^https?$/i,Ia=["POST","PUT"];function Ea(t){return"content-type"==t.toLowerCase()}function Ta(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,_a(t),Aa(t)}function _a(t){t.u||(t.u=!0,Ni(t,"complete"),Ni(t,"error"))}function Sa(t){if(t.b&&void 0!==sr&&(!t.s[1]||4!=ka(t)||2!=t.W()))if(t.l&&4==ka(t))qi(t.za,0,t);else if(Ni(t,"readystatechange"),4==ka(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Lo)[1]||null;if(!o&&ur.self&&ur.self.location){var a=ur.self.location.protocol;o=a.substr(0,a.length-1)}i=!wa.test(o?o.toLowerCase():"")}e=i}if(e)Ni(t,"complete"),Ni(t,"success");else{t.h=6;try{var s=2<ka(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",_a(t)}}finally{Aa(t)}}}function Aa(t,e){if(t.a){Na(t);var n=t.a,r=t.s[0]?cr:null;t.a=null,t.s=null,e||Ni(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function Na(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(ur.clearTimeout(t.m),t.m=null)}function ka(t){return t.a?t.a.readyState:0}function Da(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Or(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):qo(t,e,n))}function Ca(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function xa(t){this.pa=0,this.g=[],this.c=new Xi,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Ca("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Ca("baseRetryDelayMs",5e3,t),this.Ra=Ca("retryDelaySeedMs",1e4,t),this.Ma=Ca("forwardChannelMaxRetries",2,t),this.ma=Ca("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new oa(t&&t.concurrentRequestLimit),this.ka=new da,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Oa(t){if(Pa(t),3==t.v){var e=t.R++,n=Mo(t.B);qo(n,"SID",t.J),qo(n,"RID",e),qo(n,"TYPE","terminate"),Fa(t,n),(e=new go(t,t.c,e,void 0)).H=2,e.i=Bo(Mo(n)),n=!1,ur.navigator&&ur.navigator.sendBeacon&&(n=ur.navigator.sendBeacon(e.i.toString(),"")),!n&&ur.Image&&((new Image).src=e.i,n=!0),n||(e.a=Qa(e.g,null),e.a.ba(e.i)),e.u=yr(),So(e)}Wa(t)}function Ra(t){t.a&&(qa(t),t.a.cancel(),t.a=null)}function Pa(t){Ra(t),t.j&&(ur.clearTimeout(t.j),t.j=null),Ka(t),t.b.cancel(),t.h&&("number"==typeof t.h&&ur.clearTimeout(t.h),t.h=null)}function La(t,e){t.g.push(new ia(t.Oa++,e)),3==t.v&&$a(t)}function $a(t){sa(t.b)||t.h||(t.h=!0,$i(t.Ba,t),t.u=0)}function Ma(t,e){var n;n=e?e.f:t.R++;var r=Mo(t.B);qo(r,"SID",t.J),qo(r,"RID",n),qo(r,"AID",t.P),Fa(t,r),t.i&&t.l&&Da(r,t.i,t.l),n=new go(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Va(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),ha(t.b,n),Io(n,r,e)}function Fa(t,e){t.f&&xo({},(function(t,n){qo(e,n,t)}))}function Va(t,e,n){n=Math.min(t.g.length,n);var r=t.f?mr(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{va(h,a,"req"+c+"_")}catch(t){r&&r(h)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Ua(t){t.a||t.j||(t.T=1,$i(t.Aa,t),t.o=0)}function ja(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=oo(mr(t.Aa,t),Ha(t,t.o)),t.o++,!0)}function qa(t){null!=t.s&&(ur.clearTimeout(t.s),t.s=null)}function Ba(t){t.a=new go(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Mo(t.la);qo(e,"RID","rpc"),qo(e,"SID",t.J),qo(e,"CI",t.H?"0":"1"),qo(e,"AID",t.P),Fa(t,e),qo(e,"TYPE","xmlhttp"),t.i&&t.l&&Da(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Bo(Mo(e)),n.j=null,n.I=!0,Eo(n,t)}function Ka(t){null!=t.m&&(ur.clearTimeout(t.m),t.m=null)}function Ga(t,e){var n=null;if(t.a==e){Ka(t),qa(t),t.a=null;var r=2}else{if(!ca(t.b,e))return;n=e.s,la(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=yr()-e.u;var i=t.u;Ni(r=Zi(),new io(r,n,e,i)),$a(t)}else Ua(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(ua(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=oo(mr(t.Ba,t,e),Ha(t,t.u)),t.u++,0)))}(t,e)||2==r&&ja(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:za(t,5);break;case 4:za(t,10);break;case 3:za(t,6);break;default:za(t,2)}}function Ha(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function za(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=mr(t.Ya,t);n||(n=new $o("//www.google.com/images/cleardot.gif"),ur.location&&"http"==ur.location.protocol||Fo(n,"https"),Bo(n)),function(t,e){var n=new Xi;if(ur.Image){var r=new Image;r.onload=gr(ma,n,r,"TestLoadImage: loaded",!0,e),r.onerror=gr(ma,n,r,"TestLoadImage: error",!1,e),r.onabort=gr(ma,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=gr(ma,n,r,"TestLoadImage: timeout",!1,e),ur.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else ro(2);t.v=0,t.f&&t.f.ra(e),Wa(t),Pa(t)}function Wa(t){t.v=0,t.I=-1,t.f&&(0==fa(t.b).length&&0==t.g.length||(t.b.c.length=0,_r(t.g),t.g.length=0),t.f.qa())}function Xa(t,e,n){var r=function(t){return t instanceof $o?Mo(t):new $o(t,void 0)}(n);if(""!=r.c)e&&Vo(r,e+"."+r.c),Uo(r,r.h);else{var i=ur.location;r=function(t,e,n,r){var i=new $o(null,void 0);return t&&Fo(i,t),e&&Vo(i,e),n&&Uo(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Or(t.V,(function(t,e){qo(r,e,t)})),e=t.A,n=t.na,e&&n&&qo(r,e,n),qo(r,"VER",t.ha),Fa(t,r),r}function Qa(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ya(t.Na)).F=t.C,e}function Ya(){}function Ja(){if(Ur&&!(10<=Number(Zr)))throw Error("Environmental error: no available transport.")}function Za(t,e){Ai.call(this),this.a=new xa(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Sr(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Sr(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new ns(this)}function ts(t){po.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function es(){vo.call(this),this.status=1}function ns(t){this.a=t}(or=ya.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?co(this.H):co(lo),this.a.onreadystatechange=mr(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void Ta(this,t)}t=n||"";var i=new Oo(this.headers);r&&xo(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Ea,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=ur.FormData&&t instanceof ur.FormData,!(0<=Ir(Ia,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Na(this),0<this.o&&((this.D=function(t){return Ur&&Yr(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=mr(this.xa,this)):this.m=qi(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Ta(this,t)}},or.xa=function(){void 0!==sr&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ni(this,"timeout"),this.abort(8))},or.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ni(this,"complete"),Ni(this,"abort"),Aa(this))},or.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Aa(this,!0)),ya.X.G.call(this)},or.za=function(){this.j||(this.A||this.l||this.g?Sa(this):this.Ua())},or.Ua=function(){Sa(this)},or.W=function(){try{return 2<ka(this)?this.a.status:-1}catch(t){return-1}},or.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},or.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ga(e)}},or.ua=function(){return this.h},or.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(or=xa.prototype).ha=8,or.v=1,or.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new go(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Lr(r=Rr(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Va(this,n,e),qo(i=Mo(this.B),"RID",t),qo(i,"CVER",22),this.A&&qo(i,"X-HTTP-Session-Id",this.A),Fa(this,i),this.i&&r&&Da(i,this.i,r),ha(this.b,n),this.Ia&&qo(i,"TYPE","init"),this.da?(qo(i,"$req",e),qo(i,"SID","null"),n.U=!0,Io(n,i,null)):Io(n,i,e),this.v=2}}else 3==this.v&&(t?Ma(this,t):0==this.g.length||sa(this.b)||Ma(this))},or.Aa=function(){if(this.j=null,Ba(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=oo(mr(this.Ta,this),t)}},or.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ro(10),Ra(this),Ba(this))},or.Sa=function(){null!=this.m&&(this.m=null,Ra(this),ja(this),ro(19))},or.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),ro(2)):(this.c.info("Failed to ping google.com"),ro(1))},(or=Ya.prototype).ta=function(){},or.sa=function(){},or.ra=function(){},or.qa=function(){},or.Ja=function(){},Ja.prototype.a=function(t,e){return new Za(t,e)},br(Za,Ai),Za.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;ro(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Xa(t,null,t.fa),$a(t)},Za.prototype.close=function(){Oa(this.a)},Za.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,La(this.a,e)}else this.l?((e={}).__data__=Di(t),La(this.a,e)):La(this.a,t)},Za.prototype.G=function(){this.a.f=null,delete this.f,Oa(this.a),delete this.a,Za.X.G.call(this)},br(ts,po),br(es,vo),br(ns,Ya),ns.prototype.ta=function(){Ni(this.a,"a")},ns.prototype.sa=function(t){Ni(this.a,new ts(t))},ns.prototype.ra=function(t){Ni(this.a,new es(t))},ns.prototype.qa=function(){Ni(this.a,"b")},Ja.prototype.createWebChannel=Ja.prototype.a,Za.prototype.send=Za.prototype.h,Za.prototype.open=Za.prototype.g,Za.prototype.close=Za.prototype.close,ao.NO_ERROR=0,ao.TIMEOUT=8,ao.HTTP_ERROR=6,so.COMPLETE="complete",ho.EventType=fo,fo.OPEN="a",fo.CLOSE="b",fo.ERROR="c",fo.MESSAGE="d",Ai.prototype.listen=Ai.prototype.va,ya.prototype.listenOnce=ya.prototype.wa,ya.prototype.getLastError=ya.prototype.Qa,ya.prototype.getLastErrorCode=ya.prototype.ua,ya.prototype.getStatus=ya.prototype.W,ya.prototype.getResponseJson=ya.prototype.Pa,ya.prototype.getResponseText=ya.prototype.$,ya.prototype.send=ya.prototype.ba;var rs=ao,is=so,os=Yi,as=10,ss=11,us=ho,cs=ya,hs=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();hs.o=-1;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var ls={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},fs=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return sn(e,t),e}(Error),ps=new jn("@firebase/firestore");function ds(){return ps.logLevel}function vs(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ps.logLevel<=Pn.DEBUG){var r=e.map(ys);ps.debug.apply(ps,pn(["Firestore (8.5.0): "+t],r))}}function ms(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ps.logLevel<=Pn.ERROR){var r=e.map(ys);ps.error.apply(ps,pn(["Firestore (8.5.0): "+t],r))}}function gs(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ps.logLevel<=Pn.WARN){var r=e.map(ys);ps.warn.apply(ps,pn(["Firestore (8.5.0): "+t],r))}}function ys(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function bs(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.5.0) INTERNAL ASSERTION FAILED: "+t;throw ms(e),new Error(e)}function ws(t,e){t||bs()}function Is(t,e){return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Es(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ts=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Es(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function _s(t,e){return t<e?-1:t>e?1:0}function Ss(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function As(t){return t+"\0"}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ns=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new fs(ls.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new fs(ls.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new fs(ls.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new fs(ls.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?_s(this.nanoseconds,t.nanoseconds):_s(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ks=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Ns(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ds(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cs(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xs(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Os=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&bs(),void 0===n?n=t.length-e:n>t.length-e&&bs(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Rs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return sn(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new fs(ls.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Os),Ps=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ls=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return sn(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Ps.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new fs(ls.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new fs(ls.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new fs(ls.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new fs(ls.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Os),$s=function(){function t(t){this.fields=t,t.sort(Ls.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Ss(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Ms=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return _s(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Ms.EMPTY_BYTE_STRING=new Ms("");var Fs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(t){if(ws(!!t),"string"==typeof t){var e=0,n=Fs.exec(t);if(ws(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Us(t.seconds),nanos:Us(t.nanos)}}function Us(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function js(t){return"string"==typeof t?Ms.fromBase64String(t):Ms.fromUint8Array(t)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function qs(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Bs(t){var e=t.mapValue.fields.__previous_value__;return qs(e)?Bs(e):e}function Ks(t){var e=Vs(t.mapValue.fields.__local_write_time__.timestampValue);return new Ns(e.seconds,e.nanos)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Gs(t){return null==t}function Hs(t){return 0===t&&1/t==-1/0}function zs(t){return"number"==typeof t&&Number.isInteger(t)&&!Hs(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ws=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Rs.fromString(e))},t.fromName=function(e){return new t(Rs.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Rs.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Rs.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Rs(e.slice()))},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Xs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qs(t)?4:10:bs()}function Qs(t,e){var n=Xs(t);if(n!==Xs(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ks(t).isEqual(Ks(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Vs(t.timestampValue),r=Vs(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return js(t.bytesValue).isEqual(js(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Us(t.geoPointValue.latitude)===Us(e.geoPointValue.latitude)&&Us(t.geoPointValue.longitude)===Us(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Us(t.integerValue)===Us(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Us(t.doubleValue),r=Us(e.doubleValue);return n===r?Hs(n)===Hs(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Ss(t.arrayValue.values||[],e.arrayValue.values||[],Qs);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Ds(n)!==Ds(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Qs(n[i],r[i])))return!1;return!0}(t,e);default:return bs()}}function Ys(t,e){return void 0!==(t.values||[]).find((function(t){return Qs(t,e)}))}function Js(t,e){var n=Xs(t),r=Xs(e);if(n!==r)return _s(n,r);switch(n){case 0:return 0;case 1:return _s(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Us(t.integerValue||t.doubleValue),r=Us(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Zs(t.timestampValue,e.timestampValue);case 4:return Zs(Ks(t),Ks(e));case 5:return _s(t.stringValue,e.stringValue);case 6:return function(t,e){var n=js(t),r=js(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=_s(n[i],r[i]);if(0!==o)return o}return _s(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=_s(Us(t.latitude),Us(e.latitude));return 0!==n?n:_s(Us(t.longitude),Us(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Js(n[i],r[i]);if(o)return o}return _s(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=_s(r[a],o[a]);if(0!==s)return s;var u=Js(n[r[a]],i[o[a]]);if(0!==u)return u}return _s(r.length,o.length)}(t.mapValue,e.mapValue);default:throw bs()}}function Zs(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return _s(t,e);var n=Vs(t),r=Vs(e),i=_s(n.seconds,r.seconds);return 0!==i?i:_s(n.nanos,r.nanos)}function tu(t){return eu(t)}function eu(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Vs(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?js(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Ws.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=eu(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+eu(t.fields[o])}return e+"}"}(t.mapValue):bs();var e,n}function nu(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function ru(t){return!!t&&"integerValue"in t}function iu(t){return!!t&&"arrayValue"in t}function ou(t){return!!t&&"nullValue"in t}function au(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function su(t){return!!t&&"mapValue"in t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var uu=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(Ls.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach((function(t,n){t?e.set(n,t):e.delete(n)}))},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return Qs(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Xs(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),a=su(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(a[n]=o,i=!0)}else null!==t?(a[n]=t,i=!0):a.hasOwnProperty(n)&&(delete a[n],i=!0)})),i?{mapValue:{fields:a}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(Ls.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!su(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function cu(t){var e=[];return Cs(t.fields||{},(function(t,n){var r=new Ls([t]);if(su(n)){var i=cu(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)})),new $s(e)
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var hu=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,ks.min(),uu.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,uu.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,uu.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=uu.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=uu.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),lu=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function fu(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new lu(t,e,n,r,i,o,a)}function pu(t){var e=Is(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+tu(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),Gs(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Au(e.startAt)),e.endAt&&(n+="|ub:",n+=Au(e.endAt)),e.h=n}return e.h}function du(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!ku(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Qs(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Cu(t.startAt,e.startAt)&&Cu(t.endAt,e.endAt)}function vu(t){return Ws.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var mu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return sn(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new gu(t,n,r):"array-contains"===n?new Iu(t,r):"in"===n?new Eu(t,r):"not-in"===n?new Tu(t,r):"array-contains-any"===n?new _u(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new yu(t,n):new bu(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Js(e,this.value)):null!==e&&Xs(this.value)===Xs(e)&&this.m(Js(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return bs()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),gu=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Ws.fromName(r.referenceValue),i}return sn(e,t),e.prototype.matches=function(t){var e=Ws.comparator(t.key,this.key);return this.m(e)},e}(mu),yu=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=wu("in",n),r}return sn(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(mu),bu=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=wu("not-in",n),r}return sn(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(mu);function wu(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Ws.fromName(t.referenceValue)}))}var Iu=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return sn(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return iu(e)&&Ys(e.arrayValue,this.value)},e}(mu),Eu=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return sn(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Ys(this.value.arrayValue,e)},e}(mu),Tu=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return sn(e,t),e.prototype.matches=function(t){if(Ys(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Ys(this.value.arrayValue,e)},e}(mu),_u=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return sn(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!iu(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Ys(e.value.arrayValue,t)}))},e}(mu),Su=function(t,e){this.position=t,this.before=e};function Au(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return tu(t)})).join(",")}var Nu=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function ku(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Du(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?Ws.comparator(Ws.fromName(a.referenceValue),n.key):Js(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Cu(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Qs(t.position[n],e.position[n]))return!1;return!0}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var xu=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Ou(t,e,n,r,i,o,a,s){return new xu(t,e,n,r,i,o,a,s)}function Ru(t){return new xu(t)}function Pu(t){return!Gs(t.limit)&&"F"===t.limitType}function Lu(t){return!Gs(t.limit)&&"L"===t.limitType}function $u(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Mu(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Fu(t){return null!==t.collectionGroup}function Vu(t){var e=Is(t);if(null===e.p){e.p=[];var n=Mu(e),r=$u(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Nu(n)),e.p.push(new Nu(Ls.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Nu(Ls.keyField(),u))}}}return e.p}function Uu(t){var e=Is(t);if(!e.T)if("F"===e.limitType)e.T=fu(e.path,e.collectionGroup,Vu(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Vu(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Nu(o.field,a))}var s=e.endAt?new Su(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Su(e.startAt.position,!e.startAt.before):null;e.T=fu(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.T}function ju(t,e,n){return new xu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qu(t,e){return du(Uu(t),Uu(e))&&t.limitType===e.limitType}function Bu(t){return pu(Uu(t))+"|lt:"+t.limitType}function Ku(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+tu(e.value);var e})).join(", ")+"]"),Gs(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Au(t.startAt)),t.endAt&&(e+=", endAt: "+Au(t.endAt)),"Target("+e+")"}(Uu(t))+"; limitType="+t.limitType+")"}function Gu(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Ws.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Du(t.startAt,Vu(t),e)||t.endAt&&Du(t.endAt,Vu(t),e))}(t,e)}function Hu(t){return function(e,n){for(var r=!1,i=0,o=Vu(t);i<o.length;i++){var a=o[i],s=zu(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function zu(t,e,n){var r=t.field.isKeyField()?Ws.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Js(r,i):bs()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return bs()}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Wu(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hs(e)?"-0":e}}function Xu(t){return{integerValue:""+t}}function Qu(t,e){return zs(e)?Xu(e):Wu(t,e)}
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Yu=function(){this._=void 0};function Ju(t,e,n){return t instanceof ec?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof nc?rc(t,e):t instanceof ic?oc(t,e):function(t,e){var n=tc(t,e),r=sc(n)+sc(t.A);return ru(n)&&ru(t.A)?Xu(r):Wu(t.R,r)}(t,e)}function Zu(t,e,n){return t instanceof nc?rc(t,e):t instanceof ic?oc(t,e):n}function tc(t,e){return t instanceof ac?ru(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var ec=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return sn(e,t),e}(Yu),nc=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return sn(e,t),e}(Yu);function rc(t,e){for(var n=uc(e),r=function(t){n.some((function(e){return Qs(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ic=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return sn(e,t),e}(Yu);function oc(t,e){for(var n=uc(e),r=function(t){n=n.filter((function(e){return!Qs(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ac=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return sn(e,t),e}(Yu);function sc(t){return Us(t.integerValue||t.doubleValue)}function uc(t){return iu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var cc=function(t,e){this.field=t,this.transform=e},hc=function(t,e){this.version=t,this.transformResults=e},lc=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function fc(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var pc=function(){};function dc(t,e,n){t instanceof bc?function(t,e,n){var r=t.value.clone(),i=Ec(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof wc?function(t,e,n){if(fc(t.precondition,e)){var r=Ec(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Ic(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function vc(t,e,n){t instanceof bc?function(t,e,n){if(fc(t.precondition,e)){var r=t.value.clone(),i=Tc(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(yc(e),r).setHasLocalMutations()}}(t,e,n):t instanceof wc?function(t,e,n){if(fc(t.precondition,e)){var r=Tc(t.fieldTransforms,n,e),i=e.data;i.setAll(Ic(t)),i.setAll(r),e.convertToFoundDocument(yc(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){fc(t.precondition,e)&&e.convertToNoDocument(ks.min())}(t,e)}function mc(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),s=tc(o.transform,a||null);null!=s&&(null==n&&(n=uu.empty()),n.set(o.field,s))}return n||null}function gc(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Ss(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof nc&&e instanceof nc||t instanceof ic&&e instanceof ic?Ss(t.elements,e.elements,Qs):t instanceof ac&&e instanceof ac?Qs(t.A,e.A):t instanceof ec&&e instanceof ec}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function yc(t){return t.isFoundDocument()?t.version:ks.min()}var bc=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return sn(e,t),e}(pc),wc=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return sn(e,t),e}(pc);function Ic(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function Ec(t,e,n){var r=new Map;ws(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,Zu(a,s,n[i]))}return r}function Tc(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Ju(s,u,e))}return r}var _c,Sc,Ac=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return sn(e,t),e}(pc),Nc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return sn(e,t),e}(pc),kc=function(t){this.count=t};function Dc(t){switch(t){case ls.OK:return bs();case ls.CANCELLED:case ls.UNKNOWN:case ls.DEADLINE_EXCEEDED:case ls.RESOURCE_EXHAUSTED:case ls.INTERNAL:case ls.UNAVAILABLE:case ls.UNAUTHENTICATED:return!1;case ls.INVALID_ARGUMENT:case ls.NOT_FOUND:case ls.ALREADY_EXISTS:case ls.PERMISSION_DENIED:case ls.FAILED_PRECONDITION:case ls.ABORTED:case ls.OUT_OF_RANGE:case ls.UNIMPLEMENTED:case ls.DATA_LOSS:return!0;default:return bs()}}function Cc(t){if(void 0===t)return ms("GRPC error has no .code"),ls.UNKNOWN;switch(t){case _c.OK:return ls.OK;case _c.CANCELLED:return ls.CANCELLED;case _c.UNKNOWN:return ls.UNKNOWN;case _c.DEADLINE_EXCEEDED:return ls.DEADLINE_EXCEEDED;case _c.RESOURCE_EXHAUSTED:return ls.RESOURCE_EXHAUSTED;case _c.INTERNAL:return ls.INTERNAL;case _c.UNAVAILABLE:return ls.UNAVAILABLE;case _c.UNAUTHENTICATED:return ls.UNAUTHENTICATED;case _c.INVALID_ARGUMENT:return ls.INVALID_ARGUMENT;case _c.NOT_FOUND:return ls.NOT_FOUND;case _c.ALREADY_EXISTS:return ls.ALREADY_EXISTS;case _c.PERMISSION_DENIED:return ls.PERMISSION_DENIED;case _c.FAILED_PRECONDITION:return ls.FAILED_PRECONDITION;case _c.ABORTED:return ls.ABORTED;case _c.OUT_OF_RANGE:return ls.OUT_OF_RANGE;case _c.UNIMPLEMENTED:return ls.UNIMPLEMENTED;case _c.DATA_LOSS:return ls.DATA_LOSS;default:return bs()}}(Sc=_c||(_c={}))[Sc.OK=0]="OK",Sc[Sc.CANCELLED=1]="CANCELLED",Sc[Sc.UNKNOWN=2]="UNKNOWN",Sc[Sc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sc[Sc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sc[Sc.NOT_FOUND=5]="NOT_FOUND",Sc[Sc.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sc[Sc.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sc[Sc.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sc[Sc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sc[Sc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sc[Sc.ABORTED=10]="ABORTED",Sc[Sc.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sc[Sc.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sc[Sc.INTERNAL=13]="INTERNAL",Sc[Sc.UNAVAILABLE=14]="UNAVAILABLE",Sc[Sc.DATA_LOSS=15]="DATA_LOSS";
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var xc=function(){function t(t,e){this.comparator=t,this.root=e||Rc.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rc.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rc.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Oc(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Oc(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Oc(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Oc(this.root,t,this.comparator,!0)},t}(),Oc=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Rc=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw bs();if(this.right.isRed())throw bs();var t=this.left.check();if(t!==this.right.check())throw bs();return t+(this.isRed()?0:1)},t}();Rc.EMPTY=null,Rc.RED=!0,Rc.BLACK=!1,Rc.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw bs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw bs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw bs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw bs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw bs()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Rc(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Pc=function(){function t(t){this.comparator=t,this.data=new xc(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Lc(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Lc(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Lc=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),$c=new xc(Ws.comparator);function Mc(){return $c}var Fc=new xc(Ws.comparator);function Vc(){return Fc}var Uc=new xc(Ws.comparator);var jc=new Pc(Ws.comparator);function qc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=jc,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Bc=new Pc(_s);function Kc(){return Bc}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Gc=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Hc.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(ks.min(),r,Kc(),Mc(),qc())},t}(),Hc=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Ms.EMPTY_BYTE_STRING,n,qc(),qc(),qc())},t}(),zc=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Wc=function(t,e){this.targetId=t,this.V=e},Xc=function(t,e,n,r){void 0===n&&(n=Ms.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Qc=function(){function t(){this.S=0,this.D=Zc(),this.C=Ms.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=qc(),e=qc(),n=qc();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:bs()}})),new Hc(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Zc()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Yc=function(){function t(t){this.W=t,this.G=new Map,this.H=Mc(),this.J=Jc(),this.Y=new Pc(_s)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:bs()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(vu(i))if(0===n){var o=new Ws(i.path);this.tt(e,o,hu.newNoDocument(o,ks.min()))}else ws(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&vu(o.target)){var a=new Ws(o.target.path);null!==e.H.get(a)||e.at(i,a)||e.tt(i,a,hu.newNoDocument(a,t))}r.O&&(n.set(i,r.M()),r.L())}}));var r=qc();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Gc(t,n,this.Y,this.H,r);return this.H=Mc(),this.J=Jc(),this.Y=new Pc(_s),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Qc,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Pc(_s),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||vs("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Qc),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Jc(){return new xc(Ws.comparator)}function Zc(){return new xc(Ws.comparator)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var th={asc:"ASCENDING",desc:"DESCENDING"},eh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nh=function(t,e){this.databaseId=t,this.I=e};function rh(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function ih(t,e){return t.I?e.toBase64():e.toUint8Array()}function oh(t,e){return rh(t,e.toTimestamp())}function ah(t){return ws(!!t),ks.fromTimestamp(function(t){var e=Vs(t);return new Ns(e.seconds,e.nanos)}(t))}function sh(t,e){return function(t){return new Rs(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function uh(t){var e=Rs.fromString(t);return ws(xh(e)),e}function ch(t,e){return sh(t.databaseId,e.path)}function hh(t,e){var n=uh(e);if(n.get(1)!==t.databaseId.projectId)throw new fs(ls.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fs(ls.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ws(dh(n))}function lh(t,e){return sh(t.databaseId,e)}function fh(t){var e=uh(t);return 4===e.length?Rs.emptyPath():dh(e)}function ph(t){return new Rs(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dh(t){return ws(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function vh(t,e,n){return{name:ch(t,e),fields:n.toProto().mapValue.fields}}function mh(t,e){var n;if(e instanceof bc)n={update:vh(t,e.key,e.value)};else if(e instanceof Ac)n={delete:ch(t,e.key)};else if(e instanceof wc)n={update:vh(t,e.key,e.data),updateMask:Ch(e.fieldMask)};else{if(!(e instanceof Nc))return bs();n={verify:ch(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof ec)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof nc)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ic)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ac)return{fieldPath:e.field.canonicalString(),increment:n.A};throw bs()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:oh(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:bs()}(t,e.precondition)),n}function gh(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?lc.updateTime(ah(t.updateTime)):void 0!==t.exists?lc.exists(t.exists):lc.none()}(e.currentDocument):lc.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)ws("REQUEST_TIME"===e.setToServerValue),n=new ec;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new nc(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new ic(i)}else"increment"in e?n=new ac(t,e.increment):bs();var o=Ls.fromServerFormat(e.fieldPath);return new cc(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=hh(t,e.update.name),o=new uu({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new $s(e.map((function(t){return Ls.fromServerFormat(t)})))}(e.updateMask);return new wc(i,o,a,n,r)}return new bc(i,o,n,r)}if(e.delete){var s=hh(t,e.delete);return new Ac(s,n)}if(e.verify){var u=hh(t,e.verify);return new Nc(u,n)}return bs()}function yh(t,e){return{documents:[lh(t,e.path)]}}function bh(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=lh(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=lh(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(au(t.value))return{unaryFilter:{field:Ah(t.field),op:"IS_NAN"}};if(ou(t.value))return{unaryFilter:{field:Ah(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(au(t.value))return{unaryFilter:{field:Ah(t.field),op:"IS_NOT_NAN"}};if(ou(t.value))return{unaryFilter:{field:Ah(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ah(t.field),op:Sh(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Ah(t.field),direction:_h(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||Gs(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=Eh(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Eh(e.endAt)),n}function wh(t){var e=fh(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ws(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=Ih(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new Nu(Nh(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Gs(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Th(n.startAt));var h=null;return n.endAt&&(h=Th(n.endAt)),Ou(e,i,s,a,u,"F",c,h)}function Ih(t){return t?void 0!==t.unaryFilter?[Dh(t)]:void 0!==t.fieldFilter?[kh(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return Ih(t)})).reduce((function(t,e){return t.concat(e)})):bs():[]}function Eh(t){return{before:t.before,values:t.position}}function Th(t){var e=!!t.before,n=t.values||[];return new Su(n,e)}function _h(t){return th[t]}function Sh(t){return eh[t]}function Ah(t){return{fieldPath:t.canonicalString()}}function Nh(t){return Ls.fromServerFormat(t.fieldPath)}function kh(t){return mu.create(Nh(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return bs()}}(t.fieldFilter.op),t.fieldFilter.value)}function Dh(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Nh(t.unaryFilter.field);return mu.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Nh(t.unaryFilter.field);return mu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Nh(t.unaryFilter.field);return mu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Nh(t.unaryFilter.field);return mu.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return bs()}}function Ch(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function xh(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Oh(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Ph(e)),e=Rh(t.get(n),e);return Ph(e)}function Rh(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Ph(t){return t+""}function Lh(t){var e=t.length;if(ws(e>=2),2===e)return ws(""===t.charAt(0)&&""===t.charAt(1)),Rs.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||a>n)&&bs(),t.charAt(a+1)){case"":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:bs()}o=a+2}return new Rs(r)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var $h=function(t,e){this.seconds=t,this.nanoseconds=e},Mh=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Mh.store="owner",Mh.key="owner";var Fh=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Fh.store="mutationQueues",Fh.keyPath="userId";var Vh=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Vh.store="mutations",Vh.keyPath="batchId",Vh.userMutationsIndex="userMutationsIndex",Vh.userMutationsKeyPath=["userId","batchId"];var Uh=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Oh(e)]},t.key=function(t,e,n){return[t,Oh(e),n]},t}();Uh.store="documentMutations",Uh.PLACEHOLDER=new Uh;var jh=function(t,e){this.path=t,this.readTime=e},qh=function(t,e){this.path=t,this.version=e},Bh=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Bh.store="remoteDocuments",Bh.readTimeIndex="readTimeIndex",Bh.readTimeIndexPath="readTime",Bh.collectionReadTimeIndex="collectionReadTimeIndex",Bh.collectionReadTimeIndexPath=["parentPath","readTime"];var Kh=function(t){this.byteSize=t};Kh.store="remoteDocumentGlobal",Kh.key="remoteDocumentGlobalKey";var Gh=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Gh.store="targets",Gh.keyPath="targetId",Gh.queryTargetsIndexName="queryTargetsIndex",Gh.queryTargetsKeyPath=["canonicalId","targetId"];var Hh=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Hh.store="targetDocuments",Hh.keyPath=["targetId","path"],Hh.documentTargetsIndex="documentTargetsIndex",Hh.documentTargetsKeyPath=["path","targetId"];var zh=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};zh.key="targetGlobalKey",zh.store="targetGlobal";var Wh=function(t,e){this.collectionId=t,this.parent=e};Wh.store="collectionParents",Wh.keyPath=["collectionId","parent"];var Xh=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Xh.store="clientMetadata",Xh.keyPath="clientId";var Qh=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Qh.store="bundles",Qh.keyPath="bundleId";var Yh=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Yh.store="namedQueries",Yh.keyPath="name";var Jh=pn(pn([],pn(pn([],pn(pn([],pn(pn([],[Fh.store,Vh.store,Uh.store,Bh.store,Gh.store,Mh.store,zh.store,Hh.store]),[Xh.store])),[Kh.store])),[Wh.store])),[Qh.store,Yh.store]),Zh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",tl=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),el=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},nl=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&bs(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),rl=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new el,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new al(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=ll(e.target.error);n.ft.reject(new al(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new al(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(vs("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ul(e)},t}(),il=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(gn())&&ms("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return vs("SimpleDb","Removing database:",t),cl(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=gn(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return cn(this,void 0,void 0,(function(){var e,n=this;return hn(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(vs("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new al(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new fs(ls.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new al(t,n))},i.onupgradeneeded=function(t){vs("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next((function(){vs("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return cn(this,void 0,void 0,(function(){var i,o,a,s,u;return hn(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,h;return hn(this,(function(l){switch(l.label){case 0:++o,l.label=1;case 1:return l.trys.push([1,4,,5]),[4,s.At(t)];case 2:return s.db=l.sent(),e=rl.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),nl.reject(t)})).toPromise(),u={},a.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(l.sent(),a),u)];case 4:return c=l.sent(),h="FirebaseError"!==c.name&&o<3,vs("SimpleDb","Transaction failed with error:",c.message,"Retrying:",h),s.close(),h?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),ol=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return cl(this.Pt.delete())},t}(),al=function(t){function e(e,n){var r=this;return(r=t.call(this,ls.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return sn(e,t),e}(fs);function sl(t){return"IndexedDbTransactionError"===t.name}var ul=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(vs("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(vs("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),cl(n)},t.prototype.add=function(t){return vs("SimpleDb","ADD",this.store.name,t,t),cl(this.store.add(t))},t.prototype.get=function(t){var e=this;return cl(this.store.get(t)).next((function(n){return void 0===n&&(n=null),vs("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return vs("SimpleDb","DELETE",this.store.name,t),cl(this.store.delete(t))},t.prototype.count=function(){return vs("SimpleDb","COUNT",this.store.name),cl(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){vs("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new nl((function(n,r){e.onerror=function(t){var e=ll(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new nl((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new ol(i),a=e(i.primaryKey,i.value,o);if(a instanceof nl){var s=a.catch((function(t){return o.done(),nl.reject(t)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return nl.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function cl(t){return new nl((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=ll(t.target.error);n(e)}}))}var hl=!1;function ll(t){var e=il._t(gn());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new fs("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return hl||(hl=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var fl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return sn(e,t),e}(tl);function pl(t,e){var n=Is(t);return il.It(n.Mt,e)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var dl=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&dc(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&vc(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&vc(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ks.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),qc())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ss(this.mutations,t.mutations,(function(t,e){return gc(t,e)}))&&Ss(this.baseMutations,t.baseMutations,(function(t,e){return gc(t,e)}))},t}(),vl=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){ws(e.mutations.length===r.length);for(var i=Uc,o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),ml=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=ks.min()),void 0===o&&(o=ks.min()),void 0===a&&(a=Ms.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),gl=function(t){this.Lt=t};function yl(t,e){if(e.document)return function(t,e,n){var r=hh(t,e.name),i=ah(e.updateTime),o=new uu({mapValue:{fields:e.fields}}),a=hu.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Ws.fromSegments(e.noDocument.path),r=Tl(e.noDocument.readTime),i=hu.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Ws.fromSegments(e.unknownDocument.path);return r=Tl(e.unknownDocument.version),hu.newUnknownDocument(o,r)}return bs()}function bl(t,e,n){var r=wl(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:ch(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:rh(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new Bh(null,null,o,a,r,i)}if(e.isNoDocument()){var s=e.key.path.toArray(),u=El(e.version);return a=e.hasCommittedMutations,new Bh(null,new jh(s,u),null,a,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),h=El(e.version);return new Bh(new qh(c,h),null,null,!0,r,i)}return bs()}function wl(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Il(t){var e=new Ns(t[0],t[1]);return ks.fromTimestamp(e)}function El(t){var e=t.toTimestamp();return new $h(e.seconds,e.nanoseconds)}function Tl(t){var e=new Ns(t.seconds,t.nanoseconds);return ks.fromTimestamp(e)}function _l(t,e){for(var n=(e.baseMutations||[]).map((function(e){return gh(t.Lt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map((function(e){return gh(t.Lt,e)})),s=Ns.fromMillis(e.localWriteTimeMs);return new dl(e.batchId,s,n,a)}function Sl(t){var e,n,r=Tl(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Tl(t.lastLimboFreeSnapshotVersion):ks.min();return void 0!==t.query.documents?(ws(1===(n=t.query).documents.length),e=Uu(Ru(fh(n.documents[0])))):e=function(t){return Uu(wh(t))}(t.query),new ml(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Ms.fromBase64String(t.resumeToken))}function Al(t,e){var n,r=El(e.snapshotVersion),i=El(e.lastLimboFreeSnapshotVersion);n=vu(e.target)?yh(t.Lt,e.target):bh(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Gh(e.targetId,pu(e.target),r,o,e.sequenceNumber,i,n)}function Nl(t){var e=wh({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ju(e,e.limit,"L"):e}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var kl=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Dl(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Tl(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Dl(t).put({bundleId:(n=e).id,createTime:El(ah(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Cl(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Nl(e.bundledQuery),readTime:Tl(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return Cl(t).put(function(t){return{name:t.name,readTime:El(ah(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Dl(t){return pl(t,Qh.store)}function Cl(t){return pl(t,Yh.store)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var xl=function(){function t(){this.Bt=new Ol}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),nl.resolve()},t.prototype.getCollectionParents=function(t,e){return nl.resolve(this.Bt.getEntries(e))},t}(),Ol=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Pc(Rs.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Pc(Rs.comparator)).toArray()},t}(),Rl=function(){function t(){this.qt=new Ol}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:Oh(i)};return Pl(t).put(o)}return nl.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[As(e),""],!1,!0);return Pl(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Lh(o.parent))}return n}))},t}();function Pl(t){return pl(t,Wh.store)}
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ll={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$l=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ml(t,e,n){var r=t.store(Vh.store),i=t.store(Uh.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.Ot({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){ws(1===s)})));for(var c=[],h=0,l=n.mutations;h<l.length;h++){var f=l[h],p=Uh.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return nl.waitFor(o).next((function(){return c}))}function Fl(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw bs();e=t.noDocument}return JSON.stringify(e).length}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */$l.DEFAULT_COLLECTION_PERCENTILE=10,$l.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$l.DEFAULT=new $l(41943040,$l.DEFAULT_COLLECTION_PERCENTILE,$l.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$l.DISABLED=new $l(-1,0,0);var Vl=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return ws(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return jl(t).Ot({index:Vh.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=ql(t),a=jl(t);return a.add({}).next((function(s){ws("number"==typeof s);for(var u=new dl(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return mh(t.Lt,e)})),i=n.mutations.map((function(e){return mh(t.Lt,e)}));return new Vh(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),h=[],l=new Pc((function(t,e){return _s(t.canonicalString(),e.canonicalString())})),f=0,p=r;f<p.length;f++){var d=p[f],v=Uh.key(i.userId,d.key.path,s);l=l.add(d.key.path.popLast()),h.push(a.put(c)),h.push(o.put(v,Uh.PLACEHOLDER))}return l.forEach((function(e){h.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Qt[s]=u.keys()})),nl.waitFor(h).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return jl(t).get(e).next((function(t){return t?(ws(t.userId===n.userId),_l(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?nl.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return jl(t).Ot({index:Vh.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(ws(e.batchId>=r),o=_l(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return jl(t).Ot({index:Vh.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return jl(t).Nt(Vh.userMutationsIndex,n).next((function(t){return t.map((function(t){return _l(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Uh.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return ql(t).Ot({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],h=Lh(u);if(s===n.userId&&e.path.isEqual(h))return jl(t).get(c).next((function(t){if(!t)throw bs();ws(t.userId===n.userId),o.push(_l(n.R,t))}));a.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Pc(_s),i=[];return e.forEach((function(e){var o=Uh.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=ql(t).Ot({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],c=Lh(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),nl.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Uh.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Pc(_s);return ql(t).Ot({range:a},(function(t,e,o){var a=t[0],u=t[1],c=t[2],h=Lh(u);a===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(t,s)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(jl(t).get(e).next((function(t){if(null===t)throw bs();ws(t.userId===n.userId),r.push(_l(n.R,t))})))})),nl.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return Ml(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),nl.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return nl.resolve();var r=IDBKeyRange.lowerBound(Uh.prefixForUser(e.userId)),i=[];return ql(t).Ot({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Lh(t[1]);i.push(o)}else r.done()})).next((function(){ws(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return Ul(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Bl(t).get(this.userId).next((function(t){return t||new Fh(e.userId,-1,"")}))},t}();function Ul(t,e,n){var r=Uh.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return ql(t).Ot({range:o,kt:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function jl(t){return pl(t,Vh.store)}function ql(t){return pl(t,Uh.store)}function Bl(t){return pl(t,Fh.store)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Kl=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Gl=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new Kl(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return ks.fromTimestamp(new Ns(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return Hl(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return ws(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Hl(t).Ot((function(a,s){var u=Sl(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return nl.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return Hl(t).Ot((function(t,n){var r=Sl(n);e(r)}))},t.prototype.Xt=function(t){return zl(t).get(zh.key).next((function(t){return ws(null!==t),t}))},t.prototype.Zt=function(t,e){return zl(t).put(zh.key,e)},t.prototype.te=function(t,e){return Hl(t).put(Al(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=pu(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Hl(t).Ot({range:r,index:Gh.queryTargetsIndexName},(function(t,n,r){var o=Sl(n);du(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Wl(t);return e.forEach((function(e){var a=Oh(e.path);i.push(o.put(new Hh(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))})),nl.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Wl(t);return nl.forEach(e,(function(e){var o=Oh(e.path);return nl.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Wl(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Wl(t),i=qc();return r.Ot({range:n,kt:!0},(function(t,e,n){var r=Lh(t[1]),o=new Ws(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=Oh(e.path),r=IDBKeyRange.bound([n],[As(n)],!1,!0),i=0;return Wl(t).Ot({index:Hh.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return Hl(t).get(e).next((function(t){return t?Sl(t):null}))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Hl(t){return pl(t,Gh.store)}function zl(t){return pl(t,zh.store)}function Wl(t){return pl(t,Hh.store)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Xl(t){return cn(this,void 0,void 0,(function(){return hn(this,(function(e){if(t.code!==ls.FAILED_PRECONDITION||t.message!==Zh)throw t;return vs("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ql(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=_s(n,i);return 0===a?_s(r,o):a}var Yl=function(){function t(t){this.ne=t,this.buffer=new Pc(Ql),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ql(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Jl=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;vs("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return cn(e,void 0,void 0,(function(){var e;return hn(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return sl(e=n.sent())?(vs("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Xl(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Zl=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return nl.resolve(hs.o);var r=new Yl(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(vs("LruGarbageCollector","Garbage collection skipped; disabled"),nl.resolve(Ll)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(vs("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Ll):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,a,s,u,c=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(vs("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),ds()<=Pn.DEBUG&&vs("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-h)+"ms"),nl.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),tf=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Zl(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return ef(t,n)},t.prototype.removeReference=function(t,e,n){return ef(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return ef(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Bl(t).$t((function(r){return Ul(t,r,e).next((function(t){return t&&(n=!0),nl.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(a,s){if(s<=e){var u=n._e(t,a).next((function(e){if(!e)return o++,r.getEntry(t,a).next((function(){return r.removeEntry(a),Wl(t).delete([0,Oh(a.path)])}))}));i.push(u)}})).next((function(){return nl.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return ef(t,e)},t.prototype.we=function(t,e){var n,r=Wl(t),i=hs.o;return r.Ot({index:Hh.documentTargetsIndex},(function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==hs.o&&e(new Ws(Lh(n)),i),i=s,n=a):i=hs.o})).next((function(){i!==hs.o&&e(new Ws(Lh(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function ef(t,e){return Wl(t).put(function(t,e){return new Hh(0,Oh(t.path),e)}(e,t.currentSequenceNumber))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var nf=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Cs(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},t.prototype.isEmpty=function(){return xs(this.inner)},t}(),rf=function(){function t(){this.changes=new nf((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:ks.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:hu.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?nl.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),of=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return uf(t).put(cf(e),n)},t.prototype.removeEntry=function(t,e){var n=uf(t),r=cf(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return uf(t).get(cf(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return uf(t).get(cf(e)).next((function(t){return{document:n.ye(e,t),size:Fl(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=Mc();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=Mc(),i=new xc(Ws.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Fl(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return nl.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return uf(t).Ot({range:r},(function(t,e,r){for(var a=Ws.fromSegments(t);o&&Ws.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Mc(),o=e.path.length+1,a={};if(n.isEqual(ks.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=wl(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Bh.collectionReadTimeIndex}return uf(t).Ot(a,(function(t,n,a){if(t.length===o){var s=yl(r.R,n);e.path.isPrefixOf(s.key.path)?Gu(e,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new af(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return sf(t).get(Kh.key).next((function(t){return ws(!!t),t}))},t.prototype.me=function(t,e){return sf(t).put(Kh.key,e)},t.prototype.ye=function(t,e){if(e){var n=yl(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(ks.min()))return n}return hu.newInvalidDocument(t)},t}(),af=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new nf((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return sn(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Pc((function(t,e){return _s(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var u=bl(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Fl(u);r+=c-s,n.push(e.Ie.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var h=bl(e.Ie.R,hu.newNoDocument(o,ks.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,h))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),nl.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(rf);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function sf(t){return pl(t,Kh.store)}function uf(t){return pl(t,Bh.store)}function cf(t){return t.path.toArray()}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var hf=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;ws(n<r&&n>=0&&r<=11);var o=new rl("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Mh.store)}(t),function(t){t.createObjectStore(Fh.store,{keyPath:Fh.keyPath}),t.createObjectStore(Vh.store,{keyPath:Vh.keyPath,autoIncrement:!0}).createIndex(Vh.userMutationsIndex,Vh.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Uh.store)}(t),lf(t),function(t){t.createObjectStore(Bh.store)}(t));var a=nl.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Hh.store),t.deleteObjectStore(Gh.store),t.deleteObjectStore(zh.store)}(t),lf(t)),a=a.next((function(){return function(t){var e=t.store(zh.store),n=new zh(0,0,ks.min().toTimestamp(),0);return e.put(zh.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(Vh.store).Nt().next((function(n){t.deleteObjectStore(Vh.store),t.createObjectStore(Vh.store,{keyPath:Vh.keyPath,autoIncrement:!0}).createIndex(Vh.userMutationsIndex,Vh.userMutationsKeyPath,{unique:!0});var r=e.store(Vh.store),i=n.map((function(t){return r.put(t)}));return nl.waitFor(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(Xh.store,{keyPath:Xh.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(Kh.store)}(t),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Bh.store);e.createIndex(Bh.readTimeIndex,Bh.readTimeIndexPath,{unique:!1}),e.createIndex(Bh.collectionReadTimeIndex,Bh.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(Qh.store,{keyPath:Qh.keyPath})}(t),function(t){t.createObjectStore(Yh.store,{keyPath:Yh.keyPath})}(t)}))),a},t.prototype.be=function(t){var e=0;return t.store(Bh.store).Ot((function(t,n){e+=Fl(n)})).next((function(){var n=new Kh(e);return t.store(Kh.store).put(Kh.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(Fh.store),r=t.store(Vh.store);return n.Nt().next((function(n){return nl.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Vh.userMutationsIndex,i).next((function(r){return nl.forEach(r,(function(r){ws(r.userId===n.userId);var i=_l(e.R,r);return Ml(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(Hh.store),n=t.store(Bh.store);return t.store(zh.store).get(zh.key).next((function(t){var r=[];return n.Ot((function(n,i){var o=new Rs(n),a=function(t){return[0,Oh(t)]}(o);r.push(e.get(a).next((function(n){return n?nl.resolve():function(n){return e.put(new Hh(0,Oh(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return nl.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(Wh.store,{keyPath:Wh.keyPath});var n=e.store(Wh.store),r=new Ol,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Oh(i)})}};return e.store(Bh.store).Ot({kt:!0},(function(t,e){var n=new Rs(t);return i(n.popLast())})).next((function(){return e.store(Uh.store).Ot({kt:!0},(function(t,e){t[0];var n=t[1],r=(t[2],Lh(n));return i(r.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(Gh.store);return n.Ot((function(t,r){var i=Sl(r),o=Al(e.R,i);return n.put(o)}))},t}();function lf(t){t.createObjectStore(Hh.store,{keyPath:Hh.keyPath}).createIndex(Hh.documentTargetsIndex,Hh.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Gh.store,{keyPath:Gh.keyPath}).createIndex(Gh.queryTargetsIndexName,Gh.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(zh.store)}var ff="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",pf=function(){function t(e,n,r,i,o,a,s,u,c,h){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=h,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new fs(ls.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tf(this,i),this.Le=n+"main",this.R=new gl(u),this.Be=new il(this.Le,11,new hf(this.R)),this.qe=new Gl(this.referenceDelegate,this.R),this.Ut=new Rl,this.Ue=function(t,e){return new of(t,e)}(this.R,this.Ut),this.Qe=new kl,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===h&&ms("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new fs(ls.FAILED_PRECONDITION,ff);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new hs(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return cn(e,void 0,void 0,(function(){return hn(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return cn(e,void 0,void 0,(function(){return hn(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return cn(e,void 0,void 0,(function(){return hn(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return vf(e).put(new Xh(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(sl(e))return vs("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return vs("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return df(t).get(Mh.key).next((function(t){return nl.resolve(e.tn(t))}))},t.prototype.en=function(t){return vf(t).delete(this.clientId)},t.prototype.nn=function(){return cn(this,void 0,void 0,(function(){var t,e,n,r,i=this;return hn(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=pl(t,Xh.store);return e.Nt().next((function(t){var n=i.rn(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return nl.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)r=n[e],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?nl.resolve(!0):df(t).get(Mh.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new fs(ls.FAILED_PRECONDITION,ff);return!1}}return!(!e.networkEnabled||!e.inForeground)||vf(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&vs("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return cn(this,void 0,void 0,(function(){var t=this;return hn(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Mh.store,Xh.store],(function(e){var n=new fl(e,hs.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return vf(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Vl.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;vs("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,Jh,(function(o){return i=new fl(o,r.Ne?r.Ne.next():hs.o),"readwrite-primary"===e?r.Je(i).next((function(t){return!!t||r.Ye(i)})).next((function(e){if(!e)throw ms("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new fs(ls.FAILED_PRECONDITION,Zh);return n(i)})).next((function(t){return r.Ze(i).next((function(){return t}))})):r.dn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return df(t).get(Mh.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new fs(ls.FAILED_PRECONDITION,ff)}))},t.prototype.Ze=function(t){var e=new Mh(this.clientId,this.allowTabSynchronization,Date.now());return df(t).put(Mh.key,e)},t.yt=function(){return il.yt()},t.prototype.Xe=function(t){var e=this,n=df(t);return n.get(Mh.key).next((function(t){return e.tn(t)?(vs("IndexedDbPersistence","Releasing primary lease."),n.delete(Mh.key)):nl.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(ms("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return vs("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return ms("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){ms("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function df(t){return pl(t,Mh.store)}function vf(t){return pl(t,Xh.store)}function mf(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var gf=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Ws.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Fu(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Ws(e)).next((function(t){var e=Vc();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Vc();return this.Ut.getCollectionParents(t,i).next((function(a){return nl.forEach(a,(function(a){var s=function(t,e){return new xu(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.An(t,s,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Rn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,h=r.get(c);null==h&&(h=hu.newInvalidDocument(c),r=r.insert(c,h)),vc(u,h,o.localWriteTime),h.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){Gu(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=qc(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof wc&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),yf=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=qc(),i=qc(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),bf=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(ks.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var a=i.Cn(e,o);return(Pu(e)||Lu(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):(ds()<=Pn.DEBUG&&vs("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ku(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return a.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Pc(Hu(t));return e.forEach((function(e,r){Gu(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return ds()<=Pn.DEBUG&&vs("QueryEngine","Using full collection scan to execute query:",Ku(e)),this.Sn.getDocumentsMatchingQuery(t,e,ks.min())},t}(),wf=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new xc(_s),this.kn=new nf((function(t){return pu(t)}),du),this.On=ks.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new gf(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function If(t,e,n,r){return new wf(t,e,n,r)}function Ef(t,e){return cn(this,void 0,void 0,(function(){var n,r,i,o;return hn(this,(function(a){switch(a.label){case 0:return n=Is(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new gf(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],a=qc(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var h=0,l=c.mutations;h<l.length;h++){var f=l[h];a=a.add(f.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var m=0,g=v.mutations;m<g.length;m++){var y=g[m];a=a.add(y.key)}}return i.pn(t,a).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Tf(t,e){var n=Is(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=nl.resolve();return o.forEach((function(t){a=a.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);ws(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),a.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function _f(t){var e=Is(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function Sf(t,e){var n=Is(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];e.targetChanges.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return ws(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.qe.updateTargetData(t,c))}}}));var s=Mc();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),a.push(function(t,e,n,r,i){var o=qc();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Mc();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(ks.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):vs("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}(t,o,e.documentUpdates,r,void 0).next((function(t){s=t}))),!r.isEqual(ks.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));a.push(u)}return nl.waitFor(a).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,s)})).next((function(){return s}))})).then((function(t){return n.Fn=i,t}))}function Af(t,e){var n=Is(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function Nf(t,e){var n=Is(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?(r=i,nl.resolve(r)):n.qe.allocateTargetId(t).next((function(i){return r=new ml(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function kf(t,e,n){return cn(this,void 0,void 0,(function(){var r,i,o,a;return hn(this,(function(s){switch(s.label){case 0:r=Is(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!sl(a=s.sent()))throw a;return vs("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function Df(t,e,n){var r=Is(t),i=ks.min(),o=qc();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Is(t),i=r.kn.get(n);return void 0!==i?nl.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Uu(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:ks.min(),n?o:qc())})).next((function(t){return{documents:t,Bn:o}}))}))}function Cf(t,e){var n=Is(t),r=Is(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function xf(t){var e=Is(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Is(t),i=Mc(),o=wl(n),a=uf(e),s=IDBKeyRange.lowerBound(o,!0);return a.Ot({index:Bh.readTimeIndex,range:s},(function(t,e){var n=yl(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:Il(o)}}))}(e.$n,t,e.On)})).then((function(t){var n=t.wn,r=t.readTime;return e.On=r,n}))}function Of(t){return cn(this,void 0,void 0,(function(){var e;return hn(this,(function(n){return[2,(e=Is(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=uf(t),n=ks.min();return e.Ot({index:Bh.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Il(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.On=t}))]}))}))}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Rf=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return nl.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:ah(n.createTime)}),nl.resolve()},t.prototype.getNamedQuery=function(t,e){return nl.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Nl(t.bundledQuery),readTime:ah(t.readTime)}}(e)),nl.resolve()},t}(),Pf=function(){function t(){this.Wn=new Pc(Lf.Gn),this.zn=new Pc(Lf.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Lf(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new Lf(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new Ws(new Rs([])),r=new Lf(n,t),i=new Lf(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Ws(new Rs([])),n=new Lf(e,t),r=new Lf(e,t+1),i=qc();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new Lf(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Lf=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Ws.comparator(t.key,e.key)||_s(t.ns,e.ns)},t.Hn=function(t,e){return _s(t.ns,e.ns)||Ws.comparator(t.key,e.key)},t}(),$f=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Pc(Lf.Gn)}return t.prototype.checkEmpty=function(t){return nl.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new dl(i,e,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Lf(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return nl.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return nl.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return nl.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return nl.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return nl.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Lf(e,0),i=new Lf(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),nl.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Pc(_s);return e.forEach((function(t){var e=new Lf(t,0),i=new Lf(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),nl.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Ws.isDocumentKey(i)||(i=i.child(""));var o=new Lf(new Ws(i),0),a=new Pc(_s);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)}),o),nl.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;ws(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return nl.forEach(e.mutations,(function(i){var o=new Lf(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Lf(e,0),r=this.rs.firstAfterOrEqual(n);return nl.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,nl.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Mf=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new xc(Ws.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return nl.resolve(n?n.document.clone():hu.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Mc();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():hu.newInvalidDocument(t))})),nl.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Mc(),i=new Ws(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,h=u.readTime;if(!e.path.isPrefixOf(s.path))break;h.compareTo(n)<=0||Gu(e,c)&&(r=r.insert(c.key,c.clone()))}return nl.resolve(r)},t.prototype.fs=function(t,e){return nl.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new Ff(this)},t.prototype.getSize=function(t){return nl.resolve(this.size)},t}(),Ff=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return sn(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),nl.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(rf),Vf=function(){function t(t){this.persistence=t,this.ds=new nf((function(t){return pu(t)}),du),this.lastRemoteSnapshotVersion=ks.min(),this.highestTargetId=0,this.ws=0,this._s=new Pf,this.targetCount=0,this.ys=Kl.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),nl.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return nl.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return nl.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),nl.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),nl.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Kl(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,nl.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),nl.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,nl.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)})),nl.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return nl.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return nl.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),nl.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),nl.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),nl.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return nl.resolve(n)},t.prototype.containsKey=function(t,e){return nl.resolve(this._s.containsKey(e))},t}(),Uf=function(){function t(t,e){var n=this;this.gs={},this.Ne=new hs(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Vf(this),this.Ut=new xl,this.Ue=function(t,e){return new Mf(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new gl(e),this.Qe=new Rf(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new $f(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;vs("MemoryPersistence","Starting transaction:",t);var i=new jf(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return nl.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),jf=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return sn(e,t),e}(tl),qf=function(){function t(t){this.persistence=t,this.As=new Pf,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw bs()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),nl.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),nl.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),nl.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nl.forEach(this.vs,(function(r){var i=Ws.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return nl.or([function(){return nl.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Bf=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Kf(t,e){return"firestore_clients_"+t+"_"+e}function Gf(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Hf(t,e){return"firestore_targets_"+t+"_"+e}Bf.UNAUTHENTICATED=new Bf(null),Bf.GOOGLE_CREDENTIALS=new Bf("google-credentials-uid"),Bf.FIRST_PARTY=new Bf("first-party-uid");var zf=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new fs(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(ms("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Wf=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new fs(i.error.code,i.error.message)),o?new t(e,i.state,r):(ms("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Xf=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Kc(),a=0;i&&a<r.activeTargetIds.length;++a)i=zs(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(ms("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Qf=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(ms("SharedClientState","Failed to parse online state: "+e),null)},t}(),Yf=function(){function t(){this.activeTargetIds=Kc()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Jf=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new xc(_s),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=Kf(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Yf),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return cn(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,c,h,l=this;return hn(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Kf(this.persistenceKey,r)))&&(o=Xf.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.Os;u<c.length;u++)h=c[u],this.Fs(h);return this.Os=[],this.window.addEventListener("unload",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Hf(this.persistenceKey,t));if(n){var r=Wf.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Hf(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return vs("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){vs("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){vs("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(vs("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void ms("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return cn(e,void 0,void 0,(function(){var t,e,r,i,o,a;return hn(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(t){var e=hs.o;if(null!=t)try{var n=JSON.parse(t);ws("number"==typeof n),e=n}catch(t){ms("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==hs.o&&this.sequenceNumberHandler(a);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new zf(this.currentUser,t,e,n),i=Gf(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Gf(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=Hf(this.persistenceKey,t),i=new Wf(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Xf.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return zf.Vs(new Bf(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Wf.Vs(r,e)},t.prototype.js=function(t){return Qf.Vs(t)},t.prototype.ii=function(t){return cn(this,void 0,void 0,(function(){return hn(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(vs("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Kc();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),Zf=function(){function t(){this.li=new Yf,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Yf,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),tp=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),ep=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){vs("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){vs("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),np={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},rp=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),ip=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return sn(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var a=new cs;a.listenOnce(is.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case rs.NO_ERROR:var e=a.getResponseJson();vs("Connection","XHR received:",JSON.stringify(e)),i(e);break;case rs.TIMEOUT:vs("Connection",'RPC "'+t+'" timed out'),o(new fs(ls.DEADLINE_EXCEEDED,"Request time out"));break;case rs.HTTP_ERROR:var n=a.getStatus();if(vs("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(ls).indexOf(e)>=0?e:ls.UNKNOWN}(r.status);o(new fs(s,r.message))}else o(new fs(ls.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new fs(ls.UNAVAILABLE,"Connection failed."));break;default:bs()}}finally{vs("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype.$i=function(t,e){var n,r=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new Ja,o=Zi(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(a.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())||"object"==typeof navigator&&"ReactNative"===navigator.product||gn().indexOf("Electron/")>=0||function(){var t=gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||gn().indexOf("MSAppHost/")>=0||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(a.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");vs("Connection","Creating WebChannel: "+s,a);var u=i.createWebChannel(s,a),c=!1,h=!1,l=new rp({Ei:function(t){h?vs("Connection","Not sending because WebChannel is closed:",t):(c||(vs("Connection","Opening WebChannel transport."),u.open(),c=!0),vs("Connection","WebChannel sending:",t),u.send(t))},Ti:function(){return u.close()}}),f=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(u,us.EventType.OPEN,(function(){h||vs("Connection","WebChannel transport opened.")})),f(u,us.EventType.CLOSE,(function(){h||(h=!0,vs("Connection","WebChannel transport closed"),l.Vi())})),f(u,us.EventType.ERROR,(function(t){h||(h=!0,gs("Connection","WebChannel transport errored:",t),l.Vi(new fs(ls.UNAVAILABLE,"The operation could not be completed")))})),f(u,us.EventType.MESSAGE,(function(t){var e;if(!h){var n=t.data[0];ws(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){vs("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=_c[t];if(void 0!==e)return Cc(e)}(o),s=i.message;void 0===a&&(a=ls.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),h=!0,l.Vi(new fs(a,s)),u.close()}else vs("Connection","WebChannel received:",n),l.Si(n)}})),f(o,os.STAT_EVENT,(function(t){t.stat===as?vs("Connection","Detected buffering proxy"):t.stat===ss&&vs("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);vs("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return vs("RestConnection","Received: ",t),t}),(function(e){throw gs("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.5.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=np[t];return this.Di+"/v1/"+e+":"+n},t}());
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function op(){return"undefined"!=typeof window?window:null}function ap(){return"undefined"!=typeof document?document:null}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function sp(t){return new nh(t,!0)}var up=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&vs("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Qi=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),cp=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new up(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return cn(this,void 0,void 0,(function(){return hn(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return cn(this,void 0,void 0,(function(){return hn(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return cn(this,void 0,void 0,(function(){return hn(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===ls.RESOURCE_EXHAUSTED?(ms(e.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===ls.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new fs(ls.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return cn(t,void 0,void 0,(function(){return hn(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return vs("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(vs("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),hp=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return sn(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:bs()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(ws(void 0===e||"string"==typeof e),Ms.fromBase64String(e||"")):(ws(void 0===e||e instanceof Uint8Array),Ms.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?ls.UNKNOWN:Cc(t.code);return new fs(e,t.message||"")}(s);n=new Xc(r,i,o,a||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=hh(t,r.document.name),o=ah(r.document.updateTime);var s=new uu({mapValue:{fields:r.document.fields}}),u=(a=hu.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new zc(u,c,a.key,a)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=hh(t,r.document),o=r.readTime?ah(r.readTime):ks.min(),s=hu.newNoDocument(i,o),a=r.removedTargetIds||[],n=new zc([],a,s.key,s);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=hh(t,r.document),o=r.removedTargetIds||[],n=new zc([],o,i,null);else{if(!("filter"in e))return bs();e.filter;var h=e.filter;h.targetId,r=h.count||0,i=new kc(r),o=h.targetId,n=new Wc(o,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return ks.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ks.min():e.readTime?ah(e.readTime):ks.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=ph(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=vu(r)?{documents:yh(t,r)}:{query:bh(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=ih(t,e.resumeToken):e.snapshotVersion.compareTo(ks.min())>0&&(n.readTime=rh(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return bs()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=ph(this.R),e.removeTarget=t,this.cr(e)},e}(cp),lp=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return sn(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(ws(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(ws(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?ah(t.updateTime):ah(e);return n.isEqual(ks.min())&&(n=ah(e)),new hc(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=ah(t.commitTime);return this.listener.Tr(n,e)}return ws(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=ph(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return mh(e.R,t)}))};this.cr(n)},e}(cp),fp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return sn(e,t),e.prototype.br=function(){if(this.Rr)throw new fs(ls.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===ls.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new fs(ls.UNKNOWN,t.toString())}))},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===ls.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new fs(ls.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),pp=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(ms(e),this.Vr=!1):vs("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),dp=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return cn(o,void 0,void 0,(function(){return hn(this,(function(t){switch(t.label){case 0:return Tp(this)?(vs("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return cn(this,void 0,void 0,(function(){var e;return hn(this,(function(n){switch(n.label){case 0:return(e=Is(t)).$r.add(4),[4,mp(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,vp(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new pp(n,r)};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function vp(t){return cn(this,void 0,void 0,(function(){var e,n;return hn(this,(function(r){switch(r.label){case 0:if(!Tp(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function mp(t){return cn(this,void 0,void 0,(function(){var e,n;return hn(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function gp(t,e){var n=Is(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),Ep(n)?Ip(n):Fp(n).er()&&bp(n,e))}function yp(t,e){var n=Is(t),r=Fp(n);n.Or.delete(e),r.er()&&wp(n,e),0===n.Or.size&&(r.er()?r.ir():Tp(n)&&n.Br.set("Unknown"))}function bp(t,e){t.qr.U(e.targetId),Fp(t).mr(e)}function wp(t,e){t.qr.U(e),Fp(t).yr(e)}function Ip(t){t.qr=new Yc({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),Fp(t).start(),t.Br.Sr()}function Ep(t){return Tp(t)&&!Fp(t).tr()&&t.Or.size>0}function Tp(t){return 0===Is(t).$r.size}function _p(t){t.qr=void 0}function Sp(t){return cn(this,void 0,void 0,(function(){return hn(this,(function(e){return t.Or.forEach((function(e,n){bp(t,e)})),[2]}))}))}function Ap(t,e){return cn(this,void 0,void 0,(function(){return hn(this,(function(n){return _p(t),Ep(t)?(t.Br.Nr(e),Ip(t)):t.Br.set("Unknown"),[2]}))}))}function Np(t,e,n){return cn(this,void 0,void 0,(function(){var r,i,o;return hn(this,(function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof Xc&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return cn(this,void 0,void 0,(function(){var n,r,i,o;return hn(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.Or.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.Or.delete(o),t.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),vs("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,kp(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof zc?t.qr.X(e):e instanceof Wc?t.qr.rt(e):t.qr.et(e),n.isEqual(ks.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,_f(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(Ms.EMPTY_BYTE_STRING,n.snapshotVersion)),wp(t,e);var r=new ml(n.target,e,1,n.sequenceNumber);bp(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return vs("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,kp(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function kp(t,e,n){return cn(this,void 0,void 0,(function(){var r=this;return hn(this,(function(i){switch(i.label){case 0:if(!sl(e))throw e;return t.$r.add(1),[4,mp(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return _f(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return cn(r,void 0,void 0,(function(){return hn(this,(function(e){switch(e.label){case 0:return vs("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,vp(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Dp(t,e){return e().catch((function(n){return kp(t,n,e)}))}function Cp(t){return cn(this,void 0,void 0,(function(){var e,n,r,i,o;return hn(this,(function(a){switch(a.label){case 0:e=Is(t),n=Vp(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return Tp(t)&&t.kr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Af(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Vp(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,kp(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return xp(e)&&Op(e),[2]}}))}))}function xp(t){return Tp(t)&&!Vp(t).tr()&&t.kr.length>0}function Op(t){Vp(t).start()}function Rp(t){return cn(this,void 0,void 0,(function(){return hn(this,(function(e){return Vp(t).Ar(),[2]}))}))}function Pp(t){return cn(this,void 0,void 0,(function(){var e,n,r,i;return hn(this,(function(o){for(e=Vp(t),n=0,r=t.kr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]}))}))}function Lp(t,e,n){return cn(this,void 0,void 0,(function(){var r,i;return hn(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=vl.from(r,e,n),[4,Dp(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Cp(t)];case 2:return o.sent(),[2]}}))}))}function $p(t,e){return cn(this,void 0,void 0,(function(){return hn(this,(function(n){switch(n.label){case 0:return e&&Vp(t).pr?[4,function(t,e){return cn(this,void 0,void 0,(function(){var n,r;return hn(this,(function(i){switch(i.label){case 0:return Dc(r=e.code)&&r!==ls.ABORTED?(n=t.kr.shift(),Vp(t).sr(),[4,Dp(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Cp(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return xp(t)&&Op(t),[2]}}))}))}function Mp(t,e){return cn(this,void 0,void 0,(function(){var n;return hn(this,(function(r){switch(r.label){case 0:return n=Is(t),e?(n.$r.delete(2),[4,vp(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,mp(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Fp(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Is(t);return r.br(),new hp(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Sp.bind(null,t),Ri:Ap.bind(null,t),_r:Np.bind(null,t)}),t.Mr.push((function(n){return cn(e,void 0,void 0,(function(){return hn(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Ep(t)?Ip(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),_p(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function Vp(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Is(t);return r.br(),new lp(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Rp.bind(null,t),Ri:$p.bind(null,t),Ir:Pp.bind(null,t),Tr:Lp.bind(null,t)}),t.Mr.push((function(n){return cn(e,void 0,void 0,(function(){return hn(this,(function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,Cp(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(vs("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Qr
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var Up=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new el,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new fs(ls.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function jp(t,e){if(ms("AsyncQueue",e+": "+t),sl(t))return new fs(ls.UNAVAILABLE,e+": "+t);throw t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var qp=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Ws.comparator(e.key,n.key)}:function(t,e){return Ws.comparator(t.key,e.key)},this.keyedMap=Vc(),this.sortedSet=new xc(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Bp=function(){function t(){this.Kr=new xc(Ws.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):bs():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),Kp=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,qp.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&qu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Gp=function(){this.Wr=void 0,this.listeners=[]},Hp=function(){this.queries=new nf((function(t){return Bu(t)}),qu),this.onlineState="Unknown",this.Gr=new Set};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function zp(t,e){return cn(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return hn(this,(function(c){switch(c.label){case 0:if(n=Is(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Gp),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=jp(s,"Initialization of query '"+Ku(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Yp(n),[2]}}))}))}function Wp(t,e){return cn(this,void 0,void 0,(function(){var n,r,i,o,a;return hn(this,(function(s){return n=Is(t),r=e.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Xp(t,e){for(var n=Is(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,h=u.listeners;c<h.length;c++)h[c].Hr(a)&&(r=!0);u.Wr=a}}r&&Yp(n)}function Qp(t,e,n){var r=Is(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function Yp(t){t.Gr.forEach((function(t){t.next()}))}var Jp=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Kp(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Kp.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Zp=function(t){this.key=t},td=function(t){this.key=t},ed=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=qc(),this.mutatedKeys=qc(),this.lo=Hu(t),this.fo=new qp(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Bp,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Pu(this.query)&&i.size===this.query.limit?i.last():null,c=Lu(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var h=i.get(t),l=Gu(n.query,e)?e:null,f=!!h&&n.mutatedKeys.has(h.key),p=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),d=!1;h&&l?h.data.isEqual(l.data)?f!==p&&(r.track({type:3,doc:l}),d=!0):n.yo(h,l)||(r.track({type:2,doc:l}),d=!0,(u&&n.lo(l,u)>0||c&&n.lo(l,c)<0)&&(s=!0)):!h&&l?(r.track({type:0,doc:l}),d=!0):h&&!l&&(r.track({type:1,doc:h}),d=!0,(u||c)&&(s=!0)),d&&(l?(a=a.add(l),o=p?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),Pu(this.query)||Lu(this.query))for(;a.size>this.query.limit;){var h=Pu(this.query)?a.last():a.first();a=a.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bs()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new Kp(this.query,t.fo,i,o,t.mutatedKeys,0===s,u,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Bp,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=qc(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new td(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new Zp(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=qc();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Kp.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),nd=function(t,e,n){this.query=t,this.targetId=e,this.view=n},rd=function(t){this.key=t,this.bo=!1},id=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new nf((function(t){return Bu(t)}),qu),this.Vo=new Map,this.So=new Set,this.Do=new xc(Ws.comparator),this.Co=new Map,this.No=new Pf,this.xo={},this.Fo=new Map,this.ko=Kl.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function od(t,e){return cn(this,void 0,void 0,(function(){var n,r,i,o,a,s;return hn(this,(function(u){switch(u.label){case 0:return n=Pd(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Nf(n.localStore,Uu(e))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,ad(n,e,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&gp(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function ad(t,e,n,r){return cn(this,void 0,void 0,(function(){var i,o,a,s,u,c;return hn(this,(function(h){switch(h.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return cn(this,void 0,void 0,(function(){var i,o,a;return hn(this,(function(s){switch(s.label){case 0:return(i=e.view._o(n)).Nn?[4,Df(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(bd(t,e.targetId,a.To),a.snapshot)]}}))}))}(t,e,n,r)},[4,Df(t.localStore,e,!0)];case 1:return i=h.sent(),o=new ed(e,i.Bn),a=o._o(i.documents),s=Hc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(a,t.isPrimaryClient,s),bd(t,n,u.To),c=new nd(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function sd(t,e){return cn(this,void 0,void 0,(function(){var n,r,i;return hn(this,(function(o){switch(o.label){case 0:return n=Is(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!qu(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,kf(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),yp(n.remoteStore,r.targetId),gd(n,r.targetId)})).catch(Xl)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return gd(n,r.targetId),[4,kf(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function ud(t,e,n){return cn(this,void 0,void 0,(function(){var r,i,o,a;return hn(this,(function(s){switch(s.label){case 0:r=Ld(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=Is(t),i=Ns.now(),o=e.reduce((function(t,e){return t.add(e.key)}),qc());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],h=mc(c,n.get(c.key));null!=h&&a.push(new wc(c.key,h,cu(h.toProto().mapValue),lc.exists(!0)))}return r._n.addMutationBatch(t,i,a,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new xc(_s)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Ed(r,i.changes)];case 3:return s.sent(),[4,Cp(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=jp(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function cd(t,e){return cn(this,void 0,void 0,(function(){var n,r;return hn(this,(function(i){switch(i.label){case 0:n=Is(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Sf(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(ws(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?ws(r.bo):t.removedDocuments.size>0&&(ws(r.bo),r.bo=!1))})),[4,Ed(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Xl(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function hd(t,e,n){var r=Is(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Is(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&Yp(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ld(t,e,n){return cn(this,void 0,void 0,(function(){var r,i,o,a,s,u;return hn(this,(function(c){switch(c.label){case 0:return(r=Is(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new xc(Ws.comparator)).insert(o,hu.newNoDocument(o,ks.min())),s=qc().add(o),u=new Gc(ks.min(),new Map,new Pc(_s),a,s),[4,cd(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Id(r),[3,4];case 2:return[4,kf(r.localStore,e,!1).then((function(){return gd(r,e,n)})).catch(Xl)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function fd(t,e){return cn(this,void 0,void 0,(function(){var n,r,i;return hn(this,(function(o){switch(o.label){case 0:n=Is(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Tf(n.localStore,e)];case 2:return i=o.sent(),md(n,r,null),vd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Ed(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Xl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function pd(t,e,n){return cn(this,void 0,void 0,(function(){var r,i;return hn(this,(function(o){switch(o.label){case 0:r=Is(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Is(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return ws(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),md(r,e,n),vd(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Ed(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Xl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function dd(t,e){return cn(this,void 0,void 0,(function(){var n,r,i,o,a;return hn(this,(function(s){switch(s.label){case 0:Tp((n=Is(t)).remoteStore)||vs("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=Is(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=jp(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function vd(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function md(t,e,n){var r=Is(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function gd(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||yd(t,e)}))}function yd(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(yp(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Id(t))}function bd(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Zp?(t.No.addReference(o.key,e),wd(t,o)):o instanceof td?(vs("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||yd(t,o.key)):bs()}}function wd(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(vs("SyncEngine","New document in limbo: "+n),t.So.add(r),Id(t))}function Id(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Ws(Rs.fromString(e)),r=t.ko.next();t.Co.set(r,new rd(n)),t.Do=t.Do.insert(n,r),gp(t.remoteStore,new ml(Uu(Ru(n.path)),r,2,hs.o))}}function Ed(t,e,n){return cn(this,void 0,void 0,(function(){var r,i,o,a;return hn(this,(function(s){switch(s.label){case 0:return r=Is(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,s){a.push(r.$o(s,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=yf.Pn(s.targetId,t);o.push(e)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(t,e){return cn(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,h;return hn(this,(function(l){switch(l.label){case 0:n=Is(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return nl.forEach(e,(function(e){return nl.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return nl.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!sl(r=l.sent()))throw r;return vs("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.Fn.get(s),c=u.snapshotVersion,h=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(s,h));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function Td(t,e){return cn(this,void 0,void 0,(function(){var n,r;return hn(this,(function(i){switch(i.label){case 0:return(n=Is(t)).currentUser.isEqual(e)?[3,3]:(vs("SyncEngine","User change. New user:",e.toKey()),[4,Ef(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach((function(t){t.forEach((function(t){t.reject(new fs(ls.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Ed(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function _d(t,e){var n=Is(t),r=n.Co.get(e);if(r&&r.bo)return qc().add(r.key);var i=qc(),o=n.Vo.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function Sd(t,e){return cn(this,void 0,void 0,(function(){var n,r,i;return hn(this,(function(o){switch(o.label){case 0:return[4,Df((n=Is(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&bd(n,e.targetId,i.To),i)]}}))}))}function Ad(t){return cn(this,void 0,void 0,(function(){var e;return hn(this,(function(n){return[2,xf((e=Is(t)).localStore).then((function(t){return Ed(e,t)}))]}))}))}function Nd(t,e,n,r){return cn(this,void 0,void 0,(function(){var i,o;return hn(this,(function(a){switch(a.label){case 0:return[4,function(t,e){var n=Is(t),r=Is(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):nl.resolve(null)}))}))}((i=Is(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Cp(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(md(i,e,r||null),vd(i,e),function(t,e){Is(Is(t)._n).Gt(e)}(i.localStore,e)):bs(),a.label=4;case 4:return[4,Ed(i,o)];case 5:return a.sent(),[3,7];case 6:vs("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}}))}))}function kd(t,e){return cn(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return hn(this,(function(h){switch(h.label){case 0:return Pd(n=Is(t)),Ld(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Dd(n,r.toArray())]);case 1:return i=h.sent(),n.Oo=!0,[4,Mp(n.remoteStore,!0)];case 2:for(h.sent(),o=0,a=i;o<a.length;o++)s=a[o],gp(n.remoteStore,s);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then((function(){return gd(n,e),kf(n.localStore,e,!0)})),yp(n.remoteStore,e)})),[4,c]);case 4:return h.sent(),[4,Dd(n,u)];case 5:return h.sent(),function(t){var e=Is(t);e.Co.forEach((function(t,n){yp(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new xc(Ws.comparator)}(n),n.Oo=!1,[4,Mp(n.remoteStore,!1)];case 6:h.sent(),h.label=7;case 7:return[2]}}))}))}function Dd(t,e,n){return cn(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,h,l,f,p,d,v;return hn(this,(function(m){switch(m.label){case 0:n=Is(t),r=[],i=[],o=0,a=e,m.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,Nf(n.localStore,Uu(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),h=0,l=c,m.label=3;case 3:return h<l.length?(f=l[h],p=n.Po.get(f),[4,Sd(n,p)]):[3,6];case 4:(d=m.sent()).snapshot&&i.push(d.snapshot),m.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Cf(n.localStore,s)];case 8:return v=m.sent(),[4,Nf(n.localStore,v)];case 9:return u=m.sent(),[4,ad(n,Cd(v),s,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Cd(t){return Ou(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function xd(t){var e=Is(t);return Is(Is(e.localStore).persistence).fn()}function Od(t,e,n,r){return cn(this,void 0,void 0,(function(){var i,o,a;return hn(this,(function(s){switch(s.label){case 0:return(i=Is(t)).Oo?(vs("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,xf(i.localStore)];case 3:return o=s.sent(),a=Gc.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Ed(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,kf(i.localStore,e,!0)];case 6:return s.sent(),gd(i,e,r),[3,8];case 7:bs(),s.label=8;case 8:return[2]}}))}))}function Rd(t,e,n){return cn(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,h,l,f;return hn(this,(function(p){switch(p.label){case 0:if(!(r=Pd(t)).Oo)return[3,10];i=0,o=e,p.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(vs("SyncEngine","Adding an already active target "+a),[3,5]):[4,Cf(r.localStore,a)]):[3,6];case 2:return s=p.sent(),[4,Nf(r.localStore,s)];case 3:return u=p.sent(),[4,ad(r,Cd(s),u.targetId,!1)];case 4:p.sent(),gp(r.remoteStore,u),p.label=5;case 5:return i++,[3,1];case 6:c=function(t){return hn(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,kf(r.localStore,t,!1).then((function(){yp(r.remoteStore,t),gd(r,t)})).catch(Xl)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,l=n,p.label=7;case 7:return h<l.length?(f=l[h],[5,c(f)]):[3,10];case 8:p.sent(),p.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function Pd(t){var e=Is(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cd.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_d.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ld.bind(null,e),e.vo._r=Xp.bind(null,e.eventManager),e.vo.Mo=Qp.bind(null,e.eventManager),e}function Ld(t){var e=Is(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fd.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pd.bind(null,e),e}var $d=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return cn(this,void 0,void 0,(function(){return hn(this,(function(e){switch(e.label){case 0:return this.R=sp(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return If(this.persistence,new bf,t.initialUser,this.R)},t.prototype.qo=function(t){return new Uf(qf.bs,this.R)},t.prototype.Bo=function(t){return new Zf},t.prototype.terminate=function(){return cn(this,void 0,void 0,(function(){return hn(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),Md=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return sn(e,t),e.prototype.initialize=function(e){return cn(this,void 0,void 0,(function(){return hn(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Of(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Ld(this.Ko.syncEngine)];case 4:return n.sent(),[4,Cp(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Qo=function(t){return If(this.persistence,new bf,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new Jl(e,t.asyncQueue)},e.prototype.qo=function(t){var e=mf(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?$l.withCacheSize(this.cacheSizeBytes):$l.DEFAULT;return new pf(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,op(),ap(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Zf},e}($d),Fd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return sn(e,t),e.prototype.initialize=function(e){return cn(this,void 0,void 0,(function(){var n,r=this;return hn(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Jf?(this.sharedClientState.syncEngine={ui:Nd.bind(null,n),ai:Od.bind(null,n),hi:Rd.bind(null,n),fn:xd.bind(null,n),ci:Ad.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return cn(r,void 0,void 0,(function(){return hn(this,(function(e){switch(e.label){case 0:return[4,kd(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=op();if(!Jf.yt(e))throw new fs(ls.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=mf(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Jf(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Md),Vd=function(){function t(){}return t.prototype.initialize=function(t,e){return cn(this,void 0,void 0,(function(){var n=this;return hn(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return hd(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Td.bind(null,this.syncEngine),[4,Mp(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new Hp},t.prototype.createDatastore=function(t){var e,n=sp(t.databaseInfo.databaseId),r=(e=t.databaseInfo,new ip(e));return function(t,e,n){return new fp(t,e,n)}(t.credentials,r,n)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return hd(a.syncEngine,t,0)},o=ep.yt()?new ep:new tp,new dp(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new id(t,e,n,r,i,o);return a&&(s.Oo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return cn(this,void 0,void 0,(function(){var e;return hn(this,(function(n){switch(n.label){case 0:return e=Is(t),vs("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,mp(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),Ud=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),jd=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return cn(this,void 0,void 0,(function(){var e,n=this;return hn(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new fs(ls.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return cn(this,void 0,void 0,(function(){var n,r,i,o,a,s;return hn(this,(function(u){switch(u.label){case 0:return n=Is(t),r=ph(n.R)+"/documents",i={documents:e.map((function(t){return ch(n.R,t)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){ws(!!e.found),e.found.name,e.found.updateTime;var n=hh(t,e.found.name),r=ah(e.found.updateTime),i=new uu({mapValue:{fields:e.found.fields}});return hu.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){ws(!!e.missing),ws(!!e.readTime);var n=hh(t,e.missing),r=ah(e.readTime);return hu.newNoDocument(n,r)}(t,e):bs()}(n.R,t);a.set(e.key.toString(),e)})),s=[],[2,(e.forEach((function(t){var e=a.get(t.toString());ws(!!e),s.push(e)})),s)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Ac(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return cn(this,void 0,void 0,(function(){var t,e=this;return hn(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Ws.fromPath(n);e.mutations.push(new Nc(r,e.precondition(r)))})),[4,function(t,e){return cn(this,void 0,void 0,(function(){var n,r,i;return hn(this,(function(o){switch(o.label){case 0:return n=Is(t),r=ph(n.R)+"/documents",i={writes:e.map((function(t){return mh(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw bs();e=ks.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new fs(ls.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?lc.updateTime(e):lc.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(ks.min()))throw new fs(ls.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return lc.updateTime(e)}return lc.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),qd=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new up(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return cn(t,void 0,void 0,(function(){var t,e,n=this;return hn(this,(function(r){return t=new jd(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Gs(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Dc(e)}return!1},t}(),Bd=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Bf.UNAUTHENTICATED,this.clientId=Ts.u(),this.credentialListener=function(){},this.receivedInitialUser=new el,this.credentials.setChangeListener((function(t){vs("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()}))}return t.prototype.getConfiguration=function(){return cn(this,void 0,void 0,(function(){return hn(this,(function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then((function(){return e.credentialListener(e.user)}))},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new fs(ls.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new el;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return cn(t,void 0,void 0,(function(){var t,n;return hn(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=jp(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Kd(t,e){return cn(this,void 0,void 0,(function(){var n,r,i=this;return hn(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),vs("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable((function(){return cn(i,void 0,void 0,(function(){return hn(this,(function(t){switch(t.label){case 0:return[4,Ef(e.localStore,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function Gd(t,e){return cn(this,void 0,void 0,(function(){var n,r;return hn(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Hd(t)];case 1:return n=i.sent(),vs("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(n){return t.asyncQueue.enqueueRetryable((function(){return function(t,e){return cn(this,void 0,void 0,(function(){var n,r;return hn(this,(function(i){switch(i.label){case 0:return(n=Is(t)).asyncQueue.verifyOperationInProgress(),vs("RemoteStore","RemoteStore received new credentials"),r=Tp(n),n.$r.add(3),[4,mp(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,vp(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,n)}))})),t.onlineComponents=e,[2]}}))}))}function Hd(t){return cn(this,void 0,void 0,(function(){return hn(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(vs("FirestoreClient","Using default OfflineComponentProvider"),[4,Kd(t,new $d)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function zd(t){return cn(this,void 0,void 0,(function(){return hn(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(vs("FirestoreClient","Using default OnlineComponentProvider"),[4,Gd(t,new Vd)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function Wd(t){return Hd(t).then((function(t){return t.persistence}))}function Xd(t){return Hd(t).then((function(t){return t.localStore}))}function Qd(t){return zd(t).then((function(t){return t.remoteStore}))}function Yd(t){return zd(t).then((function(t){return t.syncEngine}))}function Jd(t){return cn(this,void 0,void 0,(function(){var e,n;return hn(this,(function(r){switch(r.label){case 0:return[4,zd(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=od.bind(null,e.syncEngine),n.onUnlisten=sd.bind(null,e.syncEngine),n)]}}))}))}function Zd(t,e,n){var r=this;void 0===n&&(n={});var i=new el;return t.asyncQueue.enqueueAndForget((function(){return cn(r,void 0,void 0,(function(){var r;return hn(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Ud({next:function(o){e.enqueueAndForget((function(){return Wp(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new fs(ls.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new fs(ls.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new Jp(Ru(n.path),o,{includeMetadataChanges:!0,so:!0});return zp(t,a)},[4,Jd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function tv(t,e,n){var r=this;void 0===n&&(n={});var i=new el;return t.asyncQueue.enqueueAndForget((function(){return cn(r,void 0,void 0,(function(){var r;return hn(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Ud({next:function(n){e.enqueueAndForget((function(){return Wp(t,a)})),n.fromCache&&"server"===r.source?i.reject(new fs(ls.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new Jp(n,o,{includeMetadataChanges:!0,so:!0});return zp(t,a)},[4,Jd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var ev=function(t,e,n,r,i,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},nv=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),rv=new Map,iv=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},ov=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(Bf.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),av=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(this.token.user)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),sv=function(){function t(t){var e=this;this.oc=null,this.currentUser=Bf.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then((function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(vs("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(ws("string"==typeof n.accessToken),new iv(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return ws(null===t||"string"==typeof t),new Bf(t)},t}(),uv=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=Bf.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),cv=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new uv(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(Bf.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function hv(t,e,n){if(!n)throw new fs(ls.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function lv(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new fs(ls.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function fv(t,e,n,r){if(!0===e&&!0===r)throw new fs(ls.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function pv(t){if(!Ws.isDocumentKey(t))throw new fs(ls.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function dv(t){if(Ws.isDocumentKey(t))throw new fs(ls.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function vv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":bs()}function mv(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fs(ls.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=vv(t);throw new fs(ls.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function gv(t,e){if(e<=0)throw new fs(ls.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var yv=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new fs(ls.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new fs(ls.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,fv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),bv=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yv({}),this._settingsFrozen=!1,t instanceof nv?(this._databaseId=t,this._credentials=new ov):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new fs(ls.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nv(t.options.projectId)}(t),this._credentials=new sv(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new fs(ls.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new fs(ls.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yv(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new ov;switch(t.type){case"gapi":var e=t.client;return ws(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new cv(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new fs(ls.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return this,(t=rv.get(this))&&(vs("ComponentProvider","Removing Datastore"),rv.delete(this),t.terminate()),Promise.resolve();var t},t}(),wv=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ev(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Iv=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Ev=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Ru(r))||this)._path=r,i.type="collection",i}return sn(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new wv(this.firestore,null,new Ws(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Iv);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Tv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Nn(t),hv("collection","path",e),t instanceof bv)return dv(n=Rs.fromString.apply(Rs,pn([e],r))),new Ev(t,null,n);if(!(t instanceof wv||t instanceof Ev))throw new fs(ls.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return dv(n=Rs.fromString.apply(Rs,pn([t.path],r)).child(Rs.fromString(e))),new Ev(t.firestore,null,n)}function _v(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Nn(t),1===arguments.length&&(e=Ts.u()),hv("doc","path",e),t instanceof bv)return pv(n=Rs.fromString.apply(Rs,pn([e],r))),new wv(t,null,new Ws(n));if(!(t instanceof wv||t instanceof Ev))throw new fs(ls.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return pv(n=t._path.child(Rs.fromString.apply(Rs,pn([e],r)))),new wv(t.firestore,t instanceof Ev?t.converter:null,new Ws(n))}function Sv(t,e){return t=Nn(t),e=Nn(e),(t instanceof wv||t instanceof Ev)&&(e instanceof wv||e instanceof Ev)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Av(t,e){return t=Nn(t),e=Nn(e),t instanceof Iv&&e instanceof Iv&&t.firestore===e.firestore&&qu(t._query,e._query)&&t.converter===e.converter
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var Nv=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new up(this,"async_queue_retry"),this.Ec=function(){var e=ap();e&&vs("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=ap();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=ap();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise((function(t){})):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.dc.push(t),e.Ac()}))},t.prototype.Ac=function(){return cn(this,void 0,void 0,(function(){var t,e=this;return hn(this,(function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!sl(t=n.sent()))throw t;return vs("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji((function(){return e.Ac()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ic=function(t){var e=this,n=this.fc.then((function(){return e.yc=!0,t().catch((function(t){throw e.mc=t,e.yc=!1,ms("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.yc=!1,t}))}));return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=Up.createAndSchedule(this,t,e,n,(function(t){return r.Rc(t)}));return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&bs()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return cn(this,void 0,void 0,(function(){var t;return hn(this,(function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then((function(){e._c.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()}))},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function kv(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Dv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Nv,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return sn(e,t),e.prototype._terminate=function(){return this._firestoreClient||xv(this),this._firestoreClient.terminate()},e}(bv);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Cv(t){return t._firestoreClient||xv(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function xv(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new ev(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Bd(t._credentials,t._queue,r)}function Ov(t,e,n){var r=this,i=new el;return t.asyncQueue.enqueue((function(){return cn(r,void 0,void 0,(function(){var r;return hn(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Kd(t,n)];case 1:return o.sent(),[4,Gd(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===ls.FAILED_PRECONDITION||t.code===ls.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Rv(t){if(t._initialized||t._terminated)throw new fs(ls.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Pv=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new fs(ls.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ls(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Lv=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Ms.fromBase64String(e))}catch(e){throw new fs(ls.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Ms.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),$v=function(t){this._methodName=t},Mv=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new fs(ls.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new fs(ls.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return _s(this._lat,t._lat)||_s(this._long,t._long)},t}(),Fv=/^__.*__$/,Vv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new wc(t,this.data,this.fieldMask,e,this.fieldTransforms):new bc(t,this.data,e,this.fieldTransforms)},t}(),Uv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new wc(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function jv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bs()}}var qv=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return um(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(jv(this.Dc)&&Fv.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),Bv=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||sp(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new qv({Dc:t,methodName:e,Lc:n,path:Ls.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Kv(t){var e=t._freezeSettings(),n=sp(t._databaseId);return new Bv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Gv(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);im("Data must be an object, but it was:",a,r);var s,u,c=nm(r,a);if(o.merge)s=new $s(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var h=[],l=0,f=o.mergeFields;l<f.length;l++){var p=om(e,f[l],n);if(!a.contains(p))throw new fs(ls.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");cm(h,p)||h.push(p)}s=new $s(h),u=a.fieldTransforms.filter((function(t){return s.covers(t.field)}))}else s=null,u=a.fieldTransforms;return new Vv(new uu(c),s,u)}var Hv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return sn(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw 1===t.Dc?t.$c(this._methodName+"() can only appear at the top level of your update data"):t.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}($v);function zv(t,e,n){return new qv({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Wv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return sn(e,t),e.prototype._toFieldTransform=function(t){return new cc(t.path,new ec)},e.prototype.isEqual=function(t){return t instanceof e},e}($v),Xv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return sn(e,t),e.prototype._toFieldTransform=function(t){var e=zv(this,t,!0),n=this.qc.map((function(t){return em(t,e)})),r=new nc(n);return new cc(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}($v),Qv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return sn(e,t),e.prototype._toFieldTransform=function(t){var e=zv(this,t,!0),n=this.qc.map((function(t){return em(t,e)})),r=new ic(n);return new cc(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}($v),Yv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return sn(e,t),e.prototype._toFieldTransform=function(t){var e=new ac(t.R,Qu(t.R,this.Uc));return new cc(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}($v);function Jv(t,e,n,r){var i=t.Bc(1,e,n);im("Data must be an object, but it was:",i,r);var o=[],a=uu.empty();Cs(r,(function(t,r){var s=sm(e,t,n);r=Nn(r);var u=i.kc(s);if(r instanceof Hv)o.push(s);else{var c=em(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new $s(o);return new Uv(a,s,i.fieldTransforms)}function Zv(t,e,n,r,i,o){var a=t.Bc(1,e,n),s=[om(e,r,n)],u=[i];if(o.length%2!=0)throw new fs(ls.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(om(e,o[c])),u.push(o[c+1]);for(var h=[],l=uu.empty(),f=s.length-1;f>=0;--f)if(!cm(h,s[f])){var p=s[f],d=u[f];d=Nn(d);var v=a.kc(p);if(d instanceof Hv)h.push(p);else{var m=em(d,v);null!=m&&(h.push(p),l.set(p,m))}}var g=new $s(h);return new Uv(l,g,a.fieldTransforms)}function tm(t,e,n,r){return void 0===r&&(r=!1),em(n,t.Bc(r?4:3,e))}function em(t,e){if(rm(t=Nn(t)))return im("Unsupported field value:",e,t),nm(t,e);if(t instanceof $v)return function(t,e){if(!jv(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=em(o[i],e.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Nn(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Qu(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Ns.fromDate(t);return{timestampValue:rh(e.R,n)}}if(t instanceof Ns)return n=new Ns(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:rh(e.R,n)};if(t instanceof Mv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Lv)return{bytesValue:ih(e.R,t._byteString)};if(t instanceof wv){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:sh(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+vv(t))}(t,e)}function nm(t,e){var n={};return xs(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(t,(function(t,r){var i=em(r,e.Nc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function rm(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ns||t instanceof Mv||t instanceof Lv||t instanceof wv||t instanceof $v)}function im(t,e,n){if(!rm(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=vv(n);throw"an object"===r?e.$c(t+" a custom object"):e.$c(t+" "+r)}}function om(t,e,n){if((e=Nn(e))instanceof Pv)return e._internalPath;if("string"==typeof e)return sm(t,e);throw um("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var am=new RegExp("[~\\*/\\[\\]]");function sm(t,e,n){if(e.search(am)>=0)throw um("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Pv.bind.apply(Pv,pn([void 0],e.split(".")))))._internalPath}catch(r){throw um("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function um(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new fs(ls.INVALID_ARGUMENT,(s+=". ")+t+u)}function cm(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var hm=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new wv(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new lm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(fm("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),lm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return sn(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(hm);function fm(t,e){return"string"==typeof e?sm(t,e):e instanceof Pv?e._internalPath:e._delegate._internalPath}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var pm=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),dm=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return sn(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new vm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(fm("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(hm),vm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return sn(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(dm),mm=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new pm(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new vm(n._firestore,n._userDataWriter,r.key,r,new pm(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new fs(ls.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){var r=new vm(t._firestore,t._userDataWriter,e.doc.key,e.doc,new pm(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new vm(t._firestore,t._userDataWriter,e.doc.key,e.doc,new pm(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:gm(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function gm(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bs()}}function ym(t,e){return t instanceof dm&&e instanceof dm?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof mm&&e instanceof mm&&t._firestore===e._firestore&&Av(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function bm(t){if(Lu(t)&&0===t.explicitOrderBy.length)throw new fs(ls.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var wm=function(){};function Im(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Em=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return sn(e,t),e.prototype._apply=function(t){var e=Kv(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new fs(ls.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Dm(a,o);for(var u=[],c=0,h=a;c<h.length;c++){var l=h[c];u.push(km(r,t,l))}s={arrayValue:{values:u}}}else s=km(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Dm(a,o),s=tm(n,"where",a,"in"===o||"not-in"===o);var f=mu.create(i,o,s);return function(t,e){if(e.g()){var n=Mu(t);if(null!==n&&!n.isEqual(e.field))throw new fs(ls.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=$u(t);null!==r&&Cm(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new fs(ls.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new fs(ls.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Iv(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new xu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(wm),Tm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return sn(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new fs(ls.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new fs(ls.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Nu(e,n);return function(t,e){if(null===$u(t)){var n=Mu(t);null!==n&&Cm(t,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new Iv(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new xu(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(wm),_m=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return sn(e,t),e.prototype._apply=function(t){return new Iv(t.firestore,t.converter,ju(t._query,this.Gc,this.zc))},e}(wm),Sm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return sn(e,t),e.prototype._apply=function(t){var e=Nm(t,this.type,this.Hc,this.Jc);return new Iv(t.firestore,t.converter,function(t,e){return new xu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(wm),Am=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return sn(e,t),e.prototype._apply=function(t){var e=Nm(t,this.type,this.Hc,this.Jc);return new Iv(t.firestore,t.converter,function(t,e){return new xu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(wm);function Nm(t,e,n,r){if(n[0]=Nn(n[0]),n[0]instanceof hm)return function(t,e,n,r,i){if(!r)throw new fs(ls.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Vu(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(nu(e,r.key));else{var c=r.data.field(u.field);if(qs(c))throw new fs(ls.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var h=u.field.canonicalString();throw new fs(ls.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+h+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Su(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Kv(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new fs(ls.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new fs(ls.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Fu(t)&&-1!==c.indexOf("/"))throw new fs(ls.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var h=t.path.child(Rs.fromString(c));if(!Ws.isDocumentKey(h))throw new fs(ls.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");var l=new Ws(h);s.push(nu(e,l))}else{var f=tm(n,r,c);s.push(f)}}return new Su(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function km(t,e,n){if("string"==typeof(n=Nn(n))){if(""===n)throw new fs(ls.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fu(e)&&-1!==n.indexOf("/"))throw new fs(ls.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Rs.fromString(n));if(!Ws.isDocumentKey(r))throw new fs(ls.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return nu(t,new Ws(r))}if(n instanceof wv)return nu(t,n._key);throw new fs(ls.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+vv(n)+".")}function Dm(t,e){if(!Array.isArray(t)||0===t.length)throw new fs(ls.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new fs(ls.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Cm(t,e,n){if(!n.isEqual(e))throw new fs(ls.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var xm=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Xs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Us(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(js(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw bs()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Cs(t.fields||{},(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new Mv(Us(t.latitude),Us(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Bs(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Ks(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Vs(t);return new Ns(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Rs.fromString(t);ws(xh(n));var r=new nv(n.get(1),n.get(3)),i=new Ws(n.popFirst(5));return r.isEqual(e)||ms("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Om(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Rm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return sn(e,t),e.prototype.convertBytes=function(t){return new Lv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new wv(this.firestore,null,e)},e}(xm),Pm=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Kv(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Lm(t,this._firestore),i=Om(r.converter,e,n),o=Gv(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,lc.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=Lm(t,this._firestore);return o="string"==typeof(e=Nn(e))||e instanceof Pv?Zv(this._dataReader,"WriteBatch.update",a._key,e,n,r):Jv(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,lc.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Lm(t,this._firestore);return this._mutations=this._mutations.concat(new Ac(e._key,lc.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new fs(ls.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Lm(t,e){if((t=Nn(t)).firestore!==e)throw new fs(ls.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var $m=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return sn(e,t),e.prototype.convertBytes=function(t){return new Lv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new wv(this.firestore,null,e)},e}(xm);function Mm(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=mv(t,wv);var o=mv(t.firestore,Dv),a=Kv(o);return Vm(o,[("string"==typeof(e=Nn(e))||e instanceof Pv?Zv(a,"updateDoc",t._key,e,n,r):Jv(a,"updateDoc",t._key,e)).toMutation(t._key,lc.exists(!0))])}function Fm(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Nn(t);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||kv(i[s])||(a=i[s],s++);var u,c,h,l={includeMetadataChanges:a.includeMetadataChanges};if(kv(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof wv)c=mv(t.firestore,Dv),h=Ru(t._key.path),u={next:function(e){i[s]&&i[s](Um(c,t,e))},error:i[s+1],complete:i[s+2]};else{var p=mv(t,Iv);c=mv(p.firestore,Dv),h=p._query;var d=new $m(c);u={next:function(t){i[s]&&i[s](new mm(c,d,p,t))},error:i[s+1],complete:i[s+2]},bm(t._query)}return function(t,e,n,r){var i=this,o=new Ud(r),a=new Jp(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return cn(i,void 0,void 0,(function(){var e;return hn(this,(function(n){switch(n.label){case 0:return e=zp,[4,Jd(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return cn(i,void 0,void 0,(function(){var e;return hn(this,(function(n){switch(n.label){case 0:return e=Wp,[4,Jd(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}(Cv(c),h,l,u)}function Vm(t,e){return function(t,e){var n=this,r=new el;return t.asyncQueue.enqueueAndForget((function(){return cn(n,void 0,void 0,(function(){var n;return hn(this,(function(i){switch(i.label){case 0:return n=ud,[4,Yd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Cv(t),e)}function Um(t,e,n){var r=n.docs.get(e._key),i=new $m(t);return new dm(t,i,e._key,r,new pm(n.hasPendingWrites,n.fromCache),e.converter)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var jm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return sn(e,t),e.prototype.get=function(e){var n=this,r=Lm(e,this._firestore),i=new $m(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new dm(n._firestore,i,r._key,t._document,new pm(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Kv(t)}return t.prototype.get=function(t){var e=this,n=Lm(t,this._firestore),r=new Rm(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return bs();var i=t[0];if(i.isFoundDocument())return new hm(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new hm(e._firestore,r,n._key,null,n.converter);throw bs()}))},t.prototype.set=function(t,e,n){var r=Lm(t,this._firestore),i=Om(r.converter,e,n),o=Gv(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=Lm(t,this._firestore);return o="string"==typeof(e=Nn(e))||e instanceof Pv?Zv(this._dataReader,"Transaction.update",a._key,e,n,r):Jv(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=Lm(t,this._firestore);return this._transaction.delete(e._key),this},t}());
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function qm(){if("undefined"==typeof Uint8Array)throw new fs(ls.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Bm(){if("undefined"==typeof atob)throw new fs(ls.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Km=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Bm(),new t(Lv.fromBase64String(e))},t.fromUint8Array=function(e){return qm(),new t(Lv.fromUint8Array(e))},t.prototype.toBase64=function(){return Bm(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return qm(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Gm=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Rv(t=mv(t,Dv));var n=Cv(t),r=t._freezeSettings(),i=new Vd;return Ov(n,i,new Md(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Rv(t=mv(t,Dv));var e=Cv(t),n=t._freezeSettings(),r=new Vd;return Ov(e,r,new Fd(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new fs(ls.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new el;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return cn(e,void 0,void 0,(function(){var e;return hn(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return cn(this,void 0,void 0,(function(){var e;return hn(this,(function(n){switch(n.label){case 0:return il.yt()?(e=t+"main",[4,il.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(mf(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),Hm=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof nv||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=mv(t,bv))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&gs("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=un({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[dn.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),dn.encodeString(JSON.stringify(o),!1),""].join(".")}(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new fs(ls.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new av(new iv(o,new Bf(a)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return cn(e,void 0,void 0,(function(){var e,n;return hn(this,(function(r){switch(r.label){case 0:return[4,Wd(t)];case 1:return e=r.sent(),[4,Qd(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Is(t);return e.$r.delete(0),vp(e)}(n))]}}))}))}))}(Cv(mv(this._delegate,Dv)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return cn(e,void 0,void 0,(function(){var e,n;return hn(this,(function(r){switch(r.label){case 0:return[4,Wd(t)];case 1:return e=r.sent(),[4,Qd(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return cn(this,void 0,void 0,(function(){var e;return hn(this,(function(n){switch(n.label){case 0:return(e=Is(t)).$r.add(0),[4,mp(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Cv(mv(this._delegate,Dv)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&fv("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new el;return t.asyncQueue.enqueueAndForget((function(){return cn(e,void 0,void 0,(function(){var e;return hn(this,(function(r){switch(r.label){case 0:return e=dd,[4,Yd(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Cv(mv(this._delegate,Dv)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Ud(e);return t.asyncQueue.enqueueAndForget((function(){return cn(n,void 0,void 0,(function(){var e;return hn(this,(function(n){switch(n.label){case 0:return e=function(t,e){Is(t).Gr.add(e),e.next()},[4,Jd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return cn(n,void 0,void 0,(function(){var e;return hn(this,(function(n){switch(n.label){case 0:return e=function(t,e){Is(t).Gr.delete(e)},[4,Jd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Cv(t=mv(t,Dv)),kv(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new fs(ls.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new ag(this,Tv(this._delegate,t))}catch(t){throw Jm(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Ym(this,_v(this._delegate,t))}catch(t){throw Jm(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new rg(this,function(t,e){if(t=mv(t,bv),hv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new fs(ls.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Iv(t,null,function(t){return new xu(Rs.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Jm(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new el;return t.asyncQueue.enqueueAndForget((function(){return cn(n,void 0,void 0,(function(){var n;return hn(this,(function(i){switch(i.label){case 0:return[4,function(t){return zd(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new qd(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(Cv(t),(function(n){return e(new jm(t,n))}))}(this._delegate,(function(n){return t(new Wm(e,n))}))},t.prototype.batch=function(){var t=this;return Cv(this._delegate),new Xm(new Pm(this._delegate,(function(e){return Vm(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new fs(ls.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new fs(ls.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),zm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return sn(e,t),e.prototype.convertBytes=function(t){return new Km(new Lv(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Ym.Zc(e,this.firestore,null)},e}(xm);var Wm=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new zm(t)}return t.prototype.get=function(t){var e=this,n=sg(t);return this._delegate.get(n).then((function(t){return new eg(e._firestore,new dm(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=sg(t);return n?(lv("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=sg(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,pn([a,e,n],i)),this},t.prototype.delete=function(t){var e=sg(t);return this._delegate.delete(e),this},t}(),Xm=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=sg(t);return n?(lv("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=sg(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,pn([a,e,n],i)),this},t.prototype.delete=function(t){var e=sg(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Qm=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new vm(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new ng(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new zm(e),n),i.set(n,o)),o},t}();Qm.eu=new WeakMap;var Ym=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new zm(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new fs(ls.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new wv(n._delegate,r,new Ws(e)))},t.Zc=function(e,n,r){return new t(n,new wv(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ag(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new ag(this.firestore,Tv(this._delegate,t))}catch(t){throw Jm(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Nn(t))instanceof wv&&Sv(this._delegate,t)},t.prototype.set=function(t,e){e=lv("DocumentReference.set",e);try{return function(t,e,n){t=mv(t,wv);var r=mv(t.firestore,Dv),i=Om(t.converter,e,n);return Vm(r,[Gv(Kv(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,lc.none())])}(this._delegate,t,e)}catch(t){throw Jm(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Mm(this._delegate,t):Mm.apply(void 0,pn([this._delegate,t,e],n))}catch(t){throw Jm(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Vm(mv((t=this._delegate).firestore,Dv),[new Ac(t._key,lc.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Zm(e),i=tg(e,(function(e){return new eg(t.firestore,new dm(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return Fm(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=mv(t,wv);var e=mv(t.firestore,Dv),n=Cv(e),r=new $m(e);return function(t,e){var n=this,r=new el;return t.asyncQueue.enqueueAndForget((function(){return cn(n,void 0,void 0,(function(){var n;return hn(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return cn(this,void 0,void 0,(function(){var r,i;return hn(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Is(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new fs(ls.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=jp(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Xd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new dm(e,r,t._key,n,new pm(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=mv(t,wv);var e=mv(t.firestore,Dv);return Zd(Cv(e),t._key,{source:"server"}).then((function(n){return Um(e,t,n)}))}(this._delegate):function(t){t=mv(t,wv);var e=mv(t.firestore,Dv);return Zd(Cv(e),t._key).then((function(n){return Um(e,t,n)}))}(this._delegate)).then((function(t){return new eg(e.firestore,new dm(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Qm.tu(this.firestore,e)):this._delegate.withConverter(null))},t}();function Jm(t,e,n){return t.message=t.message.replace(e,n),t}function Zm(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!kv(r))return r}return{}}function tg(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=kv(t[0])?t[0]:kv(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var eg=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Ym(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return ym(this._delegate,t._delegate)},t}(),ng=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return sn(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(eg),rg=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new zm(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Im(this._delegate,function(t,e,n){var r=e,i=fm("where",t);return new Em(i,r,n)}(e,n,r)))}catch(e){throw Jm(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Im(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=fm("orderBy",t);return new Tm(r,n)}(e,n)))}catch(e){throw Jm(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Im(this._delegate,function(t){return gv("limit",t),new _m("limit",t,"F")}(e)))}catch(e){throw Jm(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Im(this._delegate,function(t){return gv("limitToLast",t),new _m("limitToLast",t,"L")}(e)))}catch(e){throw Jm(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Im(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Sm("startAt",t,!0)}.apply(void 0,e)))}catch(e){throw Jm(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Im(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Sm("startAfter",t,!1)}.apply(void 0,e)))}catch(e){throw Jm(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Im(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Am("endBefore",t,!0)}.apply(void 0,e)))}catch(e){throw Jm(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Im(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Am("endAt",t,!1)}.apply(void 0,e)))}catch(e){throw Jm(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Av(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=mv(t,Iv);var e=mv(t.firestore,Dv),n=Cv(e),r=new $m(e);return function(t,e){var n=this,r=new el;return t.asyncQueue.enqueueAndForget((function(){return cn(n,void 0,void 0,(function(){var n;return hn(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return cn(this,void 0,void 0,(function(){var r,i,o,a,s;return hn(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Df(t,e,!0)];case 1:return s=u.sent(),r=new ed(e,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=jp(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,Xd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new mm(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=mv(t,Iv);var e=mv(t.firestore,Dv),n=Cv(e),r=new $m(e);return tv(n,t._query,{source:"server"}).then((function(n){return new mm(e,r,t,n)}))}(this._delegate):function(t){t=mv(t,Iv);var e=mv(t.firestore,Dv),n=Cv(e),r=new $m(e);return bm(t._query),tv(n,t._query).then((function(n){return new mm(e,r,t,n)}))}(this._delegate)).then((function(t){return new og(e.firestore,new mm(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Zm(e),i=tg(e,(function(e){return new og(t.firestore,new mm(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return Fm(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Qm.tu(this.firestore,e)):this._delegate.withConverter(null))},t}(),ig=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new ng(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),og=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new rg(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new ng(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new ig(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new ng(n._firestore,r))}))},t.prototype.isEqual=function(t){return ym(this._delegate,t._delegate)},t}(),ag=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return sn(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Ym(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Ym(this.firestore,void 0===t?_v(this._delegate):_v(this._delegate,t))}catch(t){throw Jm(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=mv(t.firestore,Dv),r=_v(t),i=Om(t.converter,e);return Vm(n,[Gv(Kv(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,lc.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new Ym(e.firestore,t)}))},e.prototype.isEqual=function(t){return Sv(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Qm.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(rg);function sg(t){return mv(t,wv)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ug,cg=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Pv.bind.apply(Pv,pn([void 0],t)))}return t.documentId=function(){return new t(Ls.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Nn(t))instanceof Pv&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),hg=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Wv("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Hv("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Xv("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Qv("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Yv("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),lg={Firestore:Hm,GeoPoint:Mv,Timestamp:Ns,Blob:Km,Transaction:Wm,WriteBatch:Xm,DocumentReference:Ym,DocumentSnapshot:eg,Query:rg,QueryDocumentSnapshot:ng,QuerySnapshot:og,CollectionReference:ag,FieldPath:cg,FieldValue:hg,setLogLevel:function(t){var e;e=t,ps.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};function fg(t,e,n){return!0===n||""===n?t?"col":`col-${e}`:"auto"===n?t?"col-auto":`col-${e}-auto`:t?`col-${n}`:`col-${e}-${n}`}function pg(t){let e="";if("string"==typeof t||"number"==typeof t)e+=t;else if("object"==typeof t)if(Array.isArray(t))e=t.map(pg).filter(Boolean).join(" ");else for(let n in t)t[n]&&(e&&(e+=" "),e+=n);return e}function dg(...t){return t.map(pg).filter(Boolean).join(" ")}function vg(t){const e=t-1;return e*e*e+1}function mg(t,{delay:e=0,duration:n=400,easing:r=vg}={}){const i=getComputedStyle(t),o=+i.opacity,a=parseFloat(i.height),s=parseFloat(i.paddingTop),u=parseFloat(i.paddingBottom),c=parseFloat(i.marginTop),h=parseFloat(i.marginBottom),l=parseFloat(i.borderTopWidth),f=parseFloat(i.borderBottomWidth);return{delay:e,duration:n,easing:r,css:t=>`overflow: hidden;opacity: ${Math.min(20*t,1)*o};height: ${t*a}px;padding-top: ${t*s}px;padding-bottom: ${t*u}px;margin-top: ${t*c}px;margin-bottom: ${t*h}px;border-top-width: ${t*l}px;border-bottom-width: ${t*f}px;`}}(function(t,e){t.INTERNAL.registerComponent(new kn("firestore",(function(t){return function(t,e){return new Hm(t,new Dv(t,e),new Gm)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},lg)))})(ug=nr),ug.registerVersion("@firebase/firestore","2.3.0"),function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var a=n.setTimeout;r.prototype.c=function(t){a(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new r;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Qa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),a=r.next();!a.done;a=r.next())o(a.value).Qa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,o(r.value).Qa(i(a.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&s.test(t)?t:""}function h(){}function l(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==l(t)}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),m=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:y).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function I(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t){return t}function T(t,e,n){this.code=A+t,this.message=e||N[t]||"",this.a=n||null}function _(t){var e=t&&t.code;return e?new T(e.substring(A.length),t.message,t.serverResponse):null}I(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var S,A="auth/",N={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},k={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function D(t){for(var e in k)if(k[e].id===t)return{firebaseEndpoint:(t=k[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function C(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function x(t){if(Error.captureStackTrace)Error.captureStackTrace(this,x);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function O(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");x.call(this,n+t[r])}function R(t,e){throw new O("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function P(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function L(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function $(){this.b=this.a=null}S=D("__EID__")?"__EID__":void 0,I(x,Error),x.prototype.name="CustomError",I(O,x),O.prototype.name="AssertionError",P.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var M=new P((function(){return new V}),(function(t){t.reset()}));function F(){var t=me,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function V(){this.next=this.b=this.a=null}$.prototype.add=function(t,e){var n=M.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},V.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},V.prototype.reset=function(){this.next=this.b=this.a=null};var U=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},j=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var q=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},B=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},K=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function G(t,e){return 0<=U(t,e)}function H(t,e){var n;return(n=0<=(e=U(t,e)))&&Array.prototype.splice.call(t,e,1),n}function z(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function W(t){return Array.prototype.concat.apply([],arguments)}function X(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Q,Y=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},J=/&/g,Z=/</g,tt=/>/g,et=/"/g,nt=/'/g,rt=/\x00/g,it=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function at(t,e){return t<e?-1:t>e?1:0}t:{var st=a.navigator;if(st){var ut=st.userAgent;if(ut){Q=ut;break t}}Q=""}function ct(t){return ot(Q,t)}function ht(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function lt(t){for(var e in t)return!1;return!0}function ft(t){var e,n={};for(e in t)n[e]=t[e];return n}var pt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<pt.length;o++)n=pt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(d(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;R("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function mt(t,e){this.a=t===wt&&e||"",this.b=bt}function gt(t){return t instanceof mt&&t.constructor===mt&&t.b===bt?t.a:(R("expected object of type Const, got '"+t+"'"),"type_error:Const")}mt.prototype.sa=!0,mt.prototype.ra=function(){return this.a},mt.prototype.toString=function(){return"Const{"+this.a+"}"};var yt,bt={},wt={};function It(){if(void 0===yt){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:E,createScript:E,createScriptURL:E})}catch(t){a.console&&a.console.error(t.message)}yt=t}else yt=t}return yt}function Et(t,e){this.a=e===Nt?t:""}function Tt(t){return t instanceof Et&&t.constructor===Et?t.a:(R("expected object of type TrustedResourceUrl, got '"+t+"' of type "+l(t)),"type_error:TrustedResourceUrl")}function _t(t,e){var n=gt(t);if(!At.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=It();return new Et(t=e?e.createScriptURL(t):t,Nt)}(t=n.replace(St,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof mt?gt(t):encodeURIComponent(String(t))})))}Et.prototype.sa=!0,Et.prototype.ra=function(){return this.a.toString()},Et.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var St=/%{(\w+)}/g,At=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Nt={};function kt(t,e){this.a=e===Lt?t:""}function Dt(t){return t instanceof kt&&t.constructor===kt?t.a:(R("expected object of type SafeUrl, got '"+t+"' of type "+l(t)),"type_error:SafeUrl")}kt.prototype.sa=!0,kt.prototype.ra=function(){return this.a.toString()},kt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ct=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,xt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Ot=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Rt(t){if(t instanceof kt)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Ot.test(t))t=new kt(t,Lt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(xt);t=e&&Ct.test(e[1])?new kt(t,Lt):null}return t}function Pt(t){return t instanceof kt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Ot.test(t)||(t="about:invalid#zClosurez"),new kt(t,Lt))}var Lt={},$t=new kt("about:invalid#zClosurez",Lt);function Mt(t,e,n){this.a=n===Ft?t:""}Mt.prototype.sa=!0,Mt.prototype.ra=function(){return this.a.toString()},Mt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ft={};function Vt(t,e,n,r){return t=t instanceof kt?t:Pt(t),e=e||a,n=n instanceof mt?gt(n):n||"",e.open(Dt(t),n,r,void 0)}function Ut(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function jt(t){return it.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(J,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(et,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function qt(t){return qt[" "](t),t}qt[" "]=h;var Bt,Kt=ct("Opera"),Gt=ct("Trident")||ct("MSIE"),Ht=ct("Edge"),zt=Ht||Gt,Wt=ct("Gecko")&&!(ot(Q.toLowerCase(),"webkit")&&!ct("Edge"))&&!(ct("Trident")||ct("MSIE"))&&!ct("Edge"),Xt=ot(Q.toLowerCase(),"webkit")&&!ct("Edge");function Qt(){var t=a.document;return t?t.documentMode:void 0}t:{var Yt="",Jt=function(){var t=Q;return Wt?/rv:([^\);]+)(\)|;)/.exec(t):Ht?/Edge\/([\d\.]+)/.exec(t):Gt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Xt?/WebKit\/(\S+)/.exec(t):Kt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Jt&&(Yt=Jt?Jt[1]:""),Gt){var Zt=Qt();if(null!=Zt&&Zt>parseFloat(Yt)){Bt=String(Zt);break t}}Bt=Yt}var te,ee={};function ne(t){return function(t,e){var n=ee;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Y(String(Bt)).split("."),r=Y(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=at(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||at(0==a[2].length,0==s[2].length)||at(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(a.document&&Gt){var re=Qt();te=re||(parseInt(Bt,10)||void 0)}else te=void 0;var ie=te;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(t){}var oe=!Gt||9<=Number(ie);function ae(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function se(t,e){ht(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:he.hasOwnProperty(n)?t.setAttribute(he[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ue,ce,he={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function le(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||d(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(d(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){a="function"==typeof o.item;break t}}a=!1}j(a?X(o):o,r)}}}function fe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function pe(t){a.setTimeout((function(){throw t}),0)}function de(t,e){ce||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);ce=function(){t.then(ge)}}else ce=function(){var t=ge;!p(a.setImmediate)||a.Window&&a.Window.prototype&&!ct("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(ue||(ue=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ct("Presto")&&(t=function(){var t=fe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ct("Trident")&&!ct("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),ue(t)):a.setImmediate(t)}}(),ve||(ce(),ve=!0),me.add(t,e)}var ve=!1,me=new $;function ge(){for(var t;t=F();){try{t.a.call(t.b)}catch(t){pe(t)}L(M,t)}ve=!1}function ye(t,e){if(this.a=be,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){Oe(n,we,t)}),(function(t){if(!(t instanceof Ve))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Oe(n,Ie,t)}))}catch(t){Oe(this,Ie,t)}}var be=0,we=2,Ie=3;function Ee(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ee.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Te=new P((function(){return new Ee}),(function(t){t.reset()}));function _e(t,e,n){var r=Te.get();return r.g=t,r.b=e,r.f=n,r}function Se(t){if(t instanceof ye)return t;var e=new ye(h);return Oe(e,we,t),e}function Ae(t){return new ye((function(e,n){n(t)}))}function Ne(t,e,n){Re(t,e,n,null)||de(w(e,t))}function ke(t){return new ye((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ne(t[o],w(i,o,!0),w(i,o,!1));else e(r)}))}function De(t,e){if(t.a==be)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==be&&1==r?De(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Le(n),$e(n,i,Ie,e)))}t.c=null}else Oe(t,Ie,e)}function Ce(t,e){t.b||t.a!=we&&t.a!=Ie||Pe(t),t.f?t.f.next=e:t.b=e,t.f=e}function xe(t,e,n,r){var i=_e(null,null,null);return i.a=new ye((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ve?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,Ce(t,i),i.a}function Oe(t,e,n){t.a==be&&(t===n&&(e=Ie,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Re(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Pe(t),e!=Ie||n instanceof Ve||function(t,e){t.g=!0,de((function(){t.g&&Fe.call(null,e)}))}(t,n)))}function Re(t,e,n,r){if(t instanceof ye)return Ce(t,_e(e||h,n||null,r)),!0;if(C(t))return t.then(e,n,r),!0;if(d(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}function a(t){s||(s=!0,n.call(i,t))}var s=!1;try{e.call(t,a,o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Pe(t){t.h||(t.h=!0,de(t.gc,t))}function Le(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function $e(t,e,n,r){if(n==Ie&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Me(e,n,r);else try{e.c?e.g.call(e.f):Me(e,n,r)}catch(t){Fe.call(null,t)}L(Te,e)}function Me(t,e,n){e==we?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ye.prototype.then=function(t,e,n){return xe(this,p(t)?t:null,p(e)?e:null,n)},ye.prototype.$goog_Thenable=!0,(t=ye.prototype).oa=function(t,e){return(t=_e(t,t,e)).c=!0,Ce(this,t),this},t.o=function(t,e){return xe(this,null,t,e)},t.cancel=function(t){if(this.a==be){var e=new Ve(t);de((function(){De(this,e)}),this)}},t.$c=function(t){this.a=be,Oe(this,we,t)},t.ad=function(t){this.a=be,Oe(this,Ie,t)},t.gc=function(){for(var t;t=Le(this);)$e(this,t,this.a,this.i);this.h=!1};var Fe=pe;function Ve(t){x.call(this,t)}function Ue(){this.xa=this.xa,this.pa=this.pa}I(Ve,x),Ve.prototype.name="cancel";function je(t){!t.xa&&(t.xa=!0,t.Da(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++m)}(t)}Ue.prototype.xa=!1,Ue.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var qe=Object.freeze||function(t){return t},Be=!Gt||9<=Number(ie),Ke=Gt&&!ne("9"),Ge=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",h,e),a.removeEventListener("test",h,e)}catch(t){}return t}();function He(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function ze(t,e){if(He.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Wt){t:{try{qt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:We[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}He.prototype.preventDefault=function(){this.defaultPrevented=!0},I(ze,He);var We=qe({2:"touch",3:"pen",4:"mouse"});ze.prototype.preventDefault=function(){ze.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ke)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},ze.prototype.g=function(){return this.a};var Xe="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function Ye(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++Qe,this.va=this.Pa=!1}function Je(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function Ze(t){this.src=t,this.a={},this.b=0}function tn(t,e){var n=e.type;n in t.a&&H(t.a[n],e)&&(Je(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function en(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}Ze.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=en(t,e,r,i);return-1<a?(e=t[a],n||(e.Pa=!1)):((e=new Ye(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var nn="closure_lm_"+(1e6*Math.random()|0),rn={};function on(t,e,n,r,i){if(r&&r.once)sn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)on(t,e[o],n,r,i);else n=mn(n),t&&t[Xe]?yn(t,e,n,d(r)?!!r.capture:!!r,i):an(t,e,n,!1,r,i)}function an(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=d(i)?!!i.capture:!!i,s=dn(t);if(s||(t[nn]=s=new Ze(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=pn,e=Be?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ge||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(hn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function sn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)sn(t,e[o],n,r,i);else n=mn(n),t&&t[Xe]?bn(t,e,n,d(r)?!!r.capture:!!r,i):an(t,e,n,!0,r,i)}function un(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else r=d(r)?!!r.capture:!!r,n=mn(n),t&&t[Xe]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=en(o=t.a[e],n,r,i))&&(Je(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=dn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=en(e,n,r,i)),(n=-1<t?e[t]:null)&&cn(n))}function cn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Xe])tn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(hn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=dn(e))?(tn(n,t),0==n.b&&(n.src=null,e[nn]=null)):Je(t)}}}function hn(t){return t in rn?rn[t]:rn[t]="on"+t}function ln(t,e,n,r){var i=!0;if((t=dn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=fn(o,r),i=i&&!1!==o)}return i}function fn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&cn(t),n.call(r,e)}function pn(t,e){if(t.va)return!0;if(!Be){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new ze(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=ln(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=ln(r[i],t,!1,e),n=n&&o}return n}return fn(t,new ze(e,this))}function dn(t){return(t=t[nn])instanceof Ze?t:null}var vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function mn(t){return p(t)?t:(t[vn]||(t[vn]=function(e){return t.handleEvent(e)}),t[vn])}function gn(){Ue.call(this),this.v=new Ze(this),this.ac=this,this.gb=null}function yn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function bn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function wn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Va||a.src;a.Pa&&tn(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function In(t,e,n){if(p(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function En(t){var e=null;return new ye((function(n,r){-1==(e=In((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw a.clearTimeout(e),t}))}function Tn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function _n(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Sn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Sn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function An(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Nn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Nn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Nn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}I(gn,Ue),gn.prototype[Xe]=!0,gn.prototype.addEventListener=function(t,e,n,r){on(this,t,e,n,r)},gn.prototype.removeEventListener=function(t,e,n,r){un(this,t,e,n,r)},gn.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"==typeof t)t=new He(t,n);else if(t instanceof He)t.target=t.target||n;else{var i=t;dt(t=new He(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=wn(a,r,!0,t)&&i}if(i=wn(a=t.b=n,r,!0,t)&&i,i=wn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=wn(a=t.b=e[o],r,!1,t)&&i;return i},gn.prototype.Da=function(){if(gn.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Je(n[r]);delete e.a[t],e.b--}}this.gb=null},(t=Sn.prototype).W=function(){An(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return An(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Nn(this.b,t)?this.b[t]:e},t.set=function(t,e){Nn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var kn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Dn?(this.i=void 0!==e?e:t.i,Cn(this,t.c),this.l=t.l,this.a=t.a,xn(this,t.g),this.f=t.f,On(this,Yn(t.b)),this.h=t.h):t&&(n=String(t).match(kn))?(this.i=!!e,Cn(this,n[1]||"",!0),this.l=Mn(n[2]||""),this.a=Mn(n[3]||"",!0),xn(this,n[4]),this.f=Mn(n[5]||"",!0),On(this,n[6]||"",!0),this.h=Mn(n[7]||"")):(this.i=!!e,this.b=new Gn(null,this.i))}function Cn(t,e,n){t.c=n?Mn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function xn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function On(t,e,n){e instanceof Gn?(t.b=e,function(t,e){e&&!t.f&&(Hn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Wn(this,e),Qn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Fn(e,Bn)),t.b=new Gn(e,t.i))}function Rn(t,e,n){t.b.set(e,n)}function Pn(t,e){return t.b.get(e)}function Ln(t){return t instanceof Dn?new Dn(t):new Dn(t,void 0)}function $n(t,e,n,r){var i=new Dn(null,void 0);return t&&Cn(i,t),e&&(i.a=e),n&&xn(i,n),r&&(i.f=r),i}function Mn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Vn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Vn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Dn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Fn(e,Un,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Fn(e,Un,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Fn(n,"/"==n.charAt(0)?qn:jn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Fn(n,Kn)),t.join("")},Dn.prototype.resolve=function(t){var e=new Dn(this),n=!!t.c;n?Cn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)xn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ot(i,"./")||ot(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?On(e,Yn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Un=/[#\/\?@]/g,jn=/[#\?:]/g,qn=/[#\?]/g,Bn=/[#\?@]/g,Kn=/#/g;function Gn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Hn(t){t.a||(t.a=new Sn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function zn(t){var e=_n(t);if(void 0===e)throw Error("Keys are undefined");var n=new Gn(null,void 0);t=Tn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Qn(n,i,o):n.add(i,o)}return n}function Wn(t,e){Hn(t),e=Jn(t,e),Nn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Nn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&An(t)))}function Xn(t,e){return Hn(t),e=Jn(t,e),Nn(t.a.b,e)}function Qn(t,e,n){Wn(t,e),0<n.length&&(t.c=null,t.a.set(Jn(t,e),X(n)),t.b+=n.length)}function Yn(t){var e=new Gn;return e.c=t.c,t.a&&(e.a=new Sn(t.a),e.b=t.b),e}function Jn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Zn(t){var e=[];return er(new tr,t,e),e.join("")}function tr(){}function er(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),er(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),or(r,n),n.push(":"),er(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":or(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Gn.prototype).add=function(t,e){Hn(this),this.c=null,t=Jn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Hn(this),this.a.forEach((function(n,r){j(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Hn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){Hn(this);var e=[];if("string"==typeof t)Xn(this,t)&&(e=W(e,this.a.get(Jn(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=W(e,t[n])}return e},t.set=function(t,e){return Hn(this),this.c=null,Xn(this,t=Jn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var rr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ir=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function or(t,e){e.push('"',t.replace(ir,(function(t){var e=rr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),rr[t]=e),e})),'"')}function ar(){var t=Ar();return Gt&&!!ie&&11==ie||/Edge\/\d+/.test(t)}function sr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function ur(t,e){e=e||a.window;var n="about:blank";t&&(n=Dt(Rt(t)||$t)),e.location.href=n}function cr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<cr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function hr(t){return!!((t=(t||Ar()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function lr(t){t=t||a.window;try{t.close()}catch(t){}}function fr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ar().toLowerCase(),r&&(e.target=r,ot(n,"crios/")&&(e.target="_blank")),Tr(Ar())==Ir&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof kt?n:Rt(void 0!==n.href?n.href:String(n))||$t,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((ct("iPhone")&&!ct("iPod")&&!ct("iPad")||ct("iPad")||ct("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(a=fe(document,"A"),"HTMLAnchorElement"),e=e instanceof kt?e:Pt(e),a.href=Dt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=Vt("",r,n,a),t=Dt(e),a&&(zt&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+jt(t)+'">',t=new Mt(t=(r=It())?r.createHTML(t):t,null,Ft),r=a.document)&&(r.write(function(t){return t instanceof Mt&&t.constructor===Mt?t.a:(R("expected object of type SafeHtml, got '"+t+"' of type "+l(t)),"type_error:SafeHtml")}(t)),r.close())):(a=Vt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var pr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dr=/^[^@]+@[^@]+$/;function vr(){var t=null;return new ye((function(e){"complete"==a.document.readyState?e():(t=function(){e()},sn(window,"load",t))})).o((function(e){throw un(window,"load",t),e}))}function mr(t){return t=t||Ar(),!("file:"!==xr()&&"ionic:"!==xr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function gr(){var t=a.window;try{return!(!t||t==t.top)}catch(t){return!1}}function yr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function br(){return nr.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":nr.INTERNAL.hasOwnProperty("node")?"Node":yr()?"Worker":"Browser"}function wr(){var t=br();return"ReactNative"===t||"Node"===t}var Ir="Firefox",Er="Chrome";function Tr(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?Ir:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Er:"Safari"}var _r={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Sr(t,e){e=e||[];var n,r=[],i={};for(n in _r)i[_r[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=br())?r=Tr(i=Ar()):"Worker"===r&&(r=Tr(i=Ar())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Ar(){return a.navigator&&a.navigator.userAgent||""}function Nr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function kr(){try{var t=a.localStorage,e=$r();if(t)return t.setItem(e,"1"),t.removeItem(e),!ar()||!!a.indexedDB}catch(t){return yr()&&!!a.indexedDB}return!1}function Dr(){return(Cr()||"chrome-extension:"===xr()||mr())&&!wr()&&kr()&&!yr()}function Cr(){return"http:"===xr()||"https:"===xr()}function xr(){return a.location&&a.location.protocol||null}function Or(t){return!hr(t=t||Ar())&&Tr(t)!=Ir}function Rr(t){return void 0===t?null:Zn(t)}function Pr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Lr(t){if(null!==t)return JSON.parse(t)}function $r(t){return t||Math.floor(1e9*Math.random()).toString()}function Mr(t){return"Safari"!=Tr(t=t||Ar())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Fr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Vr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Ar(),e=br(),this.b=hr(t)||"ReactNative"===e}function Ur(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function jr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function qr(){return!(!Nr("fireauth.oauthhelper",a)&&!Nr("fireauth.iframe",a))}Vr.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Cr()&&"chrome-extension:"!==xr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Br,Kr={};function Gr(t){Kr[t]||(Kr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Hr={};Object.defineProperty(Hr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Hr,"abcd",{configurable:!0,enumerable:!0,value:2}),Br=2==Hr.abcd}catch(t){Br=!1}function zr(t,e,n){Br?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Wr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&zr(t,n,e[n])}function Xr(t){var e={};return Wr(e,t),e}function Qr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)zr(e,n,Qr(t[n]));return e}function Yr(t){var e=t&&(t[ni]?"phone":null);if(!(e&&t&&t[ei]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");zr(this,"uid",t[ei]),zr(this,"displayName",t[Zr]||null);var n=null;t[ti]&&(n=new Date(t[ti]).toUTCString()),zr(this,"enrollmentTime",n),zr(this,"factorId",e)}function Jr(t){try{var e=new ri(t)}catch(t){e=null}return e}Yr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Zr="displayName",ti="enrolledAt",ei="mfaEnrollmentId",ni="phoneInfo";function ri(t){Yr.call(this,t),zr(this,"phoneNumber",t[ni])}function ii(t){var e={},n=t[ui],r=t[hi],i=t[li];if(t=Jr(t[ci]),!i||i!=ai&&i!=si&&!n||i==si&&!r||i==oi&&!t)throw Error("Invalid checkActionCode response!");i==si?(e[pi]=n||null,e[vi]=n||null,e[fi]=r):(e[pi]=r||null,e[vi]=r||null,e[fi]=n||null),e[di]=t||null,zr(this,gi,i),zr(this,mi,Qr(e))}I(ri,Yr),ri.prototype.w=function(){var t=ri.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var oi="REVERT_SECOND_FACTOR_ADDITION",ai="EMAIL_SIGNIN",si="VERIFY_AND_CHANGE_EMAIL",ui="email",ci="mfaInfo",hi="newEmail",li="requestType",fi="email",pi="fromEmail",di="multiFactorInfo",vi="previousEmail",mi="data",gi="operation";function yi(t){var e=Pn(t=Ln(t),bi)||null,n=Pn(t,wi)||null,r=Pn(t,Ti)||null;if(r=r&&Si[r]||null,!e||!n||!r)throw new T("argument-error",bi+", "+wi+"and "+Ti+" are required in a valid action code URL.");Wr(this,{apiKey:e,operation:r,code:n,continueUrl:Pn(t,Ii)||null,languageCode:Pn(t,Ei)||null,tenantId:Pn(t,_i)||null})}var bi="apiKey",wi="oobCode",Ii="continueUrl",Ei="languageCode",Ti="mode",_i="tenantId",Si={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:oi,signIn:ai,verifyAndChangeEmail:si,verifyEmail:"VERIFY_EMAIL"};function Ai(t){try{return new yi(t)}catch(t){return null}}function Ni(t){var e=t[Oi];if(void 0===e)throw new T("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new T("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[ki];if(n&&"object"==typeof n){e=n[Li];var r=n[Ri];if(n=n[Pi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new T("argument-error",Ri+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new T("argument-error",Pi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new T("argument-error",Li+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new T("missing-android-pkg-name")}}else if(void 0!==n)throw new T("argument-error",ki+" property must be a non null object when specified.");if(this.f=null,(e=t[xi])&&"object"==typeof e){if("string"==typeof(e=e[$i])&&e.length)this.f=e;else if(void 0!==e)throw new T("argument-error",$i+" property must be a non empty string when specified.")}else if(void 0!==e)throw new T("argument-error",xi+" property must be a non null object when specified.");if(void 0!==(e=t[Ci])&&"boolean"!=typeof e)throw new T("argument-error",Ci+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Di])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new T("argument-error",Di+" property must be a non empty string when specified.");this.i=t||null}var ki="android",Di="dynamicLinkDomain",Ci="handleCodeInApp",xi="iOS",Oi="url",Ri="installApp",Pi="minimumVersion",Li="packageName",$i="bundleId";function Mi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Fi=null;function Vi(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Fi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Fi){Fi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Fi[o]&&(Fi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e.push(t)})),e}function Ui(t){var e=qi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function ji(t){try{return new Ui(t)}catch(t){return null}}function qi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=Vi(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var a=r[e++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else o=r[e++],a=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(t){}return null}Ui.prototype.T=function(){return this.f},Ui.prototype.l=function(){return this.c},Ui.prototype.toString=function(){return this.h};var Bi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ki=["client_id","response_type","scope","redirect_uri","state"],Gi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Ki},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Ki},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Ki},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Bi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Hi(t){for(var e in Gi)if(Gi[e].fa==t)return Gi[e];return null}function zi(t){var e={};e["facebook.com"]=Ji,e["google.com"]=to,e["github.com"]=Zi,e["twitter.com"]=eo;var n=t&&t[Xi];try{if(n)return e[n]?new e[n](t):new Yi(t);if(void 0!==t[Wi])return new Qi(t)}catch(t){}return null}var Wi="idToken",Xi="providerId";function Qi(t){var e=t[Xi];if(!e&&t[Wi]){var n=ji(t[Wi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),zr(this,"providerId",e),zr(this,"isNewUser",n)}function Yi(t){Qi.call(this,t),zr(this,"profile",Qr((t=Lr(t.rawUserInfo||"{}"))||{}))}function Ji(t){if(Yi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Zi(t){if(Yi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");zr(this,"username",this.profile&&this.profile.login||null)}function to(t){if(Yi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if(Yi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");zr(this,"username",t.screenName||null)}function no(t){var e=Ln(t),n=Pn(e,"link"),r=Pn(Ln(n),"link");return e=Pn(e,"deep_link_id"),Pn(Ln(e),"link")||e||r||n||t}function ro(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?io:oo}I(Yi,Qi),I(Ji,Yi),I(Zi,Yi),I(to,Yi),I(eo,Yi);var io="enroll",oo="signin";function ao(){}function so(t,e){return t.then((function(t){if(t[Qa]){var n=ji(t[Qa]);if(!n||e!=n.i)throw new T("user-mismatch");return t}throw new T("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==A+"user-not-found"?new T("user-mismatch"):t}))}function uo(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,zr(this,"providerId",t),zr(this,"signInMethod",t)}function co(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function ho(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new uo(t.providerId,t.pendingToken)}catch(t){}return null}function lo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&zr(this,"idToken",e.idToken),e.accessToken&&zr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&zr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");zr(this,"accessToken",e.oauthToken),zr(this,"secret",e.oauthTokenSecret)}zr(this,"providerId",t),zr(this,"signInMethod",n)}function fo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:zn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function po(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new lo(t.providerId,e,t.signInMethod)}catch(t){}}return null}function vo(t,e){this.Qc=e||[],Wr(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Hi(t)||{}).Ja||null,this.ob=null}function mo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');vo.call(this,t,[])}function go(t){vo.call(this,t,Ki),this.a=[]}function yo(){go.call(this,"facebook.com")}function bo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new yo).credential({accessToken:e})}function wo(){go.call(this,"github.com")}function Io(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new wo).credential({accessToken:e})}function Eo(){go.call(this,"google.com"),this.Ca("profile")}function To(t,e){var n=t;return d(t)&&(n=t.idToken,e=t.accessToken),(new Eo).credential({idToken:n,accessToken:e})}function _o(){vo.call(this,"twitter.com",Bi)}function So(t,e){var n=t;if(d(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new lo("twitter.com",n,"twitter.com")}function Ao(t,e,n){this.a=t,this.f=e,zr(this,"providerId","password"),zr(this,"signInMethod",n===ko.EMAIL_LINK_SIGN_IN_METHOD?ko.EMAIL_LINK_SIGN_IN_METHOD:ko.EMAIL_PASSWORD_SIGN_IN_METHOD)}function No(t){return t&&t.email&&t.password?new Ao(t.email,t.password,t.signInMethod):null}function ko(){Wr(this,{providerId:"password",isOAuthProvider:!1})}function Do(t,e){if(!(e=Co(e)))throw new T("argument-error","Invalid email link!");return new Ao(t,e.code,ko.EMAIL_LINK_SIGN_IN_METHOD)}function Co(t){return(t=Ai(t=no(t)))&&t.operation===ai?t:null}function xo(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new T("internal-error");this.a=t,zr(this,"providerId","phone"),this.fa="phone",zr(this,"signInMethod","phone")}function Oo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return j(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new xo(e)}return null}function Ro(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Po(t){try{this.a=t||nr.auth()}catch(t){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Wr(this,{providerId:"phone",isOAuthProvider:!1})}function Lo(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new xo({eb:t,cb:e})}function $o(t){if(t.temporaryProof&&t.phoneNumber)return new xo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return To(o,n);case"facebook.com":return bo(n);case"github.com":return Io(n);case"twitter.com":return So(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new uo(e,a):new lo(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new go(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Mo(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function Fo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function Vo(t){return(t=t||{}).type?new Fo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&_(t.error),t.postBody,t.tenantId):null}function Uo(){this.b=null,this.a=[]}ro.prototype.Ha=function(){return this.a?Se(this.a):Se(this.b)},ro.prototype.w=function(){return this.type==io?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ao.prototype.ka=function(){},ao.prototype.b=function(){},ao.prototype.c=function(){},ao.prototype.w=function(){},uo.prototype.ka=function(t){return ys(t,co(this))},uo.prototype.b=function(t,e){var n=co(this);return n.idToken=e,bs(t,n)},uo.prototype.c=function(t,e){return so(ws(t,co(this)),e)},uo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},lo.prototype.ka=function(t){return ys(t,fo(this))},lo.prototype.b=function(t,e){var n=fo(this);return n.idToken=e,bs(t,n)},lo.prototype.c=function(t,e){return so(ws(t,fo(this)),e)},lo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},vo.prototype.Ka=function(t){return this.Ib=ft(t),this},I(mo,vo),I(go,vo),go.prototype.Ca=function(t){return G(this.a,t)||this.a.push(t),this},go.prototype.Qb=function(){return X(this.a)},go.prototype.credential=function(t,e){var n;if(!(n=d(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new lo(this.providerId,n,this.providerId)},I(yo,go),zr(yo,"PROVIDER_ID","facebook.com"),zr(yo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(wo,go),zr(wo,"PROVIDER_ID","github.com"),zr(wo,"GITHUB_SIGN_IN_METHOD","github.com"),I(Eo,go),zr(Eo,"PROVIDER_ID","google.com"),zr(Eo,"GOOGLE_SIGN_IN_METHOD","google.com"),I(_o,vo),zr(_o,"PROVIDER_ID","twitter.com"),zr(_o,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ao.prototype.ka=function(t){return this.signInMethod==ko.EMAIL_LINK_SIGN_IN_METHOD?eu(t,ks,{email:this.a,oobCode:this.f}):eu(t,Qs,{email:this.a,password:this.f})},Ao.prototype.b=function(t,e){return this.signInMethod==ko.EMAIL_LINK_SIGN_IN_METHOD?eu(t,Ds,{idToken:e,email:this.a,oobCode:this.f}):eu(t,qs,{idToken:e,email:this.a,password:this.f})},Ao.prototype.c=function(t,e){return so(this.ka(t),e)},Ao.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Wr(ko,{PROVIDER_ID:"password"}),Wr(ko,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Wr(ko,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),xo.prototype.ka=function(t){return t.fb(Ro(this))},xo.prototype.b=function(t,e){var n=Ro(this);return n.idToken=e,eu(t,Js,n)},xo.prototype.c=function(t,e){var n=Ro(this);return n.operation="REAUTH",so(t=eu(t,Zs,n),e)},xo.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Po.prototype.fb=function(t,e){var n=this.a.a;return Se(e.verify()).then((function(r){if("string"!=typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=d(t)?t.session:null,o=d(t)?t.phoneNumber:t;return(i&&i.type==io?i.Ha().then((function(t){return function(t,e){return eu(t,Ks,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==oo?i.Ha().then((function(e){return function(t,e){return eu(t,Gs,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return eu(t,Us,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Wr(Po,{PROVIDER_ID:"phone"}),Wr(Po,{PHONE_SIGN_IN_METHOD:"phone"}),Fo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Fo.prototype.T=function(){return this.h},Fo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var jo,qo=null;function Bo(t){var e="unauthorized-domain",n=void 0,r=Ln(t);t=r.a,"chrome-extension"==(r=r.c)?n=Ut("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ut("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function Ko(t,e,n){T.call(this,t,n),(t=e||{}).Jb&&zr(this,"email",t.Jb),t.ea&&zr(this,"phoneNumber",t.ea),t.credential&&zr(this,"credential",t.credential),t.Zb&&zr(this,"tenantId",t.Zb)}function Go(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:$o(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new Ko(e,n,t.message)}return null}function Ho(){}function zo(t){return t.c||(t.c=t.b())}function Wo(){}function Xo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Qo(){}function Yo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Sb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function Jo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Zo(t,e,n){this.reset(t,e,n,void 0,void 0)}function ta(t){this.f=t,this.b=this.c=this.a=null}function ea(t,e){this.name=t,this.value=e}I(Bo,T),I(Ko,T),Ko.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&dt(t,e),t},Ko.prototype.toJSON=function(){return this.w()},Ho.prototype.c=null,I(Wo,Ho),Wo.prototype.a=function(){var t=Xo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Wo.prototype.b=function(){var t={};return Xo(this)&&(t[0]=!0,t[1]=!0),t},jo=new Wo,I(Qo,Ho),Qo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Yo;throw Error("Unsupported browser")},Qo.prototype.b=function(){return{}},(t=Yo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Jo(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",Jo(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,Jo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Zo.prototype.a=null,Zo.prototype.reset=function(t,e,n,r,i){delete this.a},ea.prototype.toString=function(){return this.name};var na=new ea("SEVERE",1e3),ra=new ea("WARNING",900),ia=new ea("CONFIG",700),oa=new ea("FINE",500);function aa(t){return t.c?t.c:t.a?aa(t.a):(R("Root logger has no level set."),null)}ta.prototype.log=function(t,e,n){if(t.value>=aa(this).value)for(p(e)&&(e=e()),t=new Zo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var sa={},ua=null;function ca(t){var e;if(ua||(ua=new ta(""),sa[""]=ua,ua.c=ia),!(e=sa[t])){e=new ta(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ca(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,sa[t]=e}return e}function ha(t,e){t&&t.log(oa,e,void 0)}function la(t){this.f=t}function fa(t){gn.call(this),this.u=t,this.h=void 0,this.readyState=pa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ca("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}I(la,Ho),la.prototype.a=function(){return new fa(this.f)},la.prototype.b=function(t){return function(){return t}}({}),I(fa,gn);var pa=0;function da(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function va(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ma(t)}function ma(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ga(t){gn.call(this),this.headers=new Sn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ya,this.u=this.S=!1}(t=fa.prototype).open=function(t,e){if(this.readyState!=pa)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ma(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,va(this)),this.readyState=pa},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ma(this)),this.a&&(this.readyState=3,ma(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,da(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?va(this):ma(this),3==this.readyState&&da(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,va(this))},t.sc=function(t){this.a&&(this.response=t,va(this))},t.Ua=function(t){var e=this.i;e&&e.log(ra,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&va(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(ra,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(ra,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(fa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),I(ga,gn);var ya="";ga.prototype.b=ca("goog.net.XhrIo");var ba=/^https?$/i,wa=["POST","PUT"];function Ia(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():jo.a(),t.C=t.D?zo(t.D):zo(jo),t.a.onreadystatechange=b(t.Vb,t);try{ha(t.b,Ca(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(e){return ha(t.b,Ca(t,"Error opening Xhr: "+e.message)),void Ta(t,e)}e=r||"";var o=new Sn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)j(t,e,void 0);else for(var n=_n(t),r=Tn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Ea,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=a.FormData&&e instanceof a.FormData,!G(wa,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Na(t),0<t.g&&(t.u=function(t){return Gt&&ne(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ha(t.b,Ca(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ma,t)):t.s=In(t.Ma,t.g,t)),ha(t.b,Ca(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){ha(t.b,Ca(t,"Send error: "+e.message)),Ta(t,e)}}function Ea(t){return"content-type"==t.toLowerCase()}function Ta(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,_a(t),Aa(t)}function _a(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Sa(t){if(t.c&&void 0!==o)if(t.C[1]&&4==ka(t)&&2==Da(t))ha(t.b,Ca(t,"Local request error detected and ignored"));else if(t.i&&4==ka(t))In(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==ka(t)){ha(t.b,Ca(t,"Request complete")),t.c=!1;try{var e,n=Da(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.l).match(kn)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}i=!ba.test(s?s.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<ka(t)?t.a.statusText:""}catch(e){ha(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+Da(t)+"]",_a(t)}}finally{Aa(t)}}}function Aa(t,e){if(t.a){Na(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(na,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Na(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function ka(t){return t.a?t.a.readyState:0}function Da(t){try{return 2<ka(t)?t.a.status:-1}catch(t){return-1}}function Ca(t,e){return e+" ["+t.R+" "+t.l+" "+Da(t)+"]"}function xa(t){var e=qa;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Oa(t,e,n){t.a=!0,t.c=n,t.f=!e,$a(t)}function Ra(t){if(t.a){if(!t.v)throw new Ma(t);t.v=!1}}function Pa(t,e,n,r){t.g.push([e,n,r]),t.a&&$a(t)}function La(t){return K(t.g,(function(t){return p(t[1])}))}function $a(t){if(t.h&&t.a&&La(t)){var e=t.h,n=Ua[e];n&&(a.clearTimeout(n.a),delete Ua[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(C(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,La(t)||(n=!0)}}t.c=e,r&&(u=b(t.m,t,!0),r=b(t.m,t,!1),e instanceof xa?(Pa(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new Va(e),Ua[e.a]=e,t.h=e.a)}function Ma(){x.call(this)}function Fa(){x.call(this)}function Va(t){this.a=a.setTimeout(b(this.c,this),0),this.b=t}(t=ga.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ha(this.b,Ca(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ha(this.b,Ca(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Aa(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Aa(this,!0)),ga.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?Sa(this):this.Jc())},t.Jc=function(){Sa(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ya:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(na,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return ha(this.b,"Can not get response: "+t.message),null}},xa.prototype.cancel=function(t){if(this.a)this.c instanceof xa&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Fa(this),Ra(this),Oa(this,!1,t))}},xa.prototype.m=function(t,e){this.i=!1,Oa(this,t,e)},xa.prototype.then=function(t,e,n){var r,i,o=new ye((function(t,e){r=t,i=e}));return Pa(this,r,(function(t){t instanceof Fa?o.cancel():i(t)})),o.then(t,e,n)},xa.prototype.$goog_Thenable=!0,I(Ma,x),Ma.prototype.message="Deferred has already fired",Ma.prototype.name="AlreadyCalledError",I(Fa,x),Fa.prototype.message="Deferred was canceled",Fa.prototype.name="CanceledError",Va.prototype.c=function(){throw delete Ua[this.a],this.b};var Ua={};function ja(t){var e,n=document,r=Tt(t).toString(),i=fe(document,"SCRIPT"),o={Wb:i,Ma:void 0},s=new xa(o);return e=window.setTimeout((function(){Ba(i,!0);var t=new Ha(Ga,"Timeout reached for loading script "+r);Ra(s),Oa(s,!1,t)}),5e3),o.Ma=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ba(i,!1,e),Ra(s),Oa(s,!0,null))},i.onerror=function(){Ba(i,!0,e);var t=new Ha(Ka,"Error while loading script "+r);Ra(s),Oa(s,!1,t)},dt(o={},{type:"text/javascript",charset:"UTF-8"}),se(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=Tt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=c(e.document):(null===u&&(u=c(a.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function qa(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&Ba(t,!0,this.Ma)}}function Ba(t,e,n){null!=n&&a.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ka=0,Ga=1;function Ha(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),x.call(this,n),this.code=t}function za(t){this.f=t}function Wa(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Ya,this.g=ft(t.secureTokenHeaders||Ja),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Za,this.a=ft(t.firebaseHeaders||ts),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==br(),!(n=a.XMLHttpRequest||n&&nr.INTERNAL.node&&nr.INTERNAL.node.XMLHttpRequest)&&!yr())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,yr()?this.f=new la(self):wr()?this.f=new za(n):this.f=new Qo,this.b=null}I(Ha,x),I(za,Ho),za.prototype.a=function(){return new this.f},za.prototype.b=function(){return{}};var Xa,Qa="idToken",Ya=new Vr(3e4,6e4),Ja={"Content-Type":"application/x-www-form-urlencoded"},Za=new Vr(3e4,6e4),ts={"Content-Type":"application/json"};function es(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ns(t,e){e&&(t.l=rs("https://securetoken.googleapis.com/v1/token",e),t.h=rs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=rs("https://identitytoolkit.googleapis.com/v2/",e))}function rs(t,e){return t=Ln(t),e=Ln(e.url),t.f=t.a+t.f,Cn(t,e.c),t.a=e.a,xn(t,e.g),t.toString()}function is(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function os(t,e,n,r,i,o,s){(function(){var t=Ar();return!((t=Tr(t)!=Er?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Gt&&ie&&!(9<ie))})()||yr()?t=b(t.u,t):(Xa||(Xa=new ye((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{a[ss]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Pa(t,null,e,void 0)}(ja(_t(as,{onload:ss})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=b(t.s,t)),t(e,n,r,i,o,s)}Wa.prototype.T=function(){return this.b},Wa.prototype.u=function(t,e,n,r,i,o){if(yr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ga(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout((function(){s.dispatchEvent("timeout")}),o)}yn(s,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ha(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),bn(s,"ready",(function(){u&&clearTimeout(u),je(this)})),bn(s,"timeout",(function(){u&&clearTimeout(u),je(this),e&&e(null)})),Ia(s,t,n,r,i)};var as=new mt(wt,"https://apis.google.com/js/client.js?onload=%{onload}"),ss="__fcb"+Math.floor(1e6*Math.random()).toString();function us(t,e,n,r,i,o,a){var s=Ln(e+n);Rn(s,"key",t.c),a&&Rn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Rn(s,c,i[c]);return new ye((function(e,n){os(t,s.toString(),(function(t){t?t.error?n(ru(t,o||{})):e(t):n(new T("network-request-failed"))}),r,u?void 0:Zn(Pr(i)),t.a,t.v.get())}))}function cs(t){if("string"!=typeof(t=t.email)||!dr.test(t))throw new T("invalid-email")}function hs(t){"email"in t&&cs(t)}function ls(t){if(!t[Qa]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,ft(t));throw new T("internal-error")}}function fs(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}Wa.prototype.s=function(t,e,n,r,i){var o=this;Xa.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Wa.prototype.zb=function(){return eu(this,Bs,{})},Wa.prototype.Bb=function(t,e){return eu(this,js,{idToken:t,email:e})},Wa.prototype.Cb=function(t,e){return eu(this,qs,{idToken:t,password:e})};var ps={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ds(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function vs(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function ms(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Xn(t=new Gn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function gs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Go(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Go(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Go(t)):t.errorMessage&&(e=nu(t.errorMessage)),e)throw e;ls(t)}function ys(t,e){return e.returnIdpCredential=!0,eu(t,Hs,e)}function bs(t,e){return e.returnIdpCredential=!0,eu(t,Ws,e)}function ws(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,eu(t,zs,e)}function Is(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=Wa.prototype).Db=function(t,e){var n={idToken:t},r=[];return ht(ps,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),eu(this,js,n)},t.vb=function(t,e){return dt(t={requestType:"PASSWORD_RESET",email:t},e),eu(this,$s,t)},t.wb=function(t,e){return dt(t={requestType:"EMAIL_SIGNIN",email:t},e),eu(this,Rs,t)},t.ub=function(t,e){return dt(t={requestType:"VERIFY_EMAIL",idToken:t},e),eu(this,Ps,t)},t.Eb=function(t,e,n){return dt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),eu(this,Ls,t)},t.fb=function(t){return eu(this,Ys,t)},t.nb=function(t,e){return eu(this,Vs,{oobCode:t,newPassword:e})},t.Ra=function(t){return eu(this,Ts,{oobCode:t})},t.jb=function(t){return eu(this,Es,{oobCode:t})};var Es={endpoint:"setAccountInfo",A:Is,Z:"email",B:!0},Ts={endpoint:"resetPassword",A:Is,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},B:!0},_s={endpoint:"signupNewUser",A:function(t){if(cs(t),!t.password)throw new T("weak-password")},G:ls,V:!0,B:!0},Ss={endpoint:"createAuthUri",B:!0},As={endpoint:"deleteAccount",N:["idToken"]},Ns={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new T("internal-error")}},ks={endpoint:"emailLinkSignin",N:["email","oobCode"],A:cs,G:ls,V:!0,B:!0},Ds={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:cs,G:ls,V:!0},Cs={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:ds,G:ls,B:!0,Na:!0},xs={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:ds,G:ls,B:!0,Na:!0},Os={endpoint:"getAccountInfo"},Rs={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");cs(t)},Z:"email",B:!0},Ps={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Ls={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},$s={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");cs(t)},Z:"email",B:!0},Ms={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Fs={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},Vs={endpoint:"resetPassword",A:Is,Z:"email",B:!0},Us={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},js={endpoint:"setAccountInfo",N:["idToken"],A:hs,V:!0},qs={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(hs(t),!t.password)throw new T("weak-password")},G:ls,V:!0},Bs={endpoint:"signupNewUser",G:ls,V:!0,B:!0},Ks={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Gs={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Hs={endpoint:"verifyAssertion",A:vs,Ya:ms,G:gs,V:!0,B:!0},zs={endpoint:"verifyAssertion",A:vs,Ya:ms,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw nu(t.errorMessage);ls(t)},V:!0,B:!0},Ws={endpoint:"verifyAssertion",A:function(t){if(vs(t),!t.idToken)throw new T("internal-error")},Ya:ms,G:gs,V:!0},Xs={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new T("invalid-custom-token")},G:ls,V:!0,B:!0},Qs={endpoint:"verifyPassword",A:function(t){if(cs(t),!t.password)throw new T("wrong-password")},G:ls,V:!0,B:!0},Ys={endpoint:"verifyPhoneNumber",A:fs,G:ls,B:!0},Js={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new T("internal-error");fs(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Go(t);ls(t)}},Zs={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:fs,G:ls,B:!0},tu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Qa]^!!t.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function eu(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.N))return Ae(new T("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return Se(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),us(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)})).then((function(t){return r=t,e.Ya?e.Ya(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new T("internal-error");return r[e.Z]}))}function nu(t){return ru({error:{errors:[{message:t}],code:400,message:t}})}function ru(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",dt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],e);return!e&&t&&(e=Rr(t)),new T("internal-error",e)}function iu(t){this.b=t,this.a=null,this.rb=function(t){return(uu||(uu=new ye((function(t,e){function n(){Fr(),Nr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Fr(),e(Error("Network Error"))},timeout:au.get()})}if(Nr("gapi.iframes.Iframe"))t();else if(Nr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){Nr("gapi.load")?n():e(Error("Network Error"))},Se(ja(r=_t(ou,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw uu=null,t})))).then((function(){return new ye((function(e,n){Nr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),su.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var ou=new mt(wt,"https://apis.google.com/js/api.js?onload=%{onload}"),au=new Vr(3e4,6e4),su=new Vr(5e3,15e3),uu=null;function cu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=$n((t=Ln(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=$n("https",this.l,null,"/__/auth/iframe"),this.a=t,Rn(this.a,"apiKey",this.h),Rn(this.a,"appName",this.i),this.b=null,this.c=[]}function hu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function lu(t){try{return nr.app(t).auth().Ga()}catch(t){return[]}}function fu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function pu(t){var e=sr();return function(t){return eu(t,Ms,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Ln(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Ln(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:pr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Bo(sr())}))}function du(t){return t.m||(t.m=vr().then((function(){if(!t.u){var e=t.c,n=t.i,r=lu(t.b),i=new cu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=X(r||[]),t.u=i.toString()}t.v=new iu(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then((function(){t.a.register("authEvent",e,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Vo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Se(n)}return n.status="ERROR",Se(n)}))}(t)}))),t.m}function vu(t){return t.l||(t.C=t.c?Sr(t.c,lu(t.b)):null,t.l=new Wa(t.g,D(t.i),t.C),t.f&&ns(t.l,t.f)),t.l}function mu(t,e,n,r,i,o,a,s,u,c,h,l){return(t=new hu(t,e,n,r,i,l)).l=o,t.g=a,t.i=s,t.b=ft(u||null),t.f=c,t.yb(h).toString()}function gu(t){if(this.a=t||nr.INTERNAL.reactNative&&nr.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function yu(t){this.b=t,this.a={},this.f=b(this.c,this)}cu.prototype.toString=function(){return this.f?Rn(this.a,"v",this.f):Wn(this.a.b,"v"),this.b?Rn(this.a,"eid",this.b):Wn(this.a.b,"eid"),this.c.length?Rn(this.a,"fw",this.c.join(",")):Wn(this.a.b,"fw"),this.a.toString()},hu.prototype.yb=function(t){return this.h=t,this},hu.prototype.toString=function(){if(this.v){var t=Ln(this.v.url);t=$n(t.c,t.a,t.g,"/emulator/auth/handler")}else t=$n("https",this.u,null,"/__/auth/handler");if(Rn(t,"apiKey",this.s),Rn(t,"appName",this.c),Rn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=nr.app(this.c).auth().la()}catch(t){n=null}for(var r in e.ob=n,Rn(t,"providerId",this.a.providerId),e=Pr((n=this.a).Ib))e[r]=e[r].toString();r=n.Qc,e=ft(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),lt(e)||Rn(t,"customParameters",Rr(e))}if("function"==typeof this.a.Qb&&((n=this.a.Qb()).length&&Rn(t,"scopes",n.join(","))),this.l?Rn(t,"redirectUrl",this.l):Wn(t.b,"redirectUrl"),this.g?Rn(t,"eventId",this.g):Wn(t.b,"eventId"),this.i?Rn(t,"v",this.i):Wn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Pn(t,a)&&Rn(t,a,this.b[a]);return this.h?Rn(t,"tid",this.h):Wn(t.b,"tid"),this.f?Rn(t,"eid",this.f):Wn(t.b,"eid"),(a=lu(this.c)).length&&Rn(t,"fw",a.join(",")),t.toString()},(t=fu.prototype).Ob=function(t,e,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return du(t).then((function(){return function(t,e){return t.rb.then((function(){return new ye((function(n){t.a.send(e.type,e,n,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&lr(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new ye((function(e){return function n(){En(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return En(n).then((function(){e(r)}))}))},t.Xb=function(){var t=Ar();return!Or(t)&&!Mr(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,a,s){if(!t)return Ae(new T("popup-blocked"));if(a&&!Or())return this.ma().o((function(e){lr(t),i(e)})),r(),Se();this.a||(this.a=pu(vu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw lr(t),i(e),e}));return r(),e})).then((function(){(Mo(n),a)||ur(mu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Nb=function(t,e,n,r){this.a||(this.a=pu(vu(this)));var i=this;return this.a.then((function(){Mo(e),ur(mu(i.s,i.g,i.b,t,e,sr(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return du(this).then((function(){return t.v.rb})).o((function(){throw t.a=null,new T("network-request-failed")}))},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){z(this.h,(function(e){return e==t}))},(t=gu.prototype).get=function(t){return Se(this.a.getItem(t)).then((function(t){return t&&Lr(t)}))},t.set=function(t,e){return Se(this.a.setItem(t,Rr(e)))},t.U=function(t){return Se(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var bu,wu=[];function Iu(t,e,n){lt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Eu(t){this.a=t}function Tu(t){this.c=t,this.b=!1,this.a=[]}function _u(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Ae(Error("connection_unavailable"));var h=r?800:50,l="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ye((function(n,r){l?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),h),c={messageChannel:l,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),l.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[l.port2])):r(Error("connection_unavailable"))})).then((function(e){return Su(t,c),e})).o((function(e){throw Su(t,c),e}))}function Su(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),z(t.a,(function(t){return t==e}))}}function Au(){if(!Cu())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;yr()&&self?(this.v=function(){var t=yr()?self:null;if(j(wu,(function(n){n.b==t&&(e=n)})),!e){var e=new yu(t);wu.push(e)}return e}(),Iu(this.v,"keyChanged",(function(e,n){return Lu(t).then((function(e){return 0<e.length&&j(t.a,(function(t){t(e)})),{keyProcessed:G(e,n.key)}}))})),Iu(this.v,"ping",(function(){return Se(["keyChanged"])}))):function(){var t=a.navigator;return t&&t.serviceWorker?Se().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Se(null)}().then((function(e){(t.h=e)&&(t.g=new Tu(new Eu(e)),_u(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&G(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Nu(t){return new ye((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new ye((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Nu(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function ku(t){return t.i||(t.i=Nu(t)),t.i}function Du(t,e){var n=0;return new ye((function r(i,o){ku(t).then(e).then(i).o((function(e){if(!(3<++n))return ku(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Cu(){try{return!!a.indexedDB}catch(t){return!1}}function xu(t){return t.objectStore("firebaseLocalStorage")}function Ou(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Ru(t){return new ye((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Pu(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?_u(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Se()}function Lu(t){return ku(t).then((function(t){var e=xu(Ou(t,!1));return e.getAll?Ru(e.getAll()):new ye((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=cr(t.c,n),t.c=n}return r}))}function $u(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Mu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Se().then((function(){if(Cu()){var t=$r(),r="__sak"+t;return bu||(bu=new Au),(n=bu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){j(e.a,(function(e){e(t)}))})),t}))}function Fu(){this.a={},this.type="inMemory"}function Vu(){if(!function(){var t="Node"==br();if(!(t=Uu()||t&&nr.INTERNAL.node&&nr.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==br())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Uu()||nr.INTERNAL.node.localStorage,this.type="localStorage"}function Uu(){try{var t=a.localStorage,e=$r();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function ju(){this.type="nullStorage"}function qu(){if(!function(){var t="Node"==br();if(!(t=Bu()||t&&nr.INTERNAL.node&&nr.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==br())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Bu()||nr.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Bu(){try{var t=a.sessionStorage,e=$r();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Ku(){var t={};t.Browser=zu,t.Node=Wu,t.ReactNative=Xu,t.Worker=Qu,this.a=t[br()]}yu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];j(r,(function(e){i.push(Se().then((function(){return e(t.origin,t.data.data)})))})),ke(i).then((function(r){var i=[];j(r,(function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})})),j(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Eu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Tu.prototype.close=function(){for(;0<this.a.length;)Su(this,this.a[0]);this.b=!0},(t=Au.prototype).set=function(t,e){var n=this,r=!1;return Du(this,(function(e){return Ru((e=xu(Ou(e,!0))).get(t))})).then((function(i){return Du(n,(function(o){if(o=xu(Ou(o,!0)),i)return i.value=e,Ru(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Ru(o.add(a))}))})).then((function(){return n.c[t]=e,Pu(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return Du(this,(function(e){return Ru(xu(Ou(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return Du(this,(function(r){return n=!0,e.b++,Ru(xu(Ou(r,!0)).delete(t))})).then((function(){return delete e.c[t],Pu(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=Lu(t).then((function(e){0<e.length&&j(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}$u(t),e()}(this),this.a.push(t)},t.ia=function(t){z(this.a,(function(e){return e==t})),0==this.a.length&&$u(this)},(t=Mu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){z(this.a,(function(e){return e==t}))},(t=Fu.prototype).get=function(t){return Se(this.a[t])},t.set=function(t,e){return this.a[t]=e,Se()},t.U=function(t){return delete this.a[t],Se()},t.ca=function(){},t.ia=function(){},(t=Vu.prototype).get=function(t){var e=this;return Se().then((function(){return Lr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Se().then((function(){var r=Rr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},t.ca=function(t){a.window&&on(a.window,"storage",t)},t.ia=function(t){a.window&&un(a.window,"storage",t)},(t=ju.prototype).get=function(){return Se(null)},t.set=function(){return Se()},t.U=function(){return Se()},t.ca=function(){},t.ia=function(){},(t=qu.prototype).get=function(t){var e=this;return Se().then((function(){return Lr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Se().then((function(){var r=Rr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Gu,Hu,zu={F:Vu,bb:qu},Wu={F:Vu,bb:qu},Xu={F:gu,bb:ju},Qu={F:Vu,bb:ju},Yu={rd:"local",NONE:"none",td:"session"};function Ju(){var t=!(Mr(Ar())||!gr()),e=Or(),n=kr();this.m=t,this.h=e,this.l=n,this.a={},Gu||(Gu=new Ku),t=Gu;try{this.g=!ar()&&qr()||!a.indexedDB?new t.a.F:new Mu(yr()?new Fu:new t.a.F)}catch(t){this.g=new Fu,this.h=!0}try{this.i=new t.a.bb}catch(t){this.i=new Fu}this.v=new Fu,this.f=b(this.Yb,this),this.b={}}function Zu(){return Hu||(Hu=new Ju),Hu}function tc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function ec(t,e){return"firebase:"+t.name+(e?":"+e:"")}function nc(t,e,n){return n=ec(e,n),"local"==e.F&&(t.b[n]=null),tc(t,e.F).U(n)}function rc(t){t.c&&(clearInterval(t.c),t.c=null)}function ic(t){this.a=t,this.b=Zu()}(t=Ju.prototype).get=function(t,e){return tc(this,t.F).get(ec(t,e))},t.set=function(t,e,n){var r=ec(t,n),i=this,o=tc(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=ec(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),lt(this.a)&&(tc(this,"local").ca(this.f),this.h||(ar()||!qr())&&a.indexedDB||!this.l||function(t){rc(t),t.c=setInterval((function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new ze({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=ec(t,e),this.a[t]&&(z(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),lt(this.a)&&(tc(this,"local").ia(this.f),rc(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?tc(this,"local").ia(this.f):rc(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.mb(e))},Gt&&ie&&10==ie&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else j(t,b(this.mb,this))},t.mb=function(t){this.a[t]&&j(this.a[t],(function(t){t()}))};var oc,ac={name:"authEvent",F:"local"};function sc(){this.a=Zu()}function uc(t,e){this.b=cc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===oc&&(oc=a.Int32Array?new Int32Array(mc):mc),this.reset()}I(uc,(function(){this.b=-1}));for(var cc=64,hc=cc-1,lc=[],fc=0;fc<hc;fc++)lc[fc]=0;var pc=W(128,lc);function dc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],l=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&h^~c&l)+(0|oc[e])|0)+(0|n[e])|0)|0,o=l,l=h,h=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+l|0,t.a[7]=t.a[7]+o|0}function vc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(dc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(dc(t),i=0)}}t.c=i,t.g+=n}uc.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):X(this.h)};var mc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function gc(){uc.call(this,8,yc)}I(gc,uc);var yc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function bc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new sc,this.g=new ic(this.h),this.f=null,this.b=[],this.a=this.c=null}function wc(t){return new T("invalid-cordova-configuration",t)}function Ic(t){var e=new gc;vc(e,t),t=[];var n=8*e.g;56>e.c?vc(e,pc,56-e.c):vc(e,pc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(dc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return B(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function Ec(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Tc(t){return t.f||(t.f=t.ma().then((function(){return new ye((function(e){t.Ea((function n(r){return e(r),t.Sa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),_c(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=no(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Lr(Pn(o=Ln(i),"firebaseError")||null))?_(o):null)?new Fo(r.c,r.b,null,null,o,null,r.T()):new Fo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Ec(t,i)}))}var n=new Fo("unknown",null,null,null,new T("no-auth-event")),r=!1,i=En(500).then((function(){return _c(t).then((function(){r||Ec(t,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Nr("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},qo||(qo=new Uo),function(t){var e=qo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Nr("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)}))}))),t.f}function _c(t){var e=null;return function(t){return t.b.get(ac,t.a).then((function(t){return Vo(t)}))}(t.g).then((function(n){return e=n,nc((n=t.g).b,ac,n.a)})).then((function(){return e}))}function Sc(t){this.a=t,this.b=Zu()}(t=bc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(mr(void 0)?vr().then((function(){return new ye((function(t,e){var n=a.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ae(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Nr("universalLinks.subscribe",a))throw wc("cordova-universal-links-plugin-fix is not installed");if(void 0===Nr("BuildInfo.packageName",a))throw wc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Nr("cordova.plugins.browsertab.openUrl",a))throw wc("cordova-plugin-browsertab is not installed");if("function"!=typeof Nr("cordova.InAppBrowser.open",a))throw wc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},t.Ob=function(t,e){return e(new T("operation-not-supported-in-this-environment")),Se()},t.Mb=function(){return Ae(new T("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return Ae(new T("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,h=null;return this.c=Se().then((function(){return Mo(e),Tc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Fo(e,r,null,o,new T("no-auth-event"),null,i),u=Nr("BuildInfo.packageName",a);if("string"!=typeof u)throw new T("invalid-cordova-configuration");var c=Nr("BuildInfo.displayName",a),h={};if(Ar().toLowerCase().match(/iphone|ipad|ipod/))h.ibi=u;else{if(!Ar().toLowerCase().match(/android/))return Ae(new T("operation-not-supported-in-this-environment"));h.apn=u}c&&(h.appDisplayName=c),o=Ic(o),h.sessionId=o;var l=mu(t.v,t.i,t.l,e,n,null,r,t.m,h,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(ac,s.w(),e)})).then((function(){var e=Nr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new T("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Nr("cordova.plugins.browsertab.openUrl",a)))throw new T("invalid-cordova-configuration");n(l)}else{if("function"!=typeof(n=Nr("cordova.InAppBrowser.open",a)))throw new T("invalid-cordova-configuration");e=Ar(),t.a=n(l,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new ye((function(t,e){u=function(){var e=Nr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){s||(s=En(2e3).then((function(){e(new T("redirect-cancelled-by-user"))})))},h=function(){Ur()&&c()},o.addEventListener("resume",c,!1),Ar().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",h,!1)})).o((function(t){return _c(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),h&&o.removeEventListener("visibilitychange",h,!1),s&&s.cancel(),u&&i.Sa(u),i.c=null}))},t.Ea=function(t){this.b.push(t),Tc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Fo("unknown",null,null,null,new T("no-auth-event")),t(e))}))},t.Sa=function(t){z(this.b,(function(e){return e==t}))};var Ac={name:"pendingRedirect",F:"session"};function Nc(t){return nc(t.b,Ac,t.a)}function kc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Bc,this.C=new Wc,this.g=new Sc(jc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Dc(this.D,this.v,this.m,S,this.J)}function Dc(t,e,n,r,i){var o=nr.SDK_VERSION||null;return mr()?new bc(t,e,n,o,r,i):new fu(t,e,n,o,r,i)}function Cc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function xc(t){t.a.Xb()&&Cc(t).o((function(e){var n=new Fo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Mc(e)&&t.s(n)})),t.a.Tb()||Kc(t.b)}function Oc(t,e){G(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Ac,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Nc(t.g).then((function(){Cc(t).o((function(e){var n=new Fo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Mc(e)&&t.s(n)}))})):xc(t)})).o((function(){xc(t)}))}function Rc(t,e){z(t.h,(function(t){return t==e}))}kc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Dc(this.D,this.v,this.m,null,this.J),this.i={}},kc.prototype.s=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Kc(this.b),e};var Pc=new Vr(2e3,1e4),Lc=new Vr(3e4,6e4);function $c(t,e,n,r,i,o,a){return t.a.Mb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function Mc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Fc(t,e,n,r,i){var o;return function(t){return t.b.set(Ac,"pending",t.a)}(t.g).then((function(){return t.a.Nb(e,n,r,i).o((function(e){if(Mc(e))throw new T("operation-not-supported-in-this-environment");return o=e,Nc(t.g).then((function(){throw o}))})).then((function(){return t.a.$b()?new ye((function(){})):Nc(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function Vc(t,e,n,r,i){return t.a.Ob(r,(function(t){e.na(n,null,t,i)}),Pc.get())}kc.prototype.qa=function(){return this.b.qa()};var Uc={};function jc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function qc(t,e,n,r){var i=jc(e,n,r);return Uc[i]||(Uc[i]=new kc(t,e,n,r)),Uc[i]}function Bc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Kc(t){t.g||(t.g=!0,zc(t,!1,null,null))}function Gc(t){t.g&&!t.i&&zc(t,!1,null,null)}function Hc(t,e){if(t.b=function(){return Se(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function zc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ae(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Hc(t,n):Hc(t,{user:null}),t.f=[],t.c=[]}function Wc(){}function Xc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function Qc(t,e){this.a=e,zr(this,"verificationId",t)}function Yc(t,e,n,r){return new Po(t).fb(e,n).then((function(t){return new Qc(t,r)}))}function Jc(t){var e=qi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Wr(this,{token:t,expirationTime:jr(1e3*e.exp),authTime:jr(1e3*e.auth_time),issuedAtTime:jr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Zc(t,e,n){var r=e&&e[eh];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ft(e),this.g=n,this.c=new ro(null,r),this.b=[];var i=this;j(e[th]||[],(function(t){(t=Jr(t))&&i.b.push(t)})),zr(this,"auth",this.a),zr(this,"session",this.c),zr(this,"hints",this.b)}Bc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Bc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(zc(this,!0,null,t.a),Se()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){zc(t,s,e,null)})).o((function(e){zc(t,s,null,e)}))}(this,t,e):Ae(new T("invalid-auth-event")):(zc(this,!1,null,null),Se())}else Ae(new T("invalid-auth-event"))},Bc.prototype.qa=function(){var t=this;return new ye((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new T("timeout");t.a&&t.a.cancel(),t.a=En(Lc.get()).then((function(){t.b||(t.g=!0,zc(t,!0,null,e))}))}(t))}))},Wc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Se()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):Ae(new T("invalid-auth-event"))}else Ae(new T("invalid-auth-event"))},Qc.prototype.confirm=function(t){return t=Lo(this.verificationId,t),this.a(t)};var th="mfaInfo",eh="mfaPendingCredential";function nh(t,e,n,r){T.call(this,"multi-factor-auth-required",r,e),this.b=new Zc(t,e,n),zr(this,"resolver",this.b)}function rh(t,e,n){if(t&&d(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new nh(e,t.serverResponse,n,t.message)}catch(t){}return null}function ih(){}function oh(t){zr(this,"factorId",t.fa),this.a=t}function ah(t){if(oh.call(this,t),this.a.fa!=Po.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function sh(t,e){for(var n in He.call(this,t),e)this[n]=e[n]}function uh(t,e){this.a=t,this.b=[],this.c=b(this.yc,this),on(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&j(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ei]=t.uid),t.displayName&&(r[Zr]=t.displayName),t.enrollmentTime&&(r[ti]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ni]=t.phoneNumber);try{e=new ri(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),ch(this,n)}function ch(t,e){t.b=e,zr(t,"enrolledFactors",e)}function hh(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function lh(t,e){t.stop(),t.b=En(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=a.document,e=null;return Ur()||!t?Se():new ye((function(n){e=function(){Ur()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){lh(t,!0)})).o((function(e){t.i(e)&&lh(t,!1)}))}function fh(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function ph(t,e){void 0===e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function dh(t,e){t.b=ji(e[Qa]||""),t.a=e.refreshToken,ph(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function vh(t,e){return function(t,e){return new ye((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?os(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(ru(t)):t.access_token&&t.refresh_token?n(t):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",zn(e).toString(),t.g,t.m.get()):r(new T("internal-error"))}))}(t.f,e).then((function(e){return t.b=ji(e.access_token),t.a=e.refresh_token,ph(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function mh(t,e){this.a=t||null,this.b=e||null,Wr(this,{lastSignInTime:jr(e||null),creationTime:jr(t||null)})}function gh(t,e,n,r,i,o){Wr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function yh(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=nr.SDK_VERSION?Sr(nr.SDK_VERSION):null;this.a=new Wa(this.l,D(S),r),t.emulatorConfig&&ns(this.a,t.emulatorConfig),this.b=new fh(this.a),Ah(this,e[Qa]),dh(this.b,e),zr(this,"refreshToken",this.b.a),Dh(this,n||{}),gn.call(this),this.R=!1,this.s&&Dr()&&(this.i=qc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new hh((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.aa=b(this.hb,this);var i=this;this.ya=null,this.Oa=function(t){i.wa(t.h)},this.ja=null,this.Aa=function(t){ns(i.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){Ih(i,t.f)},this.ba=null,this.O=new uh(this,n),zr(this,"multiFactor",this.O)}function bh(t,e){t.ja&&un(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&on(e,"languageCodeChanged",t.Oa)}function wh(t,e){t.X&&un(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&on(e,"emulatorConfigChanged",t.Aa)}function Ih(t,e){t.$=e,is(t.a,nr.SDK_VERSION?Sr(nr.SDK_VERSION,t.$):null)}function Eh(t,e){t.ba&&un(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&on(e,"frameworkChanged",t.Ba)}function Th(t){try{return nr.app(t.m).auth()}catch(e){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function _h(t){t.D||t.u.b||(t.u.start(),un(t,"tokenChanged",t.aa),on(t,"tokenChanged",t.aa))}function Sh(t){un(t,"tokenChanged",t.aa),t.u.stop()}function Ah(t,e){t.za=e,zr(t,"_lat",e)}function Nh(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return ke(e).then((function(){return t}))}function kh(t){t.i&&!t.R&&(t.R=!0,Oc(t.i,t))}function Dh(t,e){Wr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new mh(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Ch(){}function xh(t){return Se().then((function(){if(t.D)throw new T("app-deleted")}))}function Oh(t){return B(t.providerData,(function(t){return t.providerId}))}function Rh(t,e){e&&(Ph(t,e.providerId),t.providerData.push(e))}function Ph(t,e){z(t.providerData,(function(t){return t.providerId==e}))}function Lh(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&zr(t,e,n)}function $h(t,e){t!=e&&(Wr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?zr(t,"metadata",function(t){return new mh(t.a,t.b)}(e.metadata)):zr(t,"metadata",new mh),j(e.providerData,(function(e){Rh(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),zr(t,"refreshToken",t.b.a),ch(t.O,e.O.b))}function Mh(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return eu(t.a,Os,{idToken:e}).then(b(t.Kc,t))}(t,e).then((function(){return n||Lh(t,"isAnonymous",!1),e}))}))}function Fh(t,e){e[Qa]&&t.za!=e[Qa]&&(dh(t.b,e),t.dispatchEvent(new sh("tokenChanged")),Ah(t,e[Qa]),Lh(t,"refreshToken",t.b.a))}function Vh(t,e){return Mh(t).then((function(){if(G(Oh(t),e))return Nh(t).then((function(){throw new T("provider-already-linked")}))}))}function Uh(t,e,n){return Xr({user:t,credential:$o(e),additionalUserInfo:e=zi(e),operationType:n})}function jh(t,e){return Fh(t,e),t.reload().then((function(){return t}))}function qh(t,e,n,r,i){if(!Dr())return Ae(new T("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ae(t.h);var o=Hi(n.providerId),a=$r(t.uid+":::"),s=null;(!Or()||gr())&&t.s&&n.isOAuthProvider&&(s=mu(t.s,t.l,t.m,e,n,null,a,nr.SDK_VERSION||null,null,null,t.tenantId));var u=fr(s,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Kh(t),!i)return t.I().then((function(){}))})).then((function(){return $c(t.i,u,e,n,a,!!s,t.tenantId)})).then((function(){return new ye((function(n,r){t.na(e,null,new T("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=a,t.c=Vc(t.i,t,e,u,a)}))})).then((function(t){return u&&lr(u),t?Xr(t):null})).o((function(t){throw u&&lr(u),t})),Gh(t,r,i)}function Bh(t,e,n,r,i){if(!Dr())return Ae(new T("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ae(t.h);var o=null,a=$r(t.uid+":::");return r=r().then((function(){if(Kh(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,Nh(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Wh,t.w(),e.a)),e})).then((function(){return Fc(t.i,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ha)return Xh(t.ha);throw o})).then((function(){if(o)throw o})),Gh(t,r,i)}function Kh(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new T("internal-error");throw new T("auth-domain-config-required")}}function Gh(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Ae(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new sh("userInvalidated")),t.h=e),e}))}(t,e,n);return t.J.push(r),r.oa((function(){H(t.J,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=rh(e.w(),Th(t),b(t.jc,t))),n||e}))}function Hh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Qa]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new yh(e,n,t);return t.providerData&&j(t.providerData,(function(t){t&&Rh(i,Xr(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function zh(t){this.a=t,this.b=Zu()}Zc.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then((function(t){var n=ft(e.f);return delete n[th],delete n[eh],dt(n,t),e.g(n)}))},I(nh,T),ih.prototype.sb=function(t,e,n){return e.type==io?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),dt(n,{phoneVerificationInfo:Ro(t.a)}),eu(e,Cs,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return dt(n={mfaPendingCredential:n},{phoneVerificationInfo:Ro(t.a)}),eu(e,xs,n)}))}(this,t,e)},I(oh,ih),I(ah,oh),I(sh,He),(t=uh.prototype).yc=function(t){ch(this,function(t){var e=[];return j(t.mfaInfo||[],(function(t){(t=Jr(t))&&e.push(t)})),e}(t.hd))},t.Rb=function(){return this.a.I().then((function(t){return new ro(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then((function(n){return t.sb(r,n,e)})).then((function(t){return Fh(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return eu(r,tu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=q(e.b,(function(t){return t.uid!=n}));return ch(e,r),Fh(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:B(this.b,(function(t){return t.w()}))}}},hh.prototype.start=function(){this.a=this.c,lh(this,!0)},hh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},fh.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},fh.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ae(new T("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?vh(this,{grant_type:"refresh_token",refresh_token:this.a}):Se(null):Se({accessToken:this.b.toString(),refreshToken:this.a})},mh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(yh,gn),yh.prototype.wa=function(t){this.ya=t,es(this.a,t)},yh.prototype.la=function(){return this.ya},yh.prototype.Ga=function(){return X(this.$)},yh.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},zr(yh.prototype,"providerId","firebase"),(t=yh.prototype).reload=function(){var t=this;return Gh(this,xh(this).then((function(){return Mh(t).then((function(){return Nh(t)})).then(Ch)})))},t.oc=function(t){return this.I(t).then((function(t){return new Jc(t)}))},t.I=function(t){var e=this;return Gh(this,xh(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.za&&(Ah(e,t.accessToken),e.dispatchEvent(new sh("tokenChanged"))),Lh(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");Dh(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?B(t,(function(t){return new gh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Rh(this,e[n]);Lh(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new sh("userReloaded",{hd:t}))},t.Lc=function(t){return Gr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return Gh(this,t.c(this.a,this.uid).then((function(t){return Fh(e,t),n=Uh(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Gr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return Gh(this,Vh(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Uh(e,t,"link"),jh(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Gh(this,Vh(this,"phone").then((function(){return Yc(Th(n),t,e,b(n.qb,n))})))},t.Mc=function(t,e){var n=this;return Gh(this,Se().then((function(){return Yc(Th(n),t,e,b(n.tb,n))})),!0)},t.Bb=function(t){var e=this;return Gh(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Fh(e,t),e.reload()})))},t.ed=function(t){var e=this;return Gh(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Fh(e,t),e.reload()})))},t.Cb=function(t){var e=this;return Gh(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Fh(e,t),e.reload()})))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return xh(this);var e=this;return Gh(this,this.I().then((function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Fh(e,t),Lh(e,"displayName",t.displayName||null),Lh(e,"photoURL",t.photoUrl||null),j(e.providerData,(function(t){"password"===t.providerId&&(zr(t,"displayName",e.displayName),zr(t,"photoURL",e.photoURL))})),Nh(e)})).then(Ch))},t.cd=function(t){var e=this;return Gh(this,Mh(this).then((function(n){return G(Oh(e),t)?function(t,e,n){return eu(t,Ns,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return j(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),j(Oh(e),(function(t){n[t]||Ph(e,t)})),n[Po.PROVIDER_ID]||zr(e,"phoneNumber",null),Nh(e)})):Nh(e).then((function(){throw new T("no-such-provider")}))})))},t.delete=function(){var t=this;return Gh(this,this.I().then((function(e){return eu(t.a,As,{idToken:e})})).then((function(){t.dispatchEvent(new sh("userDeleted"))}))).then((function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");bh(t,null),wh(t,null),Eh(t,null),t.J=[],t.D=!0,Sh(t),zr(t,"refreshToken",null),t.i&&Rc(t.i,t)}))},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?b(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?b(this.Lb,this):null},t.Ec=function(t){var e=this;return qh(this,"linkViaPopup",t,(function(){return Vh(e,t.providerId).then((function(){return Nh(e)}))}),!1)},t.Nc=function(t){return qh(this,"reauthViaPopup",t,(function(){return Se()}),!0)},t.Fc=function(t){var e=this;return Bh(this,"linkViaRedirect",t,(function(){return Vh(e,t.providerId)}),!1)},t.Oc=function(t){return Bh(this,"reauthViaRedirect",t,(function(){return Se()}),!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Gh(this,this.I().then((function(n){return bs(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Uh(i,t,"link"),jh(i,t)})).then((function(){return o})))},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Gh(this,Se().then((function(){return so(ws(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Uh(i,t,"reauthenticate"),Fh(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.ub=function(t){var e=this,n=null;return Gh(this,this.I().then((function(e){return n=e,void 0===t||lt(t)?{}:Mi(new Ni(t))})).then((function(t){return e.a.ub(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Eb=function(t,e){var n=this,r=null;return Gh(this,this.I().then((function(t){return r=t,void 0===e||lt(e)?{}:Mi(new Ni(e))})).then((function(e){return n.a.Eb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Gh(this,t=so(Se(t),n.uid).then((function(t){return e=Uh(n,t,"reauthenticate"),Fh(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&dt(t,this.metadata.w()),j(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),dt(t,this.O.w()),t};var Wh={name:"redirectUser",F:"session"};function Xh(t){return nc(t.b,Wh,t.a)}function Qh(t){this.a=t,this.b=Zu(),this.c=null,this.f=function(t){var e=Zh("local"),n=Zh("session"),r=Zh("none");return function(t,e,n){var r=ec(e,n),i=tc(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=Lr(a.localStorage.getItem(r))}catch(t){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Jh,t.a).then((function(t){return t?Zh(t):e}))}))}))})).then((function(e){return t.c=e,Yh(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Zh("local"),this.a,b(this.g,this))}function Yh(t,e){var n,r=[];for(n in Yu)Yu[n]!==e&&r.push(nc(t.b,Zh(Yu[n]),t.a));return r.push(nc(t.b,Jh,t.a)),function(t){return new ye((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Ne(t[s],w(o,s),a);else e(i)}))}(r)}Qh.prototype.g=function(){var t=this,e=Zh("local");rl(this,(function(){return Se().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Yh(t,"local").then((function(){t.c=e}))}))}))};var Jh={name:"persistence",F:"session"};function Zh(t){return{name:"authUser",F:t}}function tl(t,e){return rl(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function el(t){return rl(t,(function(){return nc(t.b,t.c,t.a)}))}function nl(t,e,n){return rl(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Hh(t||{})}))}))}function rl(t,e){return t.f=t.f.then(e,e),t.f}function il(t){if(this.l=!1,zr(this,"settings",new Xc),zr(this,"app",t),!pl(this).options||!pl(this).options.apiKey)throw new T("invalid-api-key");t=nr.SDK_VERSION?Sr(nr.SDK_VERSION):null,this.a=new Wa(pl(this).options&&pl(this).options.apiKey,D(S),t),this.R=[],this.s=[],this.O=[],this.hb=nr.INTERNAL.createSubscribe(b(this.zc,this)),this.X=void 0,this.bc=nr.INTERNAL.createSubscribe(b(this.Ac,this)),ll(this,null),this.i=new Qh(pl(this).options.apiKey+":"+pl(this).name),this.D=new zh(pl(this).options.apiKey+":"+pl(this).name),this.$=gl(this,function(t){var e=pl(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Wh,t.a).then((function(t){return t&&e&&(t.authDomain=e),Hh(t||{})}))}(t.D,pl(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Xh(t.D)}));return gl(t,e)}(t).then((function(){return nl(t.i,e,t.P)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return tl(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:el(t.i)}))):null})).then((function(e){ll(t,e||null)}));return gl(t,n)}(this)),this.h=gl(this,function(t){return t.$.then((function(){return cl(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Zh("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.ya=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,function(t){var e=pl(t).options.authDomain,n=pl(t).options.apiKey;e&&Dr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=qc(e,n,pl(t).name,t.P),Oc(t.b,t),dl(t)&&kh(dl(t)),t.m){kh(t.m);var r=t.m;r.wa(t.la()),bh(r,t),Ih(r=t.m,t.J),Eh(r,t),ns((r=t.m).a,t.P),wh(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,gn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Ln(this.P.url);t=Xr({protocol:t.c,host:t.a,port:t.g,options:Xr({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function ol(t){He.call(this,"languageCodeChanged"),this.h=t}function al(t){He.call(this,"emulatorConfigChanged"),this.c=t}function sl(t){He.call(this,"frameworkChanged"),this.f=t}function ul(t){return t.Oa||Ae(new T("auth-domain-config-required"))}function cl(t){if(!Dr())return Ae(new T("operation-not-supported-in-this-environment"));var e=ul(t).then((function(){return t.b.qa()})).then((function(t){return t?Xr(t):null}));return gl(t,e)}function hl(t,e){var n={};return n.apiKey=pl(t).options.apiKey,n.authDomain=pl(t).options.authDomain,n.appName=pl(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then((function(){return function(t,e,n,r){var i=new yh(t,e);return n&&(i.ha=n),r&&Ih(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return dl(t)&&e.uid==dl(t).uid?($h(dl(t),e),t.da(e)):(ll(t,e),kh(e),t.da(e))})).then((function(){ml(t)}))}function ll(t,e){dl(t)&&(function(t,e){z(t.S,(function(t){return t==e}))}(dl(t),t.Ba),un(dl(t),"tokenChanged",t.ya),un(dl(t),"userDeleted",t.za),un(dl(t),"userInvalidated",t.Aa),Sh(dl(t))),e&&(e.S.push(t.Ba),on(e,"tokenChanged",t.ya),on(e,"userDeleted",t.za),on(e,"userInvalidated",t.Aa),0<t.u&&_h(e)),zr(t,"currentUser",e),e&&(e.wa(t.la()),bh(e,t),Ih(e,t.J),Eh(e,t),ns(e.a,t.P),wh(e,t))}function fl(t,e){var n=null,r=null;return gl(t,e.then((function(e){return n=$o(e),r=zi(e),hl(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=rh(e.w(),t,b(t.kc,t))),n||e})).then((function(){return Xr({user:dl(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function pl(t){return t.app}function dl(t){return t.currentUser}function vl(t){return dl(t)&&dl(t)._lat||null}function ml(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](vl(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](vl(t))}}function gl(t,e){return t.R.push(e),e.oa((function(){H(t.R,e)})),e}function yl(){}function bl(){this.a={},this.b=1e12}Qh.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(r in Yu)if(Yu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(br()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Cu()&&"none"!==t)throw n;break;default:if(!kr()&&"none"!==t)throw n}}(t),rl(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Yh(n,t)})).then((function(){if(n.c=Zh(t),e)return n.b.set(n.c,e,n.a)})):Se()}))},I(il,gn),I(ol,He),I(al,He),I(sl,He),(t=il.prototype).xb=function(t){return gl(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,es(this.a,this.aa),this.dispatchEvent(new ol(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=a.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!t&&vr().then((function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,ns(this.a,this.P),this.dispatchEvent(new al(this.P))}},t.Gc=function(t){this.J.push(t),is(this.a,nr.SDK_VERSION?Sr(nr.SDK_VERSION,this.J):null),this.dispatchEvent(new sl(this.J))},t.Ga=function(){return X(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:pl(this).options.apiKey,authDomain:pl(this).options.authDomain,appName:pl(this).name,currentUser:dl(this)&&dl(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return fl(i,ys(i.a,o))}))},t.Xc=function(t){if(!Dr())return Ae(new T("operation-not-supported-in-this-environment"));var e=this,n=Hi(t.providerId),r=$r(),i=null;(!Or()||gr())&&pl(this).options.authDomain&&t.isOAuthProvider&&(i=mu(pl(this).options.authDomain,pl(this).options.apiKey,pl(this).name,"signInViaPopup",t,null,r,nr.SDK_VERSION||null,null,null,this.T(),this.P));var o=fr(i,n&&n.ua,n&&n.ta);return gl(this,n=ul(this).then((function(n){return $c(n,o,"signInViaPopup",t,r,!!i,e.T())})).then((function(){return new ye((function(t,n){e.na("signInViaPopup",null,new T("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=Vc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&lr(o),t?Xr(t):null})).o((function(t){throw o&&lr(o),t})))},t.Yc=function(t){if(!Dr())return Ae(new T("operation-not-supported-in-this-environment"));var e=this;return gl(this,ul(this).then((function(){return function(t){return rl(t,(function(){return t.b.set(Jh,t.c.F,t.a)}))}(e.i)})).then((function(){return Fc(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.qa=function(){var t=this;return cl(this).then((function(e){return t.b&&Gc(t.b.b),e})).o((function(e){throw t.b&&Gc(t.b.b),e}))},t.dd=function(t){if(!t)return Ae(new T("null-user"));if(this.S!=t.tenantId)return Ae(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=pl(this).options.apiKey,n.authDomain=pl(this).options.authDomain,n.appName=pl(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Qa]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new yh(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Ih(e,r),$h(e,t),e}(t,n,e.D,e.Ga());return gl(this,this.h.then((function(){if(pl(e).options.apiKey!=t.l)return r.reload()})).then((function(){return dl(e)&&t.uid==dl(e).uid?($h(dl(e),t),e.da(t)):(ll(e,r),kh(r),e.da(r))})).then((function(){ml(e)})))},t.Ab=function(){var t=this;return gl(this,this.h.then((function(){return t.b&&Gc(t.b.b),dl(t)?(ll(t,null),el(t.i).then((function(){ml(t)}))):Se()})))},t.Zc=function(){var t=this;return nl(this.i,pl(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=dl(t)&&e){n=dl(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return $h(dl(t),e),dl(t).I();(dl(t)||e)&&(ll(t,e),e&&(kh(e),e.ha=t.D),t.b&&Oc(t.b,t),ml(t))}}))},t.da=function(t){return tl(this.i,t)},t.mc=function(){ml(this),this.da(dl(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then((function(){return fl(e,Se(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(dl(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),gl(t,t.h.then((function(){!t.l&&G(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(vl(t)))})))}(this,(function(){t.next(dl(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(dl(r)):"function"==typeof t.next&&t.next(dl(r))})),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(dl(r)):"function"==typeof t.next&&t.next(dl(r))})),this.bc(t,e,n)},t.nc=function(t){var e=this;return gl(this,this.h.then((function(){return dl(e)?dl(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return fl(e,eu(e.a,Xs,{token:t}))})).then((function(t){var n=t.user;return Lh(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return fl(n,eu(n.a,Qs,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return fl(n,eu(n.a,_s,{email:t,password:e}))}))},t.$a=function(t){var e=this;return this.h.then((function(){return fl(e,t.ka(e.a))}))},t.Sc=function(t){return Gr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then((function(){var e=dl(t);if(e&&e.isAnonymous){var n=Xr({providerId:null,isNewUser:!1});return Xr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return fl(t,t.a.zb()).then((function(e){var n=e.user;return Lh(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return dl(this)&&dl(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&dl(this)&&_h(dl(this))},t.Pc=function(t){var e=this;j(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&dl(this)&&Sh(dl(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),gl(this,this.h.then((function(){e.l||G(e.s,t)&&t(vl(e))})))},t.removeAuthTokenListener=function(t){z(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(Zh("local"),t.a,this.ja),this.b&&(Rc(this.b,this),Gc(this.b.b)),Promise.resolve()},t.hc=function(t){return gl(this,function(t,e){return eu(t,Ss,{identifier:e,continueUri:Cr()?sr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!Co(t)},t.wb=function(t,e){var n=this;return gl(this,Se().then((function(){var t=new Ni(e);if(!t.c)throw new T("argument-error",Ci+" must be true when sending sign in link to email");return Mi(t)})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.jd=function(t){return this.Ra(t).then((function(t){return t.data.email}))},t.nb=function(t,e){return gl(this,this.a.nb(t,e).then((function(){})))},t.Ra=function(t){return gl(this,this.a.Ra(t).then((function(t){return new ii(t)})))},t.jb=function(t){return gl(this,this.a.jb(t).then((function(){})))},t.vb=function(t,e){var n=this;return gl(this,Se().then((function(){return void 0===e||lt(e)?{}:Mi(new Ni(e))})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.Wc=function(t,e){return gl(this,Yc(this,t,e,b(this.$a,this)))},t.Vc=function(t,e){var n=this;return gl(this,Se().then((function(){var r=e||sr(),i=Do(t,r);if(!(r=Co(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.$a(i)})))},yl.prototype.render=function(){},yl.prototype.reset=function(){},yl.prototype.getResponse=function(){},yl.prototype.execute=function(){};var wl=null;function Il(t,e){return(e=El(e))&&t.a[e]||null}function El(t){return(t=void 0===t?1e12:t)?t.toString():null}function Tl(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ae(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():on(this.f,"click",this.i)}function _l(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Sl(){}function Al(){}bl.prototype.render=function(t,e){return this.a[this.b.toString()]=new Tl(t,e),this.b++},bl.prototype.reset=function(t){var e=Il(this,t);t=El(t),e&&t&&(e.delete(),delete this.a[t])},bl.prototype.getResponse=function(t){return(t=Il(this,t))?t.getResponse():null},bl.prototype.execute=function(t){(t=Il(this,t))&&t.execute()},Tl.prototype.getResponse=function(){return _l(this),this.b},Tl.prototype.execute=function(){_l(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},Tl.prototype.delete=function(){_l(this),this.g=!0,clearTimeout(this.a),this.a=null,un(this.f,"click",this.i)},zr(Sl,"FACTOR_ID","phone"),Al.prototype.g=function(){return wl||(wl=new bl),Se(wl)},Al.prototype.c=function(){};var Nl=null;function kl(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Dl=new mt(wt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Cl=new Vr(3e4,6e4);kl.prototype.g=function(t){var e=this;return new ye((function(n,r){var i=setTimeout((function(){r(new T("network-request-failed"))}),Cl.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete a[e.a]},Se(ja(_t(Dl,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},kl.prototype.c=function(){this.b--};var xl=null;function Ol(t,e,n,r,i,o,s){if(zr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,s?(Nl||(Nl=new Al),s=Nl):(xl||(xl=new kl),s=xl),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ll])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[$l],!a.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ae(e)||!this.i&&ae(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Wa(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Rl];this.a[Rl]=function(t){if(Ml(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Nr(c,a);"function"==typeof e&&e(t)}};var h=this.a[Pl];this.a[Pl]=function(){if(Ml(u,null),"function"==typeof h)h();else if("string"==typeof h){var t=Nr(h,a);"function"==typeof t&&t()}}}var Rl="callback",Pl="expired-callback",Ll="sitekey",$l="size";function Ml(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Fl(t,e){return t.h.push(e),e.oa((function(){H(t.h,e)})),e}function Vl(t){if(t.D)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function Ul(t,e,n){var r=!1;try{this.b=n||nr.app()}catch(t){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=nr.SDK_VERSION?Sr(nr.SDK_VERSION,o):null,Ol.call(this,n,t,e,(function(){try{var t=i.b.auth().la()}catch(e){t=null}return t}),o,D(S),r)}function jl(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=ql.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=ql[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new T("argument-error",t+" failed: "+r)}(t=Ol.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Fl(this,Se().then((function(){if(Cr()&&!yr())return vr();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,eu(t.s,Fs,{})})).then((function(e){t.a[Ll]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Vl(this);var t=this;return Fl(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=ae(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!oe&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',jt(a.name),'"'),a.type){o.push(' type="',jt(a.type),'"');var s={};dt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=fe(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):se(o,a)),2<r.length&&le(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Vl(this);var t=this;return Fl(this,this.render().then((function(e){return new ye((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){z(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Vl(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Vl(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ae(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},I(Ul,Ol);var ql="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Bl(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Kl(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Gl(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:d}}function Hl(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function zl(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Wl(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function Xl(t,e){return d(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Ql(t){return d(t)&&"string"==typeof t.uid}function Yl(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Jl(t,e){for(var n in e){var r=e[n].name;t[r]=ef(r,t[n],e[n].j)}}function Zl(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w((function(t){return this[t]}),n),set:w((function(t,e,n,r){jl(t,[n],[r],!0),this[e]=r}),r,n,e[n].kb),enumerable:!0})}}function tf(t,e,n,r){t[e]=ef(e,n,r)}function ef(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return jl(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Jl(il.prototype,{jb:{name:"applyActionCode",j:[Bl("code")]},Ra:{name:"checkActionCode",j:[Bl("code")]},nb:{name:"confirmPasswordReset",j:[Bl("code"),Bl("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Bl("email"),Bl("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Bl("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Bl("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Yl(Gl(),Hl(),"nextOrObserver"),Hl("opt_error",!0),Hl("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Yl(Gl(),Hl(),"nextOrObserver"),Hl("opt_error",!0),Hl("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Bl("email"),Yl(Gl("opt_actionCodeSettings",!0),zl(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Bl("email"),Gl("actionCodeSettings")]},xb:{name:"setPersistence",j:[Bl("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Wl()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Wl()]},Tc:{name:"signInWithCustomToken",j:[Bl("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Bl("email"),Bl("password")]},Vc:{name:"signInWithEmailLink",j:[Bl("email"),Bl("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Bl("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Yl({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof yh)}},zl(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Bl(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Bl("url"),Gl("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Bl("code")]}}),Zl(il.prototype,{lc:{name:"languageCode",kb:Yl(Bl(),zl(),"languageCode")},ti:{name:"tenantId",kb:Yl(Bl(),zl(),"tenantId")}}),il.Persistence=Yu,il.Persistence.LOCAL="local",il.Persistence.SESSION="session",il.Persistence.NONE="none",Jl(yh.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Kl("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Kl("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Wl()]},qb:{name:"linkWithCredential",j:[Wl()]},Dc:{name:"linkWithPhoneNumber",j:[Bl("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Wl()]},tb:{name:"reauthenticateWithCredential",j:[Wl()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Bl("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Yl(Gl("opt_actionCodeSettings",!0),zl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Bl(null,!0)]},cd:{name:"unlink",j:[Bl("provider")]},Bb:{name:"updateEmail",j:[Bl("email")]},Cb:{name:"updatePassword",j:[Bl("password")]},ed:{name:"updatePhoneNumber",j:[Wl("phone")]},Db:{name:"updateProfile",j:[Gl("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Bl("email"),Yl(Gl("opt_actionCodeSettings",!0),zl(null,!0),"opt_actionCodeSettings",!0)]}}),Jl(bl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Jl(yl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Jl(ye.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Zl(Xc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Kl("appVerificationDisabledForTesting")}}),Jl(Qc.prototype,{confirm:{name:"confirm",j:[Bl("verificationCode")]}}),tf(ao,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[po,No,Oo,ho],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Yl(Bl(),Gl(),"json")]),tf(ko,"credential",(function(t,e){return new Ao(t,e)}),[Bl("email"),Bl("password")]),Jl(Ao.prototype,{w:{name:"toJSON",j:[Bl(null,!0)]}}),Jl(yo.prototype,{Ca:{name:"addScope",j:[Bl("scope")]},Ka:{name:"setCustomParameters",j:[Gl("customOAuthParameters")]}}),tf(yo,"credential",bo,[Yl(Bl(),Gl(),"token")]),tf(ko,"credentialWithLink",Do,[Bl("email"),Bl("emailLink")]),Jl(wo.prototype,{Ca:{name:"addScope",j:[Bl("scope")]},Ka:{name:"setCustomParameters",j:[Gl("customOAuthParameters")]}}),tf(wo,"credential",Io,[Yl(Bl(),Gl(),"token")]),Jl(Eo.prototype,{Ca:{name:"addScope",j:[Bl("scope")]},Ka:{name:"setCustomParameters",j:[Gl("customOAuthParameters")]}}),tf(Eo,"credential",To,[Yl(Bl(),Yl(Gl(),zl()),"idToken"),Yl(Bl(),zl(),"accessToken",!0)]),Jl(_o.prototype,{Ka:{name:"setCustomParameters",j:[Gl("customOAuthParameters")]}}),tf(_o,"credential",So,[Yl(Bl(),Gl(),"token"),Bl("secret",!0)]),Jl(go.prototype,{Ca:{name:"addScope",j:[Bl("scope")]},credential:{name:"credential",j:[Yl(Bl(),Yl(Gl(),zl()),"optionsOrIdToken"),Yl(Bl(),zl(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Gl("customOAuthParameters")]}}),Jl(lo.prototype,{w:{name:"toJSON",j:[Bl(null,!0)]}}),Jl(uo.prototype,{w:{name:"toJSON",j:[Bl(null,!0)]}}),tf(Po,"credential",Lo,[Bl("verificationId"),Bl("verificationCode")]),Jl(Po.prototype,{fb:{name:"verifyPhoneNumber",j:[Yl(Bl(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Xl(t.session,io)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Xl(t.session,oo)&&Ql(t.multiFactorHint):t.session&&t.multiFactorUid?Xl(t.session,oo)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Jl(xo.prototype,{w:{name:"toJSON",j:[Bl(null,!0)]}}),Jl(T.prototype,{toJSON:{name:"toJSON",j:[Bl(null,!0)]}}),Jl(Ko.prototype,{toJSON:{name:"toJSON",j:[Bl(null,!0)]}}),Jl(Bo.prototype,{toJSON:{name:"toJSON",j:[Bl(null,!0)]}}),Jl(nh.prototype,{toJSON:{name:"toJSON",j:[Bl(null,!0)]}}),Jl(Zc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),Jl(uh.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},Bl("displayName",!0)]},bd:{name:"unenroll",j:[Yl({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Ql},Bl(),"multiFactorInfoIdentifier")]}}),Jl(Ul.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),tf(yi,"parseLink",Ai,[Bl("link")]),tf(Sl,"assertion",(function(t){return new ah(t)}),[Wl("phone")]),function(){if(void 0===nr||!nr.INTERNAL||!nr.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ai,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:oi,VERIFY_AND_CHANGE_EMAIL:si,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:il,AuthCredential:ao,Error:T};tf(t,"EmailAuthProvider",ko,[]),tf(t,"FacebookAuthProvider",yo,[]),tf(t,"GithubAuthProvider",wo,[]),tf(t,"GoogleAuthProvider",Eo,[]),tf(t,"TwitterAuthProvider",_o,[]),tf(t,"OAuthProvider",go,[Bl("providerId")]),tf(t,"SAMLAuthProvider",mo,[Bl("providerId")]),tf(t,"PhoneAuthProvider",Po,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof il)}}]),tf(t,"RecaptchaVerifier",Ul,[Yl(Bl(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Gl("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof nr.app.App)}}]),tf(t,"ActionCodeURL",yi,[]),tf(t,"PhoneMultiFactorGenerator",Sl,[]),nr.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new il(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),nr.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.nc,t),addAuthTokenListener:b(t.cc,t),removeAuthTokenListener:b(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),nr.registerVersion("@firebase/auth","0.16.5"),nr.INTERNAL.extendNamespace({User:yh})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const gg=["touchstart","click"];function yg(t){let e,r,i,s,u,c;const h=t[15].default,f=l(h,t,t[14],null);let d=[{style:r=t[1]?void 0:"overflow: hidden;"},t[8],{class:t[7]}],v={};for(let t=0;t<d.length;t+=1)v=n(v,d[t]);return{c(){e=T("div"),f&&f.c(),D(e,v)},m(n,r){I(n,e,r),f&&f.m(e,null),s=!0,u||(c=[N(e,"introstart",t[16]),N(e,"introend",t[17]),N(e,"outrostart",t[18]),N(e,"outroend",t[19]),N(e,"introstart",(function(){a(t[2])&&t[2].apply(this,arguments)})),N(e,"introend",(function(){a(t[3])&&t[3].apply(this,arguments)})),N(e,"outrostart",(function(){a(t[4])&&t[4].apply(this,arguments)})),N(e,"outroend",(function(){a(t[5])&&t[5].apply(this,arguments)}))],u=!0)},p(n,i){t=n,f&&f.p&&(!s||16384&i)&&p(f,h,t,t[14],i,null,null),D(e,v=dt(d,[(!s||2&i&&r!==(r=t[1]?void 0:"overflow: hidden;"))&&{style:r},256&i&&t[8],(!s||128&i)&&{class:t[7]}]))},i(t){s||(ht(f,t),t&&Z((()=>{i||(i=pt(e,mg,{},!0)),i.run(1)})),s=!0)},o(t){lt(f,t),t&&(i||(i=pt(e,mg,{},!1)),i.run(0)),s=!1},d(t){t&&E(e),f&&f.d(t),t&&i&&i.end(),u=!1,o(c)}}}function bg(t){let e,n,r,i;Z(t[20]);let o=t[0]&&yg(t);return{c(){o&&o.c(),e=A()},m(a,s){o&&o.m(a,s),I(a,e,s),n=!0,r||(i=N(window,"resize",t[20]),r=!0)},p(t,[n]){t[0]?o?(o.p(t,n),1&n&&ht(o,1)):(o=yg(t),o.c(),ht(o,1),o.m(e.parentNode,e)):o&&(ut(),lt(o,1,1,(()=>{o=null})),ct())},i(t){n||(ht(o),n=!0)},o(t){lt(o),n=!1},d(t){o&&o.d(t),t&&E(e),r=!1,i()}}}function wg(t,e,r){let i;const o=["isOpen","class","navbar","onEntering","onEntered","onExiting","onExited","expand","toggler"];let a=v(e,o),{$$slots:s={},$$scope:u}=e;const c=q();let{isOpen:h=!1}=e,{class:l=""}=e,{navbar:f=!1}=e,{onEntering:p=(()=>c("opening"))}=e,{onEntered:m=(()=>c("open"))}=e,{onExiting:g=(()=>c("closing"))}=e,{onExited:y=(()=>c("close"))}=e,{expand:b=!1}=e,{toggler:w=null}=e;U((()=>((t,e)=>{let n;if("string"==typeof t&&"undefined"!=typeof window&&document&&document.createElement){let r=document.querySelectorAll(t);if(r.length||(r=document.querySelectorAll(`#${t}`)),!r.length)throw new Error(`The target '${t}' could not be identified in the dom, tip: check spelling`);gg.forEach((t=>{r.forEach((n=>{n.addEventListener(t,e)}))})),n=()=>{gg.forEach((t=>{r.forEach((n=>{n.removeEventListener(t,e)}))}))}}return()=>{"function"==typeof n&&(n(),n=void 0)}})(w,(()=>r(0,h=!h)))));let I=0,E=!1;const T={};function _(){c("update",h)}return T.xs=0,T.sm=576,T.md=768,T.lg=992,T.xl=1200,t.$$set=t=>{e=n(n({},e),d(t)),r(8,a=v(e,o)),"isOpen"in t&&r(0,h=t.isOpen),"class"in t&&r(9,l=t.class),"navbar"in t&&r(1,f=t.navbar),"onEntering"in t&&r(2,p=t.onEntering),"onEntered"in t&&r(3,m=t.onEntered),"onExiting"in t&&r(4,g=t.onExiting),"onExited"in t&&r(5,y=t.onExited),"expand"in t&&r(10,b=t.expand),"toggler"in t&&r(11,w=t.toggler),"$$scope"in t&&r(14,u=t.$$scope)},t.$$.update=()=>{514&t.$$.dirty&&r(7,i=dg(l,f&&"navbar-collapse")),13379&t.$$.dirty&&f&&b&&(I>=T[b]&&!h?(r(0,h=!0),r(12,E=!0),_()):I<T[b]&&E&&(r(0,h=!1),r(12,E=!1),_()))},[h,f,p,m,g,y,I,i,a,l,b,w,E,T,u,s,function(e){G(t,e)},function(e){G(t,e)},function(e){G(t,e)},function(e){G(t,e)},function(){r(6,I=window.innerWidth)}]}class Ig extends wt{constructor(t){super(),bt(this,t,wg,bg,s,{isOpen:0,class:9,navbar:1,onEntering:2,onEntered:3,onExiting:4,onExited:5,expand:10,toggler:11})}}function Eg(t){let e,r,i,o,a;const s=t[17].default,u=l(s,t,t[16],null),c=u||function(t){let e,n,r,i;const o=[Sg,_g],a=[];function s(t,e){return t[0]?0:1}return e=s(t),n=a[e]=o[e](t),{c(){n.c(),r=A()},m(t,n){a[e].m(t,n),I(t,r,n),i=!0},p(t,i){let u=e;e=s(t),e===u?a[e].p(t,i):(ut(),lt(a[u],1,1,(()=>{a[u]=null})),ct(),n=a[e],n?n.p(t,i):(n=a[e]=o[e](t),n.c()),ht(n,1),n.m(r.parentNode,r))},i(t){i||(ht(n),i=!0)},o(t){lt(n),i=!1},d(t){a[e].d(t),t&&E(r)}}}(t);let h=[t[8],{class:t[6]},{disabled:t[1]},{value:t[4]},{"aria-label":r=t[5]||t[7]},{style:t[3]}],f={};for(let t=0;t<h.length;t+=1)f=n(f,h[t]);return{c(){e=T("button"),c&&c.c(),D(e,f)},m(n,r){I(n,e,r),c&&c.m(e,null),i=!0,o||(a=N(e,"click",t[19]),o=!0)},p(t,n){u?u.p&&(!i||65536&n)&&p(u,s,t,t[16],n,null,null):c&&c.p&&65537&n&&c.p(t,n),D(e,f=dt(h,[256&n&&t[8],(!i||64&n)&&{class:t[6]},(!i||2&n)&&{disabled:t[1]},(!i||16&n)&&{value:t[4]},(!i||160&n&&r!==(r=t[5]||t[7]))&&{"aria-label":r},(!i||8&n)&&{style:t[3]}]))},i(t){i||(ht(c,t),i=!0)},o(t){lt(c,t),i=!1},d(t){t&&E(e),c&&c.d(t),o=!1,a()}}}function Tg(t){let e,r,i,o,a,s,u;const c=[Ng,Ag],h=[];function l(t,e){return t[0]?0:1}r=l(t),i=h[r]=c[r](t);let f=[t[8],{class:t[6]},{disabled:t[1]},{href:t[2]},{"aria-label":o=t[5]||t[7]},{style:t[3]}],p={};for(let t=0;t<f.length;t+=1)p=n(p,f[t]);return{c(){e=T("a"),i.c(),D(e,p)},m(n,i){I(n,e,i),h[r].m(e,null),a=!0,s||(u=N(e,"click",t[18]),s=!0)},p(t,n){let s=r;r=l(t),r===s?h[r].p(t,n):(ut(),lt(h[s],1,1,(()=>{h[s]=null})),ct(),i=h[r],i?i.p(t,n):(i=h[r]=c[r](t),i.c()),ht(i,1),i.m(e,null)),D(e,p=dt(f,[256&n&&t[8],(!a||64&n)&&{class:t[6]},(!a||2&n)&&{disabled:t[1]},(!a||4&n)&&{href:t[2]},(!a||160&n&&o!==(o=t[5]||t[7]))&&{"aria-label":o},(!a||8&n)&&{style:t[3]}]))},i(t){a||(ht(i),a=!0)},o(t){lt(i),a=!1},d(t){t&&E(e),h[r].d(),s=!1,u()}}}function _g(t){let e;const n=t[17].default,r=l(n,t,t[16],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||65536&i)&&p(r,n,t,t[16],i,null,null)},i(t){e||(ht(r,t),e=!0)},o(t){lt(r,t),e=!1},d(t){r&&r.d(t)}}}function Sg(e){let n;return{c(){n=_(e[0])},m(t,e){I(t,n,e)},p(t,e){1&e&&C(n,t[0])},i:t,o:t,d(t){t&&E(n)}}}function Ag(t){let e;const n=t[17].default,r=l(n,t,t[16],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||65536&i)&&p(r,n,t,t[16],i,null,null)},i(t){e||(ht(r,t),e=!0)},o(t){lt(r,t),e=!1},d(t){r&&r.d(t)}}}function Ng(e){let n;return{c(){n=_(e[0])},m(t,e){I(t,n,e)},p(t,e){1&e&&C(n,t[0])},i:t,o:t,d(t){t&&E(n)}}}function kg(t){let e,n,r,i;const o=[Tg,Eg],a=[];function s(t,e){return t[2]?0:1}return e=s(t),n=a[e]=o[e](t),{c(){n.c(),r=A()},m(t,n){a[e].m(t,n),I(t,r,n),i=!0},p(t,[i]){let u=e;e=s(t),e===u?a[e].p(t,i):(ut(),lt(a[u],1,1,(()=>{a[u]=null})),ct(),n=a[e],n?n.p(t,i):(n=a[e]=o[e](t),n.c()),ht(n,1),n.m(r.parentNode,r))},i(t){i||(ht(n),i=!0)},o(t){lt(n),i=!1},d(t){a[e].d(t),t&&E(r)}}}function Dg(t,e,r){let i,o,a;const s=["class","active","block","children","close","color","disabled","href","outline","size","style","value"];let u=v(e,s),{$$slots:c={},$$scope:h}=e,{class:l=""}=e,{active:f=!1}=e,{block:p=!1}=e,{children:m}=e,{close:g=!1}=e,{color:y="secondary"}=e,{disabled:b=!1}=e,{href:w=""}=e,{outline:I=!1}=e,{size:E=null}=e,{style:T=""}=e,{value:_=""}=e;return t.$$set=t=>{r(20,e=n(n({},e),d(t))),r(8,u=v(e,s)),"class"in t&&r(9,l=t.class),"active"in t&&r(10,f=t.active),"block"in t&&r(11,p=t.block),"children"in t&&r(0,m=t.children),"close"in t&&r(12,g=t.close),"color"in t&&r(13,y=t.color),"disabled"in t&&r(1,b=t.disabled),"href"in t&&r(2,w=t.href),"outline"in t&&r(14,I=t.outline),"size"in t&&r(15,E=t.size),"style"in t&&r(3,T=t.style),"value"in t&&r(4,_=t.value),"$$scope"in t&&r(16,h=t.$$scope)},t.$$.update=()=>{r(5,i=e["aria-label"]),65024&t.$$.dirty&&r(6,o=dg(l,g?"btn-close":"btn",g||`btn${I?"-outline":""}-${y}`,!!E&&`btn-${E}`,!!p&&"d-block w-100",{active:f})),4096&t.$$.dirty&&r(7,a=g?"Close":null)},e=d(e),[m,b,w,T,_,i,o,a,u,l,f,p,g,y,I,E,h,c,function(e){G(t,e)},function(e){G(t,e)}]}class Cg extends wt{constructor(t){super(),bt(this,t,Dg,kg,s,{class:9,active:10,block:11,children:0,close:12,color:13,disabled:1,href:2,outline:14,size:15,style:3,value:4})}}function xg(t){let e,r,i;const o=t[10].default,a=l(o,t,t[9],null);let s=[t[1],{class:r=t[0].join(" ")}],u={};for(let t=0;t<s.length;t+=1)u=n(u,s[t]);return{c(){e=T("div"),a&&a.c(),D(e,u)},m(t,n){I(t,e,n),a&&a.m(e,null),i=!0},p(t,[n]){a&&a.p&&(!i||512&n)&&p(a,o,t,t[9],n,null,null),D(e,u=dt(s,[2&n&&t[1],{class:r}]))},i(t){i||(ht(a,t),i=!0)},o(t){lt(a,t),i=!1},d(t){t&&E(e),a&&a.d(t)}}}function Og(t,e,r){const i=["class","xs","sm","md","lg","xl","xxl"];let o=v(e,i),{$$slots:a={},$$scope:s}=e,{class:u=""}=e,{xs:c}=e,{sm:h}=e,{md:l}=e,{lg:f}=e,{xl:p}=e,{xxl:m}=e;const g=[],y={xs:c,sm:h,md:l,lg:f,xl:p,xxl:m};return Object.keys(y).forEach((t=>{const e=y[t];if(!e&&""!==e)return;const n="xs"===t;if(function(t){const e=typeof t;return null!=t&&("object"==e||"function"==e)}(e)){const r=n?"-":`-${t}-`,i=fg(n,t,e.size);(e.size||""===e.size)&&g.push(i),e.push&&g.push(`push${r}${e.push}`),e.pull&&g.push(`pull${r}${e.pull}`),e.offset&&g.push(`offset${r}${e.offset}`)}else g.push(fg(n,t,e))})),g.length||g.push("col"),u&&g.push(u),t.$$set=t=>{e=n(n({},e),d(t)),r(1,o=v(e,i)),"class"in t&&r(2,u=t.class),"xs"in t&&r(3,c=t.xs),"sm"in t&&r(4,h=t.sm),"md"in t&&r(5,l=t.md),"lg"in t&&r(6,f=t.lg),"xl"in t&&r(7,p=t.xl),"xxl"in t&&r(8,m=t.xxl),"$$scope"in t&&r(9,s=t.$$scope)},[g,o,u,c,h,l,f,p,m,s,a]}class Rg extends wt{constructor(t){super(),bt(this,t,Og,xg,s,{class:2,xs:3,sm:4,md:5,lg:6,xl:7,xxl:8})}}function Pg(t){let e,r;const i=t[10].default,o=l(i,t,t[9],null);let a=[t[1],{class:t[0]}],s={};for(let t=0;t<a.length;t+=1)s=n(s,a[t]);return{c(){e=T("div"),o&&o.c(),D(e,s)},m(t,n){I(t,e,n),o&&o.m(e,null),r=!0},p(t,[n]){o&&o.p&&(!r||512&n)&&p(o,i,t,t[9],n,null,null),D(e,s=dt(a,[2&n&&t[1],(!r||1&n)&&{class:t[0]}]))},i(t){r||(ht(o,t),r=!0)},o(t){lt(o,t),r=!1},d(t){t&&E(e),o&&o.d(t)}}}function Lg(t,e,r){let i;const o=["class","sm","md","lg","xl","xxl","fluid"];let a=v(e,o),{$$slots:s={},$$scope:u}=e,{class:c=""}=e,{sm:h}=e,{md:l}=e,{lg:f}=e,{xl:p}=e,{xxl:m}=e,{fluid:g=!1}=e;return t.$$set=t=>{e=n(n({},e),d(t)),r(1,a=v(e,o)),"class"in t&&r(2,c=t.class),"sm"in t&&r(3,h=t.sm),"md"in t&&r(4,l=t.md),"lg"in t&&r(5,f=t.lg),"xl"in t&&r(6,p=t.xl),"xxl"in t&&r(7,m=t.xxl),"fluid"in t&&r(8,g=t.fluid),"$$scope"in t&&r(9,u=t.$$scope)},t.$$.update=()=>{508&t.$$.dirty&&r(0,i=dg(c,{"container-sm":h,"container-md":l,"container-lg":f,"container-xl":p,"container-xxl":m,"container-fluid":g,container:!(h||l||f||p||m||g)}))},[i,a,c,h,l,f,p,m,g,u,s]}class $g extends wt{constructor(t){super(),bt(this,t,Lg,Pg,s,{class:2,sm:3,md:4,lg:5,xl:6,xxl:7,fluid:8})}}function Mg(t){let e,n;const r=t[3].default,i=l(r,t,t[2],null);return{c(){e=T("div"),i&&i.c(),k(e,"class",t[0])},m(t,r){I(t,e,r),i&&i.m(e,null),n=!0},p(t,[o]){i&&i.p&&(!n||4&o)&&p(i,r,t,t[2],o,null,null),(!n||1&o)&&k(e,"class",t[0])},i(t){n||(ht(i,t),n=!0)},o(t){lt(i,t),n=!1},d(t){t&&E(e),i&&i.d(t)}}}function Fg(t,e,n){let r,{$$slots:i={},$$scope:o}=e,{class:a=""}=e;return t.$$set=t=>{"class"in t&&n(1,a=t.class),"$$scope"in t&&n(2,o=t.$$scope)},t.$$.update=()=>{2&t.$$.dirty&&n(0,r=dg(a,"p-5 mb-4 bg-light rounded-3"))},[r,a,o,i]}class Vg extends wt{constructor(t){super(),bt(this,t,Fg,Mg,s,{class:1})}}function Ug(t){let e,r;const i=t[12].default,o=l(i,t,t[11],null);let a=[t[1],{class:t[0]}],s={};for(let t=0;t<a.length;t+=1)s=n(s,a[t]);return{c(){e=T("ul"),o&&o.c(),D(e,s)},m(t,n){I(t,e,n),o&&o.m(e,null),r=!0},p(t,[n]){o&&o.p&&(!r||2048&n)&&p(o,i,t,t[11],n,null,null),D(e,s=dt(a,[2&n&&t[1],(!r||1&n)&&{class:t[0]}]))},i(t){r||(ht(o,t),r=!0)},o(t){lt(o,t),r=!1},d(t){t&&E(e),o&&o.d(t)}}}function jg(t,e,r){let i;const o=["class","tabs","pills","vertical","horizontal","justified","fill","navbar","card"];let a=v(e,o),{$$slots:s={},$$scope:u}=e,{class:c=""}=e,{tabs:h=!1}=e,{pills:l=!1}=e,{vertical:f=!1}=e,{horizontal:p=""}=e,{justified:m=!1}=e,{fill:g=!1}=e,{navbar:y=!1}=e,{card:b=!1}=e;return t.$$set=t=>{e=n(n({},e),d(t)),r(1,a=v(e,o)),"class"in t&&r(2,c=t.class),"tabs"in t&&r(3,h=t.tabs),"pills"in t&&r(4,l=t.pills),"vertical"in t&&r(5,f=t.vertical),"horizontal"in t&&r(6,p=t.horizontal),"justified"in t&&r(7,m=t.justified),"fill"in t&&r(8,g=t.fill),"navbar"in t&&r(9,y=t.navbar),"card"in t&&r(10,b=t.card),"$$scope"in t&&r(11,u=t.$$scope)},t.$$.update=()=>{2044&t.$$.dirty&&r(0,i=dg(c,y?"navbar-nav":"nav",!!p&&`justify-content-${p}`,function(t){return!1!==t&&(!0===t||"xs"===t?"flex-column":`flex-${t}-column`)}(f),{"nav-tabs":h,"card-header-tabs":b&&h,"nav-pills":l,"card-header-pills":b&&l,"nav-justified":m,"nav-fill":g}))},[i,a,c,h,l,f,p,m,g,y,b,u,s]}class qg extends wt{constructor(t){super(),bt(this,t,jg,Ug,s,{class:2,tabs:3,pills:4,vertical:5,horizontal:6,justified:7,fill:8,navbar:9,card:10})}}function Bg(t){let e;const n=t[10].default,r=l(n,t,t[11],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||2048&i)&&p(r,n,t,t[11],i,null,null)},i(t){e||(ht(r,t),e=!0)},o(t){lt(r,t),e=!1},d(t){r&&r.d(t)}}}function Kg(t){let e,n;return e=new $g({props:{fluid:"fluid"===t[0],$$slots:{default:[Gg]},$$scope:{ctx:t}}}),{c(){mt(e.$$.fragment)},m(t,r){gt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.fluid="fluid"===t[0]),2048&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function Gg(t){let e;const n=t[10].default,r=l(n,t,t[11],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||2048&i)&&p(r,n,t,t[11],i,null,null)},i(t){e||(ht(r,t),e=!0)},o(t){lt(r,t),e=!1},d(t){r&&r.d(t)}}}function Hg(t){let e,r,i,o;const a=[Kg,Bg],s=[];function u(t,e){return t[0]?0:1}r=u(t),i=s[r]=a[r](t);let c=[t[2],{class:t[1]}],h={};for(let t=0;t<c.length;t+=1)h=n(h,c[t]);return{c(){e=T("nav"),i.c(),D(e,h)},m(t,n){I(t,e,n),s[r].m(e,null),o=!0},p(t,[n]){let l=r;r=u(t),r===l?s[r].p(t,n):(ut(),lt(s[l],1,1,(()=>{s[l]=null})),ct(),i=s[r],i?i.p(t,n):(i=s[r]=a[r](t),i.c()),ht(i,1),i.m(e,null)),D(e,h=dt(c,[4&n&&t[2],(!o||2&n)&&{class:t[1]}]))},i(t){o||(ht(i),o=!0)},o(t){lt(i),o=!1},d(t){t&&E(e),s[r].d()}}}function zg(t,e,r){let i;const o=["class","container","color","dark","expand","fixed","light","sticky"];let a=v(e,o),{$$slots:s={},$$scope:u}=e,{class:c=""}=e,{container:h="fluid"}=e,{color:l=""}=e,{dark:f=!1}=e,{expand:p=""}=e,{fixed:m=""}=e,{light:g=!1}=e,{sticky:y=""}=e;return t.$$set=t=>{e=n(n({},e),d(t)),r(2,a=v(e,o)),"class"in t&&r(3,c=t.class),"container"in t&&r(0,h=t.container),"color"in t&&r(4,l=t.color),"dark"in t&&r(5,f=t.dark),"expand"in t&&r(6,p=t.expand),"fixed"in t&&r(7,m=t.fixed),"light"in t&&r(8,g=t.light),"sticky"in t&&r(9,y=t.sticky),"$$scope"in t&&r(11,u=t.$$scope)},t.$$.update=()=>{1016&t.$$.dirty&&r(1,i=dg(c,"navbar",function(t){return!1!==t&&(!0===t||"xs"===t?"navbar-expand":`navbar-expand-${t}`)}(p),{"navbar-light":g,"navbar-dark":f,[`bg-${l}`]:l,[`fixed-${m}`]:m,[`sticky-${y}`]:y}))},[h,i,a,c,l,f,p,m,g,y,s,u]}class Wg extends wt{constructor(t){super(),bt(this,t,zg,Hg,s,{class:3,container:0,color:4,dark:5,expand:6,fixed:7,light:8,sticky:9})}}function Xg(t){let e,r;const i=t[5].default,o=l(i,t,t[4],null);let a=[t[1],{class:t[0]}],s={};for(let t=0;t<a.length;t+=1)s=n(s,a[t]);return{c(){e=T("li"),o&&o.c(),D(e,s)},m(t,n){I(t,e,n),o&&o.m(e,null),r=!0},p(t,[n]){o&&o.p&&(!r||16&n)&&p(o,i,t,t[4],n,null,null),D(e,s=dt(a,[2&n&&t[1],(!r||1&n)&&{class:t[0]}]))},i(t){r||(ht(o,t),r=!0)},o(t){lt(o,t),r=!1},d(t){t&&E(e),o&&o.d(t)}}}function Qg(t,e,r){let i;const o=["class","active"];let a=v(e,o),{$$slots:s={},$$scope:u}=e,{class:c=""}=e,{active:h=!1}=e;return t.$$set=t=>{e=n(n({},e),d(t)),r(1,a=v(e,o)),"class"in t&&r(2,c=t.class),"active"in t&&r(3,h=t.active),"$$scope"in t&&r(4,u=t.$$scope)},t.$$.update=()=>{12&t.$$.dirty&&r(0,i=dg(c,"nav-item",!!h&&"active"))},[i,a,c,h,u,s]}class Yg extends wt{constructor(t){super(),bt(this,t,Qg,Xg,s,{class:2,active:3})}}function Jg(t){let e,r,i,o;const a=t[5].default,s=l(a,t,t[4],null);let u=[t[2],{class:t[1]},{href:t[0]}],c={};for(let t=0;t<u.length;t+=1)c=n(c,u[t]);return{c(){e=T("a"),s&&s.c(),D(e,c)},m(n,a){I(n,e,a),s&&s.m(e,null),r=!0,i||(o=N(e,"click",t[6]),i=!0)},p(t,[n]){s&&s.p&&(!r||16&n)&&p(s,a,t,t[4],n,null,null),D(e,c=dt(u,[4&n&&t[2],(!r||2&n)&&{class:t[1]},(!r||1&n)&&{href:t[0]}]))},i(t){r||(ht(s,t),r=!0)},o(t){lt(s,t),r=!1},d(t){t&&E(e),s&&s.d(t),i=!1,o()}}}function Zg(t,e,r){let i;const o=["class","href"];let a=v(e,o),{$$slots:s={},$$scope:u}=e,{class:c=""}=e,{href:h="/"}=e;return t.$$set=t=>{e=n(n({},e),d(t)),r(2,a=v(e,o)),"class"in t&&r(3,c=t.class),"href"in t&&r(0,h=t.href),"$$scope"in t&&r(4,u=t.$$scope)},t.$$.update=()=>{8&t.$$.dirty&&r(1,i=dg(c,"navbar-brand"))},[h,i,a,c,u,s,function(e){G(t,e)}]}class ty extends wt{constructor(t){super(),bt(this,t,Zg,Jg,s,{class:3,href:0})}}function ey(t){let e;const n=t[3].default,r=l(n,t,t[5],null),i=r||function(t){let e;return{c(){e=T("span"),k(e,"class","navbar-toggler-icon")},m(t,n){I(t,e,n)},d(t){t&&E(e)}}}();return{c(){i&&i.c()},m(t,n){i&&i.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||32&i)&&p(r,n,t,t[5],i,null,null)},i(t){e||(ht(i,t),e=!0)},o(t){lt(i,t),e=!1},d(t){i&&i.d(t)}}}function ny(t){let e,r;const i=[t[1],{class:t[0]}];let o={$$slots:{default:[ey]},$$scope:{ctx:t}};for(let t=0;t<i.length;t+=1)o=n(o,i[t]);return e=new Cg({props:o}),e.$on("click",t[4]),{c(){mt(e.$$.fragment)},m(t,n){gt(e,t,n),r=!0},p(t,[n]){const r=3&n?dt(i,[2&n&&vt(t[1]),1&n&&{class:t[0]}]):{};32&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){r||(ht(e.$$.fragment,t),r=!0)},o(t){lt(e.$$.fragment,t),r=!1},d(t){yt(e,t)}}}function ry(t,e,r){let i;const o=["class"];let a=v(e,o),{$$slots:s={},$$scope:u}=e,{class:c=""}=e;return t.$$set=t=>{e=n(n({},e),d(t)),r(1,a=v(e,o)),"class"in t&&r(2,c=t.class),"$$scope"in t&&r(5,u=t.$$scope)},t.$$.update=()=>{4&t.$$.dirty&&r(0,i=dg(c,"navbar-toggler"))},[i,a,c,s,function(e){G(t,e)},u]}class iy extends wt{constructor(t){super(),bt(this,t,ry,ny,s,{class:2})}}function oy(t){let e,r;const i=t[7].default,o=l(i,t,t[6],null);let a=[t[1],{class:t[0]}],s={};for(let t=0;t<a.length;t+=1)s=n(s,a[t]);return{c(){e=T("div"),o&&o.c(),D(e,s)},m(t,n){I(t,e,n),o&&o.m(e,null),r=!0},p(t,[n]){o&&o.p&&(!r||64&n)&&p(o,i,t,t[6],n,null,null),D(e,s=dt(a,[2&n&&t[1],(!r||1&n)&&{class:t[0]}]))},i(t){r||(ht(o,t),r=!0)},o(t){lt(o,t),r=!1},d(t){t&&E(e),o&&o.d(t)}}}function ay(t,e,r){let i;const o=["class","noGutters","form","cols"];let a=v(e,o),{$$slots:s={},$$scope:u}=e,{class:c=""}=e,{noGutters:h=!1}=e,{form:l=!1}=e,{cols:f=0}=e;return t.$$set=t=>{e=n(n({},e),d(t)),r(1,a=v(e,o)),"class"in t&&r(2,c=t.class),"noGutters"in t&&r(3,h=t.noGutters),"form"in t&&r(4,l=t.form),"cols"in t&&r(5,f=t.cols),"$$scope"in t&&r(6,u=t.$$scope)},t.$$.update=()=>{60&t.$$.dirty&&r(0,i=dg(c,h?"gx-0":null,l?"form-row":"row",...function(t){const e=parseInt(t);if(isNaN(e)){if("object"==typeof t)return["xs","sm","md","lg","xl"].map((e=>{const n="xs"===e?"-":`-${e}-`,r=t[e];return"number"==typeof r&&r>0?`row-cols${n}${r}`:null})).filter((t=>!!t))}else if(e>0)return[`row-cols-${e}`];return[]}(f)))},[i,a,c,h,l,f,u,s]}class sy extends wt{constructor(t){super(),bt(this,t,ay,oy,s,{class:2,noGutters:3,form:4,cols:5})}}function uy(t){let e,n,r,i,o;return{c(){e=T("h1"),e.textContent="Are you ready to chat with someone?",n=S(),r=T("h2"),r.textContent="Before you start, here are some things to take into consideration",i=S(),o=T("ul"),o.innerHTML="<li>Be nice. No swearing or demeaning language.</li> \n            <li>Do not reveal personal information such as names, addresses, etc.</li>"},m(t,a){I(t,e,a),I(t,n,a),I(t,r,a),I(t,i,a),I(t,o,a)},d(t){t&&E(e),t&&E(n),t&&E(r),t&&E(i),t&&E(o)}}}function cy(t){let e;return{c(){e=_("Match me now!")},m(t,n){I(t,e,n)},d(t){t&&E(e)}}}function hy(t){let e,n;return e=new Cg({props:{$$slots:{default:[cy]},$$scope:{ctx:t}}}),e.$on("click",(function(){return t[0](t[3])})),{c(){mt(e.$$.fragment)},m(t,r){gt(e,t,r),n=!0},p(n,r){t=n;const i={};16&r&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function ly(t){let e,n,r,i;return e=new sy({props:{$$slots:{default:[uy]},$$scope:{ctx:t}}}),r=new sy({props:{class:"d-block text-center",$$slots:{default:[hy]},$$scope:{ctx:t}}}),{c(){mt(e.$$.fragment),n=S(),mt(r.$$.fragment)},m(t,o){gt(e,t,o),I(t,n,o),gt(r,t,o),i=!0},p(t,n){const i={};16&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const o={};16&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(t){i||(ht(e.$$.fragment,t),ht(r.$$.fragment,t),i=!0)},o(t){lt(e.$$.fragment,t),lt(r.$$.fragment,t),i=!1},d(t){yt(e,t),t&&E(n),yt(r,t)}}}function fy(t){let e,n,r;return n=new Vg({props:{$$slots:{default:[ly]},$$scope:{ctx:t}}}),{c(){e=T("div"),mt(n.$$.fragment),k(e,"slot","signed-out")},m(t,i){I(t,e,i),gt(n,e,null),r=!0},p(t,e){const r={};16&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(ht(n.$$.fragment,t),r=!0)},o(t){lt(n.$$.fragment,t),r=!1},d(t){t&&E(e),yt(n)}}}function py(t){let e,n;return e=new on({props:{$$slots:{"signed-out":[fy,({user:t,auth:e})=>({2:t,3:e}),({user:t,auth:e})=>(t?4:0)|(e?8:0)]},$$scope:{ctx:t}}}),{c(){mt(e.$$.fragment)},m(t,r){gt(e,t,r),n=!0},p(t,n){const r={};16&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function dy(t){let e,n;return e=new Ke({props:{firebase:nr,$$slots:{default:[py]},$$scope:{ctx:t}}}),{c(){mt(e.$$.fragment)},m(t,r){gt(e,t,r),n=!0},p(t,[n]){const r={};16&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function vy(t){nr.initializeApp({apiKey:"AIzaSyDpFJ1vMnojgESGXD-yjlQyIXU8GuJNQLA",authDomain:"csachat-9dff3.firebaseapp.com",databaseURL:"https://csachat-9dff3-default-rtdb.firebaseio.com",projectId:"csachat-9dff3",storageBucket:"csachat-9dff3.appspot.com",messagingSenderId:"384915371882",appId:"1:384915371882:web:2a14a7141b635d69381713"});return[t=>t.signInAnonymously()]}class my extends wt{constructor(t){super(),bt(this,t,vy,dy,s,{})}}var gy="Nepean Chat",yy={title:gy,home:"Home",chatNow:"Chat Now",aboutUs:"About Us"},by={jumbo:"Welcome to Nepean Chat!",jumboSub:"Mental health chat.<br><i>By students, for students.</i>",chatNow:"Chat now"};function wy(t){let e,n;return{c(){e=T("img"),e.src!==(n="./chat-animate.svg")&&k(e,"src","./chat-animate.svg"),k(e,"alt","People chatting")},m(t,n){I(t,e,n)},d(t){t&&E(e)}}}function Iy(e){let n,r=by.chatNow+"";return{c(){n=_(r)},m(t,e){I(t,n,e)},p:t,d(t){t&&E(n)}}}function Ey(t){let e,n,r,i,o,a,s=by.jumboSub+"";return o=new Cg({props:{color:"primary",$$slots:{default:[Iy]},$$scope:{ctx:t}}}),{c(){e=T("h1"),e.textContent=`${by.jumbo}`,n=S(),r=T("h3"),i=S(),mt(o.$$.fragment)},m(t,u){I(t,e,u),I(t,n,u),I(t,r,u),r.innerHTML=s,I(t,i,u),gt(o,t,u),a=!0},p(t,e){const n={};1&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n)},i(t){a||(ht(o.$$.fragment,t),a=!0)},o(t){lt(o.$$.fragment,t),a=!1},d(t){t&&E(e),t&&E(n),t&&E(r),t&&E(i),yt(o,t)}}}function Ty(t){let e,n;return e=new Vg({props:{$$slots:{default:[Ey]},$$scope:{ctx:t}}}),{c(){mt(e.$$.fragment)},m(t,r){gt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function _y(t){let e,n,r,i;return e=new Rg({props:{class:"d-none d-md-block",$$slots:{default:[wy]},$$scope:{ctx:t}}}),r=new Rg({props:{$$slots:{default:[Ty]},$$scope:{ctx:t}}}),{c(){mt(e.$$.fragment),n=S(),mt(r.$$.fragment)},m(t,o){gt(e,t,o),I(t,n,o),gt(r,t,o),i=!0},p(t,n){const i={};1&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const o={};1&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(t){i||(ht(e.$$.fragment,t),ht(r.$$.fragment,t),i=!0)},o(t){lt(e.$$.fragment,t),lt(r.$$.fragment,t),i=!1},d(t){yt(e,t),t&&E(n),yt(r,t)}}}function Sy(t){let e,n;return e=new sy({props:{$$slots:{default:[_y]},$$scope:{ctx:t}}}),{c(){mt(e.$$.fragment)},m(t,r){gt(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}class Ay extends wt{constructor(t){super(),bt(this,t,null,Sy,s,{})}}function Ny(e){let n,r=yy.title+"";return{c(){n=_(r)},m(t,e){I(t,n,e)},p:t,d(t){t&&E(n)}}}function ky(e){let n,r=yy.home+"";return{c(){n=_(r)},m(t,e){I(t,n,e)},p:t,d(t){t&&E(n)}}}function Dy(t){let e,n;return e=new Ue({props:{to:"/",class:"nav-link",$$slots:{default:[ky]},$$scope:{ctx:t}}}),{c(){mt(e.$$.fragment)},m(t,r){gt(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function Cy(e){let n,r=yy.chatNow+"";return{c(){n=_(r)},m(t,e){I(t,n,e)},p:t,d(t){t&&E(n)}}}function xy(t){let e,n;return e=new Ue({props:{to:"/chat",class:"nav-link",$$slots:{default:[Cy]},$$scope:{ctx:t}}}),{c(){mt(e.$$.fragment)},m(t,r){gt(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function Oy(e){let n,r=yy.aboutUs+"";return{c(){n=_(r)},m(t,e){I(t,n,e)},p:t,d(t){t&&E(n)}}}function Ry(t){let e,n;return e=new Ue({props:{to:"/about",class:"nav-link",$$slots:{default:[Oy]},$$scope:{ctx:t}}}),{c(){mt(e.$$.fragment)},m(t,r){gt(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function Py(t){let e,n,r,i,o,a;return e=new Yg({props:{$$slots:{default:[Dy]},$$scope:{ctx:t}}}),r=new Yg({props:{$$slots:{default:[xy]},$$scope:{ctx:t}}}),o=new Yg({props:{$$slots:{default:[Ry]},$$scope:{ctx:t}}}),{c(){mt(e.$$.fragment),n=S(),mt(r.$$.fragment),i=S(),mt(o.$$.fragment)},m(t,s){gt(e,t,s),I(t,n,s),gt(r,t,s),I(t,i,s),gt(o,t,s),a=!0},p(t,n){const i={};8&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const a={};8&n&&(a.$$scope={dirty:n,ctx:t}),r.$set(a);const s={};8&n&&(s.$$scope={dirty:n,ctx:t}),o.$set(s)},i(t){a||(ht(e.$$.fragment,t),ht(r.$$.fragment,t),ht(o.$$.fragment,t),a=!0)},o(t){lt(e.$$.fragment,t),lt(r.$$.fragment,t),lt(o.$$.fragment,t),a=!1},d(t){yt(e,t),t&&E(n),yt(r,t),t&&E(i),yt(o,t)}}}function Ly(t){let e,n;return e=new qg({props:{class:"ml-auto",navbar:!0,$$slots:{default:[Py]},$$scope:{ctx:t}}}),{c(){mt(e.$$.fragment)},m(t,r){gt(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function $y(t){let e,n,r,i,o,a;return e=new ty({props:{href:"/",$$slots:{default:[Ny]},$$scope:{ctx:t}}}),r=new iy({}),r.$on("click",t[2]),o=new Ig({props:{isOpen:t[0],navbar:!0,expand:"md",$$slots:{default:[Ly]},$$scope:{ctx:t}}}),o.$on("update",t[1]),{c(){mt(e.$$.fragment),n=S(),mt(r.$$.fragment),i=S(),mt(o.$$.fragment)},m(t,s){gt(e,t,s),I(t,n,s),gt(r,t,s),I(t,i,s),gt(o,t,s),a=!0},p(t,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const i={};1&n&&(i.isOpen=t[0]),8&n&&(i.$$scope={dirty:n,ctx:t}),o.$set(i)},i(t){a||(ht(e.$$.fragment,t),ht(r.$$.fragment,t),ht(o.$$.fragment,t),a=!0)},o(t){lt(e.$$.fragment,t),lt(r.$$.fragment,t),lt(o.$$.fragment,t),a=!1},d(t){yt(e,t),t&&E(n),yt(r,t),t&&E(i),yt(o,t)}}}function My(t){let e,n;return e=new Wg({props:{color:"primary",dark:!0,expand:"md",$$slots:{default:[$y]},$$scope:{ctx:t}}}),{c(){mt(e.$$.fragment)},m(t,r){gt(e,t,r),n=!0},p(t,[n]){const r={};9&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function Fy(t,e,n){let r=!1;return[r,function(t){n(0,r=t.detail.isOpen)},()=>n(0,r=!r)]}class Vy extends wt{constructor(t){super(),bt(this,t,Fy,My,s,{})}}function Uy(t){let e,n;return e=new Ay({}),{c(){mt(e.$$.fragment)},m(t,r){gt(e,t,r),n=!0},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function jy(t){let e,n;return e=new my({}),{c(){mt(e.$$.fragment)},m(t,r){gt(e,t,r),n=!0},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function qy(t){let e;return{c(){e=T("h1"),e.textContent="About Us"},m(t,n){I(t,e,n)},d(t){t&&E(e)}}}function By(t){let e,n,r,i,o,a,s,u,c;return n=new Vy({}),i=new Me({props:{path:"/",$$slots:{default:[Uy]},$$scope:{ctx:t}}}),a=new Me({props:{path:"/chat",$$slots:{default:[jy]},$$scope:{ctx:t}}}),u=new Me({props:{path:"/about",$$slots:{default:[qy]},$$scope:{ctx:t}}}),{c(){e=T("nav"),mt(n.$$.fragment),r=S(),mt(i.$$.fragment),o=S(),mt(a.$$.fragment),s=S(),mt(u.$$.fragment)},m(t,h){I(t,e,h),gt(n,e,null),I(t,r,h),gt(i,t,h),I(t,o,h),gt(a,t,h),I(t,s,h),gt(u,t,h),c=!0},p(t,e){const n={};1&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n);const r={};1&e&&(r.$$scope={dirty:e,ctx:t}),a.$set(r);const o={};1&e&&(o.$$scope={dirty:e,ctx:t}),u.$set(o)},i(t){c||(ht(n.$$.fragment,t),ht(i.$$.fragment,t),ht(a.$$.fragment,t),ht(u.$$.fragment,t),c=!0)},o(t){lt(n.$$.fragment,t),lt(i.$$.fragment,t),lt(a.$$.fragment,t),lt(u.$$.fragment,t),c=!1},d(t){t&&E(e),yt(n),t&&E(r),yt(i,t),t&&E(o),yt(a,t),t&&E(s),yt(u,t)}}}function Ky(t){let e,n;return e=new Ee({props:{$$slots:{default:[By]},$$scope:{ctx:t}}}),{c(){mt(e.$$.fragment)},m(t,r){gt(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}return new class extends wt{constructor(t){super(),bt(this,t,null,Ky,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
