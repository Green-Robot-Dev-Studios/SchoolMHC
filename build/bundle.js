var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(r)}function a(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function c(t,e,n,r){if(t){const i=l(t,e,n,r);return t[0](i)}}function l(t,e,r,i){return t[1]&&i?n(r.ctx.slice(),t[1](i(e))):r.ctx}function h(t,e,n,r,i,o,a){const s=function(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}(e,r,i,o);if(s){const i=l(e,n,r,a);t.p(i,s)}}function f(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function d(t,e){const n={};e=new Set(e);for(const r in t)e.has(r)||"$"===r[0]||(n[r]=t[r]);return n}const p="undefined"!=typeof window;let m=p?()=>window.performance.now():()=>Date.now(),y=p?t=>requestAnimationFrame(t):t;const g=new Set;function v(t){g.forEach((e=>{e.c(t)||(g.delete(e),e.f())})),0!==g.size&&y(v)}function b(t,e){t.appendChild(e)}function w(t,e,n){t.insertBefore(e,n||null)}function I(t){t.parentNode.removeChild(t)}function $(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function E(t){return document.createElement(t)}function S(t){return document.createTextNode(t)}function T(){return S(" ")}function k(){return S("")}function _(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function A(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function N(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)null==e[r]?t.removeAttribute(r):"style"===r?t.style.cssText=e[r]:"__value"===r?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:A(t,r,e[r])}function C(t){return""===t?null:+t}function x(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function D(t,e){t.value=null==e?"":e}function O(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function R(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}}function P(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];r.selected=~e.indexOf(r.__value)}}function L(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}class M{constructor(t=null){this.a=t,this.e=this.n=null}m(t,e,n=null){this.e||(this.e=E(e.nodeName),this.t=e,this.h(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)w(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(I)}}const F=new Set;let U,V=0;function B(t,e,n,r,i,o,a,s=0){const u=16.666/r;let c="{\n";for(let t=0;t<=1;t+=u){const r=e+(n-e)*o(t);c+=100*t+`%{${a(r,1-r)}}\n`}const l=c+`100% {${a(n,1-n)}}\n}`,h=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(l)}_${s}`,f=t.ownerDocument;F.add(f);const d=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(E("style")).sheet),p=f.__svelte_rules||(f.__svelte_rules={});p[h]||(p[h]=!0,d.insertRule(`@keyframes ${h} ${l}`,d.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${h} ${r}ms linear ${i}ms 1 both`,V+=1,h}function j(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-r.length;i&&(t.style.animation=r.join(", "),V-=i,V||y((()=>{V||(F.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),F.clear())})))}function q(t){U=t}function G(){if(!U)throw new Error("Function called outside component initialization");return U}function W(t){G().$$.on_mount.push(t)}function K(t){G().$$.after_update.push(t)}function z(t){G().$$.on_destroy.push(t)}function H(){const t=G();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const i=L(e,n);r.slice().forEach((e=>{e.call(t,i)}))}}}function Q(t,e){G().$$.context.set(t,e)}function X(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}const Y=[],J=[],Z=[],tt=[],et=Promise.resolve();let nt=!1;function rt(){nt||(nt=!0,et.then(ct))}function it(){return rt(),et}function ot(t){Z.push(t)}function at(t){tt.push(t)}let st=!1;const ut=new Set;function ct(){if(!st){st=!0;do{for(let t=0;t<Y.length;t+=1){const e=Y[t];q(e),lt(e.$$)}for(q(null),Y.length=0;J.length;)J.pop()();for(let t=0;t<Z.length;t+=1){const e=Z[t];ut.has(e)||(ut.add(e),e())}Z.length=0}while(Y.length);for(;tt.length;)tt.pop()();nt=!1,st=!1,ut.clear()}}function lt(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ot)}}let ht;function ft(t,e,n){t.dispatchEvent(L(`${e?"intro":"outro"}${n}`))}const dt=new Set;let pt;function mt(){pt={r:0,c:[],p:pt}}function yt(){pt.r||o(pt.c),pt=pt.p}function gt(t,e){t&&t.i&&(dt.delete(t),t.i(e))}function vt(t,e,n,r){if(t&&t.o){if(dt.has(t))return;dt.add(t),pt.c.push((()=>{dt.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const bt={duration:0};function wt(n,r,i,s){let u=r(n,i),c=s?0:1,l=null,h=null,f=null;function d(){f&&j(n,f)}function p(t,e){const n=t.b-c;return e*=Math.abs(n),{a:c,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function b(r){const{delay:i=0,duration:a=300,easing:s=e,tick:b=t,css:w}=u||bt,I={start:m()+i,b:r};r||(I.group=pt,pt.r+=1),l||h?h=I:(w&&(d(),f=B(n,c,r,a,i,s,w)),r&&b(0,1),l=p(I,a),ot((()=>ft(n,r,"start"))),function(t){let e;0===g.size&&y(v),new Promise((n=>{g.add(e={c:t,f:n})}))}((t=>{if(h&&t>h.start&&(l=p(h,a),h=null,ft(n,l.b,"start"),w&&(d(),f=B(n,c,l.b,l.duration,0,s,u.css))),l)if(t>=l.end)b(c=l.b,1-c),ft(n,l.b,"end"),h||(l.b?d():--l.group.r||o(l.group.c)),l=null;else if(t>=l.start){const e=t-l.start;c=l.a+l.d*s(e/l.duration),b(c,1-c)}return!(!l&&!h)})))}return{run(t){a(u)?(ht||(ht=Promise.resolve(),ht.then((()=>{ht=null}))),ht).then((()=>{u=u(),b(t)})):b(t)},end(){d(),l=h=null}}}function It(t,e){vt(t,1,1,(()=>{e.delete(t.key)}))}function $t(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const a=t[o],s=e[o];if(s){for(const t in a)t in s||(r[t]=1);for(const t in s)i[t]||(n[t]=s[t],i[t]=1);t[o]=s}else for(const t in a)i[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function Et(t){return"object"==typeof t&&null!==t?t:{}}function St(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Tt(t){t&&t.c()}function kt(t,e,n,i){const{fragment:s,on_mount:u,on_destroy:c,after_update:l}=t.$$;s&&s.m(e,n),i||ot((()=>{const e=u.map(r).filter(a);c?c.push(...e):o(e),t.$$.on_mount=[]})),l.forEach(ot)}function _t(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function At(e,n,r,a,s,u,c=[-1]){const l=U;q(e);const h=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:s,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:n.context||[]),callbacks:i(),dirty:c,skip_bound:!1};let f=!1;if(h.ctx=r?r(e,n.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return h.ctx&&s(h.ctx[t],h.ctx[t]=i)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](i),f&&function(t,e){-1===t.$$.dirty[0]&&(Y.push(t),rt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],h.update(),f=!0,o(h.before_update),h.fragment=!!a&&a(h.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);h.fragment&&h.fragment.l(t),t.forEach(I)}else h.fragment&&h.fragment.c();n.intro&&gt(e.$$.fragment),kt(e,n.target,n.anchor,n.customElement),ct()}q(l)}class Nt{$destroy(){_t(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ct=[];function xt(t,e){return{subscribe:Dt(t,e).subscribe}}function Dt(e,n=t){let r;const i=[];function o(t){if(s(e,t)&&(e=t,r)){const t=!Ct.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),Ct.push(n,e)}if(t){for(let t=0;t<Ct.length;t+=2)Ct[t][0](Ct[t+1]);Ct.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(a,s=t){const u=[a,s];return i.push(u),1===i.length&&(r=n(o)||t),a(e),()=>{const t=i.indexOf(u);-1!==t&&i.splice(t,1),0===i.length&&(r(),r=null)}}}}function Ot(e,n,r){const i=!Array.isArray(e),s=i?[e]:e,c=n.length<2;return xt(r,(e=>{let r=!1;const l=[];let h=0,f=t;const d=()=>{if(h)return;f();const r=n(i?l[0]:l,e);c?e(r):f=a(r)?r:t},p=s.map(((t,e)=>u(t,(t=>{l[e]=t,h&=~(1<<e),r&&d()}),(()=>{h|=1<<e}))));return r=!0,d(),function(){o(p),f()}}))}function Rt(t){let e,r,i;const o=[t[2]];var a=t[0];function s(t){let e={};for(let t=0;t<o.length;t+=1)e=n(e,o[t]);return{props:e}}return a&&(e=new a(s()),e.$on("routeEvent",t[7])),{c(){e&&Tt(e.$$.fragment),r=k()},m(t,n){e&&kt(e,t,n),w(t,r,n),i=!0},p(t,n){const i=4&n?$t(o,[Et(t[2])]):{};if(a!==(a=t[0])){if(e){mt();const t=e;vt(t.$$.fragment,1,0,(()=>{_t(t,1)})),yt()}a?(e=new a(s()),e.$on("routeEvent",t[7]),Tt(e.$$.fragment),gt(e.$$.fragment,1),kt(e,r.parentNode,r)):e=null}else a&&e.$set(i)},i(t){i||(e&&gt(e.$$.fragment,t),i=!0)},o(t){e&&vt(e.$$.fragment,t),i=!1},d(t){t&&I(r),e&&_t(e,t)}}}function Pt(t){let e,r,i;const o=[{params:t[1]},t[2]];var a=t[0];function s(t){let e={};for(let t=0;t<o.length;t+=1)e=n(e,o[t]);return{props:e}}return a&&(e=new a(s()),e.$on("routeEvent",t[6])),{c(){e&&Tt(e.$$.fragment),r=k()},m(t,n){e&&kt(e,t,n),w(t,r,n),i=!0},p(t,n){const i=6&n?$t(o,[2&n&&{params:t[1]},4&n&&Et(t[2])]):{};if(a!==(a=t[0])){if(e){mt();const t=e;vt(t.$$.fragment,1,0,(()=>{_t(t,1)})),yt()}a?(e=new a(s()),e.$on("routeEvent",t[6]),Tt(e.$$.fragment),gt(e.$$.fragment,1),kt(e,r.parentNode,r)):e=null}else a&&e.$set(i)},i(t){i||(e&&gt(e.$$.fragment,t),i=!0)},o(t){e&&vt(e.$$.fragment,t),i=!1},d(t){t&&I(r),e&&_t(e,t)}}}function Lt(t){let e,n,r,i;const o=[Pt,Rt],a=[];function s(t,e){return t[1]?0:1}return e=s(t),n=a[e]=o[e](t),{c(){n.c(),r=k()},m(t,n){a[e].m(t,n),w(t,r,n),i=!0},p(t,[i]){let u=e;e=s(t),e===u?a[e].p(t,i):(mt(),vt(a[u],1,1,(()=>{a[u]=null})),yt(),n=a[e],n?n.p(t,i):(n=a[e]=o[e](t),n.c()),gt(n,1),n.m(r.parentNode,r))},i(t){i||(gt(n),i=!0)},o(t){vt(n),i=!1},d(t){a[e].d(t),t&&I(r)}}}function Mt(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const Ft=xt(null,(function(t){t(Mt());const e=()=>{t(Mt())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}));async function Ut(t){if(!t||t.length<1||"/"!=t.charAt(0)&&0!==t.indexOf("#/"))throw Error("Invalid parameter location");await it(),history.replaceState({scrollX:window.scrollX,scrollY:window.scrollY},void 0,void 0),window.location.hash=("#"==t.charAt(0)?"":"#")+t}async function Vt(){await it(),window.history.back()}function Bt(t,e,n){let{routes:r={}}=e,{prefix:i=""}=e,{restoreScrollState:o=!1}=e;class a{constructor(t,e){if(!e||"function"!=typeof e&&("object"!=typeof e||!0!==e._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:n,keys:r}=function(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,o,a=[],s="",u=t.split("/");for(u[0]||u.shift();i=u.shift();)"*"===(n=i[0])?(a.push("wild"),s+="/(.*)"):":"===n?(r=i.indexOf("?",1),o=i.indexOf(".",1),a.push(i.substring(1,~r?r:~o?o:i.length)),s+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(s+=(~r?"?":"")+"\\"+i.substring(o))):s+="/"+i;return{keys:a,pattern:new RegExp("^"+s+(e?"(?=$|/)":"/?$"),"i")}}(t);this.path=t,"object"==typeof e&&!0===e._sveltesparouter?(this.component=e.component,this.conditions=e.conditions||[],this.userData=e.userData,this.props=e.props||{}):(this.component=()=>Promise.resolve(e),this.conditions=[],this.props={}),this._pattern=n,this._keys=r}match(t){if(i)if("string"==typeof i){if(!t.startsWith(i))return null;t=t.substr(i.length)||"/"}else if(i instanceof RegExp){const e=t.match(i);if(!e||!e[0])return null;t=t.substr(e[0].length)||"/"}const e=this._pattern.exec(t);if(null===e)return null;if(!1===this._keys)return e;const n={};let r=0;for(;r<this._keys.length;){try{n[this._keys[r]]=decodeURIComponent(e[r+1]||"")||null}catch(t){n[this._keys[r]]=null}r++}return n}async checkConditions(t){for(let e=0;e<this.conditions.length;e++)if(!await this.conditions[e](t))return!1;return!0}}const s=[];r instanceof Map?r.forEach(((t,e)=>{s.push(new a(e,t))})):Object.keys(r).forEach((t=>{s.push(new a(t,r[t]))}));let u=null,c=null,l={};const h=H();async function f(t,e){await it(),h(t,e)}let d=null;o&&(window.addEventListener("popstate",(t=>{d=t.state&&t.state.scrollY?t.state:null})),K((()=>{d?window.scrollTo(d.scrollX,d.scrollY):window.scrollTo(0,0)})));let p=null,m=null;return Ft.subscribe((async t=>{p=t;let e=0;for(;e<s.length;){const r=s[e].match(t.location);if(!r){e++;continue}const i={route:s[e].path,location:t.location,querystring:t.querystring,userData:s[e].userData};if(!await s[e].checkConditions(i))return n(0,u=null),m=null,void f("conditionsFailed",i);f("routeLoading",Object.assign({},i));const o=s[e].component;if(m!=o){o.loading?(n(0,u=o.loading),m=o,n(1,c=o.loadingParams),n(2,l={}),f("routeLoaded",Object.assign({},i,{component:u,name:u.name}))):(n(0,u=null),m=null);const e=await o();if(t!=p)return;n(0,u=e&&e.default||e),m=o}return r&&"object"==typeof r&&Object.keys(r).length?n(1,c=r):n(1,c=null),n(2,l=s[e].props),void f("routeLoaded",Object.assign({},i,{component:u,name:u.name}))}n(0,u=null),m=null})),t.$$set=t=>{"routes"in t&&n(3,r=t.routes),"prefix"in t&&n(4,i=t.prefix),"restoreScrollState"in t&&n(5,o=t.restoreScrollState)},t.$$.update=()=>{32&t.$$.dirty&&(history.scrollRestoration=o?"manual":"auto")},[u,c,l,r,i,o,function(e){X(t,e)},function(e){X(t,e)}]}Ot(Ft,(t=>t.location)),Ot(Ft,(t=>t.querystring));class jt extends Nt{constructor(t){super(),At(this,t,Bt,Lt,s,{routes:3,prefix:4,restoreScrollState:5})}}function qt(t){document.body.style.paddingRight=t>0?`${t}px`:null}function Gt(){const t=function(){let t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t);const e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}(),e=document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")[0],n=e?parseInt(e.style.paddingRight||0,10):0;window&&document.body.clientWidth<window.innerWidth&&qt(n+t)}function Wt(t,e,n){return!0===n||""===n?t?"col":`col-${e}`:"auto"===n?t?"col-auto":`col-${e}-auto`:t?`col-${n}`:`col-${e}-${n}`}function Kt(t){let e="";if("string"==typeof t||"number"==typeof t)e+=t;else if("object"==typeof t)if(Array.isArray(t))e=t.map(Kt).filter(Boolean).join(" ");else for(let n in t)t[n]&&(e&&(e+=" "),e+=n);return e}function zt(...t){return t.map(Kt).filter(Boolean).join(" ")}function Ht(t){const e=t-1;return e*e*e+1}function Qt(t,{delay:n=0,duration:r=400,easing:i=e}={}){const o=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:i,css:t=>"opacity: "+t*o}}function Xt(t,{delay:e=0,duration:n=400,easing:r=Ht}={}){const i=getComputedStyle(t),o=+i.opacity,a=parseFloat(i.height),s=parseFloat(i.paddingTop),u=parseFloat(i.paddingBottom),c=parseFloat(i.marginTop),l=parseFloat(i.marginBottom),h=parseFloat(i.borderTopWidth),f=parseFloat(i.borderBottomWidth);return{delay:e,duration:n,easing:r,css:t=>`overflow: hidden;opacity: ${Math.min(20*t,1)*o};height: ${t*a}px;padding-top: ${t*s}px;padding-bottom: ${t*u}px;margin-top: ${t*c}px;margin-bottom: ${t*l}px;border-top-width: ${t*h}px;border-bottom-width: ${t*f}px;`}}const Yt=["touchstart","click"];function Jt(t){let e,r,i,s,u,l;const f=t[15].default,d=c(f,t,t[14],null);let p=[{style:r=t[1]?void 0:"overflow: hidden;"},t[8],{class:t[7]}],m={};for(let t=0;t<p.length;t+=1)m=n(m,p[t]);return{c(){e=E("div"),d&&d.c(),N(e,m)},m(n,r){w(n,e,r),d&&d.m(e,null),s=!0,u||(l=[_(e,"introstart",t[16]),_(e,"introend",t[17]),_(e,"outrostart",t[18]),_(e,"outroend",t[19]),_(e,"introstart",(function(){a(t[2])&&t[2].apply(this,arguments)})),_(e,"introend",(function(){a(t[3])&&t[3].apply(this,arguments)})),_(e,"outrostart",(function(){a(t[4])&&t[4].apply(this,arguments)})),_(e,"outroend",(function(){a(t[5])&&t[5].apply(this,arguments)}))],u=!0)},p(n,i){t=n,d&&d.p&&(!s||16384&i)&&h(d,f,t,t[14],i,null,null),N(e,m=$t(p,[(!s||2&i&&r!==(r=t[1]?void 0:"overflow: hidden;"))&&{style:r},256&i&&t[8],(!s||128&i)&&{class:t[7]}]))},i(t){s||(gt(d,t),t&&ot((()=>{i||(i=wt(e,Xt,{},!0)),i.run(1)})),s=!0)},o(t){vt(d,t),t&&(i||(i=wt(e,Xt,{},!1)),i.run(0)),s=!1},d(t){t&&I(e),d&&d.d(t),t&&i&&i.end(),u=!1,o(l)}}}function Zt(t){let e,n,r,i;ot(t[20]);let o=t[0]&&Jt(t);return{c(){o&&o.c(),e=k()},m(a,s){o&&o.m(a,s),w(a,e,s),n=!0,r||(i=_(window,"resize",t[20]),r=!0)},p(t,[n]){t[0]?o?(o.p(t,n),1&n&&gt(o,1)):(o=Jt(t),o.c(),gt(o,1),o.m(e.parentNode,e)):o&&(mt(),vt(o,1,1,(()=>{o=null})),yt())},i(t){n||(gt(o),n=!0)},o(t){vt(o),n=!1},d(t){o&&o.d(t),t&&I(e),r=!1,i()}}}function te(t,e,r){let i;const o=["isOpen","class","navbar","onEntering","onEntered","onExiting","onExited","expand","toggler"];let a=d(e,o),{$$slots:s={},$$scope:u}=e;const c=H();let{isOpen:l=!1}=e,{class:h=""}=e,{navbar:p=!1}=e,{onEntering:m=(()=>c("opening"))}=e,{onEntered:y=(()=>c("open"))}=e,{onExiting:g=(()=>c("closing"))}=e,{onExited:v=(()=>c("close"))}=e,{expand:b=!1}=e,{toggler:w=null}=e;W((()=>((t,e)=>{let n;if("string"==typeof t&&"undefined"!=typeof window&&document&&document.createElement){let r=document.querySelectorAll(t);if(r.length||(r=document.querySelectorAll(`#${t}`)),!r.length)throw new Error(`The target '${t}' could not be identified in the dom, tip: check spelling`);Yt.forEach((t=>{r.forEach((n=>{n.addEventListener(t,e)}))})),n=()=>{Yt.forEach((t=>{r.forEach((n=>{n.removeEventListener(t,e)}))}))}}return()=>{"function"==typeof n&&(n(),n=void 0)}})(w,(()=>r(0,l=!l)))));let I=0,$=!1;const E={};function S(){c("update",l)}return E.xs=0,E.sm=576,E.md=768,E.lg=992,E.xl=1200,t.$$set=t=>{e=n(n({},e),f(t)),r(8,a=d(e,o)),"isOpen"in t&&r(0,l=t.isOpen),"class"in t&&r(9,h=t.class),"navbar"in t&&r(1,p=t.navbar),"onEntering"in t&&r(2,m=t.onEntering),"onEntered"in t&&r(3,y=t.onEntered),"onExiting"in t&&r(4,g=t.onExiting),"onExited"in t&&r(5,v=t.onExited),"expand"in t&&r(10,b=t.expand),"toggler"in t&&r(11,w=t.toggler),"$$scope"in t&&r(14,u=t.$$scope)},t.$$.update=()=>{514&t.$$.dirty&&r(7,i=zt(h,p&&"navbar-collapse")),13379&t.$$.dirty&&p&&b&&(I>=E[b]&&!l?(r(0,l=!0),r(12,$=!0),S()):I<E[b]&&$&&(r(0,l=!1),r(12,$=!1),S()))},[l,p,m,y,g,v,I,i,a,h,b,w,$,E,u,s,function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(){r(6,I=window.innerWidth)}]}class ee extends Nt{constructor(t){super(),At(this,t,te,Zt,s,{isOpen:0,class:9,navbar:1,onEntering:2,onEntered:3,onExiting:4,onExited:5,expand:10,toggler:11})}}function ne(t){let e,r,i,o,a;const s=t[17].default,u=c(s,t,t[16],null),l=u||function(t){let e,n,r,i;const o=[oe,ie],a=[];function s(t,e){return t[0]?0:1}return e=s(t),n=a[e]=o[e](t),{c(){n.c(),r=k()},m(t,n){a[e].m(t,n),w(t,r,n),i=!0},p(t,i){let u=e;e=s(t),e===u?a[e].p(t,i):(mt(),vt(a[u],1,1,(()=>{a[u]=null})),yt(),n=a[e],n?n.p(t,i):(n=a[e]=o[e](t),n.c()),gt(n,1),n.m(r.parentNode,r))},i(t){i||(gt(n),i=!0)},o(t){vt(n),i=!1},d(t){a[e].d(t),t&&I(r)}}}(t);let f=[t[8],{class:t[6]},{disabled:t[1]},{value:t[4]},{"aria-label":r=t[5]||t[7]},{style:t[3]}],d={};for(let t=0;t<f.length;t+=1)d=n(d,f[t]);return{c(){e=E("button"),l&&l.c(),N(e,d)},m(n,r){w(n,e,r),l&&l.m(e,null),i=!0,o||(a=_(e,"click",t[19]),o=!0)},p(t,n){u?u.p&&(!i||65536&n)&&h(u,s,t,t[16],n,null,null):l&&l.p&&65537&n&&l.p(t,n),N(e,d=$t(f,[256&n&&t[8],(!i||64&n)&&{class:t[6]},(!i||2&n)&&{disabled:t[1]},(!i||16&n)&&{value:t[4]},(!i||160&n&&r!==(r=t[5]||t[7]))&&{"aria-label":r},(!i||8&n)&&{style:t[3]}]))},i(t){i||(gt(l,t),i=!0)},o(t){vt(l,t),i=!1},d(t){t&&I(e),l&&l.d(t),o=!1,a()}}}function re(t){let e,r,i,o,a,s,u;const c=[se,ae],l=[];function h(t,e){return t[0]?0:1}r=h(t),i=l[r]=c[r](t);let f=[t[8],{class:t[6]},{disabled:t[1]},{href:t[2]},{"aria-label":o=t[5]||t[7]},{style:t[3]}],d={};for(let t=0;t<f.length;t+=1)d=n(d,f[t]);return{c(){e=E("a"),i.c(),N(e,d)},m(n,i){w(n,e,i),l[r].m(e,null),a=!0,s||(u=_(e,"click",t[18]),s=!0)},p(t,n){let s=r;r=h(t),r===s?l[r].p(t,n):(mt(),vt(l[s],1,1,(()=>{l[s]=null})),yt(),i=l[r],i?i.p(t,n):(i=l[r]=c[r](t),i.c()),gt(i,1),i.m(e,null)),N(e,d=$t(f,[256&n&&t[8],(!a||64&n)&&{class:t[6]},(!a||2&n)&&{disabled:t[1]},(!a||4&n)&&{href:t[2]},(!a||160&n&&o!==(o=t[5]||t[7]))&&{"aria-label":o},(!a||8&n)&&{style:t[3]}]))},i(t){a||(gt(i),a=!0)},o(t){vt(i),a=!1},d(t){t&&I(e),l[r].d(),s=!1,u()}}}function ie(t){let e;const n=t[17].default,r=c(n,t,t[16],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||65536&i)&&h(r,n,t,t[16],i,null,null)},i(t){e||(gt(r,t),e=!0)},o(t){vt(r,t),e=!1},d(t){r&&r.d(t)}}}function oe(e){let n;return{c(){n=S(e[0])},m(t,e){w(t,n,e)},p(t,e){1&e&&x(n,t[0])},i:t,o:t,d(t){t&&I(n)}}}function ae(t){let e;const n=t[17].default,r=c(n,t,t[16],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||65536&i)&&h(r,n,t,t[16],i,null,null)},i(t){e||(gt(r,t),e=!0)},o(t){vt(r,t),e=!1},d(t){r&&r.d(t)}}}function se(e){let n;return{c(){n=S(e[0])},m(t,e){w(t,n,e)},p(t,e){1&e&&x(n,t[0])},i:t,o:t,d(t){t&&I(n)}}}function ue(t){let e,n,r,i;const o=[re,ne],a=[];function s(t,e){return t[2]?0:1}return e=s(t),n=a[e]=o[e](t),{c(){n.c(),r=k()},m(t,n){a[e].m(t,n),w(t,r,n),i=!0},p(t,[i]){let u=e;e=s(t),e===u?a[e].p(t,i):(mt(),vt(a[u],1,1,(()=>{a[u]=null})),yt(),n=a[e],n?n.p(t,i):(n=a[e]=o[e](t),n.c()),gt(n,1),n.m(r.parentNode,r))},i(t){i||(gt(n),i=!0)},o(t){vt(n),i=!1},d(t){a[e].d(t),t&&I(r)}}}function ce(t,e,r){let i,o,a;const s=["class","active","block","children","close","color","disabled","href","outline","size","style","value"];let u=d(e,s),{$$slots:c={},$$scope:l}=e,{class:h=""}=e,{active:p=!1}=e,{block:m=!1}=e,{children:y}=e,{close:g=!1}=e,{color:v="secondary"}=e,{disabled:b=!1}=e,{href:w=""}=e,{outline:I=!1}=e,{size:$=null}=e,{style:E=""}=e,{value:S=""}=e;return t.$$set=t=>{r(20,e=n(n({},e),f(t))),r(8,u=d(e,s)),"class"in t&&r(9,h=t.class),"active"in t&&r(10,p=t.active),"block"in t&&r(11,m=t.block),"children"in t&&r(0,y=t.children),"close"in t&&r(12,g=t.close),"color"in t&&r(13,v=t.color),"disabled"in t&&r(1,b=t.disabled),"href"in t&&r(2,w=t.href),"outline"in t&&r(14,I=t.outline),"size"in t&&r(15,$=t.size),"style"in t&&r(3,E=t.style),"value"in t&&r(4,S=t.value),"$$scope"in t&&r(16,l=t.$$scope)},t.$$.update=()=>{r(5,i=e["aria-label"]),65024&t.$$.dirty&&r(6,o=zt(h,g?"btn-close":"btn",g||`btn${I?"-outline":""}-${v}`,!!$&&`btn-${$}`,!!m&&"d-block w-100",{active:p})),4096&t.$$.dirty&&r(7,a=g?"Close":null)},e=f(e),[y,b,w,E,S,i,o,a,u,h,p,m,g,v,I,$,l,c,function(e){X(t,e)},function(e){X(t,e)}]}class le extends Nt{constructor(t){super(),At(this,t,ce,ue,s,{class:9,active:10,block:11,children:0,close:12,color:13,disabled:1,href:2,outline:14,size:15,style:3,value:4})}}function he(t){let e,r,i,o;const a=t[9].default,s=c(a,t,t[8],null);let u=[t[2],{class:t[1]},{style:t[0]}],l={};for(let t=0;t<u.length;t+=1)l=n(l,u[t]);return{c(){e=E("div"),s&&s.c(),N(e,l)},m(n,a){w(n,e,a),s&&s.m(e,null),r=!0,i||(o=_(e,"click",t[10]),i=!0)},p(t,[n]){s&&s.p&&(!r||256&n)&&h(s,a,t,t[8],n,null,null),N(e,l=$t(u,[4&n&&t[2],(!r||2&n)&&{class:t[1]},(!r||1&n)&&{style:t[0]}]))},i(t){r||(gt(s,t),r=!0)},o(t){vt(s,t),r=!1},d(t){t&&I(e),s&&s.d(t),i=!1,o()}}}function fe(t,e,r){let i;const o=["class","body","color","inverse","outline","style"];let a=d(e,o),{$$slots:s={},$$scope:u}=e,{class:c=""}=e,{body:l=!1}=e,{color:h=""}=e,{inverse:p=!1}=e,{outline:m=!1}=e,{style:y=""}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(2,a=d(e,o)),"class"in t&&r(3,c=t.class),"body"in t&&r(4,l=t.body),"color"in t&&r(5,h=t.color),"inverse"in t&&r(6,p=t.inverse),"outline"in t&&r(7,m=t.outline),"style"in t&&r(0,y=t.style),"$$scope"in t&&r(8,u=t.$$scope)},t.$$.update=()=>{248&t.$$.dirty&&r(1,i=zt(c,"card",!!p&&"text-white",!!l&&"card-body",!!h&&`${m?"border":"bg"}-${h}`))},[y,i,a,c,l,h,p,m,u,s,function(e){X(t,e)}]}class de extends Nt{constructor(t){super(),At(this,t,fe,he,s,{class:3,body:4,color:5,inverse:6,outline:7,style:0})}}function pe(t){let e,r;const i=t[4].default,o=c(i,t,t[3],null);let a=[t[1],{class:t[0]}],s={};for(let t=0;t<a.length;t+=1)s=n(s,a[t]);return{c(){e=E("div"),o&&o.c(),N(e,s)},m(t,n){w(t,e,n),o&&o.m(e,null),r=!0},p(t,[n]){o&&o.p&&(!r||8&n)&&h(o,i,t,t[3],n,null,null),N(e,s=$t(a,[2&n&&t[1],(!r||1&n)&&{class:t[0]}]))},i(t){r||(gt(o,t),r=!0)},o(t){vt(o,t),r=!1},d(t){t&&I(e),o&&o.d(t)}}}function me(t,e,r){let i;const o=["class"];let a=d(e,o),{$$slots:s={},$$scope:u}=e,{class:c=""}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(1,a=d(e,o)),"class"in t&&r(2,c=t.class),"$$scope"in t&&r(3,u=t.$$scope)},t.$$.update=()=>{4&t.$$.dirty&&r(0,i=zt(c,"card-body"))},[i,a,c,u,s]}class ye extends Nt{constructor(t){super(),At(this,t,me,pe,s,{class:2})}}function ge(t){let e,r;const i=t[4].default,o=c(i,t,t[3],null);let a=[t[1],{class:t[0]}],s={};for(let t=0;t<a.length;t+=1)s=n(s,a[t]);return{c(){e=E("div"),o&&o.c(),N(e,s)},m(t,n){w(t,e,n),o&&o.m(e,null),r=!0},p(t,[n]){o&&o.p&&(!r||8&n)&&h(o,i,t,t[3],n,null,null),N(e,s=$t(a,[2&n&&t[1],(!r||1&n)&&{class:t[0]}]))},i(t){r||(gt(o,t),r=!0)},o(t){vt(o,t),r=!1},d(t){t&&I(e),o&&o.d(t)}}}function ve(t,e,r){let i;const o=["class"];let a=d(e,o),{$$slots:s={},$$scope:u}=e,{class:c=""}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(1,a=d(e,o)),"class"in t&&r(2,c=t.class),"$$scope"in t&&r(3,u=t.$$scope)},t.$$.update=()=>{4&t.$$.dirty&&r(0,i=zt(c,"card-footer"))},[i,a,c,u,s]}class be extends Nt{constructor(t){super(),At(this,t,ve,ge,s,{class:2})}}function we(t){let e,r,i;const o=t[10].default,a=c(o,t,t[9],null);let s=[t[1],{class:r=t[0].join(" ")}],u={};for(let t=0;t<s.length;t+=1)u=n(u,s[t]);return{c(){e=E("div"),a&&a.c(),N(e,u)},m(t,n){w(t,e,n),a&&a.m(e,null),i=!0},p(t,[n]){a&&a.p&&(!i||512&n)&&h(a,o,t,t[9],n,null,null),N(e,u=$t(s,[2&n&&t[1],{class:r}]))},i(t){i||(gt(a,t),i=!0)},o(t){vt(a,t),i=!1},d(t){t&&I(e),a&&a.d(t)}}}function Ie(t,e,r){const i=["class","xs","sm","md","lg","xl","xxl"];let o=d(e,i),{$$slots:a={},$$scope:s}=e,{class:u=""}=e,{xs:c}=e,{sm:l}=e,{md:h}=e,{lg:p}=e,{xl:m}=e,{xxl:y}=e;const g=[],v={xs:c,sm:l,md:h,lg:p,xl:m,xxl:y};return Object.keys(v).forEach((t=>{const e=v[t];if(!e&&""!==e)return;const n="xs"===t;if(function(t){const e=typeof t;return null!=t&&("object"==e||"function"==e)}(e)){const r=n?"-":`-${t}-`,i=Wt(n,t,e.size);(e.size||""===e.size)&&g.push(i),e.push&&g.push(`push${r}${e.push}`),e.pull&&g.push(`pull${r}${e.pull}`),e.offset&&g.push(`offset${r}${e.offset}`)}else g.push(Wt(n,t,e))})),g.length||g.push("col"),u&&g.push(u),t.$$set=t=>{e=n(n({},e),f(t)),r(1,o=d(e,i)),"class"in t&&r(2,u=t.class),"xs"in t&&r(3,c=t.xs),"sm"in t&&r(4,l=t.sm),"md"in t&&r(5,h=t.md),"lg"in t&&r(6,p=t.lg),"xl"in t&&r(7,m=t.xl),"xxl"in t&&r(8,y=t.xxl),"$$scope"in t&&r(9,s=t.$$scope)},[g,o,u,c,l,h,p,m,y,s,a]}class $e extends Nt{constructor(t){super(),At(this,t,Ie,we,s,{class:2,xs:3,sm:4,md:5,lg:6,xl:7,xxl:8})}}function Ee(t){let e,r;const i=t[10].default,o=c(i,t,t[9],null);let a=[t[1],{class:t[0]}],s={};for(let t=0;t<a.length;t+=1)s=n(s,a[t]);return{c(){e=E("div"),o&&o.c(),N(e,s)},m(t,n){w(t,e,n),o&&o.m(e,null),r=!0},p(t,[n]){o&&o.p&&(!r||512&n)&&h(o,i,t,t[9],n,null,null),N(e,s=$t(a,[2&n&&t[1],(!r||1&n)&&{class:t[0]}]))},i(t){r||(gt(o,t),r=!0)},o(t){vt(o,t),r=!1},d(t){t&&I(e),o&&o.d(t)}}}function Se(t,e,r){let i;const o=["class","sm","md","lg","xl","xxl","fluid"];let a=d(e,o),{$$slots:s={},$$scope:u}=e,{class:c=""}=e,{sm:l}=e,{md:h}=e,{lg:p}=e,{xl:m}=e,{xxl:y}=e,{fluid:g=!1}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(1,a=d(e,o)),"class"in t&&r(2,c=t.class),"sm"in t&&r(3,l=t.sm),"md"in t&&r(4,h=t.md),"lg"in t&&r(5,p=t.lg),"xl"in t&&r(6,m=t.xl),"xxl"in t&&r(7,y=t.xxl),"fluid"in t&&r(8,g=t.fluid),"$$scope"in t&&r(9,u=t.$$scope)},t.$$.update=()=>{508&t.$$.dirty&&r(0,i=zt(c,{"container-sm":l,"container-md":h,"container-lg":p,"container-xl":m,"container-xxl":y,"container-fluid":g,container:!(l||h||p||m||y||g)}))},[i,a,c,l,h,p,m,y,g,u,s]}class Te extends Nt{constructor(t){super(),At(this,t,Se,Ee,s,{class:2,sm:3,md:4,lg:5,xl:6,xxl:7,fluid:8})}}const ke=t=>({}),_e=t=>({});function Ae(t){let e,r,i,a=[t[10],{class:t[8]},{id:t[9]},{type:"checkbox"},{disabled:t[2]},{name:t[4]},{__value:t[6]}],s={};for(let t=0;t<a.length;t+=1)s=n(s,a[t]);return{c(){e=E("input"),N(e,s)},m(n,o){w(n,e,o),e.checked=t[0],r||(i=[_(e,"blur",t[27]),_(e,"change",t[28]),_(e,"focus",t[29]),_(e,"input",t[30]),_(e,"change",t[34])],r=!0)},p(t,n){N(e,s=$t(a,[1024&n[0]&&t[10],256&n[0]&&{class:t[8]},512&n[0]&&{id:t[9]},{type:"checkbox"},4&n[0]&&{disabled:t[2]},16&n[0]&&{name:t[4]},64&n[0]&&{__value:t[6]}])),1&n[0]&&(e.checked=t[0])},d(t){t&&I(e),r=!1,o(i)}}}function Ne(t){let e,r,i,a=[t[10],{class:t[8]},{id:t[9]},{type:"checkbox"},{disabled:t[2]},{name:t[4]},{__value:t[6]}],s={};for(let t=0;t<a.length;t+=1)s=n(s,a[t]);return{c(){e=E("input"),N(e,s)},m(n,o){w(n,e,o),e.checked=t[0],r||(i=[_(e,"blur",t[23]),_(e,"change",t[24]),_(e,"focus",t[25]),_(e,"input",t[26]),_(e,"change",t[33])],r=!0)},p(t,n){N(e,s=$t(a,[1024&n[0]&&t[10],256&n[0]&&{class:t[8]},512&n[0]&&{id:t[9]},{type:"checkbox"},4&n[0]&&{disabled:t[2]},16&n[0]&&{name:t[4]},64&n[0]&&{__value:t[6]}])),1&n[0]&&(e.checked=t[0])},d(t){t&&I(e),r=!1,o(i)}}}function Ce(t){let e,r,i,a=[t[10],{class:t[8]},{id:t[9]},{type:"radio"},{disabled:t[2]},{name:t[4]},{__value:t[6]}],s={};for(let t=0;t<a.length;t+=1)s=n(s,a[t]);return{c(){e=E("input"),N(e,s),t[32][0].push(e)},m(n,o){w(n,e,o),e.checked=e.__value===t[1],r||(i=[_(e,"blur",t[19]),_(e,"change",t[20]),_(e,"focus",t[21]),_(e,"input",t[22]),_(e,"change",t[31])],r=!0)},p(t,n){N(e,s=$t(a,[1024&n[0]&&t[10],256&n[0]&&{class:t[8]},512&n[0]&&{id:t[9]},{type:"radio"},4&n[0]&&{disabled:t[2]},16&n[0]&&{name:t[4]},64&n[0]&&{__value:t[6]}])),2&n[0]&&(e.checked=e.__value===t[1])},d(n){n&&I(e),t[32][0].splice(t[32][0].indexOf(e),1),r=!1,o(i)}}}function xe(t){let e,n;const r=t[18].label,i=c(r,t,t[17],_e),o=i||function(t){let e;return{c(){e=S(t[3])},m(t,n){w(t,e,n)},p(t,n){8&n[0]&&x(e,t[3])},d(t){t&&I(e)}}}(t);return{c(){e=E("label"),o&&o.c(),A(e,"class","form-check-label"),A(e,"for",t[9])},m(t,r){w(t,e,r),o&&o.m(e,null),n=!0},p(t,a){i?i.p&&(!n||131072&a[0])&&h(i,r,t,t[17],a,ke,_e):o&&o.p&&8&a[0]&&o.p(t,a),(!n||512&a[0])&&A(e,"for",t[9])},i(t){n||(gt(o,t),n=!0)},o(t){vt(o,t),n=!1},d(t){t&&I(e),o&&o.d(t)}}}function De(t){let e,n,r;function i(t,e){return"radio"===t[5]?Ce:"switch"===t[5]?Ne:Ae}let o=i(t),a=o(t),s=t[3]&&xe(t);return{c(){e=E("div"),a.c(),n=T(),s&&s.c(),A(e,"class",t[7])},m(t,i){w(t,e,i),a.m(e,null),b(e,n),s&&s.m(e,null),r=!0},p(t,u){o===(o=i(t))&&a?a.p(t,u):(a.d(1),a=o(t),a&&(a.c(),a.m(e,n))),t[3]?s?(s.p(t,u),8&u[0]&&gt(s,1)):(s=xe(t),s.c(),gt(s,1),s.m(e,null)):s&&(mt(),vt(s,1,1,(()=>{s=null})),yt()),(!r||128&u[0])&&A(e,"class",t[7])},i(t){r||(gt(s),r=!0)},o(t){vt(s),r=!1},d(t){t&&I(e),a.d(),s&&s.d()}}}function Oe(t,e,r){let i,o,a;const s=["class","size","checked","disabled","group","id","inline","invalid","label","name","type","valid","value"];let u=d(e,s),{$$slots:c={},$$scope:l}=e,{class:h=""}=e,{size:p=""}=e,{checked:m=!1}=e,{disabled:y=!1}=e,{group:g}=e,{id:v}=e,{inline:b=!1}=e,{invalid:w=!1}=e,{label:I=""}=e,{name:$=""}=e,{type:E="checkbox"}=e,{valid:S=!1}=e,{value:T}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(10,u=d(e,s)),"class"in t&&r(11,h=t.class),"size"in t&&r(12,p=t.size),"checked"in t&&r(0,m=t.checked),"disabled"in t&&r(2,y=t.disabled),"group"in t&&r(1,g=t.group),"id"in t&&r(13,v=t.id),"inline"in t&&r(14,b=t.inline),"invalid"in t&&r(15,w=t.invalid),"label"in t&&r(3,I=t.label),"name"in t&&r(4,$=t.name),"type"in t&&r(5,E=t.type),"valid"in t&&r(16,S=t.valid),"value"in t&&r(6,T=t.value),"$$scope"in t&&r(17,l=t.$$scope)},t.$$.update=()=>{22560&t.$$.dirty[0]&&r(7,i=zt(h,"form-check",{"form-switch":"switch"===E,"form-check-inline":b,[`form-control-${p}`]:p})),98304&t.$$.dirty[0]&&r(8,o=zt("form-check-input",{"is-invalid":w,"is-valid":S})),8200&t.$$.dirty[0]&&r(9,a=v||I)},[m,g,y,I,$,E,T,i,o,a,u,h,p,v,b,w,S,l,c,function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(){g=this.__value,r(1,g)},[[]],function(){m=this.checked,r(0,m)},function(){m=this.checked,r(0,m)}]}class Re extends Nt{constructor(t){super(),At(this,t,Oe,De,s,{class:11,size:12,checked:0,disabled:2,group:1,id:13,inline:14,invalid:15,label:3,name:4,type:5,valid:16,value:6},[-1,-1])}}function Pe(t){let e,r,i,a;const s=t[23].default,u=c(s,t,t[22],null);let l=[t[18],{class:t[15]},{name:t[10]},{disabled:t[6]},{readonly:t[12]}],f={};for(let t=0;t<l.length;t+=1)f=n(f,l[t]);return{c(){e=E("select"),u&&u.c(),N(e,f),void 0===t[4]&&ot((()=>t[155].call(e)))},m(n,o){w(n,e,o),u&&u.m(e,null),f.multiple&&P(e,f.value),R(e,t[4]),r=!0,i||(a=[_(e,"blur",t[127]),_(e,"change",t[128]),_(e,"focus",t[129]),_(e,"input",t[130]),_(e,"change",t[155])],i=!0)},p(t,n){u&&u.p&&(!r||4194304&n[0])&&h(u,s,t,t[22],n,null,null),N(e,f=$t(l,[262144&n[0]&&t[18],(!r||32768&n[0])&&{class:t[15]},(!r||1024&n[0])&&{name:t[10]},(!r||64&n[0])&&{disabled:t[6]},(!r||4096&n[0])&&{readonly:t[12]}])),300096&n[0]&&f.multiple&&P(e,f.value),16&n[0]&&R(e,t[4])},i(t){r||(gt(u,t),r=!0)},o(t){vt(u,t),r=!1},d(t){t&&I(e),u&&u.d(t),i=!1,o(a)}}}function Le(e){let r,i,a,s=[e[18],{class:e[15]},{disabled:e[6]},{name:e[10]},{placeholder:e[11]},{readOnly:e[12]}],u={};for(let t=0;t<s.length;t+=1)u=n(u,s[t]);return{c(){r=E("textarea"),N(r,u)},m(t,n){w(t,r,n),D(r,e[4]),i||(a=[_(r,"blur",e[120]),_(r,"change",e[121]),_(r,"focus",e[122]),_(r,"input",e[123]),_(r,"keydown",e[124]),_(r,"keypress",e[125]),_(r,"keyup",e[126]),_(r,"input",e[154])],i=!0)},p(t,e){N(r,u=$t(s,[262144&e[0]&&t[18],32768&e[0]&&{class:t[15]},64&e[0]&&{disabled:t[6]},1024&e[0]&&{name:t[10]},2048&e[0]&&{placeholder:t[11]},4096&e[0]&&{readOnly:t[12]}])),16&e[0]&&D(r,t[4])},i:t,o:t,d(t){t&&I(r),i=!1,o(a)}}}function Me(t){let e,n,r,i;const o=[Je,Ye,Xe,Qe,He,ze,Ke,We,Ge,qe,je,Be,Ve,Ue,Fe],a=[];function s(t,e){return"text"===t[13]?0:"password"===t[13]?1:"color"===t[13]?2:"email"===t[13]?3:"file"===t[13]?4:"checkbox"===t[13]||"radio"===t[13]||"switch"===t[13]?5:"url"===t[13]?6:"number"===t[13]?7:"date"===t[13]?8:"time"===t[13]?9:"datetime"===t[13]?10:"color"===t[13]?11:"range"===t[13]?12:"search"===t[13]?13:14}return e=s(t),n=a[e]=o[e](t),{c(){n.c(),r=k()},m(t,n){a[e].m(t,n),w(t,r,n),i=!0},p(t,i){let u=e;e=s(t),e===u?a[e].p(t,i):(mt(),vt(a[u],1,1,(()=>{a[u]=null})),yt(),n=a[e],n?n.p(t,i):(n=a[e]=o[e](t),n.c()),gt(n,1),n.m(r.parentNode,r))},i(t){i||(gt(n),i=!0)},o(t){vt(n),i=!1},d(t){a[e].d(t),t&&I(r)}}}function Fe(e){let r,i,a,s=[e[18],{type:e[13]},{readOnly:e[12]},{class:e[15]},{name:e[10]},{disabled:e[6]},{placeholder:e[11]},{value:e[4]}],u={};for(let t=0;t<s.length;t+=1)u=n(u,s[t]);return{c(){r=E("input"),N(r,u)},m(t,n){w(t,r,n),r.value=u.value,i||(a=[_(r,"blur",e[115]),_(r,"change",e[17]),_(r,"focus",e[116]),_(r,"input",e[17]),_(r,"keydown",e[117]),_(r,"keypress",e[118]),_(r,"keyup",e[119])],i=!0)},p(t,e){N(r,u=$t(s,[262144&e[0]&&t[18],8192&e[0]&&{type:t[13]},4096&e[0]&&{readOnly:t[12]},32768&e[0]&&{class:t[15]},1024&e[0]&&{name:t[10]},64&e[0]&&{disabled:t[6]},2048&e[0]&&{placeholder:t[11]},16&e[0]&&r.value!==t[4]&&{value:t[4]}])),"value"in u&&(r.value=u.value)},i:t,o:t,d(t){t&&I(r),i=!1,o(a)}}}function Ue(e){let r,i,a,s=[e[18],{type:"search"},{readOnly:e[12]},{class:e[15]},{name:e[10]},{disabled:e[6]},{placeholder:e[11]}],u={};for(let t=0;t<s.length;t+=1)u=n(u,s[t]);return{c(){r=E("input"),N(r,u)},m(t,n){w(t,r,n),D(r,e[4]),i||(a=[_(r,"blur",e[108]),_(r,"change",e[109]),_(r,"focus",e[110]),_(r,"input",e[111]),_(r,"keydown",e[112]),_(r,"keypress",e[113]),_(r,"keyup",e[114]),_(r,"input",e[153])],i=!0)},p(t,e){N(r,u=$t(s,[262144&e[0]&&t[18],{type:"search"},4096&e[0]&&{readOnly:t[12]},32768&e[0]&&{class:t[15]},1024&e[0]&&{name:t[10]},64&e[0]&&{disabled:t[6]},2048&e[0]&&{placeholder:t[11]}])),16&e[0]&&D(r,t[4])},i:t,o:t,d(t){t&&I(r),i=!1,o(a)}}}function Ve(e){let r,i,a,s=[e[18],{type:"range"},{readOnly:e[12]},{class:e[15]},{name:e[10]},{disabled:e[6]},{placeholder:e[11]}],u={};for(let t=0;t<s.length;t+=1)u=n(u,s[t]);return{c(){r=E("input"),N(r,u)},m(t,n){w(t,r,n),D(r,e[4]),i||(a=[_(r,"blur",e[101]),_(r,"change",e[102]),_(r,"focus",e[103]),_(r,"input",e[104]),_(r,"keydown",e[105]),_(r,"keypress",e[106]),_(r,"keyup",e[107]),_(r,"change",e[152]),_(r,"input",e[152])],i=!0)},p(t,e){N(r,u=$t(s,[262144&e[0]&&t[18],{type:"range"},4096&e[0]&&{readOnly:t[12]},32768&e[0]&&{class:t[15]},1024&e[0]&&{name:t[10]},64&e[0]&&{disabled:t[6]},2048&e[0]&&{placeholder:t[11]}])),16&e[0]&&D(r,t[4])},i:t,o:t,d(t){t&&I(r),i=!1,o(a)}}}function Be(e){let r,i,a,s=[e[18],{type:"color"},{readOnly:e[12]},{class:e[15]},{name:e[10]},{disabled:e[6]},{placeholder:e[11]}],u={};for(let t=0;t<s.length;t+=1)u=n(u,s[t]);return{c(){r=E("input"),N(r,u)},m(t,n){w(t,r,n),D(r,e[4]),i||(a=[_(r,"blur",e[94]),_(r,"change",e[95]),_(r,"focus",e[96]),_(r,"input",e[97]),_(r,"keydown",e[98]),_(r,"keypress",e[99]),_(r,"keyup",e[100]),_(r,"input",e[151])],i=!0)},p(t,e){N(r,u=$t(s,[262144&e[0]&&t[18],{type:"color"},4096&e[0]&&{readOnly:t[12]},32768&e[0]&&{class:t[15]},1024&e[0]&&{name:t[10]},64&e[0]&&{disabled:t[6]},2048&e[0]&&{placeholder:t[11]}])),16&e[0]&&D(r,t[4])},i:t,o:t,d(t){t&&I(r),i=!1,o(a)}}}function je(e){let r,i,a,s=[e[18],{type:"datetime"},{readOnly:e[12]},{class:e[15]},{name:e[10]},{disabled:e[6]},{placeholder:e[11]}],u={};for(let t=0;t<s.length;t+=1)u=n(u,s[t]);return{c(){r=E("input"),N(r,u)},m(t,n){w(t,r,n),D(r,e[4]),i||(a=[_(r,"blur",e[87]),_(r,"change",e[88]),_(r,"focus",e[89]),_(r,"input",e[90]),_(r,"keydown",e[91]),_(r,"keypress",e[92]),_(r,"keyup",e[93]),_(r,"input",e[150])],i=!0)},p(t,e){N(r,u=$t(s,[262144&e[0]&&t[18],{type:"datetime"},4096&e[0]&&{readOnly:t[12]},32768&e[0]&&{class:t[15]},1024&e[0]&&{name:t[10]},64&e[0]&&{disabled:t[6]},2048&e[0]&&{placeholder:t[11]}])),16&e[0]&&D(r,t[4])},i:t,o:t,d(t){t&&I(r),i=!1,o(a)}}}function qe(e){let r,i,a,s=[e[18],{class:e[15]},{type:"time"},{disabled:e[6]},{name:e[10]},{placeholder:e[11]},{readOnly:e[12]}],u={};for(let t=0;t<s.length;t+=1)u=n(u,s[t]);return{c(){r=E("input"),N(r,u)},m(t,n){w(t,r,n),D(r,e[4]),i||(a=[_(r,"blur",e[80]),_(r,"change",e[81]),_(r,"focus",e[82]),_(r,"input",e[83]),_(r,"keydown",e[84]),_(r,"keypress",e[85]),_(r,"keyup",e[86]),_(r,"input",e[149])],i=!0)},p(t,e){N(r,u=$t(s,[262144&e[0]&&t[18],32768&e[0]&&{class:t[15]},{type:"time"},64&e[0]&&{disabled:t[6]},1024&e[0]&&{name:t[10]},2048&e[0]&&{placeholder:t[11]},4096&e[0]&&{readOnly:t[12]}])),16&e[0]&&D(r,t[4])},i:t,o:t,d(t){t&&I(r),i=!1,o(a)}}}function Ge(e){let r,i,a,s=[e[18],{class:e[15]},{type:"date"},{disabled:e[6]},{name:e[10]},{placeholder:e[11]},{readOnly:e[12]}],u={};for(let t=0;t<s.length;t+=1)u=n(u,s[t]);return{c(){r=E("input"),N(r,u)},m(t,n){w(t,r,n),D(r,e[4]),i||(a=[_(r,"blur",e[73]),_(r,"change",e[74]),_(r,"focus",e[75]),_(r,"input",e[76]),_(r,"keydown",e[77]),_(r,"keypress",e[78]),_(r,"keyup",e[79]),_(r,"input",e[148])],i=!0)},p(t,e){N(r,u=$t(s,[262144&e[0]&&t[18],32768&e[0]&&{class:t[15]},{type:"date"},64&e[0]&&{disabled:t[6]},1024&e[0]&&{name:t[10]},2048&e[0]&&{placeholder:t[11]},4096&e[0]&&{readOnly:t[12]}])),16&e[0]&&D(r,t[4])},i:t,o:t,d(t){t&&I(r),i=!1,o(a)}}}function We(e){let r,i,a,s=[e[18],{class:e[15]},{type:"number"},{readOnly:e[12]},{name:e[10]},{disabled:e[6]},{placeholder:e[11]}],u={};for(let t=0;t<s.length;t+=1)u=n(u,s[t]);return{c(){r=E("input"),N(r,u)},m(t,n){w(t,r,n),D(r,e[4]),i||(a=[_(r,"blur",e[66]),_(r,"change",e[67]),_(r,"focus",e[68]),_(r,"input",e[69]),_(r,"keydown",e[70]),_(r,"keypress",e[71]),_(r,"keyup",e[72]),_(r,"input",e[147])],i=!0)},p(t,e){N(r,u=$t(s,[262144&e[0]&&t[18],32768&e[0]&&{class:t[15]},{type:"number"},4096&e[0]&&{readOnly:t[12]},1024&e[0]&&{name:t[10]},64&e[0]&&{disabled:t[6]},2048&e[0]&&{placeholder:t[11]}])),16&e[0]&&C(r.value)!==t[4]&&D(r,t[4])},i:t,o:t,d(t){t&&I(r),i=!1,o(a)}}}function Ke(e){let r,i,a,s=[e[18],{class:e[15]},{type:"url"},{disabled:e[6]},{name:e[10]},{placeholder:e[11]},{readOnly:e[12]}],u={};for(let t=0;t<s.length;t+=1)u=n(u,s[t]);return{c(){r=E("input"),N(r,u)},m(t,n){w(t,r,n),D(r,e[4]),i||(a=[_(r,"blur",e[59]),_(r,"change",e[60]),_(r,"focus",e[61]),_(r,"input",e[62]),_(r,"keydown",e[63]),_(r,"keypress",e[64]),_(r,"keyup",e[65]),_(r,"input",e[146])],i=!0)},p(t,e){N(r,u=$t(s,[262144&e[0]&&t[18],32768&e[0]&&{class:t[15]},{type:"url"},64&e[0]&&{disabled:t[6]},1024&e[0]&&{name:t[10]},2048&e[0]&&{placeholder:t[11]},4096&e[0]&&{readOnly:t[12]}])),16&e[0]&&D(r,t[4])},i:t,o:t,d(t){t&&I(r),i=!1,o(a)}}}function ze(t){let e,r,i,o,a;const s=[t[18],{class:t[5]},{size:t[0]},{type:t[13]},{disabled:t[6]},{invalid:t[7]},{label:t[8]},{name:t[10]},{placeholder:t[11]},{readonly:t[12]},{valid:t[14]}];function u(e){t[136](e)}function c(e){t[137](e)}function l(e){t[138](e)}let h={};for(let t=0;t<s.length;t+=1)h=n(h,s[t]);return void 0!==t[1]&&(h.checked=t[1]),void 0!==t[3]&&(h.group=t[3]),void 0!==t[4]&&(h.value=t[4]),e=new Re({props:h}),J.push((()=>St(e,"checked",u))),J.push((()=>St(e,"group",c))),J.push((()=>St(e,"value",l))),e.$on("blur",t[139]),e.$on("change",t[140]),e.$on("focus",t[141]),e.$on("input",t[142]),e.$on("keydown",t[143]),e.$on("keypress",t[144]),e.$on("keyup",t[145]),{c(){Tt(e.$$.fragment)},m(t,n){kt(e,t,n),a=!0},p(t,n){const a=294369&n[0]?$t(s,[262144&n[0]&&Et(t[18]),32&n[0]&&{class:t[5]},1&n[0]&&{size:t[0]},8192&n[0]&&{type:t[13]},64&n[0]&&{disabled:t[6]},128&n[0]&&{invalid:t[7]},256&n[0]&&{label:t[8]},1024&n[0]&&{name:t[10]},2048&n[0]&&{placeholder:t[11]},4096&n[0]&&{readonly:t[12]},16384&n[0]&&{valid:t[14]}]):{};!r&&2&n[0]&&(r=!0,a.checked=t[1],at((()=>r=!1))),!i&&8&n[0]&&(i=!0,a.group=t[3],at((()=>i=!1))),!o&&16&n[0]&&(o=!0,a.value=t[4],at((()=>o=!1))),e.$set(a)},i(t){a||(gt(e.$$.fragment,t),a=!0)},o(t){vt(e.$$.fragment,t),a=!1},d(t){_t(e,t)}}}function He(e){let r,i,a,s=[e[18],{class:e[15]},{type:"file"},{disabled:e[6]},{invalid:e[7]},{multiple:e[9]},{name:e[10]},{placeholder:e[11]},{readOnly:e[12]},{valid:e[14]}],u={};for(let t=0;t<s.length;t+=1)u=n(u,s[t]);return{c(){r=E("input"),N(r,u)},m(t,n){w(t,r,n),i||(a=[_(r,"blur",e[52]),_(r,"change",e[53]),_(r,"focus",e[54]),_(r,"input",e[55]),_(r,"keydown",e[56]),_(r,"keypress",e[57]),_(r,"keyup",e[58]),_(r,"change",e[135])],i=!0)},p(t,e){N(r,u=$t(s,[262144&e[0]&&t[18],32768&e[0]&&{class:t[15]},{type:"file"},64&e[0]&&{disabled:t[6]},128&e[0]&&{invalid:t[7]},512&e[0]&&{multiple:t[9]},1024&e[0]&&{name:t[10]},2048&e[0]&&{placeholder:t[11]},4096&e[0]&&{readOnly:t[12]},16384&e[0]&&{valid:t[14]}]))},i:t,o:t,d(t){t&&I(r),i=!1,o(a)}}}function Qe(e){let r,i,a,s=[e[18],{class:e[15]},{type:"email"},{disabled:e[6]},{name:e[10]},{placeholder:e[11]},{readOnly:e[12]}],u={};for(let t=0;t<s.length;t+=1)u=n(u,s[t]);return{c(){r=E("input"),N(r,u)},m(t,n){w(t,r,n),D(r,e[4]),i||(a=[_(r,"blur",e[45]),_(r,"change",e[46]),_(r,"focus",e[47]),_(r,"input",e[48]),_(r,"keydown",e[49]),_(r,"keypress",e[50]),_(r,"keyup",e[51]),_(r,"input",e[134])],i=!0)},p(t,e){N(r,u=$t(s,[262144&e[0]&&t[18],32768&e[0]&&{class:t[15]},{type:"email"},64&e[0]&&{disabled:t[6]},1024&e[0]&&{name:t[10]},2048&e[0]&&{placeholder:t[11]},4096&e[0]&&{readOnly:t[12]}])),16&e[0]&&r.value!==t[4]&&D(r,t[4])},i:t,o:t,d(t){t&&I(r),i=!1,o(a)}}}function Xe(e){let r,i,a,s=[e[18],{class:e[15]},{type:"color"},{disabled:e[6]},{name:e[10]},{placeholder:e[11]},{readOnly:e[12]}],u={};for(let t=0;t<s.length;t+=1)u=n(u,s[t]);return{c(){r=E("input"),N(r,u)},m(t,n){w(t,r,n),D(r,e[4]),i||(a=[_(r,"blur",e[38]),_(r,"change",e[39]),_(r,"focus",e[40]),_(r,"input",e[41]),_(r,"keydown",e[42]),_(r,"keypress",e[43]),_(r,"keyup",e[44]),_(r,"input",e[133])],i=!0)},p(t,e){N(r,u=$t(s,[262144&e[0]&&t[18],32768&e[0]&&{class:t[15]},{type:"color"},64&e[0]&&{disabled:t[6]},1024&e[0]&&{name:t[10]},2048&e[0]&&{placeholder:t[11]},4096&e[0]&&{readOnly:t[12]}])),16&e[0]&&D(r,t[4])},i:t,o:t,d(t){t&&I(r),i=!1,o(a)}}}function Ye(e){let r,i,a,s=[e[18],{class:e[15]},{type:"password"},{disabled:e[6]},{name:e[10]},{placeholder:e[11]},{readOnly:e[12]}],u={};for(let t=0;t<s.length;t+=1)u=n(u,s[t]);return{c(){r=E("input"),N(r,u)},m(t,n){w(t,r,n),D(r,e[4]),i||(a=[_(r,"blur",e[31]),_(r,"change",e[32]),_(r,"focus",e[33]),_(r,"input",e[34]),_(r,"keydown",e[35]),_(r,"keypress",e[36]),_(r,"keyup",e[37]),_(r,"input",e[132])],i=!0)},p(t,e){N(r,u=$t(s,[262144&e[0]&&t[18],32768&e[0]&&{class:t[15]},{type:"password"},64&e[0]&&{disabled:t[6]},1024&e[0]&&{name:t[10]},2048&e[0]&&{placeholder:t[11]},4096&e[0]&&{readOnly:t[12]}])),16&e[0]&&r.value!==t[4]&&D(r,t[4])},i:t,o:t,d(t){t&&I(r),i=!1,o(a)}}}function Je(e){let r,i,a,s=[e[18],{class:e[15]},{type:"text"},{disabled:e[6]},{name:e[10]},{placeholder:e[11]},{readOnly:e[12]}],u={};for(let t=0;t<s.length;t+=1)u=n(u,s[t]);return{c(){r=E("input"),N(r,u)},m(t,n){w(t,r,n),D(r,e[4]),i||(a=[_(r,"blur",e[24]),_(r,"change",e[25]),_(r,"focus",e[26]),_(r,"input",e[27]),_(r,"keydown",e[28]),_(r,"keypress",e[29]),_(r,"keyup",e[30]),_(r,"input",e[131])],i=!0)},p(t,e){N(r,u=$t(s,[262144&e[0]&&t[18],32768&e[0]&&{class:t[15]},{type:"text"},64&e[0]&&{disabled:t[6]},1024&e[0]&&{name:t[10]},2048&e[0]&&{placeholder:t[11]},4096&e[0]&&{readOnly:t[12]}])),16&e[0]&&r.value!==t[4]&&D(r,t[4])},i:t,o:t,d(t){t&&I(r),i=!1,o(a)}}}function Ze(t){let e,n,r,i;const o=[Me,Le,Pe],a=[];function s(t,e){return"input"===t[16]?0:"textarea"===t[16]?1:"select"!==t[16]||t[9]?-1:2}return~(e=s(t))&&(n=a[e]=o[e](t)),{c(){n&&n.c(),r=k()},m(t,n){~e&&a[e].m(t,n),w(t,r,n),i=!0},p(t,i){let u=e;e=s(t),e===u?~e&&a[e].p(t,i):(n&&(mt(),vt(a[u],1,1,(()=>{a[u]=null})),yt()),~e?(n=a[e],n?n.p(t,i):(n=a[e]=o[e](t),n.c()),gt(n,1),n.m(r.parentNode,r)):n=null)},i(t){i||(gt(n),i=!0)},o(t){vt(n),i=!1},d(t){~e&&a[e].d(t),t&&I(r)}}}function tn(t,e,r){const i=["class","bsSize","checked","color","disabled","files","group","invalid","label","multiple","name","placeholder","plaintext","readonly","size","type","valid","value"];let o,a,s=d(e,i),{$$slots:u={},$$scope:c}=e,{class:l=""}=e,{bsSize:h}=e,{checked:p=!1}=e,{color:m}=e,{disabled:y}=e,{files:g}=e,{group:v}=e,{invalid:b=!1}=e,{label:w}=e,{multiple:I}=e,{name:$=""}=e,{placeholder:E=""}=e,{plaintext:S=!1}=e,{readonly:T}=e,{size:k}=e,{type:_="text"}=e,{valid:A=!1}=e,{value:N=""}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(18,s=d(e,i)),"class"in t&&r(5,l=t.class),"bsSize"in t&&r(0,h=t.bsSize),"checked"in t&&r(1,p=t.checked),"color"in t&&r(20,m=t.color),"disabled"in t&&r(6,y=t.disabled),"files"in t&&r(2,g=t.files),"group"in t&&r(3,v=t.group),"invalid"in t&&r(7,b=t.invalid),"label"in t&&r(8,w=t.label),"multiple"in t&&r(9,I=t.multiple),"name"in t&&r(10,$=t.name),"placeholder"in t&&r(11,E=t.placeholder),"plaintext"in t&&r(21,S=t.plaintext),"readonly"in t&&r(12,T=t.readonly),"size"in t&&r(19,k=t.size),"type"in t&&r(13,_=t.type),"valid"in t&&r(14,A=t.valid),"value"in t&&r(4,N=t.value),"$$scope"in t&&r(22,c=t.$$scope)},t.$$.update=()=>{if(3694753&t.$$.dirty[0]){const t=new RegExp("\\D","g");let e=!1,n="form-control";switch(r(16,a="input"),_){case"color":n="form-control form-control-color";break;case"range":n="form-range";break;case"select":n="form-select",r(16,a="select");break;case"textarea":r(16,a="textarea");break;case"button":case"reset":case"submit":n=`btn btn-${m||"secondary"}`,e=!0;break;case"hidden":case"image":n=void 0;break;default:n="form-control",r(16,a="input")}S&&(n=`${n}-plaintext`,r(16,a="input")),k&&t.test(k)&&(console.warn('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),r(0,h=k),r(19,k=void 0)),r(15,o=zt(l,n,{"is-invalid":b,"is-valid":A,[`form-control-${h}`]:h&&!e,[`btn-${h}`]:h&&e}))}},[h,p,g,v,N,l,y,b,w,I,$,E,T,_,A,o,a,t=>{r(4,N=t.target.value)},s,k,m,S,c,u,function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(){N=this.value,r(4,N)},function(){N=this.value,r(4,N)},function(){N=this.value,r(4,N)},function(){N=this.value,r(4,N)},function(){g=this.files,N=this.value,r(2,g),r(4,N)},function(t){p=t,r(1,p)},function(t){v=t,r(3,v)},function(t){N=t,r(4,N)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(e){X(t,e)},function(){N=this.value,r(4,N)},function(){N=C(this.value),r(4,N)},function(){N=this.value,r(4,N)},function(){N=this.value,r(4,N)},function(){N=this.value,r(4,N)},function(){N=this.value,r(4,N)},function(){N=C(this.value),r(4,N)},function(){N=this.value,r(4,N)},function(){N=this.value,r(4,N)},function(){N=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),r(4,N)}]}class en extends Nt{constructor(t){super(),At(this,t,tn,Ze,s,{class:5,bsSize:0,checked:1,color:20,disabled:6,files:2,group:3,invalid:7,label:8,multiple:9,name:10,placeholder:11,plaintext:21,readonly:12,size:19,type:13,valid:14,value:4},[-1,-1,-1,-1,-1,-1])}}function nn(t){let e,r;const i=t[5].default,o=c(i,t,t[4],null);let a=[t[1],{class:t[0]}],s={};for(let t=0;t<a.length;t+=1)s=n(s,a[t]);return{c(){e=E("div"),o&&o.c(),N(e,s)},m(t,n){w(t,e,n),o&&o.m(e,null),r=!0},p(t,[n]){o&&o.p&&(!r||16&n)&&h(o,i,t,t[4],n,null,null),N(e,s=$t(a,[2&n&&t[1],(!r||1&n)&&{class:t[0]}]))},i(t){r||(gt(o,t),r=!0)},o(t){vt(o,t),r=!1},d(t){t&&I(e),o&&o.d(t)}}}function rn(t,e,r){let i;const o=["class","size"];let a=d(e,o),{$$slots:s={},$$scope:u}=e,{class:c=""}=e,{size:l=""}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(1,a=d(e,o)),"class"in t&&r(2,c=t.class),"size"in t&&r(3,l=t.size),"$$scope"in t&&r(4,u=t.$$scope)},t.$$.update=()=>{12&t.$$.dirty&&r(0,i=zt(c,"input-group",l?`input-group-${l}`:null))},[i,a,c,l,u,s]}class on extends Nt{constructor(t){super(),At(this,t,rn,nn,s,{class:2,size:3})}}function an(t){let e,n;const r=t[3].default,i=c(r,t,t[2],null);return{c(){e=E("div"),i&&i.c(),A(e,"class",t[0])},m(t,r){w(t,e,r),i&&i.m(e,null),n=!0},p(t,[o]){i&&i.p&&(!n||4&o)&&h(i,r,t,t[2],o,null,null),(!n||1&o)&&A(e,"class",t[0])},i(t){n||(gt(i,t),n=!0)},o(t){vt(i,t),n=!1},d(t){t&&I(e),i&&i.d(t)}}}function sn(t,e,n){let r,{$$slots:i={},$$scope:o}=e,{class:a=""}=e;return t.$$set=t=>{"class"in t&&n(1,a=t.class),"$$scope"in t&&n(2,o=t.$$scope)},t.$$.update=()=>{2&t.$$.dirty&&n(0,r=zt(a,"p-5 mb-4 bg-light rounded-3"))},[r,a,o,i]}class un extends Nt{constructor(t){super(),At(this,t,sn,an,s,{class:1})}}function cn(t){let e,n;const r=t[1].default,i=c(r,t,t[0],null);return{c(){e=E("div"),i&&i.c()},m(t,r){w(t,e,r),i&&i.m(e,null),n=!0},p(t,[e]){i&&i.p&&(!n||1&e)&&h(i,r,t,t[0],e,null,null)},i(t){n||(gt(i,t),n=!0)},o(t){vt(i,t),n=!1},d(t){t&&I(e),i&&i.d(t)}}}function ln(t,e,n){let{$$slots:r={},$$scope:i}=e;return t.$$set=t=>{"$$scope"in t&&n(0,i=t.$$scope)},[i,r]}class hn extends Nt{constructor(t){super(),At(this,t,ln,cn,s,{})}}function fn(t){let e,r;const i=t[4].default,o=c(i,t,t[3],null);let a=[t[1],{class:t[0]}],s={};for(let t=0;t<a.length;t+=1)s=n(s,a[t]);return{c(){e=E("div"),o&&o.c(),N(e,s)},m(t,n){w(t,e,n),o&&o.m(e,null),r=!0},p(t,[n]){o&&o.p&&(!r||8&n)&&h(o,i,t,t[3],n,null,null),N(e,s=$t(a,[2&n&&t[1],(!r||1&n)&&{class:t[0]}]))},i(t){r||(gt(o,t),r=!0)},o(t){vt(o,t),r=!1},d(t){t&&I(e),o&&o.d(t)}}}function dn(t,e,r){let i;const o=["class"];let a=d(e,o),{$$slots:s={},$$scope:u}=e,{class:c=""}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(1,a=d(e,o)),"class"in t&&r(2,c=t.class),"$$scope"in t&&r(3,u=t.$$scope)},t.$$.update=()=>{4&t.$$.dirty&&r(0,i=zt(c,"modal-body"))},[i,a,c,u,s]}class pn extends Nt{constructor(t){super(),At(this,t,dn,fn,s,{class:2})}}const mn=t=>({}),yn=t=>({});function gn(t){let e;const n=t[7].default,r=c(n,t,t[6],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||64&i)&&h(r,n,t,t[6],i,null,null)},i(t){e||(gt(r,t),e=!0)},o(t){vt(r,t),e=!1},d(t){r&&r.d(t)}}}function vn(e){let n;return{c(){n=S(e[2])},m(t,e){w(t,n,e)},p(t,e){4&e&&x(n,t[2])},i:t,o:t,d(t){t&&I(n)}}}function bn(t){let e,n,r;return{c(){e=E("button"),A(e,"type","button"),A(e,"class","btn-close"),A(e,"aria-label",t[1])},m(i,o){w(i,e,o),n||(r=_(e,"click",(function(){a(t[0])&&t[0].apply(this,arguments)})),n=!0)},p(n,r){t=n,2&r&&A(e,"aria-label",t[1])},d(t){t&&I(e),n=!1,r()}}}function wn(t){let e,r,i,o,a,s;const u=[vn,gn],l=[];function f(t,e){return t[2]?0:1}i=f(t),o=l[i]=u[i](t);const d=t[7].close,p=c(d,t,t[6],yn),m=p||function(t){let e,n="function"==typeof t[0]&&bn(t);return{c(){n&&n.c(),e=k()},m(t,r){n&&n.m(t,r),w(t,e,r)},p(t,r){"function"==typeof t[0]?n?n.p(t,r):(n=bn(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&I(e)}}}(t);let y=[t[4],{class:t[3]}],g={};for(let t=0;t<y.length;t+=1)g=n(g,y[t]);return{c(){e=E("div"),r=E("h5"),o.c(),a=T(),m&&m.c(),A(r,"class","modal-title"),N(e,g)},m(t,n){w(t,e,n),b(e,r),l[i].m(r,null),b(e,a),m&&m.m(e,null),s=!0},p(t,[n]){let a=i;i=f(t),i===a?l[i].p(t,n):(mt(),vt(l[a],1,1,(()=>{l[a]=null})),yt(),o=l[i],o?o.p(t,n):(o=l[i]=u[i](t),o.c()),gt(o,1),o.m(r,null)),p?p.p&&(!s||64&n)&&h(p,d,t,t[6],n,mn,yn):m&&m.p&&3&n&&m.p(t,n),N(e,g=$t(y,[16&n&&t[4],(!s||8&n)&&{class:t[3]}]))},i(t){s||(gt(o),gt(m,t),s=!0)},o(t){vt(o),vt(m,t),s=!1},d(t){t&&I(e),l[i].d(),m&&m.d(t)}}}function In(t,e,r){let i;const o=["class","toggle","closeAriaLabel","children"];let a=d(e,o),{$$slots:s={},$$scope:u}=e,{class:c=""}=e,{toggle:l}=e,{closeAriaLabel:h="Close"}=e,{children:p}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(4,a=d(e,o)),"class"in t&&r(5,c=t.class),"toggle"in t&&r(0,l=t.toggle),"closeAriaLabel"in t&&r(1,h=t.closeAriaLabel),"children"in t&&r(2,p=t.children),"$$scope"in t&&r(6,u=t.$$scope)},t.$$.update=()=>{32&t.$$.dirty&&r(3,i=zt(c,"modal-header"))},[l,h,p,i,a,c,u,s]}class $n extends Nt{constructor(t){super(),At(this,t,In,wn,s,{class:5,toggle:0,closeAriaLabel:1,children:2})}}function En(t){let e,n;const r=t[2].default,i=c(r,t,t[1],null);return{c(){e=E("div"),i&&i.c()},m(r,o){w(r,e,o),i&&i.m(e,null),t[3](e),n=!0},p(t,[e]){i&&i.p&&(!n||2&e)&&h(i,r,t,t[1],e,null,null)},i(t){n||(gt(i,t),n=!0)},o(t){vt(i,t),n=!1},d(n){n&&I(e),i&&i.d(n),t[3](null)}}}function Sn(t,e,n){let r,i,{$$slots:o={},$$scope:a}=e;return W((()=>{i=document.createElement("div"),document.body.appendChild(i),i.appendChild(r)})),z((()=>{document.body.removeChild(i)})),t.$$set=t=>{"$$scope"in t&&n(1,a=t.$$scope)},[r,a,o,function(t){J[t?"unshift":"push"]((()=>{r=t,n(0,r)}))}]}class Tn extends Nt{constructor(t){super(),At(this,t,Sn,En,s,{})}}const kn=t=>({}),_n=t=>({});function An(t){let e,n,r;var i=t[17];function o(t){return{props:{$$slots:{default:[Ln]},$$scope:{ctx:t}}}}return i&&(e=new i(o(t))),{c(){e&&Tt(e.$$.fragment),n=k()},m(t,i){e&&kt(e,t,i),w(t,n,i),r=!0},p(t,r){const a={};if(8499199&r[0]|128&r[1]&&(a.$$scope={dirty:r,ctx:t}),i!==(i=t[17])){if(e){mt();const t=e;vt(t.$$.fragment,1,0,(()=>{_t(t,1)})),yt()}i?(e=new i(o(t)),Tt(e.$$.fragment),gt(e.$$.fragment,1),kt(e,n.parentNode,n)):e=null}else i&&e.$set(a)},i(t){r||(e&&gt(e.$$.fragment,t),r=!0)},o(t){e&&vt(e.$$.fragment,t),r=!1},d(t){t&&I(n),e&&_t(e,t)}}}function Nn(t){let e,n,r,i,a,s,u,l,f,d,p,m,y,g,v;const $=t[34].external,S=c($,t,t[38],_n);let N=t[3]&&Cn(t);const C=[On,Dn],x=[];function D(t,e){return t[2]?0:1}s=D(t),u=x[s]=C[s](t);let O=t[6]&&!t[0]&&Pn(t);return{c(){e=E("div"),S&&S.c(),n=T(),r=E("div"),i=E("div"),N&&N.c(),a=T(),u.c(),p=T(),O&&O.c(),m=k(),A(i,"class",l=zt("modal-content",t[10])),A(r,"class",t[16]),A(r,"role","document"),A(e,"arialabelledby",t[5]),A(e,"class",f=zt("modal",t[8],{show:t[1],"d-block":t[1],"d-none":!t[1],"position-static":t[0]})),A(e,"role","dialog")},m(o,u){w(o,e,u),S&&S.m(e,null),b(e,n),b(e,r),b(r,i),N&&N.m(i,null),b(i,a),x[s].m(i,null),t[35](r),w(o,p,u),O&&O.m(o,u),w(o,m,u),y=!0,g||(v=[_(e,"introstart",t[36]),_(e,"introend",t[20]),_(e,"outrostart",t[37]),_(e,"outroend",t[21]),_(e,"click",t[19]),_(e,"mousedown",t[22])],g=!0)},p(n,o){t=n,S&&S.p&&(!y||128&o[1])&&h(S,$,t,t[38],o,kn,_n),t[3]?N?(N.p(t,o),8&o[0]&&gt(N,1)):(N=Cn(t),N.c(),gt(N,1),N.m(i,a)):N&&(mt(),vt(N,1,1,(()=>{N=null})),yt());let c=s;s=D(t),s===c?x[s].p(t,o):(mt(),vt(x[c],1,1,(()=>{x[c]=null})),yt(),u=x[s],u?u.p(t,o):(u=x[s]=C[s](t),u.c()),gt(u,1),u.m(i,null)),(!y||1024&o[0]&&l!==(l=zt("modal-content",t[10])))&&A(i,"class",l),(!y||65536&o[0])&&A(r,"class",t[16]),(!y||32&o[0])&&A(e,"arialabelledby",t[5]),(!y||259&o[0]&&f!==(f=zt("modal",t[8],{show:t[1],"d-block":t[1],"d-none":!t[1],"position-static":t[0]})))&&A(e,"class",f),t[6]&&!t[0]?O?(O.p(t,o),65&o[0]&&gt(O,1)):(O=Pn(t),O.c(),gt(O,1),O.m(m.parentNode,m)):O&&(mt(),vt(O,1,1,(()=>{O=null})),yt())},i(n){y||(gt(S,n),gt(N),gt(u),ot((()=>{d||(d=wt(e,t[12],t[13],!0)),d.run(1)})),gt(O),y=!0)},o(n){vt(S,n),vt(N),vt(u),d||(d=wt(e,t[12],t[13],!1)),d.run(0),vt(O),y=!1},d(n){n&&I(e),S&&S.d(n),N&&N.d(),x[s].d(),t[35](null),n&&d&&d.end(),n&&I(p),O&&O.d(n),n&&I(m),g=!1,o(v)}}}function Cn(t){let e,n;return e=new $n({props:{toggle:t[4],$$slots:{default:[xn]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(t,n){const r={};16&n[0]&&(r.toggle=t[4]),8&n[0]|128&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function xn(t){let e;return{c(){e=S(t[3])},m(t,n){w(t,e,n)},p(t,n){8&n[0]&&x(e,t[3])},d(t){t&&I(e)}}}function Dn(t){let e;const n=t[34].default,r=c(n,t,t[38],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||128&i[1])&&h(r,n,t,t[38],i,null,null)},i(t){e||(gt(r,t),e=!0)},o(t){vt(r,t),e=!1},d(t){r&&r.d(t)}}}function On(t){let e,n;return e=new pn({props:{$$slots:{default:[Rn]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(t,n){const r={};128&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function Rn(t){let e;const n=t[34].default,r=c(n,t,t[38],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||128&i[1])&&h(r,n,t,t[38],i,null,null)},i(t){e||(gt(r,t),e=!0)},o(t){vt(r,t),e=!1},d(t){r&&r.d(t)}}}function Pn(t){let e,n,r,i;return{c(){e=E("div"),A(e,"class",n=zt("modal-backdrop","show",t[9]))},m(t,n){w(t,e,n),i=!0},p(r,o){t=r,(!i||512&o[0]&&n!==(n=zt("modal-backdrop","show",t[9])))&&A(e,"class",n)},i(n){i||(ot((()=>{r||(r=wt(e,Qt,{duration:t[11]},!0)),r.run(1)})),i=!0)},o(n){r||(r=wt(e,Qt,{duration:t[11]},!1)),r.run(0),i=!1},d(t){t&&I(e),t&&r&&r.end()}}}function Ln(t){let e,r,i=t[1]&&Nn(t),o=[{class:t[7]},{tabindex:"-1"},t[23]],a={};for(let t=0;t<o.length;t+=1)a=n(a,o[t]);return{c(){e=E("div"),i&&i.c(),N(e,a)},m(t,n){w(t,e,n),i&&i.m(e,null),r=!0},p(t,n){t[1]?i?(i.p(t,n),2&n[0]&&gt(i,1)):(i=Nn(t),i.c(),gt(i,1),i.m(e,null)):i&&(mt(),vt(i,1,1,(()=>{i=null})),yt()),N(e,a=$t(o,[(!r||128&n[0])&&{class:t[7]},{tabindex:"-1"},8388608&n[0]&&t[23]]))},i(t){r||(gt(i),r=!0)},o(t){vt(i),r=!1},d(t){t&&I(e),i&&i.d()}}}function Mn(t){let e,n,r=t[14]&&An(t);return{c(){r&&r.c(),e=k()},m(t,i){r&&r.m(t,i),w(t,e,i),n=!0},p(t,n){t[14]?r?(r.p(t,n),16384&n[0]&&gt(r,1)):(r=An(t),r.c(),gt(r,1),r.m(e.parentNode,e)):r&&(mt(),vt(r,1,1,(()=>{r=null})),yt())},i(t){n||(gt(r),n=!0)},o(t){vt(r),n=!1},d(t){r&&r.d(t),t&&I(e)}}}let Fn=0;const Un="modal-dialog";function Vn(t,e,r){let i,o;const a=["class","static","isOpen","autoFocus","body","centered","container","fullscreen","header","scrollable","size","toggle","labelledBy","backdrop","wrapClassName","modalClassName","backdropClassName","contentClassName","fade","backdropDuration","unmountOnClose","returnFocusAfterClose","transitionType","transitionOptions"];let s=d(e,a),{$$slots:u={},$$scope:c}=e;const l=H();let h,p,m,y,g,{class:v=""}=e,{static:b=!1}=e,{isOpen:w=!1}=e,{autoFocus:I=!0}=e,{body:$=!1}=e,{centered:E=!1}=e,{container:S}=e,{fullscreen:T=!1}=e,{header:k}=e,{scrollable:_=!1}=e,{size:A=""}=e,{toggle:N}=e,{labelledBy:C=""}=e,{backdrop:x=!0}=e,{wrapClassName:D=""}=e,{modalClassName:O=""}=e,{backdropClassName:R=""}=e,{contentClassName:P=""}=e,{fade:L=!0}=e,{backdropDuration:M=(L?150:0)}=e,{unmountOnClose:F=!0}=e,{returnFocusAfterClose:U=!0}=e,{transitionType:V=Qt}=e,{transitionOptions:B={duration:L?300:0}}=e,j=!1,q=!1,G=w,Q=j;function X(){m&&m.parentNode&&"function"==typeof m.parentNode.focus&&m.parentNode.focus()}function Y(){try{h=document.activeElement}catch(t){h=null}b||(p=function(){const t=window?window.getComputedStyle(document.body,null):{};return parseInt(t&&t.getPropertyValue("padding-right")||0,10)}(),Gt(),0===Fn&&(document.body.className=zt(document.body.className,"modal-open")),++Fn),r(14,q=!0)}function Z(){h&&("function"==typeof h.focus&&U&&h.focus(),h=null)}function tt(){Z()}function et(){if(Fn<=1){const t=new RegExp(`(^| )${"modal-open"}( |$)`);document.body.className=document.body.className.replace(t," ").trim()}Z(),Fn=Math.max(0,Fn-1),qt(p)}W((()=>{w&&(Y(),j=!0),j&&I&&X()})),z((()=>{tt(),j&&et()})),K((()=>{w&&!G&&(Y(),j=!0),I&&j&&!Q&&X(),G=w,Q=j}));return t.$$set=t=>{e=n(n({},e),f(t)),r(23,s=d(e,a)),"class"in t&&r(24,v=t.class),"static"in t&&r(0,b=t.static),"isOpen"in t&&r(1,w=t.isOpen),"autoFocus"in t&&r(25,I=t.autoFocus),"body"in t&&r(2,$=t.body),"centered"in t&&r(26,E=t.centered),"container"in t&&r(27,S=t.container),"fullscreen"in t&&r(28,T=t.fullscreen),"header"in t&&r(3,k=t.header),"scrollable"in t&&r(29,_=t.scrollable),"size"in t&&r(30,A=t.size),"toggle"in t&&r(4,N=t.toggle),"labelledBy"in t&&r(5,C=t.labelledBy),"backdrop"in t&&r(6,x=t.backdrop),"wrapClassName"in t&&r(7,D=t.wrapClassName),"modalClassName"in t&&r(8,O=t.modalClassName),"backdropClassName"in t&&r(9,R=t.backdropClassName),"contentClassName"in t&&r(10,P=t.contentClassName),"fade"in t&&r(31,L=t.fade),"backdropDuration"in t&&r(11,M=t.backdropDuration),"unmountOnClose"in t&&r(32,F=t.unmountOnClose),"returnFocusAfterClose"in t&&r(33,U=t.returnFocusAfterClose),"transitionType"in t&&r(12,V=t.transitionType),"transitionOptions"in t&&r(13,B=t.transitionOptions),"$$scope"in t&&r(38,c=t.$$scope)},t.$$.update=()=>{1962934272&t.$$.dirty[0]&&r(16,i=zt(Un,v,{[`modal-${A}`]:A,"modal-fullscreen":!0===T,[`modal-fullscreen-${T}-down`]:T&&"string"==typeof T,"modal-dialog-centered":E,"modal-dialog-scrollable":_})),134217729&t.$$.dirty[0]&&r(17,o="inline"===S||b?hn:Tn)},[b,w,$,k,N,C,x,D,O,R,P,M,V,B,q,m,i,o,l,function(t){if(t.target===y){if(t.stopPropagation(),!w||!x)return;const e=m?m.parentNode:null;e&&t.target===e&&N&&N(t)}},function(){l("open"),g=function(t,...e){return t.addEventListener(...e),()=>t.removeEventListener(...e)}(document,"keydown",(t=>{t.key&&"Escape"===t.key&&N(t)}))},function(){l("close"),g&&g(),F&&tt(),et(),q&&(j=!1),r(14,q=!1)},function(t){y=t.target},s,v,I,E,S,T,_,A,L,F,U,u,function(t){J[t?"unshift":"push"]((()=>{m=t,r(15,m)}))},()=>l("opening"),()=>l("closing"),c]}class Bn extends Nt{constructor(t){super(),At(this,t,Vn,Mn,s,{class:24,static:0,isOpen:1,autoFocus:25,body:2,centered:26,container:27,fullscreen:28,header:3,scrollable:29,size:30,toggle:4,labelledBy:5,backdrop:6,wrapClassName:7,modalClassName:8,backdropClassName:9,contentClassName:10,fade:31,backdropDuration:11,unmountOnClose:32,returnFocusAfterClose:33,transitionType:12,transitionOptions:13},[-1,-1])}}function jn(t){let e,r;const i=t[4].default,o=c(i,t,t[3],null);let a=[t[1],{class:t[0]}],s={};for(let t=0;t<a.length;t+=1)s=n(s,a[t]);return{c(){e=E("div"),o&&o.c(),N(e,s)},m(t,n){w(t,e,n),o&&o.m(e,null),r=!0},p(t,[n]){o&&o.p&&(!r||8&n)&&h(o,i,t,t[3],n,null,null),N(e,s=$t(a,[2&n&&t[1],(!r||1&n)&&{class:t[0]}]))},i(t){r||(gt(o,t),r=!0)},o(t){vt(o,t),r=!1},d(t){t&&I(e),o&&o.d(t)}}}function qn(t,e,r){let i;const o=["class"];let a=d(e,o),{$$slots:s={},$$scope:u}=e,{class:c=""}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(1,a=d(e,o)),"class"in t&&r(2,c=t.class),"$$scope"in t&&r(3,u=t.$$scope)},t.$$.update=()=>{4&t.$$.dirty&&r(0,i=zt(c,"modal-footer"))},[i,a,c,u,s]}class Gn extends Nt{constructor(t){super(),At(this,t,qn,jn,s,{class:2})}}function Wn(t){let e,r;const i=t[12].default,o=c(i,t,t[11],null);let a=[t[1],{class:t[0]}],s={};for(let t=0;t<a.length;t+=1)s=n(s,a[t]);return{c(){e=E("ul"),o&&o.c(),N(e,s)},m(t,n){w(t,e,n),o&&o.m(e,null),r=!0},p(t,[n]){o&&o.p&&(!r||2048&n)&&h(o,i,t,t[11],n,null,null),N(e,s=$t(a,[2&n&&t[1],(!r||1&n)&&{class:t[0]}]))},i(t){r||(gt(o,t),r=!0)},o(t){vt(o,t),r=!1},d(t){t&&I(e),o&&o.d(t)}}}function Kn(t,e,r){let i;const o=["class","tabs","pills","vertical","horizontal","justified","fill","navbar","card"];let a=d(e,o),{$$slots:s={},$$scope:u}=e,{class:c=""}=e,{tabs:l=!1}=e,{pills:h=!1}=e,{vertical:p=!1}=e,{horizontal:m=""}=e,{justified:y=!1}=e,{fill:g=!1}=e,{navbar:v=!1}=e,{card:b=!1}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(1,a=d(e,o)),"class"in t&&r(2,c=t.class),"tabs"in t&&r(3,l=t.tabs),"pills"in t&&r(4,h=t.pills),"vertical"in t&&r(5,p=t.vertical),"horizontal"in t&&r(6,m=t.horizontal),"justified"in t&&r(7,y=t.justified),"fill"in t&&r(8,g=t.fill),"navbar"in t&&r(9,v=t.navbar),"card"in t&&r(10,b=t.card),"$$scope"in t&&r(11,u=t.$$scope)},t.$$.update=()=>{2044&t.$$.dirty&&r(0,i=zt(c,v?"navbar-nav":"nav",!!m&&`justify-content-${m}`,function(t){return!1!==t&&(!0===t||"xs"===t?"flex-column":`flex-${t}-column`)}(p),{"nav-tabs":l,"card-header-tabs":b&&l,"nav-pills":h,"card-header-pills":b&&h,"nav-justified":y,"nav-fill":g}))},[i,a,c,l,h,p,m,y,g,v,b,u,s]}class zn extends Nt{constructor(t){super(),At(this,t,Kn,Wn,s,{class:2,tabs:3,pills:4,vertical:5,horizontal:6,justified:7,fill:8,navbar:9,card:10})}}function Hn(t){let e;const n=t[10].default,r=c(n,t,t[11],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||2048&i)&&h(r,n,t,t[11],i,null,null)},i(t){e||(gt(r,t),e=!0)},o(t){vt(r,t),e=!1},d(t){r&&r.d(t)}}}function Qn(t){let e,n;return e=new Te({props:{fluid:"fluid"===t[0],$$slots:{default:[Xn]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.fluid="fluid"===t[0]),2048&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function Xn(t){let e;const n=t[10].default,r=c(n,t,t[11],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||2048&i)&&h(r,n,t,t[11],i,null,null)},i(t){e||(gt(r,t),e=!0)},o(t){vt(r,t),e=!1},d(t){r&&r.d(t)}}}function Yn(t){let e,r,i,o;const a=[Qn,Hn],s=[];function u(t,e){return t[0]?0:1}r=u(t),i=s[r]=a[r](t);let c=[t[2],{class:t[1]}],l={};for(let t=0;t<c.length;t+=1)l=n(l,c[t]);return{c(){e=E("nav"),i.c(),N(e,l)},m(t,n){w(t,e,n),s[r].m(e,null),o=!0},p(t,[n]){let h=r;r=u(t),r===h?s[r].p(t,n):(mt(),vt(s[h],1,1,(()=>{s[h]=null})),yt(),i=s[r],i?i.p(t,n):(i=s[r]=a[r](t),i.c()),gt(i,1),i.m(e,null)),N(e,l=$t(c,[4&n&&t[2],(!o||2&n)&&{class:t[1]}]))},i(t){o||(gt(i),o=!0)},o(t){vt(i),o=!1},d(t){t&&I(e),s[r].d()}}}function Jn(t,e,r){let i;const o=["class","container","color","dark","expand","fixed","light","sticky"];let a=d(e,o),{$$slots:s={},$$scope:u}=e,{class:c=""}=e,{container:l="fluid"}=e,{color:h=""}=e,{dark:p=!1}=e,{expand:m=""}=e,{fixed:y=""}=e,{light:g=!1}=e,{sticky:v=""}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(2,a=d(e,o)),"class"in t&&r(3,c=t.class),"container"in t&&r(0,l=t.container),"color"in t&&r(4,h=t.color),"dark"in t&&r(5,p=t.dark),"expand"in t&&r(6,m=t.expand),"fixed"in t&&r(7,y=t.fixed),"light"in t&&r(8,g=t.light),"sticky"in t&&r(9,v=t.sticky),"$$scope"in t&&r(11,u=t.$$scope)},t.$$.update=()=>{1016&t.$$.dirty&&r(1,i=zt(c,"navbar",function(t){return!1!==t&&(!0===t||"xs"===t?"navbar-expand":`navbar-expand-${t}`)}(m),{"navbar-light":g,"navbar-dark":p,[`bg-${h}`]:h,[`fixed-${y}`]:y,[`sticky-${v}`]:v}))},[l,i,a,c,h,p,m,y,g,v,s,u]}class Zn extends Nt{constructor(t){super(),At(this,t,Jn,Yn,s,{class:3,container:0,color:4,dark:5,expand:6,fixed:7,light:8,sticky:9})}}function tr(t){let e,r;const i=t[5].default,o=c(i,t,t[4],null);let a=[t[1],{class:t[0]}],s={};for(let t=0;t<a.length;t+=1)s=n(s,a[t]);return{c(){e=E("li"),o&&o.c(),N(e,s)},m(t,n){w(t,e,n),o&&o.m(e,null),r=!0},p(t,[n]){o&&o.p&&(!r||16&n)&&h(o,i,t,t[4],n,null,null),N(e,s=$t(a,[2&n&&t[1],(!r||1&n)&&{class:t[0]}]))},i(t){r||(gt(o,t),r=!0)},o(t){vt(o,t),r=!1},d(t){t&&I(e),o&&o.d(t)}}}function er(t,e,r){let i;const o=["class","active"];let a=d(e,o),{$$slots:s={},$$scope:u}=e,{class:c=""}=e,{active:l=!1}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(1,a=d(e,o)),"class"in t&&r(2,c=t.class),"active"in t&&r(3,l=t.active),"$$scope"in t&&r(4,u=t.$$scope)},t.$$.update=()=>{12&t.$$.dirty&&r(0,i=zt(c,"nav-item",!!l&&"active"))},[i,a,c,l,u,s]}class nr extends Nt{constructor(t){super(),At(this,t,er,tr,s,{class:2,active:3})}}function rr(t){let e,r,i,a;const s=t[8].default,u=c(s,t,t[7],null);let l=[t[3],{href:t[0]},{class:t[1]}],f={};for(let t=0;t<l.length;t+=1)f=n(f,l[t]);return{c(){e=E("a"),u&&u.c(),N(e,f)},m(n,o){w(n,e,o),u&&u.m(e,null),r=!0,i||(a=[_(e,"click",t[9]),_(e,"click",t[2])],i=!0)},p(t,[n]){u&&u.p&&(!r||128&n)&&h(u,s,t,t[7],n,null,null),N(e,f=$t(l,[8&n&&t[3],(!r||1&n)&&{href:t[0]},(!r||2&n)&&{class:t[1]}]))},i(t){r||(gt(u,t),r=!0)},o(t){vt(u,t),r=!1},d(t){t&&I(e),u&&u.d(t),i=!1,o(a)}}}function ir(t,e,r){let i;const o=["class","disabled","active","href"];let a=d(e,o),{$$slots:s={},$$scope:u}=e,{class:c=""}=e,{disabled:l=!1}=e,{active:h=!1}=e,{href:p="#"}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(3,a=d(e,o)),"class"in t&&r(4,c=t.class),"disabled"in t&&r(5,l=t.disabled),"active"in t&&r(6,h=t.active),"href"in t&&r(0,p=t.href),"$$scope"in t&&r(7,u=t.$$scope)},t.$$.update=()=>{112&t.$$.dirty&&r(1,i=zt(c,"nav-link",{disabled:l,active:h}))},[p,i,function(t){if(l)return t.preventDefault(),void t.stopImmediatePropagation();"#"===p&&t.preventDefault()},a,c,l,h,u,s,function(e){X(t,e)}]}class or extends Nt{constructor(t){super(),At(this,t,ir,rr,s,{class:4,disabled:5,active:6,href:0})}}function ar(t){let e,r,i,o;const a=t[5].default,s=c(a,t,t[4],null);let u=[t[2],{class:t[1]},{href:t[0]}],l={};for(let t=0;t<u.length;t+=1)l=n(l,u[t]);return{c(){e=E("a"),s&&s.c(),N(e,l)},m(n,a){w(n,e,a),s&&s.m(e,null),r=!0,i||(o=_(e,"click",t[6]),i=!0)},p(t,[n]){s&&s.p&&(!r||16&n)&&h(s,a,t,t[4],n,null,null),N(e,l=$t(u,[4&n&&t[2],(!r||2&n)&&{class:t[1]},(!r||1&n)&&{href:t[0]}]))},i(t){r||(gt(s,t),r=!0)},o(t){vt(s,t),r=!1},d(t){t&&I(e),s&&s.d(t),i=!1,o()}}}function sr(t,e,r){let i;const o=["class","href"];let a=d(e,o),{$$slots:s={},$$scope:u}=e,{class:c=""}=e,{href:l="/"}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(2,a=d(e,o)),"class"in t&&r(3,c=t.class),"href"in t&&r(0,l=t.href),"$$scope"in t&&r(4,u=t.$$scope)},t.$$.update=()=>{8&t.$$.dirty&&r(1,i=zt(c,"navbar-brand"))},[l,i,a,c,u,s,function(e){X(t,e)}]}class ur extends Nt{constructor(t){super(),At(this,t,sr,ar,s,{class:3,href:0})}}function cr(t){let e;const n=t[3].default,r=c(n,t,t[5],null),i=r||function(t){let e;return{c(){e=E("span"),A(e,"class","navbar-toggler-icon")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}();return{c(){i&&i.c()},m(t,n){i&&i.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||32&i)&&h(r,n,t,t[5],i,null,null)},i(t){e||(gt(i,t),e=!0)},o(t){vt(i,t),e=!1},d(t){i&&i.d(t)}}}function lr(t){let e,r;const i=[t[1],{class:t[0]}];let o={$$slots:{default:[cr]},$$scope:{ctx:t}};for(let t=0;t<i.length;t+=1)o=n(o,i[t]);return e=new le({props:o}),e.$on("click",t[4]),{c(){Tt(e.$$.fragment)},m(t,n){kt(e,t,n),r=!0},p(t,[n]){const r=3&n?$t(i,[2&n&&Et(t[1]),1&n&&{class:t[0]}]):{};32&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){r||(gt(e.$$.fragment,t),r=!0)},o(t){vt(e.$$.fragment,t),r=!1},d(t){_t(e,t)}}}function hr(t,e,r){let i;const o=["class"];let a=d(e,o),{$$slots:s={},$$scope:u}=e,{class:c=""}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(1,a=d(e,o)),"class"in t&&r(2,c=t.class),"$$scope"in t&&r(5,u=t.$$scope)},t.$$.update=()=>{4&t.$$.dirty&&r(0,i=zt(c,"navbar-toggler"))},[i,a,c,s,function(e){X(t,e)},u]}class fr extends Nt{constructor(t){super(),At(this,t,hr,lr,s,{class:2})}}function dr(t){let e,r;const i=t[7].default,o=c(i,t,t[6],null);let a=[t[1],{class:t[0]}],s={};for(let t=0;t<a.length;t+=1)s=n(s,a[t]);return{c(){e=E("div"),o&&o.c(),N(e,s)},m(t,n){w(t,e,n),o&&o.m(e,null),r=!0},p(t,[n]){o&&o.p&&(!r||64&n)&&h(o,i,t,t[6],n,null,null),N(e,s=$t(a,[2&n&&t[1],(!r||1&n)&&{class:t[0]}]))},i(t){r||(gt(o,t),r=!0)},o(t){vt(o,t),r=!1},d(t){t&&I(e),o&&o.d(t)}}}function pr(t,e,r){let i;const o=["class","noGutters","form","cols"];let a=d(e,o),{$$slots:s={},$$scope:u}=e,{class:c=""}=e,{noGutters:l=!1}=e,{form:h=!1}=e,{cols:p=0}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(1,a=d(e,o)),"class"in t&&r(2,c=t.class),"noGutters"in t&&r(3,l=t.noGutters),"form"in t&&r(4,h=t.form),"cols"in t&&r(5,p=t.cols),"$$scope"in t&&r(6,u=t.$$scope)},t.$$.update=()=>{60&t.$$.dirty&&r(0,i=zt(c,l?"gx-0":null,h?"form-row":"row",...function(t){const e=parseInt(t);if(isNaN(e)){if("object"==typeof t)return["xs","sm","md","lg","xl"].map((e=>{const n="xs"===e?"-":`-${e}-`,r=t[e];return"number"==typeof r&&r>0?`row-cols${n}${r}`:null})).filter((t=>!!t))}else if(e>0)return[`row-cols-${e}`];return[]}(p)))},[i,a,c,l,h,p,u,s]}class mr extends Nt{constructor(t){super(),At(this,t,pr,dr,s,{class:2,noGutters:3,form:4,cols:5})}}function yr(t){let e,n;const r=t[1].default,i=c(r,t,t[0],null);return{c(){e=E("colgroup"),i&&i.c()},m(t,r){w(t,e,r),i&&i.m(e,null),n=!0},p(t,[e]){i&&i.p&&(!n||1&e)&&h(i,r,t,t[0],e,null,null)},i(t){n||(gt(i,t),n=!0)},o(t){vt(i,t),n=!1},d(t){t&&I(e),i&&i.d(t)}}}function gr(t,e,n){let{$$slots:r={},$$scope:i}=e;return Q("colgroup",!0),t.$$set=t=>{"$$scope"in t&&n(0,i=t.$$scope)},[i,r]}class vr extends Nt{constructor(t){super(),At(this,t,gr,yr,s,{})}}function br(t){let e;const n=t[3].default,r=c(n,t,t[2],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||4&i)&&h(r,n,t,t[2],i,null,null)},i(t){e||(gt(r,t),e=!0)},o(t){vt(r,t),e=!1},d(t){r&&r.d(t)}}}function wr(t){let e,n;const r=t[3].default,i=c(r,t,t[2],null);return{c(){e=E("div"),i&&i.c(),A(e,"class",t[1])},m(t,r){w(t,e,r),i&&i.m(e,null),n=!0},p(t,o){i&&i.p&&(!n||4&o)&&h(i,r,t,t[2],o,null,null),(!n||2&o)&&A(e,"class",t[1])},i(t){n||(gt(i,t),n=!0)},o(t){vt(i,t),n=!1},d(t){t&&I(e),i&&i.d(t)}}}function Ir(t){let e,n,r,i;const o=[wr,br],a=[];function s(t,e){return t[0]?0:1}return e=s(t),n=a[e]=o[e](t),{c(){n.c(),r=k()},m(t,n){a[e].m(t,n),w(t,r,n),i=!0},p(t,[i]){let u=e;e=s(t),e===u?a[e].p(t,i):(mt(),vt(a[u],1,1,(()=>{a[u]=null})),yt(),n=a[e],n?n.p(t,i):(n=a[e]=o[e](t),n.c()),gt(n,1),n.m(r.parentNode,r))},i(t){i||(gt(n),i=!0)},o(t){vt(n),i=!1},d(t){a[e].d(t),t&&I(r)}}}function $r(t,e,n){let r,{$$slots:i={},$$scope:o}=e,{responsive:a=!1}=e;return t.$$set=t=>{"responsive"in t&&n(0,a=t.responsive),"$$scope"in t&&n(2,o=t.$$scope)},t.$$.update=()=>{1&t.$$.dirty&&n(1,r=zt("",{"table-responsive":!0===a,[`table-responsive-${a}`]:"string"==typeof a}))},[a,r,o,i]}class Er extends Nt{constructor(t){super(),At(this,t,$r,Ir,s,{responsive:0})}}function Sr(t){let e,r,i;const o=t[2].default,a=c(o,t,t[1],null);let s=[t[0]],u={};for(let t=0;t<s.length;t+=1)u=n(u,s[t]);return{c(){e=E("tfoot"),r=E("tr"),a&&a.c(),N(e,u)},m(t,n){w(t,e,n),b(e,r),a&&a.m(r,null),i=!0},p(t,[n]){a&&a.p&&(!i||2&n)&&h(a,o,t,t[1],n,null,null),N(e,u=$t(s,[1&n&&t[0]]))},i(t){i||(gt(a,t),i=!0)},o(t){vt(a,t),i=!1},d(t){t&&I(e),a&&a.d(t)}}}function Tr(t,e,r){const i=[];let o=d(e,i),{$$slots:a={},$$scope:s}=e;return Q("footer",!0),t.$$set=t=>{e=n(n({},e),f(t)),r(0,o=d(e,i)),"$$scope"in t&&r(1,s=t.$$scope)},[o,s,a]}class kr extends Nt{constructor(t){super(),At(this,t,Tr,Sr,s,{})}}function _r(t){let e,r,i;const o=t[2].default,a=c(o,t,t[1],null);let s=[t[0]],u={};for(let t=0;t<s.length;t+=1)u=n(u,s[t]);return{c(){e=E("thead"),r=E("tr"),a&&a.c(),N(e,u)},m(t,n){w(t,e,n),b(e,r),a&&a.m(r,null),i=!0},p(t,[n]){a&&a.p&&(!i||2&n)&&h(a,o,t,t[1],n,null,null),N(e,u=$t(s,[1&n&&t[0]]))},i(t){i||(gt(a,t),i=!0)},o(t){vt(a,t),i=!1},d(t){t&&I(e),a&&a.d(t)}}}function Ar(t,e,r){const i=[];let o=d(e,i),{$$slots:a={},$$scope:s}=e;return Q("header",!0),t.$$set=t=>{e=n(n({},e),f(t)),r(0,o=d(e,i)),"$$scope"in t&&r(1,s=t.$$scope)},[o,s,a]}class Nr extends Nt{constructor(t){super(),At(this,t,Ar,_r,s,{})}}function Cr(t,e,n){const r=t.slice();return r[13]=e[n],r}const xr=t=>({row:2&t}),Dr=t=>({row:t[13]}),Or=t=>({row:2&t}),Rr=t=>({row:t[13]});function Pr(t){let e;const n=t[11].default,r=c(n,t,t[12],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||4096&i)&&h(r,n,t,t[12],i,null,null)},i(t){e||(gt(r,t),e=!0)},o(t){vt(r,t),e=!1},d(t){r&&r.d(t)}}}function Lr(t){let e,n,r,i,o,a,s,u;e=new vr({props:{$$slots:{default:[Mr]},$$scope:{ctx:t}}}),r=new Nr({props:{$$slots:{default:[Fr]},$$scope:{ctx:t}}});let c=t[1],l=[];for(let e=0;e<c.length;e+=1)l[e]=Ur(Cr(t,c,e));const h=t=>vt(l[t],1,1,(()=>{l[t]=null}));return s=new kr({props:{$$slots:{default:[Vr]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment),n=T(),Tt(r.$$.fragment),i=T(),o=E("tbody");for(let t=0;t<l.length;t+=1)l[t].c();a=T(),Tt(s.$$.fragment)},m(t,c){kt(e,t,c),w(t,n,c),kt(r,t,c),w(t,i,c),w(t,o,c);for(let t=0;t<l.length;t+=1)l[t].m(o,null);w(t,a,c),kt(s,t,c),u=!0},p(t,n){const i={};4096&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const a={};if(4098&n&&(a.$$scope={dirty:n,ctx:t}),r.$set(a),4098&n){let e;for(c=t[1],e=0;e<c.length;e+=1){const r=Cr(t,c,e);l[e]?(l[e].p(r,n),gt(l[e],1)):(l[e]=Ur(r),l[e].c(),gt(l[e],1),l[e].m(o,null))}for(mt(),e=c.length;e<l.length;e+=1)h(e);yt()}const u={};4096&n&&(u.$$scope={dirty:n,ctx:t}),s.$set(u)},i(t){if(!u){gt(e.$$.fragment,t),gt(r.$$.fragment,t);for(let t=0;t<c.length;t+=1)gt(l[t]);gt(s.$$.fragment,t),u=!0}},o(t){vt(e.$$.fragment,t),vt(r.$$.fragment,t),l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)vt(l[t]);vt(s.$$.fragment,t),u=!1},d(t){_t(e,t),t&&I(n),_t(r,t),t&&I(i),t&&I(o),$(l,t),t&&I(a),_t(s,t)}}}function Mr(t){let e;const n=t[11].default,r=c(n,t,t[12],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||4096&i)&&h(r,n,t,t[12],i,null,null)},i(t){e||(gt(r,t),e=!0)},o(t){vt(r,t),e=!1},d(t){r&&r.d(t)}}}function Fr(t){let e;const n=t[11].default,r=c(n,t,t[12],Rr);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||4098&i)&&h(r,n,t,t[12],i,Or,Rr)},i(t){e||(gt(r,t),e=!0)},o(t){vt(r,t),e=!1},d(t){r&&r.d(t)}}}function Ur(t){let e,n,r;const i=t[11].default,o=c(i,t,t[12],Dr);return{c(){e=E("tr"),o&&o.c(),n=T()},m(t,i){w(t,e,i),o&&o.m(e,null),b(e,n),r=!0},p(t,e){o&&o.p&&(!r||4098&e)&&h(o,i,t,t[12],e,xr,Dr)},i(t){r||(gt(o,t),r=!0)},o(t){vt(o,t),r=!1},d(t){t&&I(e),o&&o.d(t)}}}function Vr(t){let e;const n=t[11].default,r=c(n,t,t[12],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||4096&i)&&h(r,n,t,t[12],i,null,null)},i(t){e||(gt(r,t),e=!0)},o(t){vt(r,t),e=!1},d(t){r&&r.d(t)}}}function Br(t){let e,r,i,o;const a=[Lr,Pr],s=[];function u(t,e){return t[1]?0:1}r=u(t),i=s[r]=a[r](t);let c=[t[3],{class:t[2]}],l={};for(let t=0;t<c.length;t+=1)l=n(l,c[t]);return{c(){e=E("table"),i.c(),N(e,l)},m(t,n){w(t,e,n),s[r].m(e,null),o=!0},p(t,n){let h=r;r=u(t),r===h?s[r].p(t,n):(mt(),vt(s[h],1,1,(()=>{s[h]=null})),yt(),i=s[r],i?i.p(t,n):(i=s[r]=a[r](t),i.c()),gt(i,1),i.m(e,null)),N(e,l=$t(c,[8&n&&t[3],(!o||4&n)&&{class:t[2]}]))},i(t){o||(gt(i),o=!0)},o(t){vt(i),o=!1},d(t){t&&I(e),s[r].d()}}}function jr(t){let e,n;return e=new Er({props:{responsive:t[0],$$slots:{default:[Br]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.responsive=t[0]),4110&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function qr(t,e,r){let i;const o=["class","size","bordered","borderless","striped","dark","hover","responsive","rows"];let a=d(e,o),{$$slots:s={},$$scope:u}=e,{class:c=""}=e,{size:l=""}=e,{bordered:h=!1}=e,{borderless:p=!1}=e,{striped:m=!1}=e,{dark:y=!1}=e,{hover:g=!1}=e,{responsive:v=!1}=e,{rows:b}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(3,a=d(e,o)),"class"in t&&r(4,c=t.class),"size"in t&&r(5,l=t.size),"bordered"in t&&r(6,h=t.bordered),"borderless"in t&&r(7,p=t.borderless),"striped"in t&&r(8,m=t.striped),"dark"in t&&r(9,y=t.dark),"hover"in t&&r(10,g=t.hover),"responsive"in t&&r(0,v=t.responsive),"rows"in t&&r(1,b=t.rows),"$$scope"in t&&r(12,u=t.$$scope)},t.$$.update=()=>{2032&t.$$.dirty&&r(2,i=zt(c,"table",!!l&&"table-"+l,!!h&&"table-bordered",!!p&&"table-borderless",!!m&&"table-striped",!!y&&"table-dark",!!g&&"table-hover"))},[v,b,i,a,c,l,h,p,m,y,g,s,u]}class Gr extends Nt{constructor(t){super(),At(this,t,qr,jr,s,{class:4,size:5,bordered:6,borderless:7,striped:8,dark:9,hover:10,responsive:0,rows:1})}}var Wr="Nepean Chat",Kr={title:Wr,home:"Home",chatNow:"Chat Now",aboutUs:"About Us",login:"Helper Zone"},zr={jumbo:"Welcome to Nepean Chat!",jumboSub:"Peers helping peers.<br><i>By students, for students.</i>",chatNow:"Chat now"},Hr={warning:'<h1>Are you ready to chat with someone?</h1><div class="w-100"></div><h2>Before you start, here are some things to take into consideration</h2><div class="w-100"></div><ul><li>Be nice. No swearing or demeaning language.</li><li>Do not reveal personal information such as names, addresses, etc.</li></ul>',matchMeNow:"Match me now!"},Qr={header:"<h1>One of our devs made a booboo.</h1><h1>Page not found. 404</h1>"};function Xr(e){let n,r=zr.chatNow+"";return{c(){n=S(r)},m(t,e){w(t,n,e)},p:t,d(t){t&&I(n)}}}function Yr(t){let e,n,r,i,o,a,s,u=zr.jumboSub+"";return a=new le({props:{color:"primary",$$slots:{default:[Xr]},$$scope:{ctx:t}}}),a.$on("click",t[0]),{c(){e=E("div"),n=E("h1"),n.textContent=`${zr.jumbo}`,r=T(),i=E("h3"),o=T(),Tt(a.$$.fragment),A(e,"class","py-3 py-sm-3 py-md-5")},m(t,c){w(t,e,c),b(e,n),b(e,r),b(e,i),i.innerHTML=u,b(e,o),kt(a,e,null),s=!0},p(t,e){const n={};4&e&&(n.$$scope={dirty:e,ctx:t}),a.$set(n)},i(t){s||(gt(a.$$.fragment,t),s=!0)},o(t){vt(a.$$.fragment,t),s=!1},d(t){t&&I(e),_t(a)}}}function Jr(t){let e,n;return{c(){e=E("img"),e.src!==(n="./chat-animate.svg")&&A(e,"src","./chat-animate.svg"),A(e,"class","img-fluid"),A(e,"alt","People chatting")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function Zr(t){let e,n,r,i;return e=new $e({props:{class:"align-self-center",$$slots:{default:[Yr]},$$scope:{ctx:t}}}),r=new $e({props:{class:"d-none d-md-block align-self-center",md:"6",lg:"4",xl:"4",$$slots:{default:[Jr]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment),n=T(),Tt(r.$$.fragment)},m(t,o){kt(e,t,o),w(t,n,o),kt(r,t,o),i=!0},p(t,n){const i={};4&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const o={};4&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(t){i||(gt(e.$$.fragment,t),gt(r.$$.fragment,t),i=!0)},o(t){vt(e.$$.fragment,t),vt(r.$$.fragment,t),i=!1},d(t){_t(e,t),t&&I(n),_t(r,t)}}}function ti(t){let e,n;return e=new mr({props:{$$slots:{default:[Zr]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function ei(t){let e,n;return{c(){e=E("img"),e.src!==(n="./nepean.png")&&A(e,"src","./nepean.png"),A(e,"class","img-fluid"),A(e,"alt","Nepean Logo")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function ni(e){let n,r=zr.chatNow+"";return{c(){n=S(r)},m(t,e){w(t,n,e)},p:t,d(t){t&&I(n)}}}function ri(t){let e,n,r,i,o,a,s;return a=new le({props:{outline:!0,color:"primary",$$slots:{default:[ni]},$$scope:{ctx:t}}}),a.$on("click",t[1]),{c(){e=E("div"),n=E("h2"),n.textContent="Got something on your mind? Need to talk? ",r=T(),i=E("h4"),i.textContent="Nepean students want to help: connect with peers now, confidentially and anonymously. ",o=T(),Tt(a.$$.fragment),A(e,"class","py-3 py-sm-3 py-md-5")},m(t,u){w(t,e,u),b(e,n),b(e,r),b(e,i),b(e,o),kt(a,e,null),s=!0},p(t,e){const n={};4&e&&(n.$$scope={dirty:e,ctx:t}),a.$set(n)},i(t){s||(gt(a.$$.fragment,t),s=!0)},o(t){vt(a.$$.fragment,t),s=!1},d(t){t&&I(e),_t(a)}}}function ii(t){let e,n,r,i;return e=new $e({props:{class:"d-none d-md-block align-self-center",md:"5",lg:"3",xl:"3",$$slots:{default:[ei]},$$scope:{ctx:t}}}),r=new $e({props:{class:"align-self-center",$$slots:{default:[ri]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment),n=T(),Tt(r.$$.fragment)},m(t,o){kt(e,t,o),w(t,n,o),kt(r,t,o),i=!0},p(t,n){const i={};4&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const o={};4&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(t){i||(gt(e.$$.fragment,t),gt(r.$$.fragment,t),i=!0)},o(t){vt(e.$$.fragment,t),vt(r.$$.fragment,t),i=!1},d(t){_t(e,t),t&&I(n),_t(r,t)}}}function oi(t){let e;return{c(){e=E("h2"),e.textContent="This chat is intended for Nepean students and is monitored from 4pm to 10pm."},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function ai(t){let e,n;return{c(){e=E("img"),e.src!==(n="./time-management-animate.svg")&&A(e,"src","./time-management-animate.svg"),A(e,"class","img-fluid"),A(e,"alt","Clock")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function si(t){let e,n,r,i;return e=new $e({props:{class:"py-3 py-sm-3 py-md-4 align-self-center",$$slots:{default:[oi]},$$scope:{ctx:t}}}),r=new $e({props:{class:"d-none d-md-block align-self-center",md:"5",lg:"3",xl:"3",$$slots:{default:[ai]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment),n=T(),Tt(r.$$.fragment)},m(t,o){kt(e,t,o),w(t,n,o),kt(r,t,o),i=!0},p(t,n){const i={};4&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const o={};4&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(t){i||(gt(e.$$.fragment,t),gt(r.$$.fragment,t),i=!0)},o(t){vt(e.$$.fragment,t),vt(r.$$.fragment,t),i=!1},d(t){_t(e,t),t&&I(n),_t(r,t)}}}function ui(t){let e;return{c(){e=E("a"),e.innerHTML='<img src="./kids-help-phone-logo-en.svg" class="img-fluid" alt="Kids help phone logo"/>',A(e,"href","https://kidshelpphone.ca/")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function ci(t){let e;return{c(){e=E("h2"),e.textContent="If you are in distress, or need to talk urgently outside of these hours, please reach out to Kids Help Phone at 1-800-668-6868."},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function li(t){let e,n,r,i;return e=new $e({props:{class:"d-none d-md-block align-self-center",md:"5",lg:"3",xl:"3",$$slots:{default:[ui]},$$scope:{ctx:t}}}),r=new $e({props:{$$slots:{default:[ci]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment),n=T(),Tt(r.$$.fragment)},m(t,o){kt(e,t,o),w(t,n,o),kt(r,t,o),i=!0},p(t,n){const i={};4&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const o={};4&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(t){i||(gt(e.$$.fragment,t),gt(r.$$.fragment,t),i=!0)},o(t){vt(e.$$.fragment,t),vt(r.$$.fragment,t),i=!1},d(t){_t(e,t),t&&I(n),_t(r,t)}}}function hi(t){let e,n,r,i,o,a;return e=new mr({props:{$$slots:{default:[ii]},$$scope:{ctx:t}}}),r=new mr({props:{$$slots:{default:[si]},$$scope:{ctx:t}}}),o=new mr({props:{$$slots:{default:[li]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment),n=T(),Tt(r.$$.fragment),i=T(),Tt(o.$$.fragment)},m(t,s){kt(e,t,s),w(t,n,s),kt(r,t,s),w(t,i,s),kt(o,t,s),a=!0},p(t,n){const i={};4&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const a={};4&n&&(a.$$scope={dirty:n,ctx:t}),r.$set(a);const s={};4&n&&(s.$$scope={dirty:n,ctx:t}),o.$set(s)},i(t){a||(gt(e.$$.fragment,t),gt(r.$$.fragment,t),gt(o.$$.fragment,t),a=!0)},o(t){vt(e.$$.fragment,t),vt(r.$$.fragment,t),vt(o.$$.fragment,t),a=!1},d(t){_t(e,t),t&&I(n),_t(r,t),t&&I(i),_t(o,t)}}}function fi(t){let e;return{c(){e=E("div"),e.innerHTML=' 2021 Copyright GRDS\n    <br/>\n    Illustrations by <a href="https://storyset.com/">Freepik Storyset</a>',A(e,"id","footer"),A(e,"class","text-center svelte-17wi48y")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function di(t){let e,n,r,i,o,a,s;return n=new Te({props:{class:"px-4 px-sm-2",$$slots:{default:[ti]},$$scope:{ctx:t}}}),i=new Te({props:{class:"px-4 px-sm-2",$$slots:{default:[hi]},$$scope:{ctx:t}}}),a=new mr({props:{$$slots:{default:[fi]},$$scope:{ctx:t}}}),{c(){e=E("div"),Tt(n.$$.fragment),r=T(),Tt(i.$$.fragment),o=T(),Tt(a.$$.fragment),A(e,"class","swoosh")},m(t,u){w(t,e,u),kt(n,e,null),w(t,r,u),kt(i,t,u),w(t,o,u),kt(a,t,u),s=!0},p(t,[e]){const r={};4&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r);const o={};4&e&&(o.$$scope={dirty:e,ctx:t}),i.$set(o);const s={};4&e&&(s.$$scope={dirty:e,ctx:t}),a.$set(s)},i(t){s||(gt(n.$$.fragment,t),gt(i.$$.fragment,t),gt(a.$$.fragment,t),s=!0)},o(t){vt(n.$$.fragment,t),vt(i.$$.fragment,t),vt(a.$$.fragment,t),s=!1},d(t){t&&I(e),_t(n),t&&I(r),_t(i,t),t&&I(o),_t(a,t)}}}function pi(t){return[()=>location.href="#/chat",()=>location.href="#/chat"]}class mi extends Nt{constructor(t){super(),At(this,t,pi,di,s,{})}}function yi(t){let e;const n=t[5].default,r=c(n,t,t[4],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||16&i)&&h(r,n,t,t[4],i,null,null)},i(t){e||(gt(r,t),e=!0)},o(t){vt(r,t),e=!1},d(t){r&&r.d(t)}}}function gi(t){let e,n,r=t[0]&&yi(t);return{c(){r&&r.c(),e=k()},m(t,i){r&&r.m(t,i),w(t,e,i),n=!0},p(t,[n]){t[0]?r?(r.p(t,n),1&n&&gt(r,1)):(r=yi(t),r.c(),gt(r,1),r.m(e.parentNode,e)):r&&(mt(),vt(r,1,1,(()=>{r=null})),yt())},i(t){n||(gt(r),n=!0)},o(t){vt(r),n=!1},d(t){r&&r.d(t),t&&I(e)}}}function vi(t,e,n){let{$$slots:r={},$$scope:i}=e,{firebase:o}=e,{perf:a=!1}=e,{analytics:s=!1}=e,u=!1;const c=H();return Q("firebase",{getFirebase:()=>o}),W((()=>{if(n(1,o=o||window&&window.firebase),!o)throw Error("No firebase app was provided. You must provide an initialized Firebase app or make it available globally.");a&&o.performance(),s&&o.analytics(),c("initializeApp",{firebase:o}),n(0,u=!0)})),t.$$set=t=>{"firebase"in t&&n(1,o=t.firebase),"perf"in t&&n(2,a=t.perf),"analytics"in t&&n(3,s=t.analytics),"$$scope"in t&&n(4,i=t.$$scope)},[u,o,a,s,i,r]}class bi extends Nt{constructor(t){super(),At(this,t,vi,gi,s,{firebase:1,perf:2,analytics:3})}}function wi(){const{getFirebase:t}=(e="firebase",G().$$.context.get(e));var e;return t()}function Ii(t){const e=wi();if(!e)throw new Error("Missing Firebase app in context. Are you inside a 'FirebaseApp' component?");if(t){const n=e[t];if(n&&n())return n();throw new Error(`Firebase ${t} not found. You may be missing "import 'firebase/${t}'" `)}return e}const $i=t=>({user:1&t}),Ei=t=>({user:t[0],auth:t[1].auth}),Si=t=>({user:1&t}),Ti=t=>({user:t[0],auth:t[1].auth}),ki=t=>({user:1&t}),_i=t=>({user:t[0],auth:t[1].auth}),Ai=t=>({user:1&t}),Ni=t=>({user:t[0],auth:t[1].auth});function Ci(t){let e;const n=t[4]["signed-out"],r=c(n,t,t[3],Ti);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||9&i)&&h(r,n,t,t[3],i,Si,Ti)},i(t){e||(gt(r,t),e=!0)},o(t){vt(r,t),e=!1},d(t){r&&r.d(t)}}}function xi(t){let e;const n=t[4].default,r=c(n,t,t[3],_i);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||9&i)&&h(r,n,t,t[3],i,ki,_i)},i(t){e||(gt(r,t),e=!0)},o(t){vt(r,t),e=!1},d(t){r&&r.d(t)}}}function Di(t){let e,n,r,i,o;const a=t[4].before,s=c(a,t,t[3],Ni),u=[xi,Ci],l=[];function f(t,e){return t[0]?0:1}n=f(t),r=l[n]=u[n](t);const d=t[4].after,p=c(d,t,t[3],Ei);return{c(){s&&s.c(),e=T(),r.c(),i=T(),p&&p.c()},m(t,r){s&&s.m(t,r),w(t,e,r),l[n].m(t,r),w(t,i,r),p&&p.m(t,r),o=!0},p(t,[e]){s&&s.p&&(!o||9&e)&&h(s,a,t,t[3],e,Ai,Ni);let c=n;n=f(t),n===c?l[n].p(t,e):(mt(),vt(l[c],1,1,(()=>{l[c]=null})),yt(),r=l[n],r?r.p(t,e):(r=l[n]=u[n](t),r.c()),gt(r,1),r.m(i.parentNode,i)),p&&p.p&&(!o||9&e)&&h(p,d,t,t[3],e,$i,Ei)},i(t){o||(gt(s,t),gt(r),gt(p,t),o=!0)},o(t){vt(s,t),vt(r),vt(p,t),o=!1},d(t){s&&s.d(t),t&&I(e),l[n].d(t),t&&I(i),p&&p.d(t)}}}function Oi(t,e,n){let r,{$$slots:i={},$$scope:o}=e,{persist:a=null}=e,s=function(t={persist:null}){const e=Ii("auth"),n="sveltefire_user";let r=null;const{persist:i}=t;i&&(r=JSON.parse(t.persist.getItem(n)));const o=Dt(r,(()=>{const r=e.onAuthStateChanged((e=>{s(e),i&&t.persist.setItem(n,JSON.stringify(e))}));return()=>r})),{subscribe:a,set:s}=o;return{subscribe:a,auth:e}}({persist:a});!function(t,e,n){t.$$.on_destroy.push(u(e,n))}(t,s,(t=>n(0,r=t)));const c=H();let l;return W((()=>{l=s.subscribe((t=>{c("user",{user:t})}))})),z((()=>l())),t.$$set=t=>{"persist"in t&&n(2,a=t.persist),"$$scope"in t&&n(3,o=t.$$scope)},[r,s,a,o,i]}class Ri extends Nt{constructor(t){super(),At(this,t,Oi,Di,s,{persist:2})}}function Pi(t){const e=Ii("performance").trace(t);return e.start(),e}async function Li(t){return 2===t.state&&t.stop(),null}function Mi(t,e){const n=Ii("firestore"),{startWith:r,log:i,traceId:o,maxWait:a,once:s}={maxWait:1e4,...e},u="string"==typeof t?n.doc(t):t,c=o&&Pi(o);let l,h,f=void 0!==typeof r,d=!0,p=null;const m=(t,e)=>{f=!1,d=!1,h&&clearTimeout(h),p=e||null,v(t),c&&Li(c)},y=Dt(r,(()=>(h=a&&setTimeout((()=>f&&m(null,new Error(`Timeout at ${a}. Using fallback slot.`))),a),l=u.onSnapshot((t=>{const e=t.data()||d&&r||null;i&&(console.groupCollapsed(`Doc ${t.id}`),console.log(`Path: ${u.path}`),console.log("Snapshot:",t),console.groupEnd()),m(e),s&&l()}),(t=>{console.error(t),m(null,t)})),()=>l()))),{subscribe:g,set:v}=y;return{subscribe:g,firestore:n,ref:u,get loading(){return f},get error(){return p}}}function Fi(t,e,n){const r=Ii("firestore"),{startWith:i,log:o,traceId:a,maxWait:s,once:u,idField:c,refField:l}={idField:"id",refField:"ref",maxWait:1e4,...n},h="string"==typeof t?r.collection(t):t,f=e&&e(h),d=a&&Pi(a);let p,m,y=void 0!==typeof i,g=null,v={};const b=(t,e)=>{y=!1,m&&clearTimeout(m),g=e||null,v=(t=>t&&t.length?{first:t[0],last:t[t.length-1]}:{})(t),$(t),d&&Li(d)},w=Dt(i,(()=>(m=s&&setTimeout((()=>y&&b(null,new Error(`Timeout at ${s}. Using fallback slot.`))),s),p=(f||h).onSnapshot((t=>{const e=t.docs.map((t=>({...t.data(),...c?{[c]:t.id}:null,...l?{[l]:t.ref}:null})));if(o){const n=y?"New Query":"Updated Query";console.groupCollapsed(`${n} ${h.id} | ${e.length} hits`),console.log(`${h.path}`),console.log("Snapshot: ",t),console.groupEnd()}b(e),u&&p()}),(t=>{console.error(t),b(null,t)})),()=>p()))),{subscribe:I,set:$}=w;return{subscribe:I,firestore:r,ref:h,get loading(){return y},get error(){return g},get meta(){return v}}}const Ui=t=>({data:2&t,ref:1&t,error:1&t}),Vi=t=>({data:t[1],ref:t[0].ref,error:t[0].error}),Bi=t=>({data:2&t,ref:1&t,error:1&t}),ji=t=>({data:t[1],ref:t[0].ref,error:t[0].error}),qi=t=>({data:2&t,ref:1&t,error:1&t}),Gi=t=>({data:t[1],ref:t[0].ref,error:t[0].error}),Wi=t=>({data:2&t,ref:1&t,error:1&t}),Ki=t=>({data:t[1],ref:t[0].ref,error:t[0].error}),zi=t=>({data:2&t,ref:1&t,error:1&t}),Hi=t=>({data:t[1],ref:t[0].ref,error:t[0].error});function Qi(t){let e;const n=t[10].fallback,r=c(n,t,t[9],ji);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||515&i)&&h(r,n,t,t[9],i,Bi,ji)},i(t){e||(gt(r,t),e=!0)},o(t){vt(r,t),e=!1},d(t){r&&r.d(t)}}}function Xi(t){let e;const n=t[10].loading,r=c(n,t,t[9],Gi);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||515&i)&&h(r,n,t,t[9],i,qi,Gi)},i(t){e||(gt(r,t),e=!0)},o(t){vt(r,t),e=!1},d(t){r&&r.d(t)}}}function Yi(t){let e;const n=t[10].default,r=c(n,t,t[9],Ki);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||515&i)&&h(r,n,t,t[9],i,Wi,Ki)},i(t){e||(gt(r,t),e=!0)},o(t){vt(r,t),e=!1},d(t){r&&r.d(t)}}}function Ji(t){let e,n,r,i,o;const a=t[10].before,s=c(a,t,t[9],Hi),u=[Yi,Xi,Qi],l=[];function f(t,e){return t[1]?0:t[0].loading?1:2}n=f(t),r=l[n]=u[n](t);const d=t[10].after,p=c(d,t,t[9],Vi);return{c(){s&&s.c(),e=T(),r.c(),i=T(),p&&p.c()},m(t,r){s&&s.m(t,r),w(t,e,r),l[n].m(t,r),w(t,i,r),p&&p.m(t,r),o=!0},p(t,[e]){s&&s.p&&(!o||515&e)&&h(s,a,t,t[9],e,zi,Hi);let c=n;n=f(t),n===c?l[n].p(t,e):(mt(),vt(l[c],1,1,(()=>{l[c]=null})),yt(),r=l[n],r?r.p(t,e):(r=l[n]=u[n](t),r.c()),gt(r,1),r.m(i.parentNode,i)),p&&p.p&&(!o||515&e)&&h(p,d,t,t[9],e,Ui,Vi)},i(t){o||(gt(s,t),gt(r),gt(p,t),o=!0)},o(t){vt(s,t),vt(r),vt(p,t),o=!1},d(t){s&&s.d(t),t&&I(e),l[n].d(t),t&&I(i),p&&p.d(t)}}}function Zi(e,n,r){let i,o=t,a=()=>(o(),o=u(g,(t=>r(1,i=t))),g);e.$$.on_destroy.push((()=>o()));let{$$slots:s={},$$scope:c}=n,{path:l}=n,{log:h=!1}=n,{traceId:f=""}=n,{startWith:d}=n,{maxWait:p=1e4}=n,{once:m=!1}=n;const y={startWith:d,traceId:f,log:h,maxWait:p,once:m};let g=Mi(l,y);a();const v=H();let b;return W((()=>v("ref",{ref:g.ref}))),z((()=>b())),e.$$set=t=>{"path"in t&&r(2,l=t.path),"log"in t&&r(3,h=t.log),"traceId"in t&&r(4,f=t.traceId),"startWith"in t&&r(5,d=t.startWith),"maxWait"in t&&r(6,p=t.maxWait),"once"in t&&r(7,m=t.once),"$$scope"in t&&r(9,c=t.$$scope)},e.$$.update=()=>{261&e.$$.dirty&&(b&&(b(),a(r(0,g=Mi(l,y))),v("ref",{ref:g.ref})),r(8,b=g.subscribe((t=>{v("data",{data:t})}))))},[g,i,l,h,f,d,p,m,b,c,s]}class to extends Nt{constructor(t){super(),At(this,t,Zi,Ji,s,{path:2,log:3,traceId:4,startWith:5,maxWait:6,once:7})}}const eo=t=>({data:2&t,ref:1&t,error:1&t,first:1&t,last:1&t}),no=t=>({data:t[1],ref:t[0].ref,error:t[0].error,first:t[0].meta.first,last:t[0].meta.last}),ro=t=>({data:2&t,ref:1&t,error:1&t,first:1&t,last:1&t}),io=t=>({data:t[1],ref:t[0].ref,error:t[0].error,first:t[0].meta.first,last:t[0].meta.last}),oo=t=>({data:2&t,ref:1&t,error:1&t,first:1&t,last:1&t}),ao=t=>({data:t[1],ref:t[0].ref,error:t[0].error,first:t[0].meta.first,last:t[0].meta.last}),so=t=>({data:2&t,ref:1&t,error:1&t,first:1&t,last:1&t}),uo=t=>({data:t[1],ref:t[0].ref,error:t[0].error,first:t[0].meta.first,last:t[0].meta.last}),co=t=>({data:2&t,ref:1&t,error:1&t,first:1&t,last:1&t}),lo=t=>({data:t[1],ref:t[0].ref,error:t[0].error,first:t[0].meta.first,last:t[0].meta.last});function ho(t){let e;const n=t[11].fallback,r=c(n,t,t[10],io);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||1027&i)&&h(r,n,t,t[10],i,ro,io)},i(t){e||(gt(r,t),e=!0)},o(t){vt(r,t),e=!1},d(t){r&&r.d(t)}}}function fo(t){let e;const n=t[11].loading,r=c(n,t,t[10],ao);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||1027&i)&&h(r,n,t,t[10],i,oo,ao)},i(t){e||(gt(r,t),e=!0)},o(t){vt(r,t),e=!1},d(t){r&&r.d(t)}}}function po(t){let e;const n=t[11].default,r=c(n,t,t[10],uo);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||1027&i)&&h(r,n,t,t[10],i,so,uo)},i(t){e||(gt(r,t),e=!0)},o(t){vt(r,t),e=!1},d(t){r&&r.d(t)}}}function mo(t){let e,n,r,i,o;const a=t[11].before,s=c(a,t,t[10],lo),u=[po,fo,ho],l=[];function f(t,e){return t[1]?0:t[0].loading?1:2}n=f(t),r=l[n]=u[n](t);const d=t[11].after,p=c(d,t,t[10],no);return{c(){s&&s.c(),e=T(),r.c(),i=T(),p&&p.c()},m(t,r){s&&s.m(t,r),w(t,e,r),l[n].m(t,r),w(t,i,r),p&&p.m(t,r),o=!0},p(t,[e]){s&&s.p&&(!o||1027&e)&&h(s,a,t,t[10],e,co,lo);let c=n;n=f(t),n===c?l[n].p(t,e):(mt(),vt(l[c],1,1,(()=>{l[c]=null})),yt(),r=l[n],r?r.p(t,e):(r=l[n]=u[n](t),r.c()),gt(r,1),r.m(i.parentNode,i)),p&&p.p&&(!o||1027&e)&&h(p,d,t,t[10],e,eo,no)},i(t){o||(gt(s,t),gt(r),gt(p,t),o=!0)},o(t){vt(s,t),vt(r),vt(p,t),o=!1},d(t){s&&s.d(t),t&&I(e),l[n].d(t),t&&I(i),p&&p.d(t)}}}function yo(e,n,r){let i,o=t,a=()=>(o(),o=u(v,(t=>r(1,i=t))),v);e.$$.on_destroy.push((()=>o()));let{$$slots:s={},$$scope:c}=n,{path:l}=n,{query:h=null}=n,{traceId:f=""}=n,{log:d=!1}=n,{startWith:p}=n,{maxWait:m=1e4}=n,{once:y=!1}=n;const g={startWith:p,traceId:f,log:d,maxWait:m,once:y};let v=Fi(l,h,g);a();const b=H();let w;return W((()=>b("ref",{ref:v.ref}))),z((()=>w())),e.$$set=t=>{"path"in t&&r(2,l=t.path),"query"in t&&r(3,h=t.query),"traceId"in t&&r(4,f=t.traceId),"log"in t&&r(5,d=t.log),"startWith"in t&&r(6,p=t.startWith),"maxWait"in t&&r(7,m=t.maxWait),"once"in t&&r(8,y=t.once),"$$scope"in t&&r(10,c=t.$$scope)},e.$$.update=()=>{525&e.$$.dirty&&(w&&(w(),a(r(0,v=Fi(l,h,g))),b("ref",{ref:v.ref})),r(9,w=v.subscribe((t=>{b("data",{data:t})}))))},[v,i,l,h,f,d,p,m,y,w,c,s]}class go extends Nt{constructor(t){super(),At(this,t,yo,mo,s,{path:2,query:3,traceId:4,log:5,startWith:6,maxWait:7,once:8})}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var vo=function(t,e){return(vo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function bo(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}vo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var wo=function(){return(wo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Io(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function $o(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Eo(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function So(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function To(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ko={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function _o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=_o(t[n],e[n]));return t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Ao=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function No(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Co(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var xo=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Do.prototype.create),o}return bo(e,t),e}(Error),Do=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?Oo(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new xo(i,s,r);return u},t}();function Oo(t,e){return t.replace(Ro,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var Ro=/\{\$([^}]+)}/g;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Po(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Lo(t,e){var n=new Mo(t,e);return n.subscribe.bind(n)}var Mo=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=Fo),void 0===r.error&&(r.error=Fo),void 0===r.complete&&(r.complete=Fo);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function Fo(){}
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Uo(t){return t&&t._delegate?t._delegate:t}var Vo=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),Bo="[DEFAULT]",jo=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t=Bo);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new Ao;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=wo({identifier:Bo,optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t))try{this.getOrInitializeService({instanceIdentifier:Bo})}catch(t){}try{for(var r=Eo(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=So(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=Bo),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Io(this,void 0,void 0,(function(){var t;return $o(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(To(To([],So(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),So(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=Bo),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.instanceIdentifier,i=void 0===r?Bo:r,o=t.options,a=void 0===o?{}:o,s=this.normalizeInstanceIdentifier(i);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:s,options:a});try{for(var c=Eo(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var h=So(l.value,2),f=h[0],d=h[1];s===this.normalizeInstanceIdentifier(f)&&d.resolve(u)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(u,s),u},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r;try{for(var i=Eo(this.onInitCallbacks),o=i.next();!o.done;o=i.next()){var a=o.value;try{a(t,e)}catch(t){}}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===Bo?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(t){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:Bo:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var qo,Go=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new jo(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function Wo(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ko,zo=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(Ko||(Ko={}));var Ho,Qo={debug:Ko.DEBUG,verbose:Ko.VERBOSE,info:Ko.INFO,warn:Ko.WARN,error:Ko.ERROR,silent:Ko.SILENT},Xo=Ko.INFO,Yo=((qo={})[Ko.DEBUG]="log",qo[Ko.VERBOSE]="log",qo[Ko.INFO]="info",qo[Ko.WARN]="warn",qo[Ko.ERROR]="error",qo),Jo=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=Yo[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,Wo(["["+i+"]  "+t.name+":"],n))}},Zo=function(){function t(t){this.name=t,this._logLevel=Xo,this._logHandler=Jo,this._userLogHandler=null,zo.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Ko))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?Qo[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Wo([this,Ko.DEBUG],t)),this._logHandler.apply(this,Wo([this,Ko.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Wo([this,Ko.VERBOSE],t)),this._logHandler.apply(this,Wo([this,Ko.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Wo([this,Ko.INFO],t)),this._logHandler.apply(this,Wo([this,Ko.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Wo([this,Ko.WARN],t)),this._logHandler.apply(this,Wo([this,Ko.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Wo([this,Ko.ERROR],t)),this._logHandler.apply(this,Wo([this,Ko.ERROR],t))},t}();function ta(t){zo.forEach((function(e){e.setLogLevel(t)}))}var ea,na=((Ho={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Ho["bad-app-name"]="Illegal App name: '{$appName}",Ho["duplicate-app"]="Firebase App named '{$appName}' already exists",Ho["app-deleted"]="Firebase App named '{$appName}' already deleted",Ho["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Ho["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Ho),ra=new Do("app","Firebase",na),ia="@firebase/app",oa="[DEFAULT]",aa=((ea={})[ia]="fire-core",ea["@firebase/analytics"]="fire-analytics",ea["@firebase/app-check"]="fire-app-check",ea["@firebase/auth"]="fire-auth",ea["@firebase/database"]="fire-rtdb",ea["@firebase/functions"]="fire-fn",ea["@firebase/installations"]="fire-iid",ea["@firebase/messaging"]="fire-fcm",ea["@firebase/performance"]="fire-perf",ea["@firebase/remote-config"]="fire-rc",ea["@firebase/storage"]="fire-gcs",ea["@firebase/firestore"]="fire-fst",ea["fire-js"]="fire-js",ea["firebase-wrapper"]="fire-js-all",ea),sa=new Zo("@firebase/app"),ua=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=_o(void 0,t),this.container=new Go(e.name),this._addComponent(new Vo("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e=oa),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=oa),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){sa.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ra.create("app-deleted",{appName:this.name_})},t}();ua.prototype.name&&ua.prototype.options||ua.prototype.delete||console.log("dc");
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function ca(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=oa);var a=o.name;if("string"!=typeof a||!a)throw ra.create("bad-app-name",{appName:String(a)});if(Po(e,a))throw ra.create("duplicate-app",{appName:a});var s=new t(n,o,r);return e[a]=s,s},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=aa[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void sa.warn(u.join(" "))}o(new Vo(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:ta,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw ra.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=Qo[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:Ko[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=zo;r<i.length;r++)n(i[r])}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t,e)},apps:null,SDK_VERSION:"8.6.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!Po(e,t=t||oa))throw ra.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return sa.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw ra.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&_o(s,o.serviceProps),r[a]=s,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?t:[])}}for(var u=0,c=Object.keys(e);u<c.length;u++){var l=c[u];e[l]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var la=function t(){var e=ca(ua);return e.INTERNAL=wo(wo({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){_o(e,t)},createSubscribe:Lo,ErrorFactory:Do,deepExtend:_o}),e}(),ha=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){sa.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var fa=self.firebase.SDK_VERSION;fa&&fa.indexOf("LITE")>=0&&sa.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var da=la.initializeApp;la.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Co()&&sa.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),da.apply(void 0,t)};var pa=la;!function(t,e){t.INTERNAL.registerComponent(new Vo("platform-logger",(function(t){return new ha(t)}),"PRIVATE")),t.registerVersion(ia,"0.6.22",e),t.registerVersion("fire-js","")}(pa);
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
pa.registerVersion("firebase","8.6.1","app");
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var ma=function(t,e){return(ma=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function ya(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var ga,va="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ba=ba||{},wa=va||self;function Ia(){}function $a(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ea(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Sa="closure_uid_"+(1e9*Math.random()>>>0),Ta=0;function ka(t,e,n){return t.call.apply(t.bind,arguments)}function _a(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Aa(t,e,n){return(Aa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ka:_a).apply(null,arguments)}function Na(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Ca(){return Date.now()}function xa(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Da(){this.j=this.j,this.i=this.i}Da.prototype.j=!1,Da.prototype.ja=function(){var t;!this.j&&(this.j=!0,this.G(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,Sa)&&t[Sa]||(t[Sa]=++Ta))},Da.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Oa=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ra=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Pa(t){return Array.prototype.concat.apply([],arguments)}function La(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ma(t){return/^[\s\xa0]*$/.test(t)}var Fa,Ua=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Va(t,e){return-1!=t.indexOf(e)}function Ba(t,e){return t<e?-1:t>e?1:0}t:{var ja=wa.navigator;if(ja){var qa=ja.userAgent;if(qa){Fa=qa;break t}}Fa=""}function Ga(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Wa(t){var e={};for(var n in t)e[n]=t[n];return e}var Ka="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function za(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Ka.length;o++)n=Ka[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ha(t){return Ha[" "](t),t}Ha[" "]=Ia;var Qa,Xa,Ya=Va(Fa,"Opera"),Ja=Va(Fa,"Trident")||Va(Fa,"MSIE"),Za=Va(Fa,"Edge"),ts=Za||Ja,es=Va(Fa,"Gecko")&&!(Va(Fa.toLowerCase(),"webkit")&&!Va(Fa,"Edge"))&&!(Va(Fa,"Trident")||Va(Fa,"MSIE"))&&!Va(Fa,"Edge"),ns=Va(Fa.toLowerCase(),"webkit")&&!Va(Fa,"Edge");function rs(){var t=wa.document;return t?t.documentMode:void 0}t:{var is="",os=(Xa=Fa,es?/rv:([^\);]+)(\)|;)/.exec(Xa):Za?/Edge\/([\d\.]+)/.exec(Xa):Ja?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Xa):ns?/WebKit\/(\S+)/.exec(Xa):Ya?/(?:Version)[ \/]?(\S+)/.exec(Xa):void 0);if(os&&(is=os?os[1]:""),Ja){var as=rs();if(null!=as&&as>parseFloat(is)){Qa=String(as);break t}}Qa=is}var ss,us={};function cs(t){return function(t,e){var n=us;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Ua(String(Qa)).split("."),r=Ua(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=Ba(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Ba(0==a[2].length,0==s[2].length)||Ba(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(wa.document&&Ja){var ls=rs();ss=ls||(parseInt(Qa,10)||void 0)}else ss=void 0;var hs=ss,fs=!Ja||9<=Number(hs),ds=Ja&&!cs("9"),ps=function(){if(!wa.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{wa.addEventListener("test",Ia,e),wa.removeEventListener("test",Ia,e)}catch(t){}return t}();function ms(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ys(t,e){if(ms.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(es){t:{try{Ha(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:gs[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ms.prototype.b=function(){this.defaultPrevented=!0},xa(ys,ms);var gs={2:"touch",3:"pen",4:"mouse"};ys.prototype.b=function(){ys.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ds)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var vs="closure_listenable_"+(1e6*Math.random()|0),bs=0;function ws(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++bs,this.Y=this.Z=!1}function Is(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function $s(t){this.src=t,this.a={},this.b=0}function Es(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Oa(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Is(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Ss(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}$s.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Ss(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new ws(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Ts="closure_lm_"+(1e6*Math.random()|0),ks={};function _s(t,e,n,r,i){if(r&&r.once)return Ns(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)_s(t,e[o],n,r,i);return null}return n=Ms(n),t&&t[vs]?t.va(e,n,Ea(r)?!!r.capture:!!r,i):As(t,e,n,!1,r,i)}function As(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=Ea(i)?!!i.capture:!!i;if(a&&!fs)return null;var s=Ps(t);if(s||(t[Ts]=s=new $s(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=Rs,e=fs?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ps||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ds(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ns(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ns(t,e[o],n,r,i);return null}return n=Ms(n),t&&t[vs]?t.wa(e,n,Ea(r)?!!r.capture:!!r,i):As(t,e,n,!0,r,i)}function Cs(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Cs(t,e[o],n,r,i);else r=Ea(r)?!!r.capture:!!r,n=Ms(n),t&&t[vs]?(t=t.c,(e=String(e).toString())in t.a&&(-1<(n=Ss(o=t.a[e],n,r,i))&&(Is(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Ps(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Ss(e,n,r,i)),(n=-1<t?e[t]:null)&&xs(n))}function xs(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[vs])Es(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ds(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ps(e))?(Es(n,t),0==n.b&&(n.src=null,e[Ts]=null)):Is(t)}}}function Ds(t){return t in ks?ks[t]:ks[t]="on"+t}function Os(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&xs(t),n.call(r,e)}function Rs(t,e){if(t.Y)return!0;if(!fs){if(!e)t:{e=["window","event"];for(var n=wa,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Os(t,e=new ys(e,this))}return Os(t,new ys(e,this))}function Ps(t){return(t=t[Ts])instanceof $s?t:null}var Ls="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ms(t){return"function"==typeof t?t:(t[Ls]||(t[Ls]=function(e){return t.handleEvent(e)}),t[Ls])}function Fs(){Da.call(this),this.c=new $s(this),this.J=this,this.C=null}function Us(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new ms(e,t);else if(e instanceof ms)e.target=e.target||t;else{var i=e;za(e=new ms(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=Vs(a,r,!0,e)&&i}if(i=Vs(a=e.a=t,r,!0,e)&&i,i=Vs(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Vs(a=e.a=n[o],r,!1,e)&&i}function Vs(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&Es(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}xa(Fs,Da),Fs.prototype[vs]=!0,(ga=Fs.prototype).addEventListener=function(t,e,n,r){_s(this,t,e,n,r)},ga.removeEventListener=function(t,e,n,r){Cs(this,t,e,n,r)},ga.G=function(){if(Fs.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Is(n[r]);delete e.a[t],e.b--}}this.C=null},ga.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},ga.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Bs=wa.JSON.stringify;function js(){this.b=this.a=null}var qs,Gs=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new Ks}),(function(t){t.reset()}));function Ws(){var t=Xs,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ks(){this.next=this.b=this.a=null}function zs(t){wa.setTimeout((function(){throw t}),0)}function Hs(t,e){qs||function(){var t=wa.Promise.resolve(void 0);qs=function(){t.then(Ys)}}(),Qs||(qs(),Qs=!0),Xs.add(t,e)}js.prototype.add=function(t,e){var n=Gs.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ks.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ks.prototype.reset=function(){this.next=this.b=this.a=null};var Qs=!1,Xs=new js;function Ys(){for(var t;t=Ws();){try{t.a.call(t.b)}catch(t){zs(t)}var e=Gs;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Qs=!1}function Js(t,e){Fs.call(this),this.b=t||1,this.a=e||wa,this.f=Aa(this.Za,this),this.g=Ca()}function Zs(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function tu(t,e,n){if("function"==typeof t)n&&(t=Aa(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Aa(t.handleEvent,t)}return 2147483647<Number(e)?-1:wa.setTimeout(t,e||0)}function eu(t){t.a=tu((function(){t.a=null,t.c&&(t.c=!1,eu(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}xa(Js,Fs),(ga=Js.prototype).aa=!1,ga.M=null,ga.Za=function(){if(this.aa){var t=Ca()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Us(this,"tick"),this.aa&&(Zs(this),this.start()))}},ga.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Ca())},ga.G=function(){Js.X.G.call(this),Zs(this),delete this.a};var nu=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}ma(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:eu(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(wa.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Da);function ru(t){Da.call(this),this.b=t,this.a={}}xa(ru,Da);var iu=[];function ou(t,e,n,r){Array.isArray(n)||(n&&(iu[0]=n.toString()),n=iu);for(var i=0;i<n.length;i++){var o=_s(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function au(t){Ga(t.a,(function(t,e){this.a.hasOwnProperty(e)&&xs(t)}),t),t.a={}}function su(){this.a=!0}function uu(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Bs(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}ru.prototype.G=function(){ru.X.G.call(this),au(this)},ru.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},su.prototype.info=function(){};var cu={},lu=null;function hu(){return lu=lu||new Fs}function fu(t){ms.call(this,cu.Fa,t)}function du(t){var e=hu();Us(e,new fu(e,t))}function pu(t,e){ms.call(this,cu.STAT_EVENT,t),this.stat=e}function mu(t){var e=hu();Us(e,new pu(e,t))}function yu(t){ms.call(this,cu.Ga,t)}function gu(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return wa.setTimeout((function(){t()}),e)}cu.Fa="serverreachability",xa(fu,ms),cu.STAT_EVENT="statevent",xa(pu,ms),cu.Ga="timingevent",xa(yu,ms);var vu={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},bu={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function wu(){}function Iu(t){var e;return(e=t.a)||(e=t.a={}),e}function $u(){}wu.prototype.a=null;var Eu,Su={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Tu(){ms.call(this,"d")}function ku(){ms.call(this,"c")}function _u(){}function Au(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new ru(this),this.P=Nu,t=ts?125:void 0,this.R=new Js(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}xa(Tu,ms),xa(ku,ms),xa(_u,wu),Eu=new _u;var Nu=45e3,Cu={},xu={};function Du(t,e,n){t.H=1,t.i=tc(Hu(e)),t.j=n,t.I=!0,Ou(t,null)}function Ou(t,e){t.u=Ca(),Lu(t),t.l=Hu(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),dc(n.b,"t",r),t.D=0,t.a=sl(t.g,t.g.C?e:null),0<t.O&&(t.F=new nu(Aa(t.Ca,t,t.a),t.O)),ou(t.J,t.a,"readystatechange",t.Xa),e=t.B?Wa(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),du(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Ru(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Pu(t,n);if(i==xu){4==e&&(t.h=4,mu(14),r=!1),uu(t.c,t.f,null,"[Incomplete Response]");break}if(i==Cu){t.h=4,mu(15),uu(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}uu(t.c,t.f,i,null),Bu(t,i)}4==e&&0==n.length&&(t.h=1,mu(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zc(e),e.F=!0,mu(11))):(uu(t.c,t.f,n,"[Invalid Chunked Response]"),Vu(t),Uu(t))}function Pu(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?xu:(n=Number(e.substring(n,r)),isNaN(n)?Cu:(r+=1)+n>e.length?xu:(e=e.substr(r,n),t.D=r+n,e))}function Lu(t){t.T=Ca()+t.P,Mu(t,t.P)}function Mu(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=gu(Aa(t.Va,t),e)}function Fu(t){t.o&&(wa.clearTimeout(t.o),t.o=null)}function Uu(t){0==t.g.v||t.A||nl(t.g,t)}function Vu(t){Fu(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Zs(t.R),au(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Bu(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||wc(n.b,t)))if(n.I=t.N,!t.C&&wc(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;el(n),Gc(n)}Jc(n),mu(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=gu(Aa(n.Sa,n),6e3));if(1>=bc(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else il(n,11)}else if((t.C||n.a==t)&&el(n),!Ma(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Va(l,"spdy")||Va(l,"quic")||Va(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Ic(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Zu(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Ca()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=al(u,u.C?u.ga:null,u.fa),d.C){$c(u.b,d);var p=d,m=u.D;m&&p.setTimeout(m),p.o&&(Fu(p),Lu(p)),u.a=d}else Yc(u);0<n.g.length&&zc(n)}else"stop"!=i[0]&&"close"!=i[0]||il(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?il(n,7):qc(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);du(4)}catch(t){}}function ju(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if($a(t)||"string"==typeof t)Ra(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if($a(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if($a(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function qu(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof qu)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Gu(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Wu(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Wu(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Wu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(ga=Au.prototype).setTimeout=function(t){this.P=t},ga.Xa=function(t){t=t.target;var e=this.F;e&&3==Uc(t)?e.f():this.Ca(t)},ga.Ca=function(t){try{if(t==this.a)t:{var e=Uc(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!ts&&!this.a.$())){this.A||4!=e||7==n||du(8==n||0>=r?3:2),Fu(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ma(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,mu(12),Vu(this),Uu(this);break t}uu(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Bu(this,u)}this.I?(Ru(this,e,o),ts&&this.b&&3==e&&(ou(this.J,this.R,"tick",this.Wa),this.R.start())):(uu(this.c,this.f,o,null),Bu(this,o)),4==e&&Vu(this),this.b&&!this.A&&(4==e?nl(this.g,this):(this.b=!1,Lu(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,mu(12)):(this.h=0,mu(13)),Vu(this),Uu(this)}}}catch(t){}},ga.Wa=function(){if(this.a){var t=Uc(this.a),e=this.a.$();this.D<e.length&&(Fu(this),Ru(this,t,e),this.b&&4!=t&&Lu(this))}},ga.cancel=function(){this.A=!0,Vu(this)},ga.Va=function(){this.o=null;var t=Ca();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(du(3),mu(17)),Vu(this),this.h=2,Uu(this)):Mu(this,this.T-t)},(ga=qu.prototype).K=function(){Gu(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},ga.L=function(){return Gu(this),this.a.concat()},ga.get=function(t,e){return Wu(this.b,t)?this.b[t]:e},ga.set=function(t,e){Wu(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},ga.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ku=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function zu(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof zu){this.a=void 0!==e?e:t.a,Qu(this,t.f),this.j=t.j,Xu(this,t.c),Yu(this,t.h),this.g=t.g,e=t.b;var n=new cc;n.c=e.c,e.a&&(n.a=new qu(e.a),n.b=e.b),Ju(this,n),this.i=t.i}else t&&(n=String(t).match(Ku))?(this.a=!!e,Qu(this,n[1]||"",!0),this.j=ec(n[2]||""),Xu(this,n[3]||"",!0),Yu(this,n[4]),this.g=ec(n[5]||"",!0),Ju(this,n[6]||"",!0),this.i=ec(n[7]||"")):(this.a=!!e,this.b=new cc(null,this.a))}function Hu(t){return new zu(t)}function Qu(t,e,n){t.f=n?ec(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Xu(t,e,n){t.c=n?ec(e,!0):e}function Yu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ju(t,e,n){e instanceof cc?(t.b=e,function(t,e){e&&!t.f&&(lc(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(hc(this,e),dc(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=nc(e,sc)),t.b=new cc(e,t.a))}function Zu(t,e,n){t.b.set(e,n)}function tc(t){return Zu(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Ca()).toString(36)),t}function ec(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function nc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,rc),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function rc(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}zu.prototype.toString=function(){var t=[],e=this.f;e&&t.push(nc(e,ic,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(nc(e,ic,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(nc(n,"/"==n.charAt(0)?ac:oc,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",nc(n,uc)),t.join("")};var ic=/[#\/\?@]/g,oc=/[#\?:]/g,ac=/[#\?]/g,sc=/[#\?@]/g,uc=/#/g;function cc(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function lc(t){t.a||(t.a=new qu,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function hc(t,e){lc(t),e=pc(t,e),Wu(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Wu((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Gu(t)))}function fc(t,e){return lc(t),e=pc(t,e),Wu(t.a.b,e)}function dc(t,e,n){hc(t,e),0<n.length&&(t.c=null,t.a.set(pc(t,e),La(n)),t.b+=n.length)}function pc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(ga=cc.prototype).add=function(t,e){lc(this),this.c=null,t=pc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},ga.forEach=function(t,e){lc(this),this.a.forEach((function(n,r){Ra(n,(function(n){t.call(e,n,r,this)}),this)}),this)},ga.L=function(){lc(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},ga.K=function(t){lc(this);var e=[];if("string"==typeof t)fc(this,t)&&(e=Pa(e,this.a.get(pc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Pa(e,t[n])}return e},ga.set=function(t,e){return lc(this),this.c=null,fc(this,t=pc(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},ga.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},ga.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var mc=function(t,e){this.b=t,this.a=e};function yc(t){this.g=t||gc,wa.PerformanceNavigationTiming?t=0<(t=wa.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(wa.ia&&wa.ia.ya&&wa.ia.ya()&&wa.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var gc=10;function vc(t){return!!t.b||!!t.a&&t.a.size>=t.f}function bc(t){return t.b?1:t.a?t.a.size:0}function wc(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Ic(t,e){t.a?t.a.add(e):t.b=e}function $c(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Ec(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=ya(t.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return La(t.c)}function Sc(){}function Tc(){this.a=new Sc}function kc(t,e,n){var r=n||"";try{ju(t,(function(t,n){var i=t;Ea(t)&&(i=Bs(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function _c(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}yc.prototype.cancel=function(){var t,e;if(this.c=Ec(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=ya(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Sc.prototype.stringify=function(t){return wa.JSON.stringify(t,void 0)},Sc.prototype.parse=function(t){return wa.JSON.parse(t,void 0)};var Ac=wa.JSON.parse;function Nc(t){Fs.call(this),this.headers=new qu,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Cc,this.D=this.F=!1}xa(Nc,Fs);var Cc="",xc=/^https?$/i,Dc=["POST","PUT"];function Oc(t){return"content-type"==t.toLowerCase()}function Rc(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Pc(t),Mc(t)}function Pc(t){t.u||(t.u=!0,Us(t,"complete"),Us(t,"error"))}function Lc(t){if(t.b&&void 0!==ba&&(!t.s[1]||4!=Uc(t)||2!=t.W()))if(t.l&&4==Uc(t))tu(t.za,0,t);else if(Us(t,"readystatechange"),4==Uc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Ku)[1]||null;if(!o&&wa.self&&wa.self.location){var a=wa.self.location.protocol;o=a.substr(0,a.length-1)}i=!xc.test(o?o.toLowerCase():"")}e=i}if(e)Us(t,"complete"),Us(t,"success");else{t.h=6;try{var s=2<Uc(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",Pc(t)}}finally{Mc(t)}}}function Mc(t,e){if(t.a){Fc(t);var n=t.a,r=t.s[0]?Ia:null;t.a=null,t.s=null,e||Us(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function Fc(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(wa.clearTimeout(t.m),t.m=null)}function Uc(t){return t.a?t.a.readyState:0}function Vc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Ga(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Zu(t,e,n))}function Bc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function jc(t){this.pa=0,this.g=[],this.c=new su,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Bc("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Bc("baseRetryDelayMs",5e3,t),this.Ra=Bc("retryDelaySeedMs",1e4,t),this.Ma=Bc("forwardChannelMaxRetries",2,t),this.ma=Bc("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new yc(t&&t.concurrentRequestLimit),this.ka=new Tc,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function qc(t){if(Wc(t),3==t.v){var e=t.R++,n=Hu(t.B);Zu(n,"SID",t.J),Zu(n,"RID",e),Zu(n,"TYPE","terminate"),Qc(t,n),(e=new Au(t,t.c,e,void 0)).H=2,e.i=tc(Hu(n)),n=!1,wa.navigator&&wa.navigator.sendBeacon&&(n=wa.navigator.sendBeacon(e.i.toString(),"")),!n&&wa.Image&&((new Image).src=e.i,n=!0),n||(e.a=sl(e.g,null),e.a.ba(e.i)),e.u=Ca(),Lu(e)}ol(t)}function Gc(t){t.a&&(Zc(t),t.a.cancel(),t.a=null)}function Wc(t){Gc(t),t.j&&(wa.clearTimeout(t.j),t.j=null),el(t),t.b.cancel(),t.h&&("number"==typeof t.h&&wa.clearTimeout(t.h),t.h=null)}function Kc(t,e){t.g.push(new mc(t.Oa++,e)),3==t.v&&zc(t)}function zc(t){vc(t.b)||t.h||(t.h=!0,Hs(t.Ba,t),t.u=0)}function Hc(t,e){var n;n=e?e.f:t.R++;var r=Hu(t.B);Zu(r,"SID",t.J),Zu(r,"RID",n),Zu(r,"AID",t.P),Qc(t,r),t.i&&t.l&&Vc(r,t.i,t.l),n=new Au(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Xc(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Ic(t.b,n),Du(n,r,e)}function Qc(t,e){t.f&&ju({},(function(t,n){Zu(e,n,t)}))}function Xc(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Aa(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{kc(l,a,"req"+c+"_")}catch(t){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Yc(t){t.a||t.j||(t.T=1,Hs(t.Aa,t),t.o=0)}function Jc(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=gu(Aa(t.Aa,t),rl(t,t.o)),t.o++,!0)}function Zc(t){null!=t.s&&(wa.clearTimeout(t.s),t.s=null)}function tl(t){t.a=new Au(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Hu(t.la);Zu(e,"RID","rpc"),Zu(e,"SID",t.J),Zu(e,"CI",t.H?"0":"1"),Zu(e,"AID",t.P),Qc(t,e),Zu(e,"TYPE","xmlhttp"),t.i&&t.l&&Vc(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=tc(Hu(e)),n.j=null,n.I=!0,Ou(n,t)}function el(t){null!=t.m&&(wa.clearTimeout(t.m),t.m=null)}function nl(t,e){var n=null;if(t.a==e){el(t),Zc(t),t.a=null;var r=2}else{if(!wc(t.b,e))return;n=e.s,$c(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Ca()-e.u;var i=t.u;Us(r=hu(),new yu(r,n,e,i)),zc(t)}else Yc(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(bc(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=gu(Aa(t.Ba,t,e),rl(t,t.u)),t.u++,0)))}(t,e)||2==r&&Jc(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:il(t,5);break;case 4:il(t,10);break;case 3:il(t,6);break;default:il(t,2)}}function rl(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function il(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Aa(t.Ya,t);n||(n=new zu("//www.google.com/images/cleardot.gif"),wa.location&&"http"==wa.location.protocol||Qu(n,"https"),tc(n)),function(t,e){var n=new su;if(wa.Image){var r=new Image;r.onload=Na(_c,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Na(_c,n,r,"TestLoadImage: error",!1,e),r.onabort=Na(_c,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Na(_c,n,r,"TestLoadImage: timeout",!1,e),wa.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else mu(2);t.v=0,t.f&&t.f.ra(e),ol(t),Wc(t)}function ol(t){t.v=0,t.I=-1,t.f&&(0==Ec(t.b).length&&0==t.g.length||(t.b.c.length=0,La(t.g),t.g.length=0),t.f.qa())}function al(t,e,n){var r=function(t){return t instanceof zu?Hu(t):new zu(t,void 0)}(n);if(""!=r.c)e&&Xu(r,e+"."+r.c),Yu(r,r.h);else{var i=wa.location;r=function(t,e,n,r){var i=new zu(null,void 0);return t&&Qu(i,t),e&&Xu(i,e),n&&Yu(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Ga(t.V,(function(t,e){Zu(r,e,t)})),e=t.A,n=t.na,e&&n&&Zu(r,e,n),Zu(r,"VER",t.ha),Qc(t,r),r}function sl(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Nc(t.Na)).F=t.C,e}function ul(){}function cl(){if(Ja&&!(10<=Number(hs)))throw Error("Environmental error: no available transport.")}function ll(t,e){Fs.call(this),this.a=new jc(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ma(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ma(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new dl(this)}function hl(t){Tu.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function fl(){ku.call(this),this.status=1}function dl(t){this.a=t}(ga=Nc.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Iu(this.H):Iu(Eu),this.a.onreadystatechange=Aa(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void Rc(this,t)}t=n||"";var i=new qu(this.headers);r&&ju(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Oc,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=wa.FormData&&t instanceof wa.FormData,!(0<=Oa(Dc,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Fc(this),0<this.o&&((this.D=function(t){return Ja&&cs(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Aa(this.xa,this)):this.m=tu(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Rc(this,t)}},ga.xa=function(){void 0!==ba&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Us(this,"timeout"),this.abort(8))},ga.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Us(this,"complete"),Us(this,"abort"),Mc(this))},ga.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Mc(this,!0)),Nc.X.G.call(this)},ga.za=function(){this.j||(this.A||this.l||this.g?Lc(this):this.Ua())},ga.Ua=function(){Lc(this)},ga.W=function(){try{return 2<Uc(this)?this.a.status:-1}catch(t){return-1}},ga.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},ga.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ac(e)}},ga.ua=function(){return this.h},ga.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(ga=jc.prototype).ha=8,ga.v=1,ga.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Au(this,this.c,t,void 0),r=this.l;if(this.O&&(r?za(r=Wa(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Xc(this,n,e),Zu(i=Hu(this.B),"RID",t),Zu(i,"CVER",22),this.A&&Zu(i,"X-HTTP-Session-Id",this.A),Qc(this,i),this.i&&r&&Vc(i,this.i,r),Ic(this.b,n),this.Ia&&Zu(i,"TYPE","init"),this.da?(Zu(i,"$req",e),Zu(i,"SID","null"),n.U=!0,Du(n,i,null)):Du(n,i,e),this.v=2}}else 3==this.v&&(t?Hc(this,t):0==this.g.length||vc(this.b)||Hc(this))},ga.Aa=function(){if(this.j=null,tl(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=gu(Aa(this.Ta,this),t)}},ga.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,mu(10),Gc(this),tl(this))},ga.Sa=function(){null!=this.m&&(this.m=null,Gc(this),Jc(this),mu(19))},ga.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),mu(2)):(this.c.info("Failed to ping google.com"),mu(1))},(ga=ul.prototype).ta=function(){},ga.sa=function(){},ga.ra=function(){},ga.qa=function(){},ga.Ja=function(){},cl.prototype.a=function(t,e){return new ll(t,e)},xa(ll,Fs),ll.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;mu(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=al(t,null,t.fa),zc(t)},ll.prototype.close=function(){qc(this.a)},ll.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Kc(this.a,e)}else this.l?((e={}).__data__=Bs(t),Kc(this.a,e)):Kc(this.a,t)},ll.prototype.G=function(){this.a.f=null,delete this.f,qc(this.a),delete this.a,ll.X.G.call(this)},xa(hl,Tu),xa(fl,ku),xa(dl,ul),dl.prototype.ta=function(){Us(this.a,"a")},dl.prototype.sa=function(t){Us(this.a,new hl(t))},dl.prototype.ra=function(t){Us(this.a,new fl(t))},dl.prototype.qa=function(){Us(this.a,"b")},cl.prototype.createWebChannel=cl.prototype.a,ll.prototype.send=ll.prototype.h,ll.prototype.open=ll.prototype.g,ll.prototype.close=ll.prototype.close,vu.NO_ERROR=0,vu.TIMEOUT=8,vu.HTTP_ERROR=6,bu.COMPLETE="complete",$u.EventType=Su,Su.OPEN="a",Su.CLOSE="b",Su.ERROR="c",Su.MESSAGE="d",Fs.prototype.listen=Fs.prototype.va,Nc.prototype.listenOnce=Nc.prototype.wa,Nc.prototype.getLastError=Nc.prototype.Qa,Nc.prototype.getLastErrorCode=Nc.prototype.ua,Nc.prototype.getStatus=Nc.prototype.W,Nc.prototype.getResponseJson=Nc.prototype.Pa,Nc.prototype.getResponseText=Nc.prototype.$,Nc.prototype.send=Nc.prototype.ba;var pl=vu,ml=bu,yl=cu,gl=10,vl=11,bl=$u,wl=Nc,Il=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Il.o=-1;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var $l={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},El=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return bo(e,t),e}(Error),Sl=new Zo("@firebase/firestore");function Tl(){return Sl.logLevel}function kl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Sl.logLevel<=Ko.DEBUG){var r=e.map(Nl);Sl.debug.apply(Sl,To(["Firestore (8.5.0): "+t],r))}}function _l(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Sl.logLevel<=Ko.ERROR){var r=e.map(Nl);Sl.error.apply(Sl,To(["Firestore (8.5.0): "+t],r))}}function Al(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Sl.logLevel<=Ko.WARN){var r=e.map(Nl);Sl.warn.apply(Sl,To(["Firestore (8.5.0): "+t],r))}}function Nl(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Cl(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.5.0) INTERNAL ASSERTION FAILED: "+t;throw _l(e),new Error(e)}function xl(t,e){t||Cl()}function Dl(t,e){return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ol(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Rl=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Ol(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Pl(t,e){return t<e?-1:t>e?1:0}function Ll(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Ml(t){return t+"\0"}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Fl=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new El($l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new El($l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new El($l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new El($l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Pl(this.nanoseconds,t.nanoseconds):Pl(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Ul=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Fl(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Vl(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bl(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jl(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ql=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Cl(),void 0===n?n=t.length-e:n>t.length-e&&Cl(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Gl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bo(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new El($l.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(ql),Wl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Kl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bo(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Wl.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new El($l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new El($l.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new El($l.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new El($l.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(ql),zl=function(){function t(t){this.fields=t,t.sort(Kl.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Ll(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Hl=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Pl(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Hl.EMPTY_BYTE_STRING=new Hl("");var Ql=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xl(t){if(xl(!!t),"string"==typeof t){var e=0,n=Ql.exec(t);if(xl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Yl(t.seconds),nanos:Yl(t.nanos)}}function Yl(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Jl(t){return"string"==typeof t?Hl.fromBase64String(t):Hl.fromUint8Array(t)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Zl(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function th(t){var e=t.mapValue.fields.__previous_value__;return Zl(e)?th(e):e}function eh(t){var e=Xl(t.mapValue.fields.__local_write_time__.timestampValue);return new Fl(e.seconds,e.nanos)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function nh(t){return null==t}function rh(t){return 0===t&&1/t==-1/0}function ih(t){return"number"==typeof t&&Number.isInteger(t)&&!rh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var oh=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Gl.fromString(e))},t.fromName=function(e){return new t(Gl.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Gl.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Gl.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Gl(e.slice()))},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ah(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zl(t)?4:10:Cl()}function sh(t,e){var n=ah(t);if(n!==ah(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eh(t).isEqual(eh(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Xl(t.timestampValue),r=Xl(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Jl(t.bytesValue).isEqual(Jl(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Yl(t.geoPointValue.latitude)===Yl(e.geoPointValue.latitude)&&Yl(t.geoPointValue.longitude)===Yl(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Yl(t.integerValue)===Yl(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Yl(t.doubleValue),r=Yl(e.doubleValue);return n===r?rh(n)===rh(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Ll(t.arrayValue.values||[],e.arrayValue.values||[],sh);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Vl(n)!==Vl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!sh(n[i],r[i])))return!1;return!0}(t,e);default:return Cl()}}function uh(t,e){return void 0!==(t.values||[]).find((function(t){return sh(t,e)}))}function ch(t,e){var n=ah(t),r=ah(e);if(n!==r)return Pl(n,r);switch(n){case 0:return 0;case 1:return Pl(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Yl(t.integerValue||t.doubleValue),r=Yl(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return lh(t.timestampValue,e.timestampValue);case 4:return lh(eh(t),eh(e));case 5:return Pl(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Jl(t),r=Jl(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Pl(n[i],r[i]);if(0!==o)return o}return Pl(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Pl(Yl(t.latitude),Yl(e.latitude));return 0!==n?n:Pl(Yl(t.longitude),Yl(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=ch(n[i],r[i]);if(o)return o}return Pl(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Pl(r[a],o[a]);if(0!==s)return s;var u=ch(n[r[a]],i[o[a]]);if(0!==u)return u}return Pl(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Cl()}}function lh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Pl(t,e);var n=Xl(t),r=Xl(e),i=Pl(n.seconds,r.seconds);return 0!==i?i:Pl(n.nanos,r.nanos)}function hh(t){return fh(t)}function fh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Xl(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Jl(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,oh.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=fh(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+fh(t.fields[o])}return e+"}"}(t.mapValue):Cl();var e,n}function dh(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function ph(t){return!!t&&"integerValue"in t}function mh(t){return!!t&&"arrayValue"in t}function yh(t){return!!t&&"nullValue"in t}function gh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vh(t){return!!t&&"mapValue"in t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var bh=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(Kl.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach((function(t,n){t?e.set(n,t):e.delete(n)}))},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return sh(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===ah(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),a=vh(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(a[n]=o,i=!0)}else null!==t?(a[n]=t,i=!0):a.hasOwnProperty(n)&&(delete a[n],i=!0)})),i?{mapValue:{fields:a}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(Kl.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!vh(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function wh(t){var e=[];return Bl(t.fields||{},(function(t,n){var r=new Kl([t]);if(vh(n)){var i=wh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)})),new zl(e)
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var Ih=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Ul.min(),bh.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,bh.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,bh.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=bh.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=bh.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),$h=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Eh(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new $h(t,e,n,r,i,o,a)}function Sh(t){var e=Dl(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+hh(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),nh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Mh(e.startAt)),e.endAt&&(n+="|ub:",n+=Mh(e.endAt)),e.h=n}return e.h}function Th(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Uh(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!sh(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bh(t.startAt,e.startAt)&&Bh(t.endAt,e.endAt)}function kh(t){return oh.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var _h=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return bo(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Ah(t,n,r):"array-contains"===n?new Dh(t,r):"in"===n?new Oh(t,r):"not-in"===n?new Rh(t,r):"array-contains-any"===n?new Ph(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Nh(t,n):new Ch(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(ch(e,this.value)):null!==e&&ah(this.value)===ah(e)&&this.m(ch(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Cl()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Ah=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=oh.fromName(r.referenceValue),i}return bo(e,t),e.prototype.matches=function(t){var e=oh.comparator(t.key,this.key);return this.m(e)},e}(_h),Nh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=xh("in",n),r}return bo(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(_h),Ch=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=xh("not-in",n),r}return bo(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(_h);function xh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return oh.fromName(t.referenceValue)}))}var Dh=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return bo(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return mh(e)&&uh(e.arrayValue,this.value)},e}(_h),Oh=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return bo(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&uh(this.value.arrayValue,e)},e}(_h),Rh=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return bo(e,t),e.prototype.matches=function(t){if(uh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!uh(this.value.arrayValue,e)},e}(_h),Ph=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return bo(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!mh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return uh(e.value.arrayValue,t)}))},e}(_h),Lh=function(t,e){this.position=t,this.before=e};function Mh(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return hh(t)})).join(",")}var Fh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Uh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Vh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?oh.comparator(oh.fromName(a.referenceValue),n.key):ch(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Bh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!sh(t.position[n],e.position[n]))return!1;return!0}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var jh=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function qh(t,e,n,r,i,o,a,s){return new jh(t,e,n,r,i,o,a,s)}function Gh(t){return new jh(t)}function Wh(t){return!nh(t.limit)&&"F"===t.limitType}function Kh(t){return!nh(t.limit)&&"L"===t.limitType}function zh(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Hh(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Qh(t){return null!==t.collectionGroup}function Xh(t){var e=Dl(t);if(null===e.p){e.p=[];var n=Hh(e),r=zh(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Fh(n)),e.p.push(new Fh(Kl.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Fh(Kl.keyField(),u))}}}return e.p}function Yh(t){var e=Dl(t);if(!e.T)if("F"===e.limitType)e.T=Eh(e.path,e.collectionGroup,Xh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Xh(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Fh(o.field,a))}var s=e.endAt?new Lh(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Lh(e.startAt.position,!e.startAt.before):null;e.T=Eh(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.T}function Jh(t,e,n){return new jh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Zh(t,e){return Th(Yh(t),Yh(e))&&t.limitType===e.limitType}function tf(t){return Sh(Yh(t))+"|lt:"+t.limitType}function ef(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+hh(e.value);var e})).join(", ")+"]"),nh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Mh(t.startAt)),t.endAt&&(e+=", endAt: "+Mh(t.endAt)),"Target("+e+")"}(Yh(t))+"; limitType="+t.limitType+")"}function nf(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):oh.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Vh(t.startAt,Xh(t),e)||t.endAt&&Vh(t.endAt,Xh(t),e))}(t,e)}function rf(t){return function(e,n){for(var r=!1,i=0,o=Xh(t);i<o.length;i++){var a=o[i],s=of(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function of(t,e,n){var r=t.field.isKeyField()?oh.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?ch(r,i):Cl()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Cl()}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function af(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(e)?"-0":e}}function sf(t){return{integerValue:""+t}}function uf(t,e){return ih(e)?sf(e):af(t,e)}
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var cf=function(){this._=void 0};function lf(t,e,n){return t instanceof df?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof pf?mf(t,e):t instanceof yf?gf(t,e):function(t,e){var n=ff(t,e),r=bf(n)+bf(t.A);return ph(n)&&ph(t.A)?sf(r):af(t.R,r)}(t,e)}function hf(t,e,n){return t instanceof pf?mf(t,e):t instanceof yf?gf(t,e):n}function ff(t,e){return t instanceof vf?ph(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var df=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bo(e,t),e}(cf),pf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return bo(e,t),e}(cf);function mf(t,e){for(var n=wf(e),r=function(t){n.some((function(e){return sh(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var yf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return bo(e,t),e}(cf);function gf(t,e){for(var n=wf(e),r=function(t){n=n.filter((function(e){return!sh(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var vf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return bo(e,t),e}(cf);function bf(t){return Yl(t.integerValue||t.doubleValue)}function wf(t){return mh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var If=function(t,e){this.field=t,this.transform=e},$f=function(t,e){this.version=t,this.transformResults=e},Ef=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Sf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Tf=function(){};function kf(t,e,n){t instanceof xf?function(t,e,n){var r=t.value.clone(),i=Rf(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Df?function(t,e,n){if(Sf(t.precondition,e)){var r=Rf(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Of(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function _f(t,e,n){t instanceof xf?function(t,e,n){if(Sf(t.precondition,e)){var r=t.value.clone(),i=Pf(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Cf(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Df?function(t,e,n){if(Sf(t.precondition,e)){var r=Pf(t.fieldTransforms,n,e),i=e.data;i.setAll(Of(t)),i.setAll(r),e.convertToFoundDocument(Cf(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Sf(t.precondition,e)&&e.convertToNoDocument(Ul.min())}(t,e)}function Af(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),s=ff(o.transform,a||null);null!=s&&(null==n&&(n=bh.empty()),n.set(o.field,s))}return n||null}function Nf(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Ll(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof pf&&e instanceof pf||t instanceof yf&&e instanceof yf?Ll(t.elements,e.elements,sh):t instanceof vf&&e instanceof vf?sh(t.A,e.A):t instanceof df&&e instanceof df}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Cf(t){return t.isFoundDocument()?t.version:Ul.min()}var xf=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return bo(e,t),e}(Tf),Df=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return bo(e,t),e}(Tf);function Of(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function Rf(t,e,n){var r=new Map;xl(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,hf(a,s,n[i]))}return r}function Pf(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,lf(s,u,e))}return r}var Lf,Mf,Ff=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return bo(e,t),e}(Tf),Uf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return bo(e,t),e}(Tf),Vf=function(t){this.count=t};function Bf(t){switch(t){case $l.OK:return Cl();case $l.CANCELLED:case $l.UNKNOWN:case $l.DEADLINE_EXCEEDED:case $l.RESOURCE_EXHAUSTED:case $l.INTERNAL:case $l.UNAVAILABLE:case $l.UNAUTHENTICATED:return!1;case $l.INVALID_ARGUMENT:case $l.NOT_FOUND:case $l.ALREADY_EXISTS:case $l.PERMISSION_DENIED:case $l.FAILED_PRECONDITION:case $l.ABORTED:case $l.OUT_OF_RANGE:case $l.UNIMPLEMENTED:case $l.DATA_LOSS:return!0;default:return Cl()}}function jf(t){if(void 0===t)return _l("GRPC error has no .code"),$l.UNKNOWN;switch(t){case Lf.OK:return $l.OK;case Lf.CANCELLED:return $l.CANCELLED;case Lf.UNKNOWN:return $l.UNKNOWN;case Lf.DEADLINE_EXCEEDED:return $l.DEADLINE_EXCEEDED;case Lf.RESOURCE_EXHAUSTED:return $l.RESOURCE_EXHAUSTED;case Lf.INTERNAL:return $l.INTERNAL;case Lf.UNAVAILABLE:return $l.UNAVAILABLE;case Lf.UNAUTHENTICATED:return $l.UNAUTHENTICATED;case Lf.INVALID_ARGUMENT:return $l.INVALID_ARGUMENT;case Lf.NOT_FOUND:return $l.NOT_FOUND;case Lf.ALREADY_EXISTS:return $l.ALREADY_EXISTS;case Lf.PERMISSION_DENIED:return $l.PERMISSION_DENIED;case Lf.FAILED_PRECONDITION:return $l.FAILED_PRECONDITION;case Lf.ABORTED:return $l.ABORTED;case Lf.OUT_OF_RANGE:return $l.OUT_OF_RANGE;case Lf.UNIMPLEMENTED:return $l.UNIMPLEMENTED;case Lf.DATA_LOSS:return $l.DATA_LOSS;default:return Cl()}}(Mf=Lf||(Lf={}))[Mf.OK=0]="OK",Mf[Mf.CANCELLED=1]="CANCELLED",Mf[Mf.UNKNOWN=2]="UNKNOWN",Mf[Mf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mf[Mf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mf[Mf.NOT_FOUND=5]="NOT_FOUND",Mf[Mf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mf[Mf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mf[Mf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mf[Mf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mf[Mf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mf[Mf.ABORTED=10]="ABORTED",Mf[Mf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mf[Mf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mf[Mf.INTERNAL=13]="INTERNAL",Mf[Mf.UNAVAILABLE=14]="UNAVAILABLE",Mf[Mf.DATA_LOSS=15]="DATA_LOSS";
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var qf=function(){function t(t,e){this.comparator=t,this.root=e||Wf.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wf.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wf.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Gf(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Gf(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Gf(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Gf(this.root,t,this.comparator,!0)},t}(),Gf=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Wf=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Cl();if(this.right.isRed())throw Cl();var t=this.left.check();if(t!==this.right.check())throw Cl();return t+(this.isRed()?0:1)},t}();Wf.EMPTY=null,Wf.RED=!0,Wf.BLACK=!1,Wf.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Cl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Cl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Cl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Cl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Cl()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Wf(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Kf=function(){function t(t){this.comparator=t,this.data=new qf(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new zf(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new zf(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),zf=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Hf=new qf(oh.comparator);function Qf(){return Hf}var Xf=new qf(oh.comparator);function Yf(){return Xf}var Jf=new qf(oh.comparator);var Zf=new Kf(oh.comparator);function td(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Zf,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ed=new Kf(Pl);function nd(){return ed}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var rd=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,id.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Ul.min(),r,nd(),Qf(),td())},t}(),id=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Hl.EMPTY_BYTE_STRING,n,td(),td(),td())},t}(),od=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},ad=function(t,e){this.targetId=t,this.V=e},sd=function(t,e,n,r){void 0===n&&(n=Hl.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},ud=function(){function t(){this.S=0,this.D=hd(),this.C=Hl.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=td(),e=td(),n=td();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Cl()}})),new id(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=hd()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),cd=function(){function t(t){this.W=t,this.G=new Map,this.H=Qf(),this.J=ld(),this.Y=new Kf(Pl)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:Cl()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(kh(i))if(0===n){var o=new oh(i.path);this.tt(e,o,Ih.newNoDocument(o,Ul.min()))}else xl(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&kh(o.target)){var a=new oh(o.target.path);null!==e.H.get(a)||e.at(i,a)||e.tt(i,a,Ih.newNoDocument(a,t))}r.O&&(n.set(i,r.M()),r.L())}}));var r=td();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new rd(t,n,this.Y,this.H,r);return this.H=Qf(),this.J=ld(),this.Y=new Kf(Pl),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new ud,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Kf(Pl),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||kl("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new ud),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function ld(){return new qf(oh.comparator)}function hd(){return new qf(oh.comparator)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var fd={asc:"ASCENDING",desc:"DESCENDING"},dd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pd=function(t,e){this.databaseId=t,this.I=e};function md(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function yd(t,e){return t.I?e.toBase64():e.toUint8Array()}function gd(t,e){return md(t,e.toTimestamp())}function vd(t){return xl(!!t),Ul.fromTimestamp(function(t){var e=Xl(t);return new Fl(e.seconds,e.nanos)}(t))}function bd(t,e){return function(t){return new Gl(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function wd(t){var e=Gl.fromString(t);return xl(qd(e)),e}function Id(t,e){return bd(t.databaseId,e.path)}function $d(t,e){var n=wd(e);if(n.get(1)!==t.databaseId.projectId)throw new El($l.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new El($l.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oh(kd(n))}function Ed(t,e){return bd(t.databaseId,e)}function Sd(t){var e=wd(t);return 4===e.length?Gl.emptyPath():kd(e)}function Td(t){return new Gl(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kd(t){return xl(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function _d(t,e,n){return{name:Id(t,e),fields:n.toProto().mapValue.fields}}function Ad(t,e){var n;if(e instanceof xf)n={update:_d(t,e.key,e.value)};else if(e instanceof Ff)n={delete:Id(t,e.key)};else if(e instanceof Df)n={update:_d(t,e.key,e.data),updateMask:jd(e.fieldMask)};else{if(!(e instanceof Uf))return Cl();n={verify:Id(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof df)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof pf)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof yf)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof vf)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Cl()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:gd(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Cl()}(t,e.precondition)),n}function Nd(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ef.updateTime(vd(t.updateTime)):void 0!==t.exists?Ef.exists(t.exists):Ef.none()}(e.currentDocument):Ef.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)xl("REQUEST_TIME"===e.setToServerValue),n=new df;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new pf(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new yf(i)}else"increment"in e?n=new vf(t,e.increment):Cl();var o=Kl.fromServerFormat(e.fieldPath);return new If(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=$d(t,e.update.name),o=new bh({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new zl(e.map((function(t){return Kl.fromServerFormat(t)})))}(e.updateMask);return new Df(i,o,a,n,r)}return new xf(i,o,n,r)}if(e.delete){var s=$d(t,e.delete);return new Ff(s,n)}if(e.verify){var u=$d(t,e.verify);return new Uf(u,n)}return Cl()}function Cd(t,e){return{documents:[Ed(t,e.path)]}}function xd(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Ed(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ed(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(gh(t.value))return{unaryFilter:{field:Fd(t.field),op:"IS_NAN"}};if(yh(t.value))return{unaryFilter:{field:Fd(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(gh(t.value))return{unaryFilter:{field:Fd(t.field),op:"IS_NOT_NAN"}};if(yh(t.value))return{unaryFilter:{field:Fd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fd(t.field),op:Md(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Fd(t.field),direction:Ld(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||nh(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=Rd(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Rd(e.endAt)),n}function Dd(t){var e=Sd(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xl(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=Od(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new Fh(Ud(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return nh(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Pd(n.startAt));var l=null;return n.endAt&&(l=Pd(n.endAt)),qh(e,i,s,a,u,"F",c,l)}function Od(t){return t?void 0!==t.unaryFilter?[Bd(t)]:void 0!==t.fieldFilter?[Vd(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return Od(t)})).reduce((function(t,e){return t.concat(e)})):Cl():[]}function Rd(t){return{before:t.before,values:t.position}}function Pd(t){var e=!!t.before,n=t.values||[];return new Lh(n,e)}function Ld(t){return fd[t]}function Md(t){return dd[t]}function Fd(t){return{fieldPath:t.canonicalString()}}function Ud(t){return Kl.fromServerFormat(t.fieldPath)}function Vd(t){return _h.create(Ud(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Cl()}}(t.fieldFilter.op),t.fieldFilter.value)}function Bd(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ud(t.unaryFilter.field);return _h.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ud(t.unaryFilter.field);return _h.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ud(t.unaryFilter.field);return _h.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ud(t.unaryFilter.field);return _h.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Cl()}}function jd(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function qd(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Gd(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Kd(e)),e=Wd(t.get(n),e);return Kd(e)}function Wd(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Kd(t){return t+""}function zd(t){var e=t.length;if(xl(e>=2),2===e)return xl(""===t.charAt(0)&&""===t.charAt(1)),Gl.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||a>n)&&Cl(),t.charAt(a+1)){case"":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:Cl()}o=a+2}return new Gl(r)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Hd=function(t,e){this.seconds=t,this.nanoseconds=e},Qd=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Qd.store="owner",Qd.key="owner";var Xd=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Xd.store="mutationQueues",Xd.keyPath="userId";var Yd=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Yd.store="mutations",Yd.keyPath="batchId",Yd.userMutationsIndex="userMutationsIndex",Yd.userMutationsKeyPath=["userId","batchId"];var Jd=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Gd(e)]},t.key=function(t,e,n){return[t,Gd(e),n]},t}();Jd.store="documentMutations",Jd.PLACEHOLDER=new Jd;var Zd=function(t,e){this.path=t,this.readTime=e},tp=function(t,e){this.path=t,this.version=e},ep=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};ep.store="remoteDocuments",ep.readTimeIndex="readTimeIndex",ep.readTimeIndexPath="readTime",ep.collectionReadTimeIndex="collectionReadTimeIndex",ep.collectionReadTimeIndexPath=["parentPath","readTime"];var np=function(t){this.byteSize=t};np.store="remoteDocumentGlobal",np.key="remoteDocumentGlobalKey";var rp=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};rp.store="targets",rp.keyPath="targetId",rp.queryTargetsIndexName="queryTargetsIndex",rp.queryTargetsKeyPath=["canonicalId","targetId"];var ip=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ip.store="targetDocuments",ip.keyPath=["targetId","path"],ip.documentTargetsIndex="documentTargetsIndex",ip.documentTargetsKeyPath=["path","targetId"];var op=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};op.key="targetGlobalKey",op.store="targetGlobal";var ap=function(t,e){this.collectionId=t,this.parent=e};ap.store="collectionParents",ap.keyPath=["collectionId","parent"];var sp=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};sp.store="clientMetadata",sp.keyPath="clientId";var up=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};up.store="bundles",up.keyPath="bundleId";var cp=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};cp.store="namedQueries",cp.keyPath="name";var lp=To(To([],To(To([],To(To([],To(To([],[Xd.store,Yd.store,Jd.store,ep.store,rp.store,Qd.store,op.store,ip.store]),[sp.store])),[np.store])),[ap.store])),[up.store,cp.store]),hp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",fp=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),dp=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},pp=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Cl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),mp=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new dp,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new vp(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Ep(e.target.error);n.ft.reject(new vp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new vp(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(kl("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new wp(e)},t}(),yp=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(No())&&_l("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return kl("SimpleDb","Removing database:",t),Ip(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=No(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Io(this,void 0,void 0,(function(){var e,n=this;return $o(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(kl("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new vp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new El($l.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new vp(t,n))},i.onupgradeneeded=function(t){kl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next((function(){kl("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Io(this,void 0,void 0,(function(){var i,o,a,s,u;return $o(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,l;return $o(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(t)];case 2:return s.db=h.sent(),e=mp.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),pp.reject(t)})).toPromise(),u={},a.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,kl("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),gp=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Ip(this.Pt.delete())},t}(),vp=function(t){function e(e,n){var r=this;return(r=t.call(this,$l.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return bo(e,t),e}(El);function bp(t){return"IndexedDbTransactionError"===t.name}var wp=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(kl("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(kl("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ip(n)},t.prototype.add=function(t){return kl("SimpleDb","ADD",this.store.name,t,t),Ip(this.store.add(t))},t.prototype.get=function(t){var e=this;return Ip(this.store.get(t)).next((function(n){return void 0===n&&(n=null),kl("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return kl("SimpleDb","DELETE",this.store.name,t),Ip(this.store.delete(t))},t.prototype.count=function(){return kl("SimpleDb","COUNT",this.store.name),Ip(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){kl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new pp((function(n,r){e.onerror=function(t){var e=Ep(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new pp((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new gp(i),a=e(i.primaryKey,i.value,o);if(a instanceof pp){var s=a.catch((function(t){return o.done(),pp.reject(t)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return pp.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Ip(t){return new pp((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Ep(t.target.error);n(e)}}))}var $p=!1;function Ep(t){var e=yp._t(No());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new El("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return $p||($p=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Sp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return bo(e,t),e}(fp);function Tp(t,e){var n=Dl(t);return yp.It(n.Mt,e)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var kp=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&kf(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&_f(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&_f(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Ul.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),td())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ll(this.mutations,t.mutations,(function(t,e){return Nf(t,e)}))&&Ll(this.baseMutations,t.baseMutations,(function(t,e){return Nf(t,e)}))},t}(),_p=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){xl(e.mutations.length===r.length);for(var i=Jf,o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),Ap=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=Ul.min()),void 0===o&&(o=Ul.min()),void 0===a&&(a=Hl.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Np=function(t){this.Lt=t};function Cp(t,e){if(e.document)return function(t,e,n){var r=$d(t,e.name),i=vd(e.updateTime),o=new bh({mapValue:{fields:e.fields}}),a=Ih.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=oh.fromSegments(e.noDocument.path),r=Pp(e.noDocument.readTime),i=Ih.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=oh.fromSegments(e.unknownDocument.path);return r=Pp(e.unknownDocument.version),Ih.newUnknownDocument(o,r)}return Cl()}function xp(t,e,n){var r=Dp(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Id(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:md(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new ep(null,null,o,a,r,i)}if(e.isNoDocument()){var s=e.key.path.toArray(),u=Rp(e.version);return a=e.hasCommittedMutations,new ep(null,new Zd(s,u),null,a,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Rp(e.version);return new ep(new tp(c,l),null,null,!0,r,i)}return Cl()}function Dp(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Op(t){var e=new Fl(t[0],t[1]);return Ul.fromTimestamp(e)}function Rp(t){var e=t.toTimestamp();return new Hd(e.seconds,e.nanoseconds)}function Pp(t){var e=new Fl(t.seconds,t.nanoseconds);return Ul.fromTimestamp(e)}function Lp(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Nd(t.Lt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map((function(e){return Nd(t.Lt,e)})),s=Fl.fromMillis(e.localWriteTimeMs);return new kp(e.batchId,s,n,a)}function Mp(t){var e,n,r=Pp(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Pp(t.lastLimboFreeSnapshotVersion):Ul.min();return void 0!==t.query.documents?(xl(1===(n=t.query).documents.length),e=Yh(Gh(Sd(n.documents[0])))):e=function(t){return Yh(Dd(t))}(t.query),new Ap(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Hl.fromBase64String(t.resumeToken))}function Fp(t,e){var n,r=Rp(e.snapshotVersion),i=Rp(e.lastLimboFreeSnapshotVersion);n=kh(e.target)?Cd(t.Lt,e.target):xd(t.Lt,e.target);var o=e.resumeToken.toBase64();return new rp(e.targetId,Sh(e.target),r,o,e.sequenceNumber,i,n)}function Up(t){var e=Dd({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Jh(e,e.limit,"L"):e}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Vp=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Bp(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Pp(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Bp(t).put({bundleId:(n=e).id,createTime:Rp(vd(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return jp(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Up(e.bundledQuery),readTime:Pp(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return jp(t).put(function(t){return{name:t.name,readTime:Rp(vd(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Bp(t){return Tp(t,up.store)}function jp(t){return Tp(t,cp.store)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var qp=function(){function t(){this.Bt=new Gp}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),pp.resolve()},t.prototype.getCollectionParents=function(t,e){return pp.resolve(this.Bt.getEntries(e))},t}(),Gp=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Kf(Gl.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Kf(Gl.comparator)).toArray()},t}(),Wp=function(){function t(){this.qt=new Gp}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:Gd(i)};return Kp(t).put(o)}return pp.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Ml(e),""],!1,!0);return Kp(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(zd(o.parent))}return n}))},t}();function Kp(t){return Tp(t,ap.store)}
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var zp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Hp=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Qp(t,e,n){var r=t.store(Yd.store),i=t.store(Jd.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.Ot({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){xl(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Jd.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return pp.waitFor(o).next((function(){return c}))}function Xp(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Cl();e=t.noDocument}return JSON.stringify(e).length}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */Hp.DEFAULT_COLLECTION_PERCENTILE=10,Hp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hp.DEFAULT=new Hp(41943040,Hp.DEFAULT_COLLECTION_PERCENTILE,Hp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hp.DISABLED=new Hp(-1,0,0);var Yp=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return xl(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zp(t).Ot({index:Yd.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=tm(t),a=Zp(t);return a.add({}).next((function(s){xl("number"==typeof s);for(var u=new kp(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Ad(t.Lt,e)})),i=n.mutations.map((function(e){return Ad(t.Lt,e)}));return new Yd(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Kf((function(t,e){return Pl(t.canonicalString(),e.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],m=Jd.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(m,Jd.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Qt[s]=u.keys()})),pp.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Zp(t).get(e).next((function(t){return t?(xl(t.userId===n.userId),Lp(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?pp.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Zp(t).Ot({index:Yd.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(xl(e.batchId>=r),o=Lp(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Zp(t).Ot({index:Yd.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zp(t).Nt(Yd.userMutationsIndex,n).next((function(t){return t.map((function(t){return Lp(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Jd.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return tm(t).Ot({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=zd(u);if(s===n.userId&&e.path.isEqual(l))return Zp(t).get(c).next((function(t){if(!t)throw Cl();xl(t.userId===n.userId),o.push(Lp(n.R,t))}));a.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Kf(Pl),i=[];return e.forEach((function(e){var o=Jd.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=tm(t).Ot({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],c=zd(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),pp.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Jd.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Kf(Pl);return tm(t).Ot({range:a},(function(t,e,o){var a=t[0],u=t[1],c=t[2],l=zd(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(t,s)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Zp(t).get(e).next((function(t){if(null===t)throw Cl();xl(t.userId===n.userId),r.push(Lp(n.R,t))})))})),pp.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return Qp(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),pp.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return pp.resolve();var r=IDBKeyRange.lowerBound(Jd.prefixForUser(e.userId)),i=[];return tm(t).Ot({range:r},(function(t,n,r){if(t[0]===e.userId){var o=zd(t[1]);i.push(o)}else r.done()})).next((function(){xl(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return Jp(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return em(t).get(this.userId).next((function(t){return t||new Xd(e.userId,-1,"")}))},t}();function Jp(t,e,n){var r=Jd.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return tm(t).Ot({range:o,kt:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Zp(t){return Tp(t,Yd.store)}function tm(t){return Tp(t,Jd.store)}function em(t){return Tp(t,Xd.store)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var nm=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),rm=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new nm(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return Ul.fromTimestamp(new Fl(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return im(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return xl(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return im(t).Ot((function(a,s){var u=Mp(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return pp.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return im(t).Ot((function(t,n){var r=Mp(n);e(r)}))},t.prototype.Xt=function(t){return om(t).get(op.key).next((function(t){return xl(null!==t),t}))},t.prototype.Zt=function(t,e){return om(t).put(op.key,e)},t.prototype.te=function(t,e){return im(t).put(Fp(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=Sh(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return im(t).Ot({range:r,index:rp.queryTargetsIndexName},(function(t,n,r){var o=Mp(n);Th(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=am(t);return e.forEach((function(e){var a=Gd(e.path);i.push(o.put(new ip(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))})),pp.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=am(t);return pp.forEach(e,(function(e){var o=Gd(e.path);return pp.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=am(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=am(t),i=td();return r.Ot({range:n,kt:!0},(function(t,e,n){var r=zd(t[1]),o=new oh(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=Gd(e.path),r=IDBKeyRange.bound([n],[Ml(n)],!1,!0),i=0;return am(t).Ot({index:ip.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return im(t).get(e).next((function(t){return t?Mp(t):null}))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function im(t){return Tp(t,rp.store)}function om(t){return Tp(t,op.store)}function am(t){return Tp(t,ip.store)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function sm(t){return Io(this,void 0,void 0,(function(){return $o(this,(function(e){if(t.code!==$l.FAILED_PRECONDITION||t.message!==hp)throw t;return kl("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function um(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Pl(n,i);return 0===a?Pl(r,o):a}var cm=function(){function t(t){this.ne=t,this.buffer=new Kf(um),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();um(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),lm=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;kl("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Io(e,void 0,void 0,(function(){var e;return $o(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return bp(e=n.sent())?(kl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,sm(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),hm=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return pp.resolve(Il.o);var r=new cm(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(kl("LruGarbageCollector","Garbage collection skipped; disabled"),pp.resolve(zp)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(kl("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),zp):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(kl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),Tl()<=Ko.DEBUG&&kl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),pp.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),fm=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new hm(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return dm(t,n)},t.prototype.removeReference=function(t,e,n){return dm(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return dm(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return em(t).$t((function(r){return Jp(t,r,e).next((function(t){return t&&(n=!0),pp.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(a,s){if(s<=e){var u=n._e(t,a).next((function(e){if(!e)return o++,r.getEntry(t,a).next((function(){return r.removeEntry(a),am(t).delete([0,Gd(a.path)])}))}));i.push(u)}})).next((function(){return pp.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return dm(t,e)},t.prototype.we=function(t,e){var n,r=am(t),i=Il.o;return r.Ot({index:ip.documentTargetsIndex},(function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==Il.o&&e(new oh(zd(n)),i),i=s,n=a):i=Il.o})).next((function(){i!==Il.o&&e(new oh(zd(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function dm(t,e){return am(t).put(function(t,e){return new ip(0,Gd(t.path),e)}(e,t.currentSequenceNumber))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var pm=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Bl(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},t.prototype.isEmpty=function(){return jl(this.inner)},t}(),mm=function(){function t(){this.changes=new pm((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Ul.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Ih.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?pp.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),ym=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return bm(t).put(wm(e),n)},t.prototype.removeEntry=function(t,e){var n=bm(t),r=wm(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return bm(t).get(wm(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return bm(t).get(wm(e)).next((function(t){return{document:n.ye(e,t),size:Xp(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=Qf();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=Qf(),i=new qf(oh.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Xp(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return pp.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return bm(t).Ot({range:r},(function(t,e,r){for(var a=oh.fromSegments(t);o&&oh.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Qf(),o=e.path.length+1,a={};if(n.isEqual(Ul.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=Dp(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=ep.collectionReadTimeIndex}return bm(t).Ot(a,(function(t,n,a){if(t.length===o){var s=Cp(r.R,n);e.path.isPrefixOf(s.key.path)?nf(e,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new gm(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return vm(t).get(np.key).next((function(t){return xl(!!t),t}))},t.prototype.me=function(t,e){return vm(t).put(np.key,e)},t.prototype.ye=function(t,e){if(e){var n=Cp(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Ul.min()))return n}return Ih.newInvalidDocument(t)},t}(),gm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new pm((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return bo(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Kf((function(t,e){return Pl(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var u=xp(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Xp(u);r+=c-s,n.push(e.Ie.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var l=xp(e.Ie.R,Ih.newNoDocument(o,Ul.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),pp.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(mm);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function vm(t){return Tp(t,np.store)}function bm(t){return Tp(t,ep.store)}function wm(t){return t.path.toArray()}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Im=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;xl(n<r&&n>=0&&r<=11);var o=new mp("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Qd.store)}(t),function(t){t.createObjectStore(Xd.store,{keyPath:Xd.keyPath}),t.createObjectStore(Yd.store,{keyPath:Yd.keyPath,autoIncrement:!0}).createIndex(Yd.userMutationsIndex,Yd.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Jd.store)}(t),$m(t),function(t){t.createObjectStore(ep.store)}(t));var a=pp.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ip.store),t.deleteObjectStore(rp.store),t.deleteObjectStore(op.store)}(t),$m(t)),a=a.next((function(){return function(t){var e=t.store(op.store),n=new op(0,0,Ul.min().toTimestamp(),0);return e.put(op.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(Yd.store).Nt().next((function(n){t.deleteObjectStore(Yd.store),t.createObjectStore(Yd.store,{keyPath:Yd.keyPath,autoIncrement:!0}).createIndex(Yd.userMutationsIndex,Yd.userMutationsKeyPath,{unique:!0});var r=e.store(Yd.store),i=n.map((function(t){return r.put(t)}));return pp.waitFor(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(sp.store,{keyPath:sp.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(np.store)}(t),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(ep.store);e.createIndex(ep.readTimeIndex,ep.readTimeIndexPath,{unique:!1}),e.createIndex(ep.collectionReadTimeIndex,ep.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(up.store,{keyPath:up.keyPath})}(t),function(t){t.createObjectStore(cp.store,{keyPath:cp.keyPath})}(t)}))),a},t.prototype.be=function(t){var e=0;return t.store(ep.store).Ot((function(t,n){e+=Xp(n)})).next((function(){var n=new np(e);return t.store(np.store).put(np.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(Xd.store),r=t.store(Yd.store);return n.Nt().next((function(n){return pp.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Yd.userMutationsIndex,i).next((function(r){return pp.forEach(r,(function(r){xl(r.userId===n.userId);var i=Lp(e.R,r);return Qp(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(ip.store),n=t.store(ep.store);return t.store(op.store).get(op.key).next((function(t){var r=[];return n.Ot((function(n,i){var o=new Gl(n),a=function(t){return[0,Gd(t)]}(o);r.push(e.get(a).next((function(n){return n?pp.resolve():function(n){return e.put(new ip(0,Gd(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return pp.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(ap.store,{keyPath:ap.keyPath});var n=e.store(ap.store),r=new Gp,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Gd(i)})}};return e.store(ep.store).Ot({kt:!0},(function(t,e){var n=new Gl(t);return i(n.popLast())})).next((function(){return e.store(Jd.store).Ot({kt:!0},(function(t,e){t[0];var n=t[1],r=(t[2],zd(n));return i(r.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(rp.store);return n.Ot((function(t,r){var i=Mp(r),o=Fp(e.R,i);return n.put(o)}))},t}();function $m(t){t.createObjectStore(ip.store,{keyPath:ip.keyPath}).createIndex(ip.documentTargetsIndex,ip.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(rp.store,{keyPath:rp.keyPath}).createIndex(rp.queryTargetsIndexName,rp.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(op.store)}var Em="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Sm=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new El($l.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fm(this,i),this.Le=n+"main",this.R=new Np(u),this.Be=new yp(this.Le,11,new Im(this.R)),this.qe=new rm(this.referenceDelegate,this.R),this.Ut=new Wp,this.Ue=function(t,e){return new ym(t,e)}(this.R,this.Ut),this.Qe=new Vp,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&_l("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new El($l.FAILED_PRECONDITION,Em);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new Il(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Io(e,void 0,void 0,(function(){return $o(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return Io(e,void 0,void 0,(function(){return $o(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return Io(e,void 0,void 0,(function(){return $o(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return km(e).put(new sp(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(bp(e))return kl("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return kl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return Tm(t).get(Qd.key).next((function(t){return pp.resolve(e.tn(t))}))},t.prototype.en=function(t){return km(t).delete(this.clientId)},t.prototype.nn=function(){return Io(this,void 0,void 0,(function(){var t,e,n,r,i=this;return $o(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Tp(t,sp.store);return e.Nt().next((function(t){var n=i.rn(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return pp.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)r=n[e],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?pp.resolve(!0):Tm(t).get(Qd.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new El($l.FAILED_PRECONDITION,Em);return!1}}return!(!e.networkEnabled||!e.inForeground)||km(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&kl("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return Io(this,void 0,void 0,(function(){var t=this;return $o(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Qd.store,sp.store],(function(e){var n=new Sp(e,Il.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return km(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Yp.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;kl("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,lp,(function(o){return i=new Sp(o,r.Ne?r.Ne.next():Il.o),"readwrite-primary"===e?r.Je(i).next((function(t){return!!t||r.Ye(i)})).next((function(e){if(!e)throw _l("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new El($l.FAILED_PRECONDITION,hp);return n(i)})).next((function(t){return r.Ze(i).next((function(){return t}))})):r.dn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return Tm(t).get(Qd.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new El($l.FAILED_PRECONDITION,Em)}))},t.prototype.Ze=function(t){var e=new Qd(this.clientId,this.allowTabSynchronization,Date.now());return Tm(t).put(Qd.key,e)},t.yt=function(){return yp.yt()},t.prototype.Xe=function(t){var e=this,n=Tm(t);return n.get(Qd.key).next((function(t){return e.tn(t)?(kl("IndexedDbPersistence","Releasing primary lease."),n.delete(Qd.key)):pp.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(_l("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return kl("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return _l("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){_l("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Tm(t){return Tp(t,Qd.store)}function km(t){return Tp(t,sp.store)}function _m(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var Am=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return oh.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Qh(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new oh(e)).next((function(t){var e=Yf();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Yf();return this.Ut.getCollectionParents(t,i).next((function(a){return pp.forEach(a,(function(a){var s=function(t,e){return new jh(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.An(t,s,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Rn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=Ih.newInvalidDocument(c),r=r.insert(c,l)),_f(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){nf(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=td(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Df&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),Nm=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=td(),i=td(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Cm=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Ul.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var a=i.Cn(e,o);return(Wh(e)||Kh(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):(Tl()<=Ko.DEBUG&&kl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ef(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return a.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Kf(rf(t));return e.forEach((function(e,r){nf(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Tl()<=Ko.DEBUG&&kl("QueryEngine","Using full collection scan to execute query:",ef(e)),this.Sn.getDocumentsMatchingQuery(t,e,Ul.min())},t}(),xm=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new qf(Pl),this.kn=new pm((function(t){return Sh(t)}),Th),this.On=Ul.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Am(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Dm(t,e,n,r){return new xm(t,e,n,r)}function Om(t,e){return Io(this,void 0,void 0,(function(){var n,r,i,o;return $o(this,(function(a){switch(a.label){case 0:return n=Dl(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new Am(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],a=td(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=e;d<p.length;d++){var m=p[d];r.push(m.batchId);for(var y=0,g=m.mutations;y<g.length;y++){var v=g[y];a=a.add(v.key)}}return i.pn(t,a).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Rm(t,e){var n=Dl(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=pp.resolve();return o.forEach((function(t){a=a.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);xl(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),a.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function Pm(t){var e=Dl(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function Lm(t,e){var n=Dl(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];e.targetChanges.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return xl(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.qe.updateTargetData(t,c))}}}));var s=Qf();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),a.push(function(t,e,n,r,i){var o=td();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Qf();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Ul.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):kl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}(t,o,e.documentUpdates,r,void 0).next((function(t){s=t}))),!r.isEqual(Ul.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));a.push(u)}return pp.waitFor(a).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,s)})).next((function(){return s}))})).then((function(t){return n.Fn=i,t}))}function Mm(t,e){var n=Dl(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function Fm(t,e){var n=Dl(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?(r=i,pp.resolve(r)):n.qe.allocateTargetId(t).next((function(i){return r=new Ap(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function Um(t,e,n){return Io(this,void 0,void 0,(function(){var r,i,o,a;return $o(this,(function(s){switch(s.label){case 0:r=Dl(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!bp(a=s.sent()))throw a;return kl("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function Vm(t,e,n){var r=Dl(t),i=Ul.min(),o=td();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Dl(t),i=r.kn.get(n);return void 0!==i?pp.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Yh(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Ul.min(),n?o:td())})).next((function(t){return{documents:t,Bn:o}}))}))}function Bm(t,e){var n=Dl(t),r=Dl(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function jm(t){var e=Dl(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Dl(t),i=Qf(),o=Dp(n),a=bm(e),s=IDBKeyRange.lowerBound(o,!0);return a.Ot({index:ep.readTimeIndex,range:s},(function(t,e){var n=Cp(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:Op(o)}}))}(e.$n,t,e.On)})).then((function(t){var n=t.wn,r=t.readTime;return e.On=r,n}))}function qm(t){return Io(this,void 0,void 0,(function(){var e;return $o(this,(function(n){return[2,(e=Dl(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=bm(t),n=Ul.min();return e.Ot({index:ep.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Op(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.On=t}))]}))}))}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Gm=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return pp.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:vd(n.createTime)}),pp.resolve()},t.prototype.getNamedQuery=function(t,e){return pp.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Up(t.bundledQuery),readTime:vd(t.readTime)}}(e)),pp.resolve()},t}(),Wm=function(){function t(){this.Wn=new Kf(Km.Gn),this.zn=new Kf(Km.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Km(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new Km(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new oh(new Gl([])),r=new Km(n,t),i=new Km(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new oh(new Gl([])),n=new Km(e,t),r=new Km(e,t+1),i=td();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new Km(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Km=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return oh.comparator(t.key,e.key)||Pl(t.ns,e.ns)},t.Hn=function(t,e){return Pl(t.ns,e.ns)||oh.comparator(t.key,e.key)},t}(),zm=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Kf(Km.Gn)}return t.prototype.checkEmpty=function(t){return pp.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new kp(i,e,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Km(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return pp.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return pp.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return pp.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return pp.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return pp.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Km(e,0),i=new Km(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),pp.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Kf(Pl);return e.forEach((function(t){var e=new Km(t,0),i=new Km(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),pp.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;oh.isDocumentKey(i)||(i=i.child(""));var o=new Km(new oh(i),0),a=new Kf(Pl);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)}),o),pp.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;xl(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return pp.forEach(e.mutations,(function(i){var o=new Km(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Km(e,0),r=this.rs.firstAfterOrEqual(n);return pp.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,pp.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Hm=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new qf(oh.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return pp.resolve(n?n.document.clone():Ih.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Qf();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Ih.newInvalidDocument(t))})),pp.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Qf(),i=new oh(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!e.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||nf(e,c)&&(r=r.insert(c.key,c.clone()))}return pp.resolve(r)},t.prototype.fs=function(t,e){return pp.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new Qm(this)},t.prototype.getSize=function(t){return pp.resolve(this.size)},t}(),Qm=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return bo(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),pp.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(mm),Xm=function(){function t(t){this.persistence=t,this.ds=new pm((function(t){return Sh(t)}),Th),this.lastRemoteSnapshotVersion=Ul.min(),this.highestTargetId=0,this.ws=0,this._s=new Wm,this.targetCount=0,this.ys=nm.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),pp.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return pp.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return pp.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),pp.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),pp.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new nm(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,pp.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),pp.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,pp.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)})),pp.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return pp.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return pp.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),pp.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),pp.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),pp.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return pp.resolve(n)},t.prototype.containsKey=function(t,e){return pp.resolve(this._s.containsKey(e))},t}(),Ym=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Il(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Xm(this),this.Ut=new qp,this.Ue=function(t,e){return new Hm(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new Np(e),this.Qe=new Gm(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new zm(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;kl("MemoryPersistence","Starting transaction:",t);var i=new Jm(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return pp.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),Jm=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return bo(e,t),e}(fp),Zm=function(){function t(t){this.persistence=t,this.As=new Wm,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Cl()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),pp.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),pp.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),pp.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pp.forEach(this.vs,(function(r){var i=oh.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return pp.or([function(){return pp.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),ty=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ey(t,e){return"firestore_clients_"+t+"_"+e}function ny(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function ry(t,e){return"firestore_targets_"+t+"_"+e}ty.UNAUTHENTICATED=new ty(null),ty.GOOGLE_CREDENTIALS=new ty("google-credentials-uid"),ty.FIRST_PARTY=new ty("first-party-uid");var iy=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new El(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(_l("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),oy=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new El(i.error.code,i.error.message)),o?new t(e,i.state,r):(_l("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ay=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=nd(),a=0;i&&a<r.activeTargetIds.length;++a)i=ih(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(_l("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),sy=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(_l("SharedClientState","Failed to parse online state: "+e),null)},t}(),uy=function(){function t(){this.activeTargetIds=nd()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),cy=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new qf(Pl),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=ey(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new uy),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Io(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,c,l,h=this;return $o(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(ey(this.persistenceKey,r)))&&(o=ay.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.Os;u<c.length;u++)l=c[u],this.Fs(l);return this.Os=[],this.window.addEventListener("unload",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(ry(this.persistenceKey,t));if(n){var r=oy.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(ry(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return kl("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){kl("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){kl("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(kl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void _l("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Io(e,void 0,void 0,(function(){var t,e,r,i,o,a;return $o(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(t){var e=Il.o;if(null!=t)try{var n=JSON.parse(t);xl("number"==typeof n),e=n}catch(t){_l("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Il.o&&this.sequenceNumberHandler(a);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new iy(this.currentUser,t,e,n),i=ny(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=ny(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=ry(this.persistenceKey,t),i=new oy(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return ay.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return iy.Vs(new ty(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return oy.Vs(r,e)},t.prototype.js=function(t){return sy.Vs(t)},t.prototype.ii=function(t){return Io(this,void 0,void 0,(function(){return $o(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(kl("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=nd();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),ly=function(){function t(){this.li=new uy,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new uy,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),hy=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),fy=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){kl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){kl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),dy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},py=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),my=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return bo(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var a=new wl;a.listenOnce(ml.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case pl.NO_ERROR:var e=a.getResponseJson();kl("Connection","XHR received:",JSON.stringify(e)),i(e);break;case pl.TIMEOUT:kl("Connection",'RPC "'+t+'" timed out'),o(new El($l.DEADLINE_EXCEEDED,"Request time out"));break;case pl.HTTP_ERROR:var n=a.getStatus();if(kl("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values($l).indexOf(e)>=0?e:$l.UNKNOWN}(r.status);o(new El(s,r.message))}else o(new El($l.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new El($l.UNAVAILABLE,"Connection failed."));break;default:Cl()}}finally{kl("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype.$i=function(t,e){var n,r=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new cl,o=hu(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(a.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(No())||"object"==typeof navigator&&"ReactNative"===navigator.product||No().indexOf("Electron/")>=0||function(){var t=No();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||No().indexOf("MSAppHost/")>=0||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(a.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");kl("Connection","Creating WebChannel: "+s,a);var u=i.createWebChannel(s,a),c=!1,l=!1,h=new py({Ei:function(t){l?kl("Connection","Not sending because WebChannel is closed:",t):(c||(kl("Connection","Opening WebChannel transport."),u.open(),c=!0),kl("Connection","WebChannel sending:",t),u.send(t))},Ti:function(){return u.close()}}),f=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(u,bl.EventType.OPEN,(function(){l||kl("Connection","WebChannel transport opened.")})),f(u,bl.EventType.CLOSE,(function(){l||(l=!0,kl("Connection","WebChannel transport closed"),h.Vi())})),f(u,bl.EventType.ERROR,(function(t){l||(l=!0,Al("Connection","WebChannel transport errored:",t),h.Vi(new El($l.UNAVAILABLE,"The operation could not be completed")))})),f(u,bl.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];xl(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){kl("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=Lf[t];if(void 0!==e)return jf(e)}(o),s=i.message;void 0===a&&(a=$l.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),l=!0,h.Vi(new El(a,s)),u.close()}else kl("Connection","WebChannel received:",n),h.Si(n)}})),f(o,yl.STAT_EVENT,(function(t){t.stat===gl?kl("Connection","Detected buffering proxy"):t.stat===vl&&kl("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Pi()}),0),h},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);kl("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return kl("RestConnection","Received: ",t),t}),(function(e){throw Al("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.5.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=dy[t];return this.Di+"/v1/"+e+":"+n},t}());
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function yy(){return"undefined"!=typeof window?window:null}function gy(){return"undefined"!=typeof document?document:null}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function vy(t){return new pd(t,!0)}var by=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&kl("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Qi=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),wy=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new by(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Io(this,void 0,void 0,(function(){return $o(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Io(this,void 0,void 0,(function(){return $o(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Io(this,void 0,void 0,(function(){return $o(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===$l.RESOURCE_EXHAUSTED?(_l(e.toString()),_l("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===$l.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new El($l.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return Io(t,void 0,void 0,(function(){return $o(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return kl("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(kl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Iy=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return bo(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Cl()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(xl(void 0===e||"string"==typeof e),Hl.fromBase64String(e||"")):(xl(void 0===e||e instanceof Uint8Array),Hl.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?$l.UNKNOWN:jf(t.code);return new El(e,t.message||"")}(s);n=new sd(r,i,o,a||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=$d(t,r.document.name),o=vd(r.document.updateTime);var s=new bh({mapValue:{fields:r.document.fields}}),u=(a=Ih.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new od(u,c,a.key,a)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=$d(t,r.document),o=r.readTime?vd(r.readTime):Ul.min(),s=Ih.newNoDocument(i,o),a=r.removedTargetIds||[],n=new od([],a,s.key,s);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=$d(t,r.document),o=r.removedTargetIds||[],n=new od([],o,i,null);else{if(!("filter"in e))return Cl();e.filter;var l=e.filter;l.targetId,r=l.count||0,i=new Vf(r),o=l.targetId,n=new ad(o,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Ul.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Ul.min():e.readTime?vd(e.readTime):Ul.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Td(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=kh(r)?{documents:Cd(t,r)}:{query:xd(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=yd(t,e.resumeToken):e.snapshotVersion.compareTo(Ul.min())>0&&(n.readTime=md(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Cl()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Td(this.R),e.removeTarget=t,this.cr(e)},e}(wy),$y=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return bo(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(xl(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(xl(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?vd(t.updateTime):vd(e);return n.isEqual(Ul.min())&&(n=vd(e)),new $f(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=vd(t.commitTime);return this.listener.Tr(n,e)}return xl(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Td(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Ad(e.R,t)}))};this.cr(n)},e}(wy),Ey=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return bo(e,t),e.prototype.br=function(){if(this.Rr)throw new El($l.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===$l.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new El($l.UNKNOWN,t.toString())}))},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===$l.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new El($l.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),Sy=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(_l(e),this.Vr=!1):kl("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Ty=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return Io(o,void 0,void 0,(function(){return $o(this,(function(t){switch(t.label){case 0:return Ry(this)?(kl("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Io(this,void 0,void 0,(function(){var e;return $o(this,(function(n){switch(n.label){case 0:return(e=Dl(t)).$r.add(4),[4,_y(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,ky(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new Sy(n,r)};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ky(t){return Io(this,void 0,void 0,(function(){var e,n;return $o(this,(function(r){switch(r.label){case 0:if(!Ry(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function _y(t){return Io(this,void 0,void 0,(function(){var e,n;return $o(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Ay(t,e){var n=Dl(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),Oy(n)?Dy(n):Qy(n).er()&&Cy(n,e))}function Ny(t,e){var n=Dl(t),r=Qy(n);n.Or.delete(e),r.er()&&xy(n,e),0===n.Or.size&&(r.er()?r.ir():Ry(n)&&n.Br.set("Unknown"))}function Cy(t,e){t.qr.U(e.targetId),Qy(t).mr(e)}function xy(t,e){t.qr.U(e),Qy(t).yr(e)}function Dy(t){t.qr=new cd({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),Qy(t).start(),t.Br.Sr()}function Oy(t){return Ry(t)&&!Qy(t).tr()&&t.Or.size>0}function Ry(t){return 0===Dl(t).$r.size}function Py(t){t.qr=void 0}function Ly(t){return Io(this,void 0,void 0,(function(){return $o(this,(function(e){return t.Or.forEach((function(e,n){Cy(t,e)})),[2]}))}))}function My(t,e){return Io(this,void 0,void 0,(function(){return $o(this,(function(n){return Py(t),Oy(t)?(t.Br.Nr(e),Dy(t)):t.Br.set("Unknown"),[2]}))}))}function Fy(t,e,n){return Io(this,void 0,void 0,(function(){var r,i,o;return $o(this,(function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof sd&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Io(this,void 0,void 0,(function(){var n,r,i,o;return $o(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.Or.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.Or.delete(o),t.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),kl("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Uy(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof od?t.qr.X(e):e instanceof ad?t.qr.rt(e):t.qr.et(e),n.isEqual(Ul.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Pm(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(Hl.EMPTY_BYTE_STRING,n.snapshotVersion)),xy(t,e);var r=new Ap(n.target,e,1,n.sequenceNumber);Cy(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return kl("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Uy(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Uy(t,e,n){return Io(this,void 0,void 0,(function(){var r=this;return $o(this,(function(i){switch(i.label){case 0:if(!bp(e))throw e;return t.$r.add(1),[4,_y(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Pm(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return Io(r,void 0,void 0,(function(){return $o(this,(function(e){switch(e.label){case 0:return kl("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,ky(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Vy(t,e){return e().catch((function(n){return Uy(t,n,e)}))}function By(t){return Io(this,void 0,void 0,(function(){var e,n,r,i,o;return $o(this,(function(a){switch(a.label){case 0:e=Dl(t),n=Xy(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return Ry(t)&&t.kr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Mm(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Xy(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,Uy(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return jy(e)&&qy(e),[2]}}))}))}function jy(t){return Ry(t)&&!Xy(t).tr()&&t.kr.length>0}function qy(t){Xy(t).start()}function Gy(t){return Io(this,void 0,void 0,(function(){return $o(this,(function(e){return Xy(t).Ar(),[2]}))}))}function Wy(t){return Io(this,void 0,void 0,(function(){var e,n,r,i;return $o(this,(function(o){for(e=Xy(t),n=0,r=t.kr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]}))}))}function Ky(t,e,n){return Io(this,void 0,void 0,(function(){var r,i;return $o(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=_p.from(r,e,n),[4,Vy(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,By(t)];case 2:return o.sent(),[2]}}))}))}function zy(t,e){return Io(this,void 0,void 0,(function(){return $o(this,(function(n){switch(n.label){case 0:return e&&Xy(t).pr?[4,function(t,e){return Io(this,void 0,void 0,(function(){var n,r;return $o(this,(function(i){switch(i.label){case 0:return Bf(r=e.code)&&r!==$l.ABORTED?(n=t.kr.shift(),Xy(t).sr(),[4,Vy(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,By(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return jy(t)&&qy(t),[2]}}))}))}function Hy(t,e){return Io(this,void 0,void 0,(function(){var n;return $o(this,(function(r){switch(r.label){case 0:return n=Dl(t),e?(n.$r.delete(2),[4,ky(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,_y(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Qy(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Dl(t);return r.br(),new Iy(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Ly.bind(null,t),Ri:My.bind(null,t),_r:Fy.bind(null,t)}),t.Mr.push((function(n){return Io(e,void 0,void 0,(function(){return $o(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Oy(t)?Dy(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Py(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function Xy(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Dl(t);return r.br(),new $y(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Gy.bind(null,t),Ri:zy.bind(null,t),Ir:Wy.bind(null,t),Tr:Ky.bind(null,t)}),t.Mr.push((function(n){return Io(e,void 0,void 0,(function(){return $o(this,(function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,By(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(kl("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Qr
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var Yy=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new dp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new El($l.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Jy(t,e){if(_l("AsyncQueue",e+": "+t),bp(t))return new El($l.UNAVAILABLE,e+": "+t);throw t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Zy=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||oh.comparator(e.key,n.key)}:function(t,e){return oh.comparator(t.key,e.key)},this.keyedMap=Yf(),this.sortedSet=new qf(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),tg=function(){function t(){this.Kr=new qf(oh.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Cl():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),eg=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Zy.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Zh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),ng=function(){this.Wr=void 0,this.listeners=[]},rg=function(){this.queries=new pm((function(t){return tf(t)}),Zh),this.onlineState="Unknown",this.Gr=new Set};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ig(t,e){return Io(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return $o(this,(function(c){switch(c.label){case 0:if(n=Dl(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new ng),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=Jy(s,"Initialization of query '"+ef(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&ug(n),[2]}}))}))}function og(t,e){return Io(this,void 0,void 0,(function(){var n,r,i,o,a;return $o(this,(function(s){return n=Dl(t),r=e.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function ag(t,e){for(var n=Dl(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&ug(n)}function sg(t,e,n){var r=Dl(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function ug(t){t.Gr.forEach((function(t){t.next()}))}var cg=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new eg(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=eg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),lg=function(t){this.key=t},hg=function(t){this.key=t},fg=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=td(),this.mutatedKeys=td(),this.lo=rf(t),this.fo=new Zy(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new tg,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Wh(this.query)&&i.size===this.query.limit?i.last():null,c=Kh(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=nf(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),Wh(this.query)||Kh(this.query))for(;a.size>this.query.limit;){var l=Wh(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Cl()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new eg(this.query,t.fo,i,o,t.mutatedKeys,0===s,u,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new tg,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=td(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new hg(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new lg(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=td();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return eg.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),dg=function(t,e,n){this.query=t,this.targetId=e,this.view=n},pg=function(t){this.key=t,this.bo=!1},mg=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new pm((function(t){return tf(t)}),Zh),this.Vo=new Map,this.So=new Set,this.Do=new qf(oh.comparator),this.Co=new Map,this.No=new Wm,this.xo={},this.Fo=new Map,this.ko=nm.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function yg(t,e){return Io(this,void 0,void 0,(function(){var n,r,i,o,a,s;return $o(this,(function(u){switch(u.label){case 0:return n=Wg(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Fm(n.localStore,Yh(e))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,gg(n,e,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&Ay(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function gg(t,e,n,r){return Io(this,void 0,void 0,(function(){var i,o,a,s,u,c;return $o(this,(function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Io(this,void 0,void 0,(function(){var i,o,a;return $o(this,(function(s){switch(s.label){case 0:return(i=e.view._o(n)).Nn?[4,Vm(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Cg(t,e.targetId,a.To),a.snapshot)]}}))}))}(t,e,n,r)},[4,Vm(t.localStore,e,!0)];case 1:return i=l.sent(),o=new fg(e,i.Bn),a=o._o(i.documents),s=id.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(a,t.isPrimaryClient,s),Cg(t,n,u.To),c=new dg(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function vg(t,e){return Io(this,void 0,void 0,(function(){var n,r,i;return $o(this,(function(o){switch(o.label){case 0:return n=Dl(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!Zh(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Um(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Ny(n.remoteStore,r.targetId),Ag(n,r.targetId)})).catch(sm)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Ag(n,r.targetId),[4,Um(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function bg(t,e,n){return Io(this,void 0,void 0,(function(){var r,i,o,a;return $o(this,(function(s){switch(s.label){case 0:r=Kg(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=Dl(t),i=Fl.now(),o=e.reduce((function(t,e){return t.add(e.key)}),td());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=Af(c,n.get(c.key));null!=l&&a.push(new Df(c.key,l,wh(l.toProto().mapValue),Ef.exists(!0)))}return r._n.addMutationBatch(t,i,a,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new qf(Pl)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Og(r,i.changes)];case 3:return s.sent(),[4,By(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Jy(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function wg(t,e){return Io(this,void 0,void 0,(function(){var n,r;return $o(this,(function(i){switch(i.label){case 0:n=Dl(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Lm(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(xl(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?xl(r.bo):t.removedDocuments.size>0&&(xl(r.bo),r.bo=!1))})),[4,Og(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,sm(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Ig(t,e,n){var r=Dl(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Dl(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&ug(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function $g(t,e,n){return Io(this,void 0,void 0,(function(){var r,i,o,a,s,u;return $o(this,(function(c){switch(c.label){case 0:return(r=Dl(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new qf(oh.comparator)).insert(o,Ih.newNoDocument(o,Ul.min())),s=td().add(o),u=new rd(Ul.min(),new Map,new Kf(Pl),a,s),[4,wg(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Dg(r),[3,4];case 2:return[4,Um(r.localStore,e,!1).then((function(){return Ag(r,e,n)})).catch(sm)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Eg(t,e){return Io(this,void 0,void 0,(function(){var n,r,i;return $o(this,(function(o){switch(o.label){case 0:n=Dl(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Rm(n.localStore,e)];case 2:return i=o.sent(),_g(n,r,null),kg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Og(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,sm(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Sg(t,e,n){return Io(this,void 0,void 0,(function(){var r,i;return $o(this,(function(o){switch(o.label){case 0:r=Dl(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Dl(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return xl(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),_g(r,e,n),kg(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Og(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,sm(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Tg(t,e){return Io(this,void 0,void 0,(function(){var n,r,i,o,a;return $o(this,(function(s){switch(s.label){case 0:Ry((n=Dl(t)).remoteStore)||kl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=Dl(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=Jy(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function kg(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function _g(t,e,n){var r=Dl(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Ag(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||Ng(t,e)}))}function Ng(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Ny(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Dg(t))}function Cg(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof lg?(t.No.addReference(o.key,e),xg(t,o)):o instanceof hg?(kl("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Ng(t,o.key)):Cl()}}function xg(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(kl("SyncEngine","New document in limbo: "+n),t.So.add(r),Dg(t))}function Dg(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new oh(Gl.fromString(e)),r=t.ko.next();t.Co.set(r,new pg(n)),t.Do=t.Do.insert(n,r),Ay(t.remoteStore,new Ap(Yh(Gh(n.path)),r,2,Il.o))}}function Og(t,e,n){return Io(this,void 0,void 0,(function(){var r,i,o,a;return $o(this,(function(s){switch(s.label){case 0:return r=Dl(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,s){a.push(r.$o(s,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Nm.Pn(s.targetId,t);o.push(e)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(t,e){return Io(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return $o(this,(function(h){switch(h.label){case 0:n=Dl(t),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return pp.forEach(e,(function(e){return pp.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return pp.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!bp(r=h.sent()))throw r;return kl("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.Fn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function Rg(t,e){return Io(this,void 0,void 0,(function(){var n,r;return $o(this,(function(i){switch(i.label){case 0:return(n=Dl(t)).currentUser.isEqual(e)?[3,3]:(kl("SyncEngine","User change. New user:",e.toKey()),[4,Om(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach((function(t){t.forEach((function(t){t.reject(new El($l.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Og(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Pg(t,e){var n=Dl(t),r=n.Co.get(e);if(r&&r.bo)return td().add(r.key);var i=td(),o=n.Vo.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function Lg(t,e){return Io(this,void 0,void 0,(function(){var n,r,i;return $o(this,(function(o){switch(o.label){case 0:return[4,Vm((n=Dl(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Cg(n,e.targetId,i.To),i)]}}))}))}function Mg(t){return Io(this,void 0,void 0,(function(){var e;return $o(this,(function(n){return[2,jm((e=Dl(t)).localStore).then((function(t){return Og(e,t)}))]}))}))}function Fg(t,e,n,r){return Io(this,void 0,void 0,(function(){var i,o;return $o(this,(function(a){switch(a.label){case 0:return[4,function(t,e){var n=Dl(t),r=Dl(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):pp.resolve(null)}))}))}((i=Dl(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,By(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(_g(i,e,r||null),kg(i,e),function(t,e){Dl(Dl(t)._n).Gt(e)}(i.localStore,e)):Cl(),a.label=4;case 4:return[4,Og(i,o)];case 5:return a.sent(),[3,7];case 6:kl("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}}))}))}function Ug(t,e){return Io(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return $o(this,(function(l){switch(l.label){case 0:return Wg(n=Dl(t)),Kg(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Vg(n,r.toArray())]);case 1:return i=l.sent(),n.Oo=!0,[4,Hy(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],Ay(n.remoteStore,s);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then((function(){return Ag(n,e),Um(n.localStore,e,!0)})),Ny(n.remoteStore,e)})),[4,c]);case 4:return l.sent(),[4,Vg(n,u)];case 5:return l.sent(),function(t){var e=Dl(t);e.Co.forEach((function(t,n){Ny(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new qf(oh.comparator)}(n),n.Oo=!1,[4,Hy(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function Vg(t,e,n){return Io(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d,p,m;return $o(this,(function(y){switch(y.label){case 0:n=Dl(t),r=[],i=[],o=0,a=e,y.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,Fm(n.localStore,Yh(c[0]))]:[3,7]):[3,13];case 2:u=y.sent(),l=0,h=c,y.label=3;case 3:return l<h.length?(f=h[l],d=n.Po.get(f),[4,Lg(n,d)]):[3,6];case 4:(p=y.sent()).snapshot&&i.push(p.snapshot),y.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Bm(n.localStore,s)];case 8:return m=y.sent(),[4,Fm(n.localStore,m)];case 9:return u=y.sent(),[4,gg(n,Bg(m),s,!1)];case 10:y.sent(),y.label=11;case 11:r.push(u),y.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Bg(t){return qh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function jg(t){var e=Dl(t);return Dl(Dl(e.localStore).persistence).fn()}function qg(t,e,n,r){return Io(this,void 0,void 0,(function(){var i,o,a;return $o(this,(function(s){switch(s.label){case 0:return(i=Dl(t)).Oo?(kl("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,jm(i.localStore)];case 3:return o=s.sent(),a=rd.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Og(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Um(i.localStore,e,!0)];case 6:return s.sent(),Ag(i,e,r),[3,8];case 7:Cl(),s.label=8;case 8:return[2]}}))}))}function Gg(t,e,n){return Io(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f;return $o(this,(function(d){switch(d.label){case 0:if(!(r=Wg(t)).Oo)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(kl("SyncEngine","Adding an already active target "+a),[3,5]):[4,Bm(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,Fm(r.localStore,s)];case 3:return u=d.sent(),[4,gg(r,Bg(s),u.targetId,!1)];case 4:d.sent(),Ay(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return $o(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Um(r.localStore,t,!1).then((function(){Ny(r.remoteStore,t),Ag(r,t)})).catch(sm)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Wg(t){var e=Dl(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$g.bind(null,e),e.vo._r=ag.bind(null,e.eventManager),e.vo.Mo=sg.bind(null,e.eventManager),e}function Kg(t){var e=Dl(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Eg.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sg.bind(null,e),e}var zg=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Io(this,void 0,void 0,(function(){return $o(this,(function(e){switch(e.label){case 0:return this.R=vy(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return Dm(this.persistence,new Cm,t.initialUser,this.R)},t.prototype.qo=function(t){return new Ym(Zm.bs,this.R)},t.prototype.Bo=function(t){return new ly},t.prototype.terminate=function(){return Io(this,void 0,void 0,(function(){return $o(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),Hg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return bo(e,t),e.prototype.initialize=function(e){return Io(this,void 0,void 0,(function(){return $o(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,qm(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Kg(this.Ko.syncEngine)];case 4:return n.sent(),[4,By(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Qo=function(t){return Dm(this.persistence,new Cm,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new lm(e,t.asyncQueue)},e.prototype.qo=function(t){var e=_m(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Hp.withCacheSize(this.cacheSizeBytes):Hp.DEFAULT;return new Sm(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,yy(),gy(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new ly},e}(zg),Qg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return bo(e,t),e.prototype.initialize=function(e){return Io(this,void 0,void 0,(function(){var n,r=this;return $o(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof cy?(this.sharedClientState.syncEngine={ui:Fg.bind(null,n),ai:qg.bind(null,n),hi:Gg.bind(null,n),fn:jg.bind(null,n),ci:Mg.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return Io(r,void 0,void 0,(function(){return $o(this,(function(e){switch(e.label){case 0:return[4,Ug(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=yy();if(!cy.yt(e))throw new El($l.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=_m(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new cy(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Hg),Xg=function(){function t(){}return t.prototype.initialize=function(t,e){return Io(this,void 0,void 0,(function(){var n=this;return $o(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Ig(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Rg.bind(null,this.syncEngine),[4,Hy(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new rg},t.prototype.createDatastore=function(t){var e,n=vy(t.databaseInfo.databaseId),r=(e=t.databaseInfo,new my(e));return function(t,e,n){return new Ey(t,e,n)}(t.credentials,r,n)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Ig(a.syncEngine,t,0)},o=fy.yt()?new fy:new hy,new Ty(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new mg(t,e,n,r,i,o);return a&&(s.Oo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Io(this,void 0,void 0,(function(){var e;return $o(this,(function(n){switch(n.label){case 0:return e=Dl(t),kl("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,_y(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),Yg=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Jg=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Io(this,void 0,void 0,(function(){var e,n=this;return $o(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new El($l.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Io(this,void 0,void 0,(function(){var n,r,i,o,a,s;return $o(this,(function(u){switch(u.label){case 0:return n=Dl(t),r=Td(n.R)+"/documents",i={documents:e.map((function(t){return Id(n.R,t)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){xl(!!e.found),e.found.name,e.found.updateTime;var n=$d(t,e.found.name),r=vd(e.found.updateTime),i=new bh({mapValue:{fields:e.found.fields}});return Ih.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){xl(!!e.missing),xl(!!e.readTime);var n=$d(t,e.missing),r=vd(e.readTime);return Ih.newNoDocument(n,r)}(t,e):Cl()}(n.R,t);a.set(e.key.toString(),e)})),s=[],[2,(e.forEach((function(t){var e=a.get(t.toString());xl(!!e),s.push(e)})),s)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Ff(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Io(this,void 0,void 0,(function(){var t,e=this;return $o(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=oh.fromPath(n);e.mutations.push(new Uf(r,e.precondition(r)))})),[4,function(t,e){return Io(this,void 0,void 0,(function(){var n,r,i;return $o(this,(function(o){switch(o.label){case 0:return n=Dl(t),r=Td(n.R)+"/documents",i={writes:e.map((function(t){return Ad(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Cl();e=Ul.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new El($l.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Ef.updateTime(e):Ef.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Ul.min()))throw new El($l.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ef.updateTime(e)}return Ef.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),Zg=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new by(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return Io(t,void 0,void 0,(function(){var t,e,n=this;return $o(this,(function(r){return t=new Jg(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!nh(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Bf(e)}return!1},t}(),tv=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=ty.UNAUTHENTICATED,this.clientId=Rl.u(),this.credentialListener=function(){},this.receivedInitialUser=new dp,this.credentials.setChangeListener((function(t){kl("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()}))}return t.prototype.getConfiguration=function(){return Io(this,void 0,void 0,(function(){return $o(this,(function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then((function(){return e.credentialListener(e.user)}))},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new El($l.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new dp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Io(t,void 0,void 0,(function(){var t,n;return $o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Jy(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function ev(t,e){return Io(this,void 0,void 0,(function(){var n,r,i=this;return $o(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),kl("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable((function(){return Io(i,void 0,void 0,(function(){return $o(this,(function(t){switch(t.label){case 0:return[4,Om(e.localStore,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function nv(t,e){return Io(this,void 0,void 0,(function(){var n,r;return $o(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,rv(t)];case 1:return n=i.sent(),kl("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(n){return t.asyncQueue.enqueueRetryable((function(){return function(t,e){return Io(this,void 0,void 0,(function(){var n,r;return $o(this,(function(i){switch(i.label){case 0:return(n=Dl(t)).asyncQueue.verifyOperationInProgress(),kl("RemoteStore","RemoteStore received new credentials"),r=Ry(n),n.$r.add(3),[4,_y(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,ky(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,n)}))})),t.onlineComponents=e,[2]}}))}))}function rv(t){return Io(this,void 0,void 0,(function(){return $o(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(kl("FirestoreClient","Using default OfflineComponentProvider"),[4,ev(t,new zg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function iv(t){return Io(this,void 0,void 0,(function(){return $o(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(kl("FirestoreClient","Using default OnlineComponentProvider"),[4,nv(t,new Xg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function ov(t){return rv(t).then((function(t){return t.persistence}))}function av(t){return rv(t).then((function(t){return t.localStore}))}function sv(t){return iv(t).then((function(t){return t.remoteStore}))}function uv(t){return iv(t).then((function(t){return t.syncEngine}))}function cv(t){return Io(this,void 0,void 0,(function(){var e,n;return $o(this,(function(r){switch(r.label){case 0:return[4,iv(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=yg.bind(null,e.syncEngine),n.onUnlisten=vg.bind(null,e.syncEngine),n)]}}))}))}function lv(t,e,n){var r=this;void 0===n&&(n={});var i=new dp;return t.asyncQueue.enqueueAndForget((function(){return Io(r,void 0,void 0,(function(){var r;return $o(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Yg({next:function(o){e.enqueueAndForget((function(){return og(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new El($l.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new El($l.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new cg(Gh(n.path),o,{includeMetadataChanges:!0,so:!0});return ig(t,a)},[4,cv(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function hv(t,e,n){var r=this;void 0===n&&(n={});var i=new dp;return t.asyncQueue.enqueueAndForget((function(){return Io(r,void 0,void 0,(function(){var r;return $o(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Yg({next:function(n){e.enqueueAndForget((function(){return og(t,a)})),n.fromCache&&"server"===r.source?i.reject(new El($l.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new cg(n,o,{includeMetadataChanges:!0,so:!0});return ig(t,a)},[4,cv(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var fv=function(t,e,n,r,i,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},dv=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),pv=new Map,mv=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},yv=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(ty.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),gv=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(this.token.user)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),vv=function(){function t(t){var e=this;this.oc=null,this.currentUser=ty.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then((function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(kl("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(xl("string"==typeof n.accessToken),new mv(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return xl(null===t||"string"==typeof t),new ty(t)},t}(),bv=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=ty.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),wv=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new bv(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(ty.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Iv(t,e,n){if(!n)throw new El($l.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function $v(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new El($l.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ev(t,e,n,r){if(!0===e&&!0===r)throw new El($l.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Sv(t){if(!oh.isDocumentKey(t))throw new El($l.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Tv(t){if(oh.isDocumentKey(t))throw new El($l.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function kv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Cl()}function _v(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new El($l.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=kv(t);throw new El($l.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Av(t,e){if(e<=0)throw new El($l.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Nv=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new El($l.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new El($l.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Ev("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Cv=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nv({}),this._settingsFrozen=!1,t instanceof dv?(this._databaseId=t,this._credentials=new yv):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new El($l.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dv(t.options.projectId)}(t),this._credentials=new vv(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new El($l.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new El($l.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nv(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new yv;switch(t.type){case"gapi":var e=t.client;return xl(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new wv(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new El($l.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return this,(t=pv.get(this))&&(kl("ComponentProvider","Removing Datastore"),pv.delete(this),t.terminate()),Promise.resolve();var t},t}(),xv=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ov(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Dv=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Ov=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Gh(r))||this)._path=r,i.type="collection",i}return bo(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new xv(this.firestore,null,new oh(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Dv);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Rv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Uo(t),Iv("collection","path",e),t instanceof Cv)return Tv(n=Gl.fromString.apply(Gl,To([e],r))),new Ov(t,null,n);if(!(t instanceof xv||t instanceof Ov))throw new El($l.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Tv(n=Gl.fromString.apply(Gl,To([t.path],r)).child(Gl.fromString(e))),new Ov(t.firestore,null,n)}function Pv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Uo(t),1===arguments.length&&(e=Rl.u()),Iv("doc","path",e),t instanceof Cv)return Sv(n=Gl.fromString.apply(Gl,To([e],r))),new xv(t,null,new oh(n));if(!(t instanceof xv||t instanceof Ov))throw new El($l.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Sv(n=t._path.child(Gl.fromString.apply(Gl,To([e],r)))),new xv(t.firestore,t instanceof Ov?t.converter:null,new oh(n))}function Lv(t,e){return t=Uo(t),e=Uo(e),(t instanceof xv||t instanceof Ov)&&(e instanceof xv||e instanceof Ov)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Mv(t,e){return t=Uo(t),e=Uo(e),t instanceof Dv&&e instanceof Dv&&t.firestore===e.firestore&&Zh(t._query,e._query)&&t.converter===e.converter
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var Fv=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new by(this,"async_queue_retry"),this.Ec=function(){var e=gy();e&&kl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=gy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=gy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise((function(t){})):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.dc.push(t),e.Ac()}))},t.prototype.Ac=function(){return Io(this,void 0,void 0,(function(){var t,e=this;return $o(this,(function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!bp(t=n.sent()))throw t;return kl("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji((function(){return e.Ac()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ic=function(t){var e=this,n=this.fc.then((function(){return e.yc=!0,t().catch((function(t){throw e.mc=t,e.yc=!1,_l("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.yc=!1,t}))}));return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=Yy.createAndSchedule(this,t,e,n,(function(t){return r.Rc(t)}));return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&Cl()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Io(this,void 0,void 0,(function(){var t;return $o(this,(function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then((function(){e._c.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()}))},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function Uv(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Vv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Fv,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return bo(e,t),e.prototype._terminate=function(){return this._firestoreClient||jv(this),this._firestoreClient.terminate()},e}(Cv);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Bv(t){return t._firestoreClient||jv(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function jv(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new fv(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new tv(t._credentials,t._queue,r)}function qv(t,e,n){var r=this,i=new dp;return t.asyncQueue.enqueue((function(){return Io(r,void 0,void 0,(function(){var r;return $o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,ev(t,n)];case 1:return o.sent(),[4,nv(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===$l.FAILED_PRECONDITION||t.code===$l.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Gv(t){if(t._initialized||t._terminated)throw new El($l.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Wv=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new El($l.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kl(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Kv=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Hl.fromBase64String(e))}catch(e){throw new El($l.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Hl.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),zv=function(t){this._methodName=t},Hv=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new El($l.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new El($l.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Pl(this._lat,t._lat)||Pl(this._long,t._long)},t}(),Qv=/^__.*__$/,Xv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Df(t,this.data,this.fieldMask,e,this.fieldTransforms):new xf(t,this.data,e,this.fieldTransforms)},t}(),Yv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Df(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Jv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Cl()}}var Zv=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return bb(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(Jv(this.Dc)&&Qv.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),tb=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||vy(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new Zv({Dc:t,methodName:e,Lc:n,path:Kl.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function eb(t){var e=t._freezeSettings(),n=vy(t._databaseId);return new tb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nb(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);mb("Data must be an object, but it was:",a,r);var s,u,c=db(r,a);if(o.merge)s=new zl(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=yb(e,f[h],n);if(!a.contains(d))throw new El($l.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");wb(l,d)||l.push(d)}s=new zl(l),u=a.fieldTransforms.filter((function(t){return s.covers(t.field)}))}else s=null,u=a.fieldTransforms;return new Xv(new bh(c),s,u)}var rb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bo(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw 1===t.Dc?t.$c(this._methodName+"() can only appear at the top level of your update data"):t.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(zv);function ib(t,e,n){return new Zv({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var ob=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bo(e,t),e.prototype._toFieldTransform=function(t){return new If(t.path,new df)},e.prototype.isEqual=function(t){return t instanceof e},e}(zv),ab=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return bo(e,t),e.prototype._toFieldTransform=function(t){var e=ib(this,t,!0),n=this.qc.map((function(t){return fb(t,e)})),r=new pf(n);return new If(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(zv),sb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return bo(e,t),e.prototype._toFieldTransform=function(t){var e=ib(this,t,!0),n=this.qc.map((function(t){return fb(t,e)})),r=new yf(n);return new If(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(zv),ub=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return bo(e,t),e.prototype._toFieldTransform=function(t){var e=new vf(t.R,uf(t.R,this.Uc));return new If(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(zv);function cb(t,e,n,r){var i=t.Bc(1,e,n);mb("Data must be an object, but it was:",i,r);var o=[],a=bh.empty();Bl(r,(function(t,r){var s=vb(e,t,n);r=Uo(r);var u=i.kc(s);if(r instanceof rb)o.push(s);else{var c=fb(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new zl(o);return new Yv(a,s,i.fieldTransforms)}function lb(t,e,n,r,i,o){var a=t.Bc(1,e,n),s=[yb(e,r,n)],u=[i];if(o.length%2!=0)throw new El($l.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(yb(e,o[c])),u.push(o[c+1]);for(var l=[],h=bh.empty(),f=s.length-1;f>=0;--f)if(!wb(l,s[f])){var d=s[f],p=u[f];p=Uo(p);var m=a.kc(d);if(p instanceof rb)l.push(d);else{var y=fb(p,m);null!=y&&(l.push(d),h.set(d,y))}}var g=new zl(l);return new Yv(h,g,a.fieldTransforms)}function hb(t,e,n,r){return void 0===r&&(r=!1),fb(n,t.Bc(r?4:3,e))}function fb(t,e){if(pb(t=Uo(t)))return mb("Unsupported field value:",e,t),db(t,e);if(t instanceof zv)return function(t,e){if(!Jv(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=fb(o[i],e.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Uo(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return uf(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Fl.fromDate(t);return{timestampValue:md(e.R,n)}}if(t instanceof Fl)return n=new Fl(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:md(e.R,n)};if(t instanceof Hv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Kv)return{bytesValue:yd(e.R,t._byteString)};if(t instanceof xv){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:bd(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+kv(t))}(t,e)}function db(t,e){var n={};return jl(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bl(t,(function(t,r){var i=fb(r,e.Nc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function pb(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Fl||t instanceof Hv||t instanceof Kv||t instanceof xv||t instanceof zv)}function mb(t,e,n){if(!pb(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=kv(n);throw"an object"===r?e.$c(t+" a custom object"):e.$c(t+" "+r)}}function yb(t,e,n){if((e=Uo(e))instanceof Wv)return e._internalPath;if("string"==typeof e)return vb(t,e);throw bb("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var gb=new RegExp("[~\\*/\\[\\]]");function vb(t,e,n){if(e.search(gb)>=0)throw bb("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Wv.bind.apply(Wv,To([void 0],e.split(".")))))._internalPath}catch(r){throw bb("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function bb(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new El($l.INVALID_ARGUMENT,(s+=". ")+t+u)}function wb(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ib=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new xv(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new $b(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Eb("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),$b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bo(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Ib);function Eb(t,e){return"string"==typeof e?vb(t,e):e instanceof Wv?e._internalPath:e._delegate._internalPath}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Sb=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Tb=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return bo(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new kb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Eb("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Ib),kb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bo(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Tb),_b=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Sb(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new kb(n._firestore,n._userDataWriter,r.key,r,new Sb(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new El($l.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){var r=new kb(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Sb(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new kb(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Sb(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Ab(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Ab(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Cl()}}function Nb(t,e){return t instanceof Tb&&e instanceof Tb?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof _b&&e instanceof _b&&t._firestore===e._firestore&&Mv(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Cb(t){if(Kh(t)&&0===t.explicitOrderBy.length)throw new El($l.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var xb=function(){};function Db(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Ob=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return bo(e,t),e.prototype._apply=function(t){var e=eb(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new El($l.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Vb(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(Ub(r,t,h))}s={arrayValue:{values:u}}}else s=Ub(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Vb(a,o),s=hb(n,"where",a,"in"===o||"not-in"===o);var f=_h.create(i,o,s);return function(t,e){if(e.g()){var n=Hh(t);if(null!==n&&!n.isEqual(e.field))throw new El($l.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=zh(t);null!==r&&Bb(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new El($l.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new El($l.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Dv(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new jh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(xb),Rb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return bo(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new El($l.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new El($l.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Fh(e,n);return function(t,e){if(null===zh(t)){var n=Hh(t);null!==n&&Bb(t,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new Dv(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new jh(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(xb),Pb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return bo(e,t),e.prototype._apply=function(t){return new Dv(t.firestore,t.converter,Jh(t._query,this.Gc,this.zc))},e}(xb),Lb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return bo(e,t),e.prototype._apply=function(t){var e=Fb(t,this.type,this.Hc,this.Jc);return new Dv(t.firestore,t.converter,function(t,e){return new jh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(xb),Mb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return bo(e,t),e.prototype._apply=function(t){var e=Fb(t,this.type,this.Hc,this.Jc);return new Dv(t.firestore,t.converter,function(t,e){return new jh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(xb);function Fb(t,e,n,r){if(n[0]=Uo(n[0]),n[0]instanceof Ib)return function(t,e,n,r,i){if(!r)throw new El($l.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Xh(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(dh(e,r.key));else{var c=r.data.field(u.field);if(Zl(c))throw new El($l.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new El($l.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Lh(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=eb(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new El($l.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new El($l.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Qh(t)&&-1!==c.indexOf("/"))throw new El($l.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Gl.fromString(c));if(!oh.isDocumentKey(l))throw new El($l.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new oh(l);s.push(dh(e,h))}else{var f=hb(n,r,c);s.push(f)}}return new Lh(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Ub(t,e,n){if("string"==typeof(n=Uo(n))){if(""===n)throw new El($l.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qh(e)&&-1!==n.indexOf("/"))throw new El($l.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Gl.fromString(n));if(!oh.isDocumentKey(r))throw new El($l.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return dh(t,new oh(r))}if(n instanceof xv)return dh(t,n._key);throw new El($l.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+kv(n)+".")}function Vb(t,e){if(!Array.isArray(t)||0===t.length)throw new El($l.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new El($l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Bb(t,e,n){if(!n.isEqual(e))throw new El($l.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var jb=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),ah(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Yl(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Jl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Cl()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Bl(t.fields||{},(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new Hv(Yl(t.latitude),Yl(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=th(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(eh(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Xl(t);return new Fl(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Gl.fromString(t);xl(qd(n));var r=new dv(n.get(1),n.get(3)),i=new oh(n.popFirst(5));return r.isEqual(e)||_l("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function qb(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Gb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return bo(e,t),e.prototype.convertBytes=function(t){return new Kv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new xv(this.firestore,null,e)},e}(jb),Wb=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=eb(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Kb(t,this._firestore),i=qb(r.converter,e,n),o=nb(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Ef.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=Kb(t,this._firestore);return o="string"==typeof(e=Uo(e))||e instanceof Wv?lb(this._dataReader,"WriteBatch.update",a._key,e,n,r):cb(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,Ef.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Kb(t,this._firestore);return this._mutations=this._mutations.concat(new Ff(e._key,Ef.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new El($l.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Kb(t,e){if((t=Uo(t)).firestore!==e)throw new El($l.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var zb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return bo(e,t),e.prototype.convertBytes=function(t){return new Kv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new xv(this.firestore,null,e)},e}(jb);function Hb(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=_v(t,xv);var o=_v(t.firestore,Vv),a=eb(o);return Xb(o,[("string"==typeof(e=Uo(e))||e instanceof Wv?lb(a,"updateDoc",t._key,e,n,r):cb(a,"updateDoc",t._key,e)).toMutation(t._key,Ef.exists(!0))])}function Qb(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Uo(t);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Uv(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(Uv(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof xv)c=_v(t.firestore,Vv),l=Gh(t._key.path),u={next:function(e){i[s]&&i[s](Yb(c,t,e))},error:i[s+1],complete:i[s+2]};else{var d=_v(t,Dv);c=_v(d.firestore,Vv),l=d._query;var p=new zb(c);u={next:function(t){i[s]&&i[s](new _b(c,p,d,t))},error:i[s+1],complete:i[s+2]},Cb(t._query)}return function(t,e,n,r){var i=this,o=new Yg(r),a=new cg(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return Io(i,void 0,void 0,(function(){var e;return $o(this,(function(n){switch(n.label){case 0:return e=ig,[4,cv(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return Io(i,void 0,void 0,(function(){var e;return $o(this,(function(n){switch(n.label){case 0:return e=og,[4,cv(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}(Bv(c),l,h,u)}function Xb(t,e){return function(t,e){var n=this,r=new dp;return t.asyncQueue.enqueueAndForget((function(){return Io(n,void 0,void 0,(function(){var n;return $o(this,(function(i){switch(i.label){case 0:return n=bg,[4,uv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Bv(t),e)}function Yb(t,e,n){var r=n.docs.get(e._key),i=new zb(t);return new Tb(t,i,e._key,r,new Sb(n.hasPendingWrites,n.fromCache),e.converter)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Jb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return bo(e,t),e.prototype.get=function(e){var n=this,r=Kb(e,this._firestore),i=new zb(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new Tb(n._firestore,i,r._key,t._document,new Sb(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=eb(t)}return t.prototype.get=function(t){var e=this,n=Kb(t,this._firestore),r=new Gb(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return Cl();var i=t[0];if(i.isFoundDocument())return new Ib(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Ib(e._firestore,r,n._key,null,n.converter);throw Cl()}))},t.prototype.set=function(t,e,n){var r=Kb(t,this._firestore),i=qb(r.converter,e,n),o=nb(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=Kb(t,this._firestore);return o="string"==typeof(e=Uo(e))||e instanceof Wv?lb(this._dataReader,"Transaction.update",a._key,e,n,r):cb(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=Kb(t,this._firestore);return this._transaction.delete(e._key),this},t}());
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Zb(){if("undefined"==typeof Uint8Array)throw new El($l.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function tw(){if("undefined"==typeof atob)throw new El($l.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ew=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return tw(),new t(Kv.fromBase64String(e))},t.fromUint8Array=function(e){return Zb(),new t(Kv.fromUint8Array(e))},t.prototype.toBase64=function(){return tw(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Zb(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),nw=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Gv(t=_v(t,Vv));var n=Bv(t),r=t._freezeSettings(),i=new Xg;return qv(n,i,new Hg(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Gv(t=_v(t,Vv));var e=Bv(t),n=t._freezeSettings(),r=new Xg;return qv(e,r,new Qg(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new El($l.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new dp;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return Io(e,void 0,void 0,(function(){var e;return $o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Io(this,void 0,void 0,(function(){var e;return $o(this,(function(n){switch(n.label){case 0:return yp.yt()?(e=t+"main",[4,yp.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(_m(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),rw=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof dv||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=_v(t,Cv))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&Al("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=wo({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ko.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),ko.encodeString(JSON.stringify(o),!1),""].join(".")}(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new El($l.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new gv(new mv(o,new ty(a)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Io(e,void 0,void 0,(function(){var e,n;return $o(this,(function(r){switch(r.label){case 0:return[4,ov(t)];case 1:return e=r.sent(),[4,sv(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Dl(t);return e.$r.delete(0),ky(e)}(n))]}}))}))}))}(Bv(_v(this._delegate,Vv)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Io(e,void 0,void 0,(function(){var e,n;return $o(this,(function(r){switch(r.label){case 0:return[4,ov(t)];case 1:return e=r.sent(),[4,sv(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Io(this,void 0,void 0,(function(){var e;return $o(this,(function(n){switch(n.label){case 0:return(e=Dl(t)).$r.add(0),[4,_y(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Bv(_v(this._delegate,Vv)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Ev("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new dp;return t.asyncQueue.enqueueAndForget((function(){return Io(e,void 0,void 0,(function(){var e;return $o(this,(function(r){switch(r.label){case 0:return e=Tg,[4,uv(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Bv(_v(this._delegate,Vv)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Yg(e);return t.asyncQueue.enqueueAndForget((function(){return Io(n,void 0,void 0,(function(){var e;return $o(this,(function(n){switch(n.label){case 0:return e=function(t,e){Dl(t).Gr.add(e),e.next()},[4,cv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return Io(n,void 0,void 0,(function(){var e;return $o(this,(function(n){switch(n.label){case 0:return e=function(t,e){Dl(t).Gr.delete(e)},[4,cv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Bv(t=_v(t,Vv)),Uv(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new El($l.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new gw(this,Rv(this._delegate,t))}catch(t){throw cw(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new uw(this,Pv(this._delegate,t))}catch(t){throw cw(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new pw(this,function(t,e){if(t=_v(t,Cv),Iv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new El($l.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Dv(t,null,function(t){return new jh(Gl.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw cw(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new dp;return t.asyncQueue.enqueueAndForget((function(){return Io(n,void 0,void 0,(function(){var n;return $o(this,(function(i){switch(i.label){case 0:return[4,function(t){return iv(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new Zg(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(Bv(t),(function(n){return e(new Jb(t,n))}))}(this._delegate,(function(n){return t(new ow(e,n))}))},t.prototype.batch=function(){var t=this;return Bv(this._delegate),new aw(new Wb(this._delegate,(function(e){return Xb(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new El($l.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new El($l.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),iw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return bo(e,t),e.prototype.convertBytes=function(t){return new ew(new Kv(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return uw.Zc(e,this.firestore,null)},e}(jb);var ow=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new iw(t)}return t.prototype.get=function(t){var e=this,n=vw(t);return this._delegate.get(n).then((function(t){return new fw(e._firestore,new Tb(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=vw(t);return n?($v("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=vw(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,To([a,e,n],i)),this},t.prototype.delete=function(t){var e=vw(t);return this._delegate.delete(e),this},t}(),aw=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=vw(t);return n?($v("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=vw(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,To([a,e,n],i)),this},t.prototype.delete=function(t){var e=vw(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),sw=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new kb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new dw(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new iw(e),n),i.set(n,o)),o},t}();sw.eu=new WeakMap;var uw=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new iw(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new El($l.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new xv(n._delegate,r,new oh(e)))},t.Zc=function(e,n,r){return new t(n,new xv(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new gw(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new gw(this.firestore,Rv(this._delegate,t))}catch(t){throw cw(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Uo(t))instanceof xv&&Lv(this._delegate,t)},t.prototype.set=function(t,e){e=$v("DocumentReference.set",e);try{return function(t,e,n){t=_v(t,xv);var r=_v(t.firestore,Vv),i=qb(t.converter,e,n);return Xb(r,[nb(eb(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Ef.none())])}(this._delegate,t,e)}catch(t){throw cw(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Hb(this._delegate,t):Hb.apply(void 0,To([this._delegate,t,e],n))}catch(t){throw cw(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Xb(_v((t=this._delegate).firestore,Vv),[new Ff(t._key,Ef.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=lw(e),i=hw(e,(function(e){return new fw(t.firestore,new Tb(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return Qb(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=_v(t,xv);var e=_v(t.firestore,Vv),n=Bv(e),r=new zb(e);return function(t,e){var n=this,r=new dp;return t.asyncQueue.enqueueAndForget((function(){return Io(n,void 0,void 0,(function(){var n;return $o(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Io(this,void 0,void 0,(function(){var r,i;return $o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Dl(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new El($l.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Jy(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,av(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new Tb(e,r,t._key,n,new Sb(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=_v(t,xv);var e=_v(t.firestore,Vv);return lv(Bv(e),t._key,{source:"server"}).then((function(n){return Yb(e,t,n)}))}(this._delegate):function(t){t=_v(t,xv);var e=_v(t.firestore,Vv);return lv(Bv(e),t._key).then((function(n){return Yb(e,t,n)}))}(this._delegate)).then((function(t){return new fw(e.firestore,new Tb(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(sw.tu(this.firestore,e)):this._delegate.withConverter(null))},t}();function cw(t,e,n){return t.message=t.message.replace(e,n),t}function lw(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Uv(r))return r}return{}}function hw(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Uv(t[0])?t[0]:Uv(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var fw=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new uw(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Nb(this._delegate,t._delegate)},t}(),dw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bo(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(fw),pw=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new iw(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Db(this._delegate,function(t,e,n){var r=e,i=Eb("where",t);return new Ob(i,r,n)}(e,n,r)))}catch(e){throw cw(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Db(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Eb("orderBy",t);return new Rb(r,n)}(e,n)))}catch(e){throw cw(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Db(this._delegate,function(t){return Av("limit",t),new Pb("limit",t,"F")}(e)))}catch(e){throw cw(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Db(this._delegate,function(t){return Av("limitToLast",t),new Pb("limitToLast",t,"L")}(e)))}catch(e){throw cw(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Db(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Lb("startAt",t,!0)}.apply(void 0,e)))}catch(e){throw cw(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Db(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Lb("startAfter",t,!1)}.apply(void 0,e)))}catch(e){throw cw(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Db(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Mb("endBefore",t,!0)}.apply(void 0,e)))}catch(e){throw cw(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Db(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Mb("endAt",t,!1)}.apply(void 0,e)))}catch(e){throw cw(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Mv(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=_v(t,Dv);var e=_v(t.firestore,Vv),n=Bv(e),r=new zb(e);return function(t,e){var n=this,r=new dp;return t.asyncQueue.enqueueAndForget((function(){return Io(n,void 0,void 0,(function(){var n;return $o(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Io(this,void 0,void 0,(function(){var r,i,o,a,s;return $o(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Vm(t,e,!0)];case 1:return s=u.sent(),r=new fg(e,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=Jy(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,av(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new _b(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=_v(t,Dv);var e=_v(t.firestore,Vv),n=Bv(e),r=new zb(e);return hv(n,t._query,{source:"server"}).then((function(n){return new _b(e,r,t,n)}))}(this._delegate):function(t){t=_v(t,Dv);var e=_v(t.firestore,Vv),n=Bv(e),r=new zb(e);return Cb(t._query),hv(n,t._query).then((function(n){return new _b(e,r,t,n)}))}(this._delegate)).then((function(t){return new yw(e.firestore,new _b(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=lw(e),i=hw(e,(function(e){return new yw(t.firestore,new _b(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return Qb(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(sw.tu(this.firestore,e)):this._delegate.withConverter(null))},t}(),mw=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new dw(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),yw=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new pw(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new dw(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new mw(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new dw(n._firestore,r))}))},t.prototype.isEqual=function(t){return Nb(this._delegate,t._delegate)},t}(),gw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return bo(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new uw(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new uw(this.firestore,void 0===t?Pv(this._delegate):Pv(this._delegate,t))}catch(t){throw cw(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=_v(t.firestore,Vv),r=Pv(t),i=qb(t.converter,e);return Xb(n,[nb(eb(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ef.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new uw(e.firestore,t)}))},e.prototype.isEqual=function(t){return Lv(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(sw.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(pw);function vw(t){return _v(t,xv)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var bw,ww=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Wv.bind.apply(Wv,To([void 0],t)))}return t.documentId=function(){return new t(Kl.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Uo(t))instanceof Wv&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Iw=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new ob("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new rb("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ab("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sb("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new ub("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),$w={Firestore:rw,GeoPoint:Hv,Timestamp:Fl,Blob:ew,Transaction:ow,WriteBatch:aw,DocumentReference:uw,DocumentSnapshot:fw,Query:pw,QueryDocumentSnapshot:dw,QuerySnapshot:yw,CollectionReference:gw,FieldPath:ww,FieldValue:Iw,setLogLevel:function(t){var e;e=t,Sl.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Vo("firestore",(function(t){return function(t,e){return new rw(t,new Vv(t,e),new nw)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},$w)))})(bw=pa),bw.registerVersion("@firebase/firestore","2.3.0"),function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var a=n.setTimeout;r.prototype.c=function(t){a(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new r;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Qa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),a=r.next();!a.done;a=r.next())o(a.value).Qa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,o(r.value).Qa(i(a.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&s.test(t)?t:""}function l(){}function h(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==h(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var m="closure_uid_"+(1e9*Math.random()>>>0),y=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:v).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function I(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function $(t){return t}function E(t,e,n){this.code=k+t,this.message=e||_[t]||"",this.a=n||null}function S(t){var e=t&&t.code;return e?new E(e.substring(k.length),t.message,t.serverResponse):null}I(E,Error),E.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},E.prototype.toJSON=function(){return this.w()};var T,k="auth/",_={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},A={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function N(t){for(var e in A)if(A[e].id===t)return{firebaseEndpoint:(t=A[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function C(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function x(t){if(Error.captureStackTrace)Error.captureStackTrace(this,x);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function D(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");x.call(this,n+t[r])}function O(t,e){throw new D("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function R(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function P(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function L(){this.b=this.a=null}T=N("__EID__")?"__EID__":void 0,I(x,Error),x.prototype.name="CustomError",I(D,x),D.prototype.name="AssertionError",R.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var M=new R((function(){return new U}),(function(t){t.reset()}));function F(){var t=ye,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function U(){this.next=this.b=this.a=null}L.prototype.add=function(t,e){var n=M.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},U.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},U.prototype.reset=function(){this.next=this.b=this.a=null};var V=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},B=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var j=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},q=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},G=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function W(t,e){return 0<=V(t,e)}function K(t,e){var n;return(n=0<=(e=V(t,e)))&&Array.prototype.splice.call(t,e,1),n}function z(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function H(t){return Array.prototype.concat.apply([],arguments)}function Q(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var X,Y=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},J=/&/g,Z=/</g,tt=/>/g,et=/"/g,nt=/'/g,rt=/\x00/g,it=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function at(t,e){return t<e?-1:t>e?1:0}t:{var st=a.navigator;if(st){var ut=st.userAgent;if(ut){X=ut;break t}}X=""}function ct(t){return ot(X,t)}function lt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ht(t){for(var e in t)return!1;return!0}function ft(t){var e,n={};for(e in t)n[e]=t[e];return n}var dt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<dt.length;o++)n=dt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function mt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;O("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function yt(t,e){this.a=t===wt&&e||"",this.b=bt}function gt(t){return t instanceof yt&&t.constructor===yt&&t.b===bt?t.a:(O("expected object of type Const, got '"+t+"'"),"type_error:Const")}yt.prototype.sa=!0,yt.prototype.ra=function(){return this.a},yt.prototype.toString=function(){return"Const{"+this.a+"}"};var vt,bt={},wt={};function It(){if(void 0===vt){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:$,createScript:$,createScriptURL:$})}catch(t){a.console&&a.console.error(t.message)}vt=t}else vt=t}return vt}function $t(t,e){this.a=e===_t?t:""}function Et(t){return t instanceof $t&&t.constructor===$t?t.a:(O("expected object of type TrustedResourceUrl, got '"+t+"' of type "+h(t)),"type_error:TrustedResourceUrl")}function St(t,e){var n=gt(t);if(!kt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=It();return new $t(t=e?e.createScriptURL(t):t,_t)}(t=n.replace(Tt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof yt?gt(t):encodeURIComponent(String(t))})))}$t.prototype.sa=!0,$t.prototype.ra=function(){return this.a.toString()},$t.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Tt=/%{(\w+)}/g,kt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,_t={};function At(t,e){this.a=e===Pt?t:""}function Nt(t){return t instanceof At&&t.constructor===At?t.a:(O("expected object of type SafeUrl, got '"+t+"' of type "+h(t)),"type_error:SafeUrl")}At.prototype.sa=!0,At.prototype.ra=function(){return this.a.toString()},At.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ct=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,xt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Dt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ot(t){if(t instanceof At)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Dt.test(t))t=new At(t,Pt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(xt);t=e&&Ct.test(e[1])?new At(t,Pt):null}return t}function Rt(t){return t instanceof At?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Dt.test(t)||(t="about:invalid#zClosurez"),new At(t,Pt))}var Pt={},Lt=new At("about:invalid#zClosurez",Pt);function Mt(t,e,n){this.a=n===Ft?t:""}Mt.prototype.sa=!0,Mt.prototype.ra=function(){return this.a.toString()},Mt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ft={};function Ut(t,e,n,r){return t=t instanceof At?t:Rt(t),e=e||a,n=n instanceof yt?gt(n):n||"",e.open(Nt(t),n,r,void 0)}function Vt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Bt(t){return it.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(J,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(et,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function jt(t){return jt[" "](t),t}jt[" "]=l;var qt,Gt=ct("Opera"),Wt=ct("Trident")||ct("MSIE"),Kt=ct("Edge"),zt=Kt||Wt,Ht=ct("Gecko")&&!(ot(X.toLowerCase(),"webkit")&&!ct("Edge"))&&!(ct("Trident")||ct("MSIE"))&&!ct("Edge"),Qt=ot(X.toLowerCase(),"webkit")&&!ct("Edge");function Xt(){var t=a.document;return t?t.documentMode:void 0}t:{var Yt="",Jt=function(){var t=X;return Ht?/rv:([^\);]+)(\)|;)/.exec(t):Kt?/Edge\/([\d\.]+)/.exec(t):Wt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Qt?/WebKit\/(\S+)/.exec(t):Gt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Jt&&(Yt=Jt?Jt[1]:""),Wt){var Zt=Xt();if(null!=Zt&&Zt>parseFloat(Yt)){qt=String(Zt);break t}}qt=Yt}var te,ee={};function ne(t){return function(t,e){var n=ee;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Y(String(qt)).split("."),r=Y(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=at(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||at(0==a[2].length,0==s[2].length)||at(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(a.document&&Wt){var re=Xt();te=re||(parseInt(qt,10)||void 0)}else te=void 0;var ie=te;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(t){}var oe=!Wt||9<=Number(ie);function ae(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function se(t,e){lt(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:le.hasOwnProperty(n)?t.setAttribute(le[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ue,ce,le={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function he(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||p(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(p(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(d(o)){a="function"==typeof o.item;break t}}a=!1}B(a?Q(o):o,r)}}}function fe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function de(t){a.setTimeout((function(){throw t}),0)}function pe(t,e){ce||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);ce=function(){t.then(ge)}}else ce=function(){var t=ge;!d(a.setImmediate)||a.Window&&a.Window.prototype&&!ct("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(ue||(ue=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ct("Presto")&&(t=function(){var t=fe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ct("Trident")&&!ct("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),ue(t)):a.setImmediate(t)}}(),me||(ce(),me=!0),ye.add(t,e)}var me=!1,ye=new L;function ge(){for(var t;t=F();){try{t.a.call(t.b)}catch(t){de(t)}P(M,t)}me=!1}function ve(t,e){if(this.a=be,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=l)try{var n=this;t.call(e,(function(t){De(n,we,t)}),(function(t){if(!(t instanceof Ue))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}De(n,Ie,t)}))}catch(t){De(this,Ie,t)}}var be=0,we=2,Ie=3;function $e(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}$e.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ee=new R((function(){return new $e}),(function(t){t.reset()}));function Se(t,e,n){var r=Ee.get();return r.g=t,r.b=e,r.f=n,r}function Te(t){if(t instanceof ve)return t;var e=new ve(l);return De(e,we,t),e}function ke(t){return new ve((function(e,n){n(t)}))}function _e(t,e,n){Oe(t,e,n,null)||pe(w(e,t))}function Ae(t){return new ve((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)_e(t[o],w(i,o,!0),w(i,o,!1));else e(r)}))}function Ne(t,e){if(t.a==be)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==be&&1==r?Ne(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Pe(n),Le(n,i,Ie,e)))}t.c=null}else De(t,Ie,e)}function Ce(t,e){t.b||t.a!=we&&t.a!=Ie||Re(t),t.f?t.f.next=e:t.b=e,t.f=e}function xe(t,e,n,r){var i=Se(null,null,null);return i.a=new ve((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ue?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,Ce(t,i),i.a}function De(t,e,n){t.a==be&&(t===n&&(e=Ie,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Oe(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Re(t),e!=Ie||n instanceof Ue||function(t,e){t.g=!0,pe((function(){t.g&&Fe.call(null,e)}))}(t,n)))}function Oe(t,e,n,r){if(t instanceof ve)return Ce(t,Se(e||l,n||null,r)),!0;if(C(t))return t.then(e,n,r),!0;if(p(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}function a(t){s||(s=!0,n.call(i,t))}var s=!1;try{e.call(t,a,o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Re(t){t.h||(t.h=!0,pe(t.gc,t))}function Pe(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Le(t,e,n,r){if(n==Ie&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Me(e,n,r);else try{e.c?e.g.call(e.f):Me(e,n,r)}catch(t){Fe.call(null,t)}P(Ee,e)}function Me(t,e,n){e==we?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ve.prototype.then=function(t,e,n){return xe(this,d(t)?t:null,d(e)?e:null,n)},ve.prototype.$goog_Thenable=!0,(t=ve.prototype).oa=function(t,e){return(t=Se(t,t,e)).c=!0,Ce(this,t),this},t.o=function(t,e){return xe(this,null,t,e)},t.cancel=function(t){if(this.a==be){var e=new Ue(t);pe((function(){Ne(this,e)}),this)}},t.$c=function(t){this.a=be,De(this,we,t)},t.ad=function(t){this.a=be,De(this,Ie,t)},t.gc=function(){for(var t;t=Pe(this);)Le(this,t,this.a,this.i);this.h=!1};var Fe=de;function Ue(t){x.call(this,t)}function Ve(){this.xa=this.xa,this.pa=this.pa}I(Ue,x),Ue.prototype.name="cancel";function Be(t){!t.xa&&(t.xa=!0,t.Da(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++y)}(t)}Ve.prototype.xa=!1,Ve.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var je=Object.freeze||function(t){return t},qe=!Wt||9<=Number(ie),Ge=Wt&&!ne("9"),We=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",l,e),a.removeEventListener("test",l,e)}catch(t){}return t}();function Ke(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function ze(t,e){if(Ke.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Ht){t:{try{jt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:He[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Ke.prototype.preventDefault=function(){this.defaultPrevented=!0},I(ze,Ke);var He=je({2:"touch",3:"pen",4:"mouse"});ze.prototype.preventDefault=function(){ze.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ge)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},ze.prototype.g=function(){return this.a};var Qe="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function Ye(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++Xe,this.va=this.Pa=!1}function Je(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function Ze(t){this.src=t,this.a={},this.b=0}function tn(t,e){var n=e.type;n in t.a&&K(t.a[n],e)&&(Je(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function en(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}Ze.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=en(t,e,r,i);return-1<a?(e=t[a],n||(e.Pa=!1)):((e=new Ye(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var nn="closure_lm_"+(1e6*Math.random()|0),rn={};function on(t,e,n,r,i){if(r&&r.once)sn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)on(t,e[o],n,r,i);else n=yn(n),t&&t[Qe]?vn(t,e,n,p(r)?!!r.capture:!!r,i):an(t,e,n,!1,r,i)}function an(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i,s=pn(t);if(s||(t[nn]=s=new Ze(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=dn,e=qe?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)We||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ln(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function sn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)sn(t,e[o],n,r,i);else n=yn(n),t&&t[Qe]?bn(t,e,n,p(r)?!!r.capture:!!r,i):an(t,e,n,!0,r,i)}function un(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=yn(n),t&&t[Qe]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=en(o=t.a[e],n,r,i))&&(Je(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=pn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=en(e,n,r,i)),(n=-1<t?e[t]:null)&&cn(n))}function cn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Qe])tn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ln(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=pn(e))?(tn(n,t),0==n.b&&(n.src=null,e[nn]=null)):Je(t)}}}function ln(t){return t in rn?rn[t]:rn[t]="on"+t}function hn(t,e,n,r){var i=!0;if((t=pn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=fn(o,r),i=i&&!1!==o)}return i}function fn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&cn(t),n.call(r,e)}function dn(t,e){if(t.va)return!0;if(!qe){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new ze(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=hn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=hn(r[i],t,!1,e),n=n&&o}return n}return fn(t,new ze(e,this))}function pn(t){return(t=t[nn])instanceof Ze?t:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(t){return d(t)?t:(t[mn]||(t[mn]=function(e){return t.handleEvent(e)}),t[mn])}function gn(){Ve.call(this),this.v=new Ze(this),this.ac=this,this.gb=null}function vn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function bn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function wn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Va||a.src;a.Pa&&tn(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function In(t,e,n){if(d(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function $n(t){var e=null;return new ve((function(n,r){-1==(e=In((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw a.clearTimeout(e),t}))}function En(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Sn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Tn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Tn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function kn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];_n(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)_n(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function _n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}I(gn,Ve),gn.prototype[Qe]=!0,gn.prototype.addEventListener=function(t,e,n,r){on(this,t,e,n,r)},gn.prototype.removeEventListener=function(t,e,n,r){un(this,t,e,n,r)},gn.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"==typeof t)t=new Ke(t,n);else if(t instanceof Ke)t.target=t.target||n;else{var i=t;pt(t=new Ke(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=wn(a,r,!0,t)&&i}if(i=wn(a=t.b=n,r,!0,t)&&i,i=wn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=wn(a=t.b=e[o],r,!1,t)&&i;return i},gn.prototype.Da=function(){if(gn.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Je(n[r]);delete e.a[t],e.b--}}this.gb=null},(t=Tn.prototype).W=function(){kn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return kn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return _n(this.b,t)?this.b[t]:e},t.set=function(t,e){_n(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var An=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Nn?(this.i=void 0!==e?e:t.i,Cn(this,t.c),this.l=t.l,this.a=t.a,xn(this,t.g),this.f=t.f,Dn(this,Yn(t.b)),this.h=t.h):t&&(n=String(t).match(An))?(this.i=!!e,Cn(this,n[1]||"",!0),this.l=Mn(n[2]||""),this.a=Mn(n[3]||"",!0),xn(this,n[4]),this.f=Mn(n[5]||"",!0),Dn(this,n[6]||"",!0),this.h=Mn(n[7]||"")):(this.i=!!e,this.b=new Wn(null,this.i))}function Cn(t,e,n){t.c=n?Mn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function xn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Dn(t,e,n){e instanceof Wn?(t.b=e,function(t,e){e&&!t.f&&(Kn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Hn(this,e),Xn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Fn(e,qn)),t.b=new Wn(e,t.i))}function On(t,e,n){t.b.set(e,n)}function Rn(t,e){return t.b.get(e)}function Pn(t){return t instanceof Nn?new Nn(t):new Nn(t,void 0)}function Ln(t,e,n,r){var i=new Nn(null,void 0);return t&&Cn(i,t),e&&(i.a=e),n&&xn(i,n),r&&(i.f=r),i}function Mn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Un),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Un(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Nn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Fn(e,Vn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Fn(e,Vn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Fn(n,"/"==n.charAt(0)?jn:Bn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Fn(n,Gn)),t.join("")},Nn.prototype.resolve=function(t){var e=new Nn(this),n=!!t.c;n?Cn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)xn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ot(i,"./")||ot(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Dn(e,Yn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Vn=/[#\/\?@]/g,Bn=/[#\?:]/g,jn=/[#\?]/g,qn=/[#\?@]/g,Gn=/#/g;function Wn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Kn(t){t.a||(t.a=new Tn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function zn(t){var e=Sn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Wn(null,void 0);t=En(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Xn(n,i,o):n.add(i,o)}return n}function Hn(t,e){Kn(t),e=Jn(t,e),_n(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,_n((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&kn(t)))}function Qn(t,e){return Kn(t),e=Jn(t,e),_n(t.a.b,e)}function Xn(t,e,n){Hn(t,e),0<n.length&&(t.c=null,t.a.set(Jn(t,e),Q(n)),t.b+=n.length)}function Yn(t){var e=new Wn;return e.c=t.c,t.a&&(e.a=new Tn(t.a),e.b=t.b),e}function Jn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Zn(t){var e=[];return er(new tr,t,e),e.join("")}function tr(){}function er(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),er(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),ir(r,n),n.push(":"),er(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":ir(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Wn.prototype).add=function(t,e){Kn(this),this.c=null,t=Jn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Kn(this),this.a.forEach((function(n,r){B(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Kn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){Kn(this);var e=[];if("string"==typeof t)Qn(this,t)&&(e=H(e,this.a.get(Jn(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=H(e,t[n])}return e},t.set=function(t,e){return Kn(this),this.c=null,Qn(this,t=Jn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var nr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},rr=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ir(t,e){e.push('"',t.replace(rr,(function(t){var e=nr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),nr[t]=e),e})),'"')}function or(){var t=Tr();return Wt&&!!ie&&11==ie||/Edge\/\d+/.test(t)}function ar(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function sr(t,e){e=e||a.window;var n="about:blank";t&&(n=Nt(Ot(t)||Lt)),e.location.href=n}function ur(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<ur(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function cr(t){return!!((t=(t||Tr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function lr(t){t=t||a.window;try{t.close()}catch(t){}}function hr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Tr().toLowerCase(),r&&(e.target=r,ot(n,"crios/")&&(e.target="_blank")),$r(Tr())==wr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof At?n:Ot(void 0!==n.href?n.href:String(n))||Lt,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((ct("iPhone")&&!ct("iPod")&&!ct("iPad")||ct("iPad")||ct("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(mt(a=fe(document,"A"),"HTMLAnchorElement"),e=e instanceof At?e:Rt(e),a.href=Nt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=Ut("",r,n,a),t=Nt(e),a&&(zt&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Bt(t)+'">',t=new Mt(t=(r=It())?r.createHTML(t):t,null,Ft),r=a.document)&&(r.write(function(t){return t instanceof Mt&&t.constructor===Mt?t.a:(O("expected object of type SafeHtml, got '"+t+"' of type "+h(t)),"type_error:SafeHtml")}(t)),r.close())):(a=Ut(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var fr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dr=/^[^@]+@[^@]+$/;function pr(){var t=null;return new ve((function(e){"complete"==a.document.readyState?e():(t=function(){e()},sn(window,"load",t))})).o((function(e){throw un(window,"load",t),e}))}function mr(t){return t=t||Tr(),!("file:"!==Cr()&&"ionic:"!==Cr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function yr(){var t=a.window;try{return!(!t||t==t.top)}catch(t){return!1}}function gr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function vr(){return pa.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":pa.INTERNAL.hasOwnProperty("node")?"Node":gr()?"Worker":"Browser"}function br(){var t=vr();return"ReactNative"===t||"Node"===t}var wr="Firefox",Ir="Chrome";function $r(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?wr:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Ir:"Safari"}var Er={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Sr(t,e){e=e||[];var n,r=[],i={};for(n in Er)i[Er[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=vr())?r=$r(i=Tr()):"Worker"===r&&(r=$r(i=Tr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Tr(){return a.navigator&&a.navigator.userAgent||""}function kr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function _r(){try{var t=a.localStorage,e=Pr();if(t)return t.setItem(e,"1"),t.removeItem(e),!or()||!!a.indexedDB}catch(t){return gr()&&!!a.indexedDB}return!1}function Ar(){return(Nr()||"chrome-extension:"===Cr()||mr())&&!br()&&_r()&&!gr()}function Nr(){return"http:"===Cr()||"https:"===Cr()}function Cr(){return a.location&&a.location.protocol||null}function xr(t){return!cr(t=t||Tr())&&$r(t)!=wr}function Dr(t){return void 0===t?null:Zn(t)}function Or(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Rr(t){if(null!==t)return JSON.parse(t)}function Pr(t){return t||Math.floor(1e9*Math.random()).toString()}function Lr(t){return"Safari"!=$r(t=t||Tr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Mr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Fr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Tr(),e=vr(),this.b=cr(t)||"ReactNative"===e}function Ur(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Vr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Br(){return!(!kr("fireauth.oauthhelper",a)&&!kr("fireauth.iframe",a))}Fr.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Nr()&&"chrome-extension:"!==Cr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var jr,qr={};function Gr(t){qr[t]||(qr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Wr={};Object.defineProperty(Wr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Wr,"abcd",{configurable:!0,enumerable:!0,value:2}),jr=2==Wr.abcd}catch(t){jr=!1}function Kr(t,e,n){jr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function zr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Kr(t,n,e[n])}function Hr(t){var e={};return zr(e,t),e}function Qr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Kr(e,n,Qr(t[n]));return e}function Xr(t){var e=t&&(t[ei]?"phone":null);if(!(e&&t&&t[ti]))throw new E("internal-error","Internal assert: invalid MultiFactorInfo object");Kr(this,"uid",t[ti]),Kr(this,"displayName",t[Jr]||null);var n=null;t[Zr]&&(n=new Date(t[Zr]).toUTCString()),Kr(this,"enrollmentTime",n),Kr(this,"factorId",e)}function Yr(t){try{var e=new ni(t)}catch(t){e=null}return e}Xr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Jr="displayName",Zr="enrolledAt",ti="mfaEnrollmentId",ei="phoneInfo";function ni(t){Xr.call(this,t),Kr(this,"phoneNumber",t[ei])}function ri(t){var e={},n=t[si],r=t[ci],i=t[li];if(t=Yr(t[ui]),!i||i!=oi&&i!=ai&&!n||i==ai&&!r||i==ii&&!t)throw Error("Invalid checkActionCode response!");i==ai?(e[fi]=n||null,e[pi]=n||null,e[hi]=r):(e[fi]=r||null,e[pi]=r||null,e[hi]=n||null),e[di]=t||null,Kr(this,yi,i),Kr(this,mi,Qr(e))}I(ni,Xr),ni.prototype.w=function(){var t=ni.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ii="REVERT_SECOND_FACTOR_ADDITION",oi="EMAIL_SIGNIN",ai="VERIFY_AND_CHANGE_EMAIL",si="email",ui="mfaInfo",ci="newEmail",li="requestType",hi="email",fi="fromEmail",di="multiFactorInfo",pi="previousEmail",mi="data",yi="operation";function gi(t){var e=Rn(t=Pn(t),vi)||null,n=Rn(t,bi)||null,r=Rn(t,$i)||null;if(r=r&&Si[r]||null,!e||!n||!r)throw new E("argument-error",vi+", "+bi+"and "+$i+" are required in a valid action code URL.");zr(this,{apiKey:e,operation:r,code:n,continueUrl:Rn(t,wi)||null,languageCode:Rn(t,Ii)||null,tenantId:Rn(t,Ei)||null})}var vi="apiKey",bi="oobCode",wi="continueUrl",Ii="languageCode",$i="mode",Ei="tenantId",Si={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ii,signIn:oi,verifyAndChangeEmail:ai,verifyEmail:"VERIFY_EMAIL"};function Ti(t){try{return new gi(t)}catch(t){return null}}function ki(t){var e=t[xi];if(void 0===e)throw new E("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new E("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[_i];if(n&&"object"==typeof n){e=n[Ri];var r=n[Di];if(n=n[Oi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new E("argument-error",Di+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new E("argument-error",Oi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new E("argument-error",Ri+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new E("missing-android-pkg-name")}}else if(void 0!==n)throw new E("argument-error",_i+" property must be a non null object when specified.");if(this.f=null,(e=t[Ci])&&"object"==typeof e){if("string"==typeof(e=e[Pi])&&e.length)this.f=e;else if(void 0!==e)throw new E("argument-error",Pi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new E("argument-error",Ci+" property must be a non null object when specified.");if(void 0!==(e=t[Ni])&&"boolean"!=typeof e)throw new E("argument-error",Ni+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ai])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new E("argument-error",Ai+" property must be a non empty string when specified.");this.i=t||null}var _i="android",Ai="dynamicLinkDomain",Ni="handleCodeInApp",Ci="iOS",xi="url",Di="installApp",Oi="minimumVersion",Ri="packageName",Pi="bundleId";function Li(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Mi=null;function Fi(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Mi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Mi){Mi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Mi[o]&&(Mi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e.push(t)})),e}function Ui(t){var e=Bi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Vi(t){try{return new Ui(t)}catch(t){return null}}function Bi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=Fi(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var a=r[e++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else o=r[e++],a=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(t){}return null}Ui.prototype.T=function(){return this.f},Ui.prototype.l=function(){return this.c},Ui.prototype.toString=function(){return this.h};var ji="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),qi=["client_id","response_type","scope","redirect_uri","state"],Gi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:qi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:qi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:qi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:ji},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Wi(t){for(var e in Gi)if(Gi[e].fa==t)return Gi[e];return null}function Ki(t){var e={};e["facebook.com"]=Yi,e["google.com"]=Zi,e["github.com"]=Ji,e["twitter.com"]=to;var n=t&&t[Hi];try{if(n)return e[n]?new e[n](t):new Xi(t);if(void 0!==t[zi])return new Qi(t)}catch(t){}return null}var zi="idToken",Hi="providerId";function Qi(t){var e=t[Hi];if(!e&&t[zi]){var n=Vi(t[zi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Kr(this,"providerId",e),Kr(this,"isNewUser",n)}function Xi(t){Qi.call(this,t),Kr(this,"profile",Qr((t=Rr(t.rawUserInfo||"{}"))||{}))}function Yi(t){if(Xi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ji(t){if(Xi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Kr(this,"username",this.profile&&this.profile.login||null)}function Zi(t){if(Xi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(t){if(Xi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Kr(this,"username",t.screenName||null)}function eo(t){var e=Pn(t),n=Rn(e,"link"),r=Rn(Pn(n),"link");return e=Rn(e,"deep_link_id"),Rn(Pn(e),"link")||e||r||n||t}function no(t,e){if(!t&&!e)throw new E("internal-error","Internal assert: no raw session string available");if(t&&e)throw new E("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?ro:io}I(Xi,Qi),I(Yi,Xi),I(Ji,Xi),I(Zi,Xi),I(to,Xi);var ro="enroll",io="signin";function oo(){}function ao(t,e){return t.then((function(t){if(t[Xa]){var n=Vi(t[Xa]);if(!n||e!=n.i)throw new E("user-mismatch");return t}throw new E("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==k+"user-not-found"?new E("user-mismatch"):t}))}function so(t,e){if(!e)throw new E("internal-error","failed to construct a credential");this.a=e,Kr(this,"providerId",t),Kr(this,"signInMethod",t)}function uo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function co(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new so(t.providerId,t.pendingToken)}catch(t){}return null}function lo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Kr(this,"idToken",e.idToken),e.accessToken&&Kr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Kr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new E("internal-error","failed to construct a credential");Kr(this,"accessToken",e.oauthToken),Kr(this,"secret",e.oauthTokenSecret)}Kr(this,"providerId",t),Kr(this,"signInMethod",n)}function ho(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:zn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function fo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new lo(t.providerId,e,t.signInMethod)}catch(t){}}return null}function po(t,e){this.Qc=e||[],zr(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Wi(t)||{}).Ja||null,this.ob=null}function mo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new E("argument-error",'SAML provider IDs must be prefixed with "saml."');po.call(this,t,[])}function yo(t){po.call(this,t,qi),this.a=[]}function go(){yo.call(this,"facebook.com")}function vo(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new go).credential({accessToken:e})}function bo(){yo.call(this,"github.com")}function wo(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new bo).credential({accessToken:e})}function Io(){yo.call(this,"google.com"),this.Ca("profile")}function $o(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new Io).credential({idToken:n,accessToken:e})}function Eo(){po.call(this,"twitter.com",ji)}function So(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new E("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new lo("twitter.com",n,"twitter.com")}function To(t,e,n){this.a=t,this.f=e,Kr(this,"providerId","password"),Kr(this,"signInMethod",n===_o.EMAIL_LINK_SIGN_IN_METHOD?_o.EMAIL_LINK_SIGN_IN_METHOD:_o.EMAIL_PASSWORD_SIGN_IN_METHOD)}function ko(t){return t&&t.email&&t.password?new To(t.email,t.password,t.signInMethod):null}function _o(){zr(this,{providerId:"password",isOAuthProvider:!1})}function Ao(t,e){if(!(e=No(e)))throw new E("argument-error","Invalid email link!");return new To(t,e.code,_o.EMAIL_LINK_SIGN_IN_METHOD)}function No(t){return(t=Ti(t=eo(t)))&&t.operation===oi?t:null}function Co(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new E("internal-error");this.a=t,Kr(this,"providerId","phone"),this.fa="phone",Kr(this,"signInMethod","phone")}function xo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return B(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Co(e)}return null}function Do(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Oo(t){try{this.a=t||pa.auth()}catch(t){throw new E("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}zr(this,{providerId:"phone",isOAuthProvider:!1})}function Ro(t,e){if(!t)throw new E("missing-verification-id");if(!e)throw new E("missing-verification-code");return new Co({eb:t,cb:e})}function Po(t){if(t.temporaryProof&&t.phoneNumber)return new Co({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return $o(o,n);case"facebook.com":return vo(n);case"github.com":return wo(n);case"twitter.com":return So(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new so(e,a):new lo(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new yo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Lo(t){if(!t.isOAuthProvider)throw new E("invalid-oauth-provider")}function Mo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new E("invalid-auth-event");if(this.g&&this.a)throw new E("invalid-auth-event");if(this.g&&!this.f)throw new E("invalid-auth-event")}function Fo(t){return(t=t||{}).type?new Mo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&S(t.error),t.postBody,t.tenantId):null}function Uo(){this.b=null,this.a=[]}no.prototype.Ha=function(){return this.a?Te(this.a):Te(this.b)},no.prototype.w=function(){return this.type==ro?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},oo.prototype.ka=function(){},oo.prototype.b=function(){},oo.prototype.c=function(){},oo.prototype.w=function(){},so.prototype.ka=function(t){return vs(t,uo(this))},so.prototype.b=function(t,e){var n=uo(this);return n.idToken=e,bs(t,n)},so.prototype.c=function(t,e){return ao(ws(t,uo(this)),e)},so.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},lo.prototype.ka=function(t){return vs(t,ho(this))},lo.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,bs(t,n)},lo.prototype.c=function(t,e){return ao(ws(t,ho(this)),e)},lo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},po.prototype.Ka=function(t){return this.Ib=ft(t),this},I(mo,po),I(yo,po),yo.prototype.Ca=function(t){return W(this.a,t)||this.a.push(t),this},yo.prototype.Qb=function(){return Q(this.a)},yo.prototype.credential=function(t,e){var n;if(!(n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new E("argument-error","credential failed: must provide the ID token and/or the access token.");return new lo(this.providerId,n,this.providerId)},I(go,yo),Kr(go,"PROVIDER_ID","facebook.com"),Kr(go,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(bo,yo),Kr(bo,"PROVIDER_ID","github.com"),Kr(bo,"GITHUB_SIGN_IN_METHOD","github.com"),I(Io,yo),Kr(Io,"PROVIDER_ID","google.com"),Kr(Io,"GOOGLE_SIGN_IN_METHOD","google.com"),I(Eo,po),Kr(Eo,"PROVIDER_ID","twitter.com"),Kr(Eo,"TWITTER_SIGN_IN_METHOD","twitter.com"),To.prototype.ka=function(t){return this.signInMethod==_o.EMAIL_LINK_SIGN_IN_METHOD?eu(t,As,{email:this.a,oobCode:this.f}):eu(t,Xs,{email:this.a,password:this.f})},To.prototype.b=function(t,e){return this.signInMethod==_o.EMAIL_LINK_SIGN_IN_METHOD?eu(t,Ns,{idToken:e,email:this.a,oobCode:this.f}):eu(t,js,{idToken:e,email:this.a,password:this.f})},To.prototype.c=function(t,e){return ao(this.ka(t),e)},To.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},zr(_o,{PROVIDER_ID:"password"}),zr(_o,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),zr(_o,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Co.prototype.ka=function(t){return t.fb(Do(this))},Co.prototype.b=function(t,e){var n=Do(this);return n.idToken=e,eu(t,Js,n)},Co.prototype.c=function(t,e){var n=Do(this);return n.operation="REAUTH",ao(t=eu(t,Zs,n),e)},Co.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Oo.prototype.fb=function(t,e){var n=this.a.a;return Te(e.verify()).then((function(r){if("string"!=typeof r)throw new E("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(i&&i.type==ro?i.Ha().then((function(t){return function(t,e){return eu(t,Gs,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==io?i.Ha().then((function(e){return function(t,e){return eu(t,Ws,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return eu(t,Vs,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new E("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},zr(Oo,{PROVIDER_ID:"phone"}),zr(Oo,{PHONE_SIGN_IN_METHOD:"phone"}),Mo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Mo.prototype.T=function(){return this.h},Mo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Vo,Bo=null;function jo(t){var e="unauthorized-domain",n=void 0,r=Pn(t);t=r.a,"chrome-extension"==(r=r.c)?n=Vt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Vt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",E.call(this,e,n)}function qo(t,e,n){E.call(this,t,n),(t=e||{}).Jb&&Kr(this,"email",t.Jb),t.ea&&Kr(this,"phoneNumber",t.ea),t.credential&&Kr(this,"credential",t.credential),t.Zb&&Kr(this,"tenantId",t.Zb)}function Go(t){if(t.code){var e=t.code||"";0==e.indexOf(k)&&(e=e.substring(k.length));var n={credential:Po(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new E(e,t.message||void 0);return new qo(e,n,t.message)}return null}function Wo(){}function Ko(t){return t.c||(t.c=t.b())}function zo(){}function Ho(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Qo(){}function Xo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Sb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function Yo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Jo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Zo(t){this.f=t,this.b=this.c=this.a=null}function ta(t,e){this.name=t,this.value=e}I(jo,E),I(qo,E),qo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&pt(t,e),t},qo.prototype.toJSON=function(){return this.w()},Wo.prototype.c=null,I(zo,Wo),zo.prototype.a=function(){var t=Ho(this);return t?new ActiveXObject(t):new XMLHttpRequest},zo.prototype.b=function(){var t={};return Ho(this)&&(t[0]=!0,t[1]=!0),t},Vo=new zo,I(Qo,Wo),Qo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Xo;throw Error("Unsupported browser")},Qo.prototype.b=function(){return{}},(t=Xo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Yo(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",Yo(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,Yo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Jo.prototype.a=null,Jo.prototype.reset=function(t,e,n,r,i){delete this.a},ta.prototype.toString=function(){return this.name};var ea=new ta("SEVERE",1e3),na=new ta("WARNING",900),ra=new ta("CONFIG",700),ia=new ta("FINE",500);function oa(t){return t.c?t.c:t.a?oa(t.a):(O("Root logger has no level set."),null)}Zo.prototype.log=function(t,e,n){if(t.value>=oa(this).value)for(d(e)&&(e=e()),t=new Jo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var aa={},sa=null;function ua(t){var e;if(sa||(sa=new Zo(""),aa[""]=sa,sa.c=ra),!(e=aa[t])){e=new Zo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ua(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,aa[t]=e}return e}function ca(t,e){t&&t.log(ia,e,void 0)}function la(t){this.f=t}function ha(t){gn.call(this),this.u=t,this.h=void 0,this.readyState=fa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ua("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}I(la,Wo),la.prototype.a=function(){return new ha(this.f)},la.prototype.b=function(t){return function(){return t}}({}),I(ha,gn);var fa=0;function da(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function ma(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ya(t)}function ya(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ga(t){gn.call(this),this.headers=new Tn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=va,this.u=this.S=!1}(t=ha.prototype).open=function(t,e){if(this.readyState!=fa)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ya(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ma(this)),this.readyState=fa},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ya(this)),this.a&&(this.readyState=3,ya(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,da(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ma(this):ya(this),3==this.readyState&&da(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,ma(this))},t.sc=function(t){this.a&&(this.response=t,ma(this))},t.Ua=function(t){var e=this.i;e&&e.log(na,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ma(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(na,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(na,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ha.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),I(ga,gn);var va="";ga.prototype.b=ua("goog.net.XhrIo");var ba=/^https?$/i,wa=["POST","PUT"];function Ia(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Vo.a(),t.C=t.D?Ko(t.D):Ko(Vo),t.a.onreadystatechange=b(t.Vb,t);try{ca(t.b,Ca(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(e){return ca(t.b,Ca(t,"Error opening Xhr: "+e.message)),void Ea(t,e)}e=r||"";var o=new Tn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)B(t,e,void 0);else for(var n=Sn(t),r=En(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=$a,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=a.FormData&&e instanceof a.FormData,!W(wa,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{_a(t),0<t.g&&(t.u=function(t){return Wt&&ne(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ca(t.b,Ca(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ma,t)):t.s=In(t.Ma,t.g,t)),ca(t.b,Ca(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){ca(t.b,Ca(t,"Send error: "+e.message)),Ea(t,e)}}function $a(t){return"content-type"==t.toLowerCase()}function Ea(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Sa(t),ka(t)}function Sa(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ta(t){if(t.c&&void 0!==o)if(t.C[1]&&4==Aa(t)&&2==Na(t))ca(t.b,Ca(t,"Local request error detected and ignored"));else if(t.i&&4==Aa(t))In(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==Aa(t)){ca(t.b,Ca(t,"Request complete")),t.c=!1;try{var e,n=Na(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.l).match(An)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}i=!ba.test(s?s.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Aa(t)?t.a.statusText:""}catch(e){ca(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+Na(t)+"]",Sa(t)}}finally{ka(t)}}}function ka(t,e){if(t.a){_a(t);var n=t.a,r=t.C[0]?l:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(ea,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function _a(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function Aa(t){return t.a?t.a.readyState:0}function Na(t){try{return 2<Aa(t)?t.a.status:-1}catch(t){return-1}}function Ca(t,e){return e+" ["+t.R+" "+t.l+" "+Na(t)+"]"}function xa(t){var e=ja;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Da(t,e,n){t.a=!0,t.c=n,t.f=!e,La(t)}function Oa(t){if(t.a){if(!t.v)throw new Ma(t);t.v=!1}}function Ra(t,e,n,r){t.g.push([e,n,r]),t.a&&La(t)}function Pa(t){return G(t.g,(function(t){return d(t[1])}))}function La(t){if(t.h&&t.a&&Pa(t)){var e=t.h,n=Va[e];n&&(a.clearTimeout(n.a),delete Va[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(C(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,Pa(t)||(n=!0)}}t.c=e,r&&(u=b(t.m,t,!0),r=b(t.m,t,!1),e instanceof xa?(Ra(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new Ua(e),Va[e.a]=e,t.h=e.a)}function Ma(){x.call(this)}function Fa(){x.call(this)}function Ua(t){this.a=a.setTimeout(b(this.c,this),0),this.b=t}(t=ga.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ca(this.b,Ca(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ca(this.b,Ca(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ka(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ka(this,!0)),ga.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?Ta(this):this.Jc())},t.Jc=function(){Ta(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case va:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ea,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return ca(this.b,"Can not get response: "+t.message),null}},xa.prototype.cancel=function(t){if(this.a)this.c instanceof xa&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Fa(this),Oa(this),Da(this,!1,t))}},xa.prototype.m=function(t,e){this.i=!1,Da(this,t,e)},xa.prototype.then=function(t,e,n){var r,i,o=new ve((function(t,e){r=t,i=e}));return Ra(this,r,(function(t){t instanceof Fa?o.cancel():i(t)})),o.then(t,e,n)},xa.prototype.$goog_Thenable=!0,I(Ma,x),Ma.prototype.message="Deferred has already fired",Ma.prototype.name="AlreadyCalledError",I(Fa,x),Fa.prototype.message="Deferred was canceled",Fa.prototype.name="CanceledError",Ua.prototype.c=function(){throw delete Va[this.a],this.b};var Va={};function Ba(t){var e,n=document,r=Et(t).toString(),i=fe(document,"SCRIPT"),o={Wb:i,Ma:void 0},s=new xa(o);return e=window.setTimeout((function(){qa(i,!0);var t=new Ka(Wa,"Timeout reached for loading script "+r);Oa(s),Da(s,!1,t)}),5e3),o.Ma=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(qa(i,!1,e),Oa(s),Da(s,!0,null))},i.onerror=function(){qa(i,!0,e);var t=new Ka(Ga,"Error while loading script "+r);Oa(s),Da(s,!1,t)},pt(o={},{type:"text/javascript",charset:"UTF-8"}),se(i,o),function(t,e){mt(t,"HTMLScriptElement"),t.src=Et(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=c(e.document):(null===u&&(u=c(a.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function ja(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&qa(t,!0,this.Ma)}}function qa(t,e,n){null!=n&&a.clearTimeout(n),t.onload=l,t.onerror=l,t.onreadystatechange=l,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ga=0,Wa=1;function Ka(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),x.call(this,n),this.code=t}function za(t){this.f=t}function Ha(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Ya,this.g=ft(t.secureTokenHeaders||Ja),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Za,this.a=ft(t.firebaseHeaders||ts),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==vr(),!(n=a.XMLHttpRequest||n&&pa.INTERNAL.node&&pa.INTERNAL.node.XMLHttpRequest)&&!gr())throw new E("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,gr()?this.f=new la(self):br()?this.f=new za(n):this.f=new Qo,this.b=null}I(Ka,x),I(za,Wo),za.prototype.a=function(){return new this.f},za.prototype.b=function(){return{}};var Qa,Xa="idToken",Ya=new Fr(3e4,6e4),Ja={"Content-Type":"application/x-www-form-urlencoded"},Za=new Fr(3e4,6e4),ts={"Content-Type":"application/json"};function es(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ns(t,e){e&&(t.l=rs("https://securetoken.googleapis.com/v1/token",e),t.h=rs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=rs("https://identitytoolkit.googleapis.com/v2/",e))}function rs(t,e){return t=Pn(t),e=Pn(e.url),t.f=t.a+t.f,Cn(t,e.c),t.a=e.a,xn(t,e.g),t.toString()}function is(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function os(t,e,n,r,i,o,s){(function(){var t=Tr();return!((t=$r(t)!=Ir?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Wt&&ie&&!(9<ie))})()||gr()?t=b(t.u,t):(Qa||(Qa=new ve((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{a[ss]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ra(t,null,e,void 0)}(Ba(St(as,{onload:ss})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=b(t.s,t)),t(e,n,r,i,o,s)}Ha.prototype.T=function(){return this.b},Ha.prototype.u=function(t,e,n,r,i,o){if(gr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new E("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ga(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout((function(){s.dispatchEvent("timeout")}),o)}vn(s,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ca(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),bn(s,"ready",(function(){u&&clearTimeout(u),Be(this)})),bn(s,"timeout",(function(){u&&clearTimeout(u),Be(this),e&&e(null)})),Ia(s,t,n,r,i)};var as=new yt(wt,"https://apis.google.com/js/client.js?onload=%{onload}"),ss="__fcb"+Math.floor(1e6*Math.random()).toString();function us(t,e,n,r,i,o,a){var s=Pn(e+n);On(s,"key",t.c),a&&On(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&On(s,c,i[c]);return new ve((function(e,n){os(t,s.toString(),(function(t){t?t.error?n(ru(t,o||{})):e(t):n(new E("network-request-failed"))}),r,u?void 0:Zn(Or(i)),t.a,t.v.get())}))}function cs(t){if("string"!=typeof(t=t.email)||!dr.test(t))throw new E("invalid-email")}function ls(t){"email"in t&&cs(t)}function hs(t){if(!t[Xa]){if(t.mfaPendingCredential)throw new E("multi-factor-auth-required",null,ft(t));throw new E("internal-error")}}function fs(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new E("internal-error")}else{if(!t.sessionInfo)throw new E("missing-verification-id");if(!t.code)throw new E("missing-verification-code")}}Ha.prototype.s=function(t,e,n,r,i){var o=this;Qa.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Ha.prototype.zb=function(){return eu(this,qs,{})},Ha.prototype.Bb=function(t,e){return eu(this,Bs,{idToken:t,email:e})},Ha.prototype.Cb=function(t,e){return eu(this,js,{idToken:t,password:e})};var ds={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ps(t){if(!t.phoneVerificationInfo)throw new E("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new E("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new E("missing-verification-code")}function ms(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new E("internal-error")}function ys(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Qn(t=new Wn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function gs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Go(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Go(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Go(t)):t.errorMessage&&(e=nu(t.errorMessage)),e)throw e;hs(t)}function vs(t,e){return e.returnIdpCredential=!0,eu(t,Ks,e)}function bs(t,e){return e.returnIdpCredential=!0,eu(t,Hs,e)}function ws(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,eu(t,zs,e)}function Is(t){if(!t.oobCode)throw new E("invalid-action-code")}(t=Ha.prototype).Db=function(t,e){var n={idToken:t},r=[];return lt(ds,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),eu(this,Bs,n)},t.vb=function(t,e){return pt(t={requestType:"PASSWORD_RESET",email:t},e),eu(this,Ls,t)},t.wb=function(t,e){return pt(t={requestType:"EMAIL_SIGNIN",email:t},e),eu(this,Os,t)},t.ub=function(t,e){return pt(t={requestType:"VERIFY_EMAIL",idToken:t},e),eu(this,Rs,t)},t.Eb=function(t,e,n){return pt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),eu(this,Ps,t)},t.fb=function(t){return eu(this,Ys,t)},t.nb=function(t,e){return eu(this,Us,{oobCode:t,newPassword:e})},t.Ra=function(t){return eu(this,Es,{oobCode:t})},t.jb=function(t){return eu(this,$s,{oobCode:t})};var $s={endpoint:"setAccountInfo",A:Is,Z:"email",B:!0},Es={endpoint:"resetPassword",A:Is,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new E("internal-error")},B:!0},Ss={endpoint:"signupNewUser",A:function(t){if(cs(t),!t.password)throw new E("weak-password")},G:hs,V:!0,B:!0},Ts={endpoint:"createAuthUri",B:!0},ks={endpoint:"deleteAccount",N:["idToken"]},_s={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new E("internal-error")}},As={endpoint:"emailLinkSignin",N:["email","oobCode"],A:cs,G:hs,V:!0,B:!0},Ns={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:cs,G:hs,V:!0},Cs={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:ps,G:hs,B:!0,Na:!0},xs={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:ps,G:hs,B:!0,Na:!0},Ds={endpoint:"getAccountInfo"},Os={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new E("internal-error");cs(t)},Z:"email",B:!0},Rs={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new E("internal-error")},Z:"email",B:!0},Ps={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new E("internal-error")},Z:"email",B:!0},Ls={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new E("internal-error");cs(t)},Z:"email",B:!0},Ms={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Fs={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new E("internal-error")}},Us={endpoint:"resetPassword",A:Is,Z:"email",B:!0},Vs={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Bs={endpoint:"setAccountInfo",N:["idToken"],A:ls,V:!0},js={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(ls(t),!t.password)throw new E("weak-password")},G:hs,V:!0},qs={endpoint:"signupNewUser",G:hs,V:!0,B:!0},Gs={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new E("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new E("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new E("internal-error")},B:!0,Na:!0},Ws={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new E("internal-error")},B:!0,Na:!0},Ks={endpoint:"verifyAssertion",A:ms,Ya:ys,G:gs,V:!0,B:!0},zs={endpoint:"verifyAssertion",A:ms,Ya:ys,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new E("user-not-found");if(t.errorMessage)throw nu(t.errorMessage);hs(t)},V:!0,B:!0},Hs={endpoint:"verifyAssertion",A:function(t){if(ms(t),!t.idToken)throw new E("internal-error")},Ya:ys,G:gs,V:!0},Qs={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new E("invalid-custom-token")},G:hs,V:!0,B:!0},Xs={endpoint:"verifyPassword",A:function(t){if(cs(t),!t.password)throw new E("wrong-password")},G:hs,V:!0,B:!0},Ys={endpoint:"verifyPhoneNumber",A:fs,G:hs,B:!0},Js={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new E("internal-error");fs(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Go(t);hs(t)}},Zs={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:fs,G:hs,B:!0},tu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Xa]^!!t.refreshToken)throw new E("internal-error")},B:!0,Na:!0};function eu(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.N))return ke(new E("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return Te(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),us(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)})).then((function(t){return r=t,e.Ya?e.Ya(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new E("internal-error");return r[e.Z]}))}function nu(t){return ru({error:{errors:[{message:t}],code:400,message:t}})}function ru(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new E(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",pt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new E(r[i],e);return!e&&t&&(e=Dr(t)),new E("internal-error",e)}function iu(t){this.b=t,this.a=null,this.rb=function(t){return(uu||(uu=new ve((function(t,e){function n(){Mr(),kr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Mr(),e(Error("Network Error"))},timeout:au.get()})}if(kr("gapi.iframes.Iframe"))t();else if(kr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){kr("gapi.load")?n():e(Error("Network Error"))},Te(Ba(r=St(ou,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw uu=null,t})))).then((function(){return new ve((function(e,n){kr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),su.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var ou=new yt(wt,"https://apis.google.com/js/api.js?onload=%{onload}"),au=new Fr(3e4,6e4),su=new Fr(5e3,15e3),uu=null;function cu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=Ln((t=Pn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=Ln("https",this.l,null,"/__/auth/iframe"),this.a=t,On(this.a,"apiKey",this.h),On(this.a,"appName",this.i),this.b=null,this.c=[]}function lu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function hu(t){try{return pa.app(t).auth().Ga()}catch(t){return[]}}function fu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function du(t){var e=ar();return function(t){return eu(t,Ms,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Pn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Pn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:fr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new jo(ar())}))}function pu(t){return t.m||(t.m=pr().then((function(){if(!t.u){var e=t.c,n=t.i,r=hu(t.b),i=new cu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Q(r||[]),t.u=i.toString()}t.v=new iu(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then((function(){t.a.register("authEvent",e,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Fo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Te(n)}return n.status="ERROR",Te(n)}))}(t)}))),t.m}function mu(t){return t.l||(t.C=t.c?Sr(t.c,hu(t.b)):null,t.l=new Ha(t.g,N(t.i),t.C),t.f&&ns(t.l,t.f)),t.l}function yu(t,e,n,r,i,o,a,s,u,c,l,h){return(t=new lu(t,e,n,r,i,h)).l=o,t.g=a,t.i=s,t.b=ft(u||null),t.f=c,t.yb(l).toString()}function gu(t){if(this.a=t||pa.INTERNAL.reactNative&&pa.INTERNAL.reactNative.AsyncStorage,!this.a)throw new E("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function vu(t){this.b=t,this.a={},this.f=b(this.c,this)}cu.prototype.toString=function(){return this.f?On(this.a,"v",this.f):Hn(this.a.b,"v"),this.b?On(this.a,"eid",this.b):Hn(this.a.b,"eid"),this.c.length?On(this.a,"fw",this.c.join(",")):Hn(this.a.b,"fw"),this.a.toString()},lu.prototype.yb=function(t){return this.h=t,this},lu.prototype.toString=function(){if(this.v){var t=Pn(this.v.url);t=Ln(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Ln("https",this.u,null,"/__/auth/handler");if(On(t,"apiKey",this.s),On(t,"appName",this.c),On(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=pa.app(this.c).auth().la()}catch(t){n=null}for(var r in e.ob=n,On(t,"providerId",this.a.providerId),e=Or((n=this.a).Ib))e[r]=e[r].toString();r=n.Qc,e=ft(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),ht(e)||On(t,"customParameters",Dr(e))}if("function"==typeof this.a.Qb&&((n=this.a.Qb()).length&&On(t,"scopes",n.join(","))),this.l?On(t,"redirectUrl",this.l):Hn(t.b,"redirectUrl"),this.g?On(t,"eventId",this.g):Hn(t.b,"eventId"),this.i?On(t,"v",this.i):Hn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Rn(t,a)&&On(t,a,this.b[a]);return this.h?On(t,"tid",this.h):Hn(t.b,"tid"),this.f?On(t,"eid",this.f):Hn(t.b,"eid"),(a=hu(this.c)).length&&On(t,"fw",a.join(",")),t.toString()},(t=fu.prototype).Ob=function(t,e,n){var r=new E("popup-closed-by-user"),i=new E("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return pu(t).then((function(){return function(t,e){return t.rb.then((function(){return new ve((function(n){t.a.send(e.type,e,n,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&lr(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new ve((function(e){return function n(){$n(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return $n(n).then((function(){e(r)}))}))},t.Xb=function(){var t=Tr();return!xr(t)&&!Lr(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,a,s){if(!t)return ke(new E("popup-blocked"));if(a&&!xr())return this.ma().o((function(e){lr(t),i(e)})),r(),Te();this.a||(this.a=du(mu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw lr(t),i(e),e}));return r(),e})).then((function(){(Lo(n),a)||sr(yu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Nb=function(t,e,n,r){this.a||(this.a=du(mu(this)));var i=this;return this.a.then((function(){Lo(e),sr(yu(i.s,i.g,i.b,t,e,ar(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return pu(this).then((function(){return t.v.rb})).o((function(){throw t.a=null,new E("network-request-failed")}))},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){z(this.h,(function(e){return e==t}))},(t=gu.prototype).get=function(t){return Te(this.a.getItem(t)).then((function(t){return t&&Rr(t)}))},t.set=function(t,e){return Te(this.a.setItem(t,Dr(e)))},t.U=function(t){return Te(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var bu,wu=[];function Iu(t,e,n){ht(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function $u(t){this.a=t}function Eu(t){this.c=t,this.b=!1,this.a=[]}function Su(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return ke(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ve((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return Tu(t,c),e})).o((function(e){throw Tu(t,c),e}))}function Tu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),z(t.a,(function(t){return t==e}))}}function ku(){if(!Cu())throw new E("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;gr()&&self?(this.v=function(){var t=gr()?self:null;if(B(wu,(function(n){n.b==t&&(e=n)})),!e){var e=new vu(t);wu.push(e)}return e}(),Iu(this.v,"keyChanged",(function(e,n){return Pu(t).then((function(e){return 0<e.length&&B(t.a,(function(t){t(e)})),{keyProcessed:W(e,n.key)}}))})),Iu(this.v,"ping",(function(){return Te(["keyChanged"])}))):function(){var t=a.navigator;return t&&t.serviceWorker?Te().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Te(null)}().then((function(e){(t.h=e)&&(t.g=new Eu(new $u(e)),Su(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&W(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function _u(t){return new ve((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new ve((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return _u(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Au(t){return t.i||(t.i=_u(t)),t.i}function Nu(t,e){var n=0;return new ve((function r(i,o){Au(t).then(e).then(i).o((function(e){if(!(3<++n))return Au(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Cu(){try{return!!a.indexedDB}catch(t){return!1}}function xu(t){return t.objectStore("firebaseLocalStorage")}function Du(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Ou(t){return new ve((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Ru(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Su(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Te()}function Pu(t){return Au(t).then((function(t){var e=xu(Du(t,!1));return e.getAll?Ou(e.getAll()):new ve((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=ur(t.c,n),t.c=n}return r}))}function Lu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Mu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Te().then((function(){if(Cu()){var t=Pr(),r="__sak"+t;return bu||(bu=new ku),(n=bu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){B(e.a,(function(e){e(t)}))})),t}))}function Fu(){this.a={},this.type="inMemory"}function Uu(){if(!function(){var t="Node"==vr();if(!(t=Vu()||t&&pa.INTERNAL.node&&pa.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==vr())throw new E("internal-error","The LocalStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Vu()||pa.INTERNAL.node.localStorage,this.type="localStorage"}function Vu(){try{var t=a.localStorage,e=Pr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Bu(){this.type="nullStorage"}function ju(){if(!function(){var t="Node"==vr();if(!(t=qu()||t&&pa.INTERNAL.node&&pa.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==vr())throw new E("internal-error","The SessionStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=qu()||pa.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function qu(){try{var t=a.sessionStorage,e=Pr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Gu(){var t={};t.Browser=zu,t.Node=Hu,t.ReactNative=Qu,t.Worker=Xu,this.a=t[vr()]}vu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];B(r,(function(e){i.push(Te().then((function(){return e(t.origin,t.data.data)})))})),Ae(i).then((function(r){var i=[];B(r,(function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})})),B(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},$u.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Eu.prototype.close=function(){for(;0<this.a.length;)Tu(this,this.a[0]);this.b=!0},(t=ku.prototype).set=function(t,e){var n=this,r=!1;return Nu(this,(function(e){return Ou((e=xu(Du(e,!0))).get(t))})).then((function(i){return Nu(n,(function(o){if(o=xu(Du(o,!0)),i)return i.value=e,Ou(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Ou(o.add(a))}))})).then((function(){return n.c[t]=e,Ru(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return Nu(this,(function(e){return Ou(xu(Du(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return Nu(this,(function(r){return n=!0,e.b++,Ou(xu(Du(r,!0)).delete(t))})).then((function(){return delete e.c[t],Ru(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=Pu(t).then((function(e){0<e.length&&B(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Lu(t),e()}(this),this.a.push(t)},t.ia=function(t){z(this.a,(function(e){return e==t})),0==this.a.length&&Lu(this)},(t=Mu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){z(this.a,(function(e){return e==t}))},(t=Fu.prototype).get=function(t){return Te(this.a[t])},t.set=function(t,e){return this.a[t]=e,Te()},t.U=function(t){return delete this.a[t],Te()},t.ca=function(){},t.ia=function(){},(t=Uu.prototype).get=function(t){var e=this;return Te().then((function(){return Rr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Te().then((function(){var r=Dr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Te().then((function(){e.a.removeItem(t)}))},t.ca=function(t){a.window&&on(a.window,"storage",t)},t.ia=function(t){a.window&&un(a.window,"storage",t)},(t=Bu.prototype).get=function(){return Te(null)},t.set=function(){return Te()},t.U=function(){return Te()},t.ca=function(){},t.ia=function(){},(t=ju.prototype).get=function(t){var e=this;return Te().then((function(){return Rr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Te().then((function(){var r=Dr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Te().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Wu,Ku,zu={F:Uu,bb:ju},Hu={F:Uu,bb:ju},Qu={F:gu,bb:Bu},Xu={F:Uu,bb:Bu},Yu={rd:"local",NONE:"none",td:"session"};function Ju(){var t=!(Lr(Tr())||!yr()),e=xr(),n=_r();this.m=t,this.h=e,this.l=n,this.a={},Wu||(Wu=new Gu),t=Wu;try{this.g=!or()&&Br()||!a.indexedDB?new t.a.F:new Mu(gr()?new Fu:new t.a.F)}catch(t){this.g=new Fu,this.h=!0}try{this.i=new t.a.bb}catch(t){this.i=new Fu}this.v=new Fu,this.f=b(this.Yb,this),this.b={}}function Zu(){return Ku||(Ku=new Ju),Ku}function tc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function ec(t,e){return"firebase:"+t.name+(e?":"+e:"")}function nc(t,e,n){return n=ec(e,n),"local"==e.F&&(t.b[n]=null),tc(t,e.F).U(n)}function rc(t){t.c&&(clearInterval(t.c),t.c=null)}function ic(t){this.a=t,this.b=Zu()}(t=Ju.prototype).get=function(t,e){return tc(this,t.F).get(ec(t,e))},t.set=function(t,e,n){var r=ec(t,n),i=this,o=tc(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=ec(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),ht(this.a)&&(tc(this,"local").ca(this.f),this.h||(or()||!Br())&&a.indexedDB||!this.l||function(t){rc(t),t.c=setInterval((function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new ze({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=ec(t,e),this.a[t]&&(z(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ht(this.a)&&(tc(this,"local").ia(this.f),rc(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?tc(this,"local").ia(this.f):rc(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.mb(e))},Wt&&ie&&10==ie&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else B(t,b(this.mb,this))},t.mb=function(t){this.a[t]&&B(this.a[t],(function(t){t()}))};var oc,ac={name:"authEvent",F:"local"};function sc(){this.a=Zu()}function uc(t,e){this.b=cc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===oc&&(oc=a.Int32Array?new Int32Array(yc):yc),this.reset()}I(uc,(function(){this.b=-1}));for(var cc=64,lc=cc-1,hc=[],fc=0;fc<lc;fc++)hc[fc]=0;var dc=H(128,hc);function pc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|oc[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function mc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(pc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(pc(t),i=0)}}t.c=i,t.g+=n}uc.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):Q(this.h)};var yc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function gc(){uc.call(this,8,vc)}I(gc,uc);var vc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function bc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new sc,this.g=new ic(this.h),this.f=null,this.b=[],this.a=this.c=null}function wc(t){return new E("invalid-cordova-configuration",t)}function Ic(t){var e=new gc;mc(e,t),t=[];var n=8*e.g;56>e.c?mc(e,dc,56-e.c):mc(e,dc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(pc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return q(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function $c(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Ec(t){return t.f||(t.f=t.ma().then((function(){return new ve((function(e){t.Ea((function n(r){return e(r),t.Sa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Sc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=eo(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Rr(Rn(o=Pn(i),"firebaseError")||null))?S(o):null)?new Mo(r.c,r.b,null,null,o,null,r.T()):new Mo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}$c(t,i)}))}var n=new Mo("unknown",null,null,null,new E("no-auth-event")),r=!1,i=$n(500).then((function(){return Sc(t).then((function(){r||$c(t,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(kr("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Bo||(Bo=new Uo),function(t){var e=Bo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=kr("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Sc(t){var e=null;return function(t){return t.b.get(ac,t.a).then((function(t){return Fo(t)}))}(t.g).then((function(n){return e=n,nc((n=t.g).b,ac,n.a)})).then((function(){return e}))}function Tc(t){this.a=t,this.b=Zu()}(t=bc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(mr(void 0)?pr().then((function(){return new ve((function(t,e){var n=a.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):ke(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof kr("universalLinks.subscribe",a))throw wc("cordova-universal-links-plugin-fix is not installed");if(void 0===kr("BuildInfo.packageName",a))throw wc("cordova-plugin-buildinfo is not installed");if("function"!=typeof kr("cordova.plugins.browsertab.openUrl",a))throw wc("cordova-plugin-browsertab is not installed");if("function"!=typeof kr("cordova.InAppBrowser.open",a))throw wc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new E("cordova-not-ready")}))},t.Ob=function(t,e){return e(new E("operation-not-supported-in-this-environment")),Te()},t.Mb=function(){return ke(new E("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return ke(new E("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=Te().then((function(){return Lo(e),Ec(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Mo(e,r,null,o,new E("no-auth-event"),null,i),u=kr("BuildInfo.packageName",a);if("string"!=typeof u)throw new E("invalid-cordova-configuration");var c=kr("BuildInfo.displayName",a),l={};if(Tr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Tr().toLowerCase().match(/android/))return ke(new E("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=Ic(o),l.sessionId=o;var h=yu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(ac,s.w(),e)})).then((function(){var e=kr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new E("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=kr("cordova.plugins.browsertab.openUrl",a)))throw new E("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=kr("cordova.InAppBrowser.open",a)))throw new E("invalid-cordova-configuration");e=Tr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new ve((function(t,e){u=function(){var e=kr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){s||(s=$n(2e3).then((function(){e(new E("redirect-cancelled-by-user"))})))},l=function(){Ur()&&c()},o.addEventListener("resume",c,!1),Tr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return Sc(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Sa(u),i.c=null}))},t.Ea=function(t){this.b.push(t),Ec(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Mo("unknown",null,null,null,new E("no-auth-event")),t(e))}))},t.Sa=function(t){z(this.b,(function(e){return e==t}))};var kc={name:"pendingRedirect",F:"session"};function _c(t){return nc(t.b,kc,t.a)}function Ac(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new qc,this.C=new Hc,this.g=new Tc(Bc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Nc(this.D,this.v,this.m,T,this.J)}function Nc(t,e,n,r,i){var o=pa.SDK_VERSION||null;return mr()?new bc(t,e,n,o,r,i):new fu(t,e,n,o,r,i)}function Cc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function xc(t){t.a.Xb()&&Cc(t).o((function(e){var n=new Mo("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Mc(e)&&t.s(n)})),t.a.Tb()||Gc(t.b)}function Dc(t,e){W(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(kc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?_c(t.g).then((function(){Cc(t).o((function(e){var n=new Mo("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Mc(e)&&t.s(n)}))})):xc(t)})).o((function(){xc(t)}))}function Oc(t,e){z(t.h,(function(t){return t==e}))}Ac.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Nc(this.D,this.v,this.m,null,this.J),this.i={}},Ac.prototype.s=function(t){if(!t)throw new E("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Gc(this.b),e};var Rc=new Fr(2e3,1e4),Pc=new Fr(3e4,6e4);function Lc(t,e,n,r,i,o,a){return t.a.Mb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function Mc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Fc(t,e,n,r,i){var o;return function(t){return t.b.set(kc,"pending",t.a)}(t.g).then((function(){return t.a.Nb(e,n,r,i).o((function(e){if(Mc(e))throw new E("operation-not-supported-in-this-environment");return o=e,_c(t.g).then((function(){throw o}))})).then((function(){return t.a.$b()?new ve((function(){})):_c(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function Uc(t,e,n,r,i){return t.a.Ob(r,(function(t){e.na(n,null,t,i)}),Rc.get())}Ac.prototype.qa=function(){return this.b.qa()};var Vc={};function Bc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function jc(t,e,n,r){var i=Bc(e,n,r);return Vc[i]||(Vc[i]=new Ac(t,e,n,r)),Vc[i]}function qc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Gc(t){t.g||(t.g=!0,zc(t,!1,null,null))}function Wc(t){t.g&&!t.i&&zc(t,!1,null,null)}function Kc(t,e){if(t.b=function(){return Te(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function zc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return ke(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Kc(t,n):Kc(t,{user:null}),t.f=[],t.c=[]}function Hc(){}function Qc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function Xc(t,e){this.a=e,Kr(this,"verificationId",t)}function Yc(t,e,n,r){return new Oo(t).fb(e,n).then((function(t){return new Xc(t,r)}))}function Jc(t){var e=Bi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new E("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");zr(this,{token:t,expirationTime:Vr(1e3*e.exp),authTime:Vr(1e3*e.auth_time),issuedAtTime:Vr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Zc(t,e,n){var r=e&&e[el];if(!r)throw new E("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ft(e),this.g=n,this.c=new no(null,r),this.b=[];var i=this;B(e[tl]||[],(function(t){(t=Yr(t))&&i.b.push(t)})),Kr(this,"auth",this.a),Kr(this,"session",this.c),Kr(this,"hints",this.b)}qc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},qc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(zc(this,!0,null,t.a),Te()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){zc(t,s,e,null)})).o((function(e){zc(t,s,null,e)}))}(this,t,e):ke(new E("invalid-auth-event")):(zc(this,!1,null,null),Te())}else ke(new E("invalid-auth-event"))},qc.prototype.qa=function(){var t=this;return new ve((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new E("timeout");t.a&&t.a.cancel(),t.a=$n(Pc.get()).then((function(){t.b||(t.g=!0,zc(t,!0,null,e))}))}(t))}))},Hc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Te()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):ke(new E("invalid-auth-event"))}else ke(new E("invalid-auth-event"))},Xc.prototype.confirm=function(t){return t=Ro(this.verificationId,t),this.a(t)};var tl="mfaInfo",el="mfaPendingCredential";function nl(t,e,n,r){E.call(this,"multi-factor-auth-required",r,e),this.b=new Zc(t,e,n),Kr(this,"resolver",this.b)}function rl(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new nl(e,t.serverResponse,n,t.message)}catch(t){}return null}function il(){}function ol(t){Kr(this,"factorId",t.fa),this.a=t}function al(t){if(ol.call(this,t),this.a.fa!=Oo.PROVIDER_ID)throw new E("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function sl(t,e){for(var n in Ke.call(this,t),e)this[n]=e[n]}function ul(t,e){this.a=t,this.b=[],this.c=b(this.yc,this),on(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&B(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ti]=t.uid),t.displayName&&(r[Jr]=t.displayName),t.enrollmentTime&&(r[Zr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ei]=t.phoneNumber);try{e=new ni(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),cl(this,n)}function cl(t,e){t.b=e,Kr(t,"enrolledFactors",e)}function ll(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function hl(t,e){t.stop(),t.b=$n(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=a.document,e=null;return Ur()||!t?Te():new ve((function(n){e=function(){Ur()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){hl(t,!0)})).o((function(e){t.i(e)&&hl(t,!1)}))}function fl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function dl(t,e){void 0===e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function pl(t,e){t.b=Vi(e[Xa]||""),t.a=e.refreshToken,dl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function ml(t,e){return function(t,e){return new ve((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?os(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(ru(t)):t.access_token&&t.refresh_token?n(t):r(new E("internal-error")):r(new E("network-request-failed"))}),"POST",zn(e).toString(),t.g,t.m.get()):r(new E("internal-error"))}))}(t.f,e).then((function(e){return t.b=Vi(e.access_token),t.a=e.refresh_token,dl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function yl(t,e){this.a=t||null,this.b=e||null,zr(this,{lastSignInTime:Vr(e||null),creationTime:Vr(t||null)})}function gl(t,e,n,r,i,o){zr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function vl(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=pa.SDK_VERSION?Sr(pa.SDK_VERSION):null;this.a=new Ha(this.l,N(T),r),t.emulatorConfig&&ns(this.a,t.emulatorConfig),this.b=new fl(this.a),kl(this,e[Xa]),pl(this.b,e),Kr(this,"refreshToken",this.b.a),Nl(this,n||{}),gn.call(this),this.R=!1,this.s&&Ar()&&(this.i=jc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new ll((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.aa=b(this.hb,this);var i=this;this.ya=null,this.Oa=function(t){i.wa(t.h)},this.ja=null,this.Aa=function(t){ns(i.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){Il(i,t.f)},this.ba=null,this.O=new ul(this,n),Kr(this,"multiFactor",this.O)}function bl(t,e){t.ja&&un(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&on(e,"languageCodeChanged",t.Oa)}function wl(t,e){t.X&&un(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&on(e,"emulatorConfigChanged",t.Aa)}function Il(t,e){t.$=e,is(t.a,pa.SDK_VERSION?Sr(pa.SDK_VERSION,t.$):null)}function $l(t,e){t.ba&&un(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&on(e,"frameworkChanged",t.Ba)}function El(t){try{return pa.app(t.m).auth()}catch(e){throw new E("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Sl(t){t.D||t.u.b||(t.u.start(),un(t,"tokenChanged",t.aa),on(t,"tokenChanged",t.aa))}function Tl(t){un(t,"tokenChanged",t.aa),t.u.stop()}function kl(t,e){t.za=e,Kr(t,"_lat",e)}function _l(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return Ae(e).then((function(){return t}))}function Al(t){t.i&&!t.R&&(t.R=!0,Dc(t.i,t))}function Nl(t,e){zr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new yl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Cl(){}function xl(t){return Te().then((function(){if(t.D)throw new E("app-deleted")}))}function Dl(t){return q(t.providerData,(function(t){return t.providerId}))}function Ol(t,e){e&&(Rl(t,e.providerId),t.providerData.push(e))}function Rl(t,e){z(t.providerData,(function(t){return t.providerId==e}))}function Pl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Kr(t,e,n)}function Ll(t,e){t!=e&&(zr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Kr(t,"metadata",function(t){return new yl(t.a,t.b)}(e.metadata)):Kr(t,"metadata",new yl),B(e.providerData,(function(e){Ol(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Kr(t,"refreshToken",t.b.a),cl(t.O,e.O.b))}function Ml(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return eu(t.a,Ds,{idToken:e}).then(b(t.Kc,t))}(t,e).then((function(){return n||Pl(t,"isAnonymous",!1),e}))}))}function Fl(t,e){e[Xa]&&t.za!=e[Xa]&&(pl(t.b,e),t.dispatchEvent(new sl("tokenChanged")),kl(t,e[Xa]),Pl(t,"refreshToken",t.b.a))}function Ul(t,e){return Ml(t).then((function(){if(W(Dl(t),e))return _l(t).then((function(){throw new E("provider-already-linked")}))}))}function Vl(t,e,n){return Hr({user:t,credential:Po(e),additionalUserInfo:e=Ki(e),operationType:n})}function Bl(t,e){return Fl(t,e),t.reload().then((function(){return t}))}function jl(t,e,n,r,i){if(!Ar())return ke(new E("operation-not-supported-in-this-environment"));if(t.h&&!i)return ke(t.h);var o=Wi(n.providerId),a=Pr(t.uid+":::"),s=null;(!xr()||yr())&&t.s&&n.isOAuthProvider&&(s=yu(t.s,t.l,t.m,e,n,null,a,pa.SDK_VERSION||null,null,null,t.tenantId));var u=hr(s,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Gl(t),!i)return t.I().then((function(){}))})).then((function(){return Lc(t.i,u,e,n,a,!!s,t.tenantId)})).then((function(){return new ve((function(n,r){t.na(e,null,new E("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=a,t.c=Uc(t.i,t,e,u,a)}))})).then((function(t){return u&&lr(u),t?Hr(t):null})).o((function(t){throw u&&lr(u),t})),Wl(t,r,i)}function ql(t,e,n,r,i){if(!Ar())return ke(new E("operation-not-supported-in-this-environment"));if(t.h&&!i)return ke(t.h);var o=null,a=Pr(t.uid+":::");return r=r().then((function(){if(Gl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,_l(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Hl,t.w(),e.a)),e})).then((function(){return Fc(t.i,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ha)return Ql(t.ha);throw o})).then((function(){if(o)throw o})),Wl(t,r,i)}function Gl(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new E("internal-error");throw new E("auth-domain-config-required")}}function Wl(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),ke(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new sl("userInvalidated")),t.h=e),e}))}(t,e,n);return t.J.push(r),r.oa((function(){K(t.J,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=rl(e.w(),El(t),b(t.jc,t))),n||e}))}function Kl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Xa]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new vl(e,n,t);return t.providerData&&B(t.providerData,(function(t){t&&Ol(i,Hr(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function zl(t){this.a=t,this.b=Zu()}Zc.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then((function(t){var n=ft(e.f);return delete n[tl],delete n[el],pt(n,t),e.g(n)}))},I(nl,E),il.prototype.sb=function(t,e,n){return e.type==ro?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),pt(n,{phoneVerificationInfo:Do(t.a)}),eu(e,Cs,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return pt(n={mfaPendingCredential:n},{phoneVerificationInfo:Do(t.a)}),eu(e,xs,n)}))}(this,t,e)},I(ol,il),I(al,ol),I(sl,Ke),(t=ul.prototype).yc=function(t){cl(this,function(t){var e=[];return B(t.mfaInfo||[],(function(t){(t=Yr(t))&&e.push(t)})),e}(t.hd))},t.Rb=function(){return this.a.I().then((function(t){return new no(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then((function(n){return t.sb(r,n,e)})).then((function(t){return Fl(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return eu(r,tu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=j(e.b,(function(t){return t.uid!=n}));return cl(e,r),Fl(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:q(this.b,(function(t){return t.w()}))}}},ll.prototype.start=function(){this.a=this.c,hl(this,!0)},ll.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},fl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},fl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?ke(new E("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?ml(this,{grant_type:"refresh_token",refresh_token:this.a}):Te(null):Te({accessToken:this.b.toString(),refreshToken:this.a})},yl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(vl,gn),vl.prototype.wa=function(t){this.ya=t,es(this.a,t)},vl.prototype.la=function(){return this.ya},vl.prototype.Ga=function(){return Q(this.$)},vl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Kr(vl.prototype,"providerId","firebase"),(t=vl.prototype).reload=function(){var t=this;return Wl(this,xl(this).then((function(){return Ml(t).then((function(){return _l(t)})).then(Cl)})))},t.oc=function(t){return this.I(t).then((function(t){return new Jc(t)}))},t.I=function(t){var e=this;return Wl(this,xl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new E("internal-error");return t.accessToken!=e.za&&(kl(e,t.accessToken),e.dispatchEvent(new sl("tokenChanged"))),Pl(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new E("internal-error");Nl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?q(t,(function(t){return new gl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Ol(this,e[n]);Pl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new sl("userReloaded",{hd:t}))},t.Lc=function(t){return Gr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return Wl(this,t.c(this.a,this.uid).then((function(t){return Fl(e,t),n=Vl(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Gr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return Wl(this,Ul(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Vl(e,t,"link"),Bl(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Wl(this,Ul(this,"phone").then((function(){return Yc(El(n),t,e,b(n.qb,n))})))},t.Mc=function(t,e){var n=this;return Wl(this,Te().then((function(){return Yc(El(n),t,e,b(n.tb,n))})),!0)},t.Bb=function(t){var e=this;return Wl(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Fl(e,t),e.reload()})))},t.ed=function(t){var e=this;return Wl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Fl(e,t),e.reload()})))},t.Cb=function(t){var e=this;return Wl(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Fl(e,t),e.reload()})))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return xl(this);var e=this;return Wl(this,this.I().then((function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Fl(e,t),Pl(e,"displayName",t.displayName||null),Pl(e,"photoURL",t.photoUrl||null),B(e.providerData,(function(t){"password"===t.providerId&&(Kr(t,"displayName",e.displayName),Kr(t,"photoURL",e.photoURL))})),_l(e)})).then(Cl))},t.cd=function(t){var e=this;return Wl(this,Ml(this).then((function(n){return W(Dl(e),t)?function(t,e,n){return eu(t,_s,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return B(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),B(Dl(e),(function(t){n[t]||Rl(e,t)})),n[Oo.PROVIDER_ID]||Kr(e,"phoneNumber",null),_l(e)})):_l(e).then((function(){throw new E("no-such-provider")}))})))},t.delete=function(){var t=this;return Wl(this,this.I().then((function(e){return eu(t.a,ks,{idToken:e})})).then((function(){t.dispatchEvent(new sl("userDeleted"))}))).then((function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");bl(t,null),wl(t,null),$l(t,null),t.J=[],t.D=!0,Tl(t),Kr(t,"refreshToken",null),t.i&&Oc(t.i,t)}))},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?b(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?b(this.Lb,this):null},t.Ec=function(t){var e=this;return jl(this,"linkViaPopup",t,(function(){return Ul(e,t.providerId).then((function(){return _l(e)}))}),!1)},t.Nc=function(t){return jl(this,"reauthViaPopup",t,(function(){return Te()}),!0)},t.Fc=function(t){var e=this;return ql(this,"linkViaRedirect",t,(function(){return Ul(e,t.providerId)}),!1)},t.Oc=function(t){return ql(this,"reauthViaRedirect",t,(function(){return Te()}),!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Wl(this,this.I().then((function(n){return bs(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Vl(i,t,"link"),Bl(i,t)})).then((function(){return o})))},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Wl(this,Te().then((function(){return ao(ws(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Vl(i,t,"reauthenticate"),Fl(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.ub=function(t){var e=this,n=null;return Wl(this,this.I().then((function(e){return n=e,void 0===t||ht(t)?{}:Li(new ki(t))})).then((function(t){return e.a.ub(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Eb=function(t,e){var n=this,r=null;return Wl(this,this.I().then((function(t){return r=t,void 0===e||ht(e)?{}:Li(new ki(e))})).then((function(e){return n.a.Eb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Wl(this,t=ao(Te(t),n.uid).then((function(t){return e=Vl(n,t,"reauthenticate"),Fl(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&pt(t,this.metadata.w()),B(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),pt(t,this.O.w()),t};var Hl={name:"redirectUser",F:"session"};function Ql(t){return nc(t.b,Hl,t.a)}function Xl(t){this.a=t,this.b=Zu(),this.c=null,this.f=function(t){var e=Zl("local"),n=Zl("session"),r=Zl("none");return function(t,e,n){var r=ec(e,n),i=tc(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=Rr(a.localStorage.getItem(r))}catch(t){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Jl,t.a).then((function(t){return t?Zl(t):e}))}))}))})).then((function(e){return t.c=e,Yl(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Zl("local"),this.a,b(this.g,this))}function Yl(t,e){var n,r=[];for(n in Yu)Yu[n]!==e&&r.push(nc(t.b,Zl(Yu[n]),t.a));return r.push(nc(t.b,Jl,t.a)),function(t){return new ve((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)_e(t[s],w(o,s),a);else e(i)}))}(r)}Xl.prototype.g=function(){var t=this,e=Zl("local");rh(this,(function(){return Te().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Yl(t,"local").then((function(){t.c=e}))}))}))};var Jl={name:"persistence",F:"session"};function Zl(t){return{name:"authUser",F:t}}function th(t,e){return rh(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function eh(t){return rh(t,(function(){return nc(t.b,t.c,t.a)}))}function nh(t,e,n){return rh(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Kl(t||{})}))}))}function rh(t,e){return t.f=t.f.then(e,e),t.f}function ih(t){if(this.l=!1,Kr(this,"settings",new Qc),Kr(this,"app",t),!dh(this).options||!dh(this).options.apiKey)throw new E("invalid-api-key");t=pa.SDK_VERSION?Sr(pa.SDK_VERSION):null,this.a=new Ha(dh(this).options&&dh(this).options.apiKey,N(T),t),this.R=[],this.s=[],this.O=[],this.hb=pa.INTERNAL.createSubscribe(b(this.zc,this)),this.X=void 0,this.bc=pa.INTERNAL.createSubscribe(b(this.Ac,this)),hh(this,null),this.i=new Xl(dh(this).options.apiKey+":"+dh(this).name),this.D=new zl(dh(this).options.apiKey+":"+dh(this).name),this.$=gh(this,function(t){var e=dh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Hl,t.a).then((function(t){return t&&e&&(t.authDomain=e),Kl(t||{})}))}(t.D,dh(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Ql(t.D)}));return gh(t,e)}(t).then((function(){return nh(t.i,e,t.P)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return th(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:eh(t.i)}))):null})).then((function(e){hh(t,e||null)}));return gh(t,n)}(this)),this.h=gh(this,function(t){return t.$.then((function(){return ch(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Zl("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.ya=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,function(t){var e=dh(t).options.authDomain,n=dh(t).options.apiKey;e&&Ar()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=jc(e,n,dh(t).name,t.P),Dc(t.b,t),ph(t)&&Al(ph(t)),t.m){Al(t.m);var r=t.m;r.wa(t.la()),bl(r,t),Il(r=t.m,t.J),$l(r,t),ns((r=t.m).a,t.P),wl(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,gn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Pn(this.P.url);t=Hr({protocol:t.c,host:t.a,port:t.g,options:Hr({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function oh(t){Ke.call(this,"languageCodeChanged"),this.h=t}function ah(t){Ke.call(this,"emulatorConfigChanged"),this.c=t}function sh(t){Ke.call(this,"frameworkChanged"),this.f=t}function uh(t){return t.Oa||ke(new E("auth-domain-config-required"))}function ch(t){if(!Ar())return ke(new E("operation-not-supported-in-this-environment"));var e=uh(t).then((function(){return t.b.qa()})).then((function(t){return t?Hr(t):null}));return gh(t,e)}function lh(t,e){var n={};return n.apiKey=dh(t).options.apiKey,n.authDomain=dh(t).options.authDomain,n.appName=dh(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then((function(){return function(t,e,n,r){var i=new vl(t,e);return n&&(i.ha=n),r&&Il(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return ph(t)&&e.uid==ph(t).uid?(Ll(ph(t),e),t.da(e)):(hh(t,e),Al(e),t.da(e))})).then((function(){yh(t)}))}function hh(t,e){ph(t)&&(function(t,e){z(t.S,(function(t){return t==e}))}(ph(t),t.Ba),un(ph(t),"tokenChanged",t.ya),un(ph(t),"userDeleted",t.za),un(ph(t),"userInvalidated",t.Aa),Tl(ph(t))),e&&(e.S.push(t.Ba),on(e,"tokenChanged",t.ya),on(e,"userDeleted",t.za),on(e,"userInvalidated",t.Aa),0<t.u&&Sl(e)),Kr(t,"currentUser",e),e&&(e.wa(t.la()),bl(e,t),Il(e,t.J),$l(e,t),ns(e.a,t.P),wl(e,t))}function fh(t,e){var n=null,r=null;return gh(t,e.then((function(e){return n=Po(e),r=Ki(e),lh(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=rl(e.w(),t,b(t.kc,t))),n||e})).then((function(){return Hr({user:ph(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function dh(t){return t.app}function ph(t){return t.currentUser}function mh(t){return ph(t)&&ph(t)._lat||null}function yh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](mh(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](mh(t))}}function gh(t,e){return t.R.push(e),e.oa((function(){K(t.R,e)})),e}function vh(){}function bh(){this.a={},this.b=1e12}Xl.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new E("invalid-persistence-type"),n=new E("unsupported-persistence-type");t:{for(r in Yu)if(Yu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(vr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Cu()&&"none"!==t)throw n;break;default:if(!_r()&&"none"!==t)throw n}}(t),rh(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Yl(n,t)})).then((function(){if(n.c=Zl(t),e)return n.b.set(n.c,e,n.a)})):Te()}))},I(ih,gn),I(oh,Ke),I(ah,Ke),I(sh,Ke),(t=ih.prototype).xb=function(t){return gh(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,es(this.a,this.aa),this.dispatchEvent(new oh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=a.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new E("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!t&&pr().then((function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,ns(this.a,this.P),this.dispatchEvent(new ah(this.P))}},t.Gc=function(t){this.J.push(t),is(this.a,pa.SDK_VERSION?Sr(pa.SDK_VERSION,this.J):null),this.dispatchEvent(new sh(this.J))},t.Ga=function(){return Q(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:dh(this).options.apiKey,authDomain:dh(this).options.authDomain,appName:dh(this).name,currentUser:ph(this)&&ph(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return fh(i,vs(i.a,o))}))},t.Xc=function(t){if(!Ar())return ke(new E("operation-not-supported-in-this-environment"));var e=this,n=Wi(t.providerId),r=Pr(),i=null;(!xr()||yr())&&dh(this).options.authDomain&&t.isOAuthProvider&&(i=yu(dh(this).options.authDomain,dh(this).options.apiKey,dh(this).name,"signInViaPopup",t,null,r,pa.SDK_VERSION||null,null,null,this.T(),this.P));var o=hr(i,n&&n.ua,n&&n.ta);return gh(this,n=uh(this).then((function(n){return Lc(n,o,"signInViaPopup",t,r,!!i,e.T())})).then((function(){return new ve((function(t,n){e.na("signInViaPopup",null,new E("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=Uc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&lr(o),t?Hr(t):null})).o((function(t){throw o&&lr(o),t})))},t.Yc=function(t){if(!Ar())return ke(new E("operation-not-supported-in-this-environment"));var e=this;return gh(this,uh(this).then((function(){return function(t){return rh(t,(function(){return t.b.set(Jl,t.c.F,t.a)}))}(e.i)})).then((function(){return Fc(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.qa=function(){var t=this;return ch(this).then((function(e){return t.b&&Wc(t.b.b),e})).o((function(e){throw t.b&&Wc(t.b.b),e}))},t.dd=function(t){if(!t)return ke(new E("null-user"));if(this.S!=t.tenantId)return ke(new E("tenant-id-mismatch"));var e=this,n={};n.apiKey=dh(this).options.apiKey,n.authDomain=dh(this).options.authDomain,n.appName=dh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Xa]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new vl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Il(e,r),Ll(e,t),e}(t,n,e.D,e.Ga());return gh(this,this.h.then((function(){if(dh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return ph(e)&&t.uid==ph(e).uid?(Ll(ph(e),t),e.da(t)):(hh(e,r),Al(r),e.da(r))})).then((function(){yh(e)})))},t.Ab=function(){var t=this;return gh(this,this.h.then((function(){return t.b&&Wc(t.b.b),ph(t)?(hh(t,null),eh(t.i).then((function(){yh(t)}))):Te()})))},t.Zc=function(){var t=this;return nh(this.i,dh(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=ph(t)&&e){n=ph(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Ll(ph(t),e),ph(t).I();(ph(t)||e)&&(hh(t,e),e&&(Al(e),e.ha=t.D),t.b&&Dc(t.b,t),yh(t))}}))},t.da=function(t){return th(this.i,t)},t.mc=function(){yh(this),this.da(ph(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then((function(){return fh(e,Te(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(ph(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),gh(t,t.h.then((function(){!t.l&&W(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(mh(t)))})))}(this,(function(){t.next(ph(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(ph(r)):"function"==typeof t.next&&t.next(ph(r))})),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(ph(r)):"function"==typeof t.next&&t.next(ph(r))})),this.bc(t,e,n)},t.nc=function(t){var e=this;return gh(this,this.h.then((function(){return ph(e)?ph(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return fh(e,eu(e.a,Qs,{token:t}))})).then((function(t){var n=t.user;return Pl(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return fh(n,eu(n.a,Xs,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return fh(n,eu(n.a,Ss,{email:t,password:e}))}))},t.$a=function(t){var e=this;return this.h.then((function(){return fh(e,t.ka(e.a))}))},t.Sc=function(t){return Gr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then((function(){var e=ph(t);if(e&&e.isAnonymous){var n=Hr({providerId:null,isNewUser:!1});return Hr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return fh(t,t.a.zb()).then((function(e){var n=e.user;return Pl(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return ph(this)&&ph(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&ph(this)&&Sl(ph(this))},t.Pc=function(t){var e=this;B(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&ph(this)&&Tl(ph(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),gh(this,this.h.then((function(){e.l||W(e.s,t)&&t(mh(e))})))},t.removeAuthTokenListener=function(t){z(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(Zl("local"),t.a,this.ja),this.b&&(Oc(this.b,this),Wc(this.b.b)),Promise.resolve()},t.hc=function(t){return gh(this,function(t,e){return eu(t,Ts,{identifier:e,continueUri:Nr()?ar():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!No(t)},t.wb=function(t,e){var n=this;return gh(this,Te().then((function(){var t=new ki(e);if(!t.c)throw new E("argument-error",Ni+" must be true when sending sign in link to email");return Li(t)})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.jd=function(t){return this.Ra(t).then((function(t){return t.data.email}))},t.nb=function(t,e){return gh(this,this.a.nb(t,e).then((function(){})))},t.Ra=function(t){return gh(this,this.a.Ra(t).then((function(t){return new ri(t)})))},t.jb=function(t){return gh(this,this.a.jb(t).then((function(){})))},t.vb=function(t,e){var n=this;return gh(this,Te().then((function(){return void 0===e||ht(e)?{}:Li(new ki(e))})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.Wc=function(t,e){return gh(this,Yc(this,t,e,b(this.$a,this)))},t.Vc=function(t,e){var n=this;return gh(this,Te().then((function(){var r=e||ar(),i=Ao(t,r);if(!(r=No(r)))throw new E("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new E("tenant-id-mismatch");return n.$a(i)})))},vh.prototype.render=function(){},vh.prototype.reset=function(){},vh.prototype.getResponse=function(){},vh.prototype.execute=function(){};var wh=null;function Ih(t,e){return(e=$h(e))&&t.a[e]||null}function $h(t){return(t=void 0===t?1e12:t)?t.toString():null}function Eh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ae(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():on(this.f,"click",this.i)}function Sh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Th(){}function kh(){}bh.prototype.render=function(t,e){return this.a[this.b.toString()]=new Eh(t,e),this.b++},bh.prototype.reset=function(t){var e=Ih(this,t);t=$h(t),e&&t&&(e.delete(),delete this.a[t])},bh.prototype.getResponse=function(t){return(t=Ih(this,t))?t.getResponse():null},bh.prototype.execute=function(t){(t=Ih(this,t))&&t.execute()},Eh.prototype.getResponse=function(){return Sh(this),this.b},Eh.prototype.execute=function(){Sh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},Eh.prototype.delete=function(){Sh(this),this.g=!0,clearTimeout(this.a),this.a=null,un(this.f,"click",this.i)},Kr(Th,"FACTOR_ID","phone"),kh.prototype.g=function(){return wh||(wh=new bh),Te(wh)},kh.prototype.c=function(){};var _h=null;function Ah(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Nh=new yt(wt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ch=new Fr(3e4,6e4);Ah.prototype.g=function(t){var e=this;return new ve((function(n,r){var i=setTimeout((function(){r(new E("network-request-failed"))}),Ch.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new E("internal-error"));delete a[e.a]},Te(Ba(St(Nh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new E("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},Ah.prototype.c=function(){this.b--};var xh=null;function Dh(t,e,n,r,i,o,s){if(Kr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,s?(_h||(_h=new kh),s=_h):(xh||(xh=new Ah),s=xh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ph])throw new E("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Lh],!a.document)throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ae(e)||!this.i&&ae(e).hasChildNodes())throw new E("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ha(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Oh];this.a[Oh]=function(t){if(Mh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=kr(c,a);"function"==typeof e&&e(t)}};var l=this.a[Rh];this.a[Rh]=function(){if(Mh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=kr(l,a);"function"==typeof t&&t()}}}var Oh="callback",Rh="expired-callback",Ph="sitekey",Lh="size";function Mh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Fh(t,e){return t.h.push(e),e.oa((function(){K(t.h,e)})),e}function Uh(t){if(t.D)throw new E("internal-error","RecaptchaVerifier instance has been destroyed.")}function Vh(t,e,n){var r=!1;try{this.b=n||pa.app()}catch(t){throw new E("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new E("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=pa.SDK_VERSION?Sr(pa.SDK_VERSION,o):null,Dh.call(this,n,t,e,(function(){try{var t=i.b.auth().la()}catch(e){t=null}return t}),o,N(T),r)}function Bh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new E("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=jh.length)throw new E("internal-error","Argument validator received an unsupported number of arguments.");n=jh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new E("argument-error",t+" failed: "+r)}(t=Dh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Fh(this,Te().then((function(){if(Nr()&&!gr())return pr();throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,eu(t.s,Fs,{})})).then((function(e){t.a[Ph]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Uh(this);var t=this;return Fh(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=ae(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!oe&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Bt(a.name),'"'),a.type){o.push(' type="',Bt(a.type),'"');var s={};pt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=fe(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):se(o,a)),2<r.length&&he(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Uh(this);var t=this;return Fh(this,this.render().then((function(e){return new ve((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){z(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Uh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Uh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ae(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},I(Vh,Dh);var jh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function qh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Gh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Wh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:p}}function Kh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function zh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Hh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function Qh(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Xh(t){return p(t)&&"string"==typeof t.uid}function Yh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Jh(t,e){for(var n in e){var r=e[n].name;t[r]=ef(r,t[n],e[n].j)}}function Zh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w((function(t){return this[t]}),n),set:w((function(t,e,n,r){Bh(t,[n],[r],!0),this[e]=r}),r,n,e[n].kb),enumerable:!0})}}function tf(t,e,n,r){t[e]=ef(e,n,r)}function ef(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Bh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Jh(ih.prototype,{jb:{name:"applyActionCode",j:[qh("code")]},Ra:{name:"checkActionCode",j:[qh("code")]},nb:{name:"confirmPasswordReset",j:[qh("code"),qh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[qh("email"),qh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[qh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[qh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Yh(Wh(),Kh(),"nextOrObserver"),Kh("opt_error",!0),Kh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Yh(Wh(),Kh(),"nextOrObserver"),Kh("opt_error",!0),Kh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[qh("email"),Yh(Wh("opt_actionCodeSettings",!0),zh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[qh("email"),Wh("actionCodeSettings")]},xb:{name:"setPersistence",j:[qh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Hh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Hh()]},Tc:{name:"signInWithCustomToken",j:[qh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[qh("email"),qh("password")]},Vc:{name:"signInWithEmailLink",j:[qh("email"),qh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Yh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof vl)}},zh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[qh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[qh("url"),Wh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[qh("code")]}}),Zh(ih.prototype,{lc:{name:"languageCode",kb:Yh(qh(),zh(),"languageCode")},ti:{name:"tenantId",kb:Yh(qh(),zh(),"tenantId")}}),ih.Persistence=Yu,ih.Persistence.LOCAL="local",ih.Persistence.SESSION="session",ih.Persistence.NONE="none",Jh(vl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Gh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Gh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Hh()]},qb:{name:"linkWithCredential",j:[Hh()]},Dc:{name:"linkWithPhoneNumber",j:[qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Hh()]},tb:{name:"reauthenticateWithCredential",j:[Hh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Yh(Wh("opt_actionCodeSettings",!0),zh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[qh(null,!0)]},cd:{name:"unlink",j:[qh("provider")]},Bb:{name:"updateEmail",j:[qh("email")]},Cb:{name:"updatePassword",j:[qh("password")]},ed:{name:"updatePhoneNumber",j:[Hh("phone")]},Db:{name:"updateProfile",j:[Wh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[qh("email"),Yh(Wh("opt_actionCodeSettings",!0),zh(null,!0),"opt_actionCodeSettings",!0)]}}),Jh(bh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Jh(vh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Jh(ve.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Zh(Qc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Gh("appVerificationDisabledForTesting")}}),Jh(Xc.prototype,{confirm:{name:"confirm",j:[qh("verificationCode")]}}),tf(oo,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[fo,ko,xo,co],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Yh(qh(),Wh(),"json")]),tf(_o,"credential",(function(t,e){return new To(t,e)}),[qh("email"),qh("password")]),Jh(To.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),Jh(go.prototype,{Ca:{name:"addScope",j:[qh("scope")]},Ka:{name:"setCustomParameters",j:[Wh("customOAuthParameters")]}}),tf(go,"credential",vo,[Yh(qh(),Wh(),"token")]),tf(_o,"credentialWithLink",Ao,[qh("email"),qh("emailLink")]),Jh(bo.prototype,{Ca:{name:"addScope",j:[qh("scope")]},Ka:{name:"setCustomParameters",j:[Wh("customOAuthParameters")]}}),tf(bo,"credential",wo,[Yh(qh(),Wh(),"token")]),Jh(Io.prototype,{Ca:{name:"addScope",j:[qh("scope")]},Ka:{name:"setCustomParameters",j:[Wh("customOAuthParameters")]}}),tf(Io,"credential",$o,[Yh(qh(),Yh(Wh(),zh()),"idToken"),Yh(qh(),zh(),"accessToken",!0)]),Jh(Eo.prototype,{Ka:{name:"setCustomParameters",j:[Wh("customOAuthParameters")]}}),tf(Eo,"credential",So,[Yh(qh(),Wh(),"token"),qh("secret",!0)]),Jh(yo.prototype,{Ca:{name:"addScope",j:[qh("scope")]},credential:{name:"credential",j:[Yh(qh(),Yh(Wh(),zh()),"optionsOrIdToken"),Yh(qh(),zh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Wh("customOAuthParameters")]}}),Jh(lo.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),Jh(so.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),tf(Oo,"credential",Ro,[qh("verificationId"),qh("verificationCode")]),Jh(Oo.prototype,{fb:{name:"verifyPhoneNumber",j:[Yh(qh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Qh(t.session,ro)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Qh(t.session,io)&&Xh(t.multiFactorHint):t.session&&t.multiFactorUid?Qh(t.session,io)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Jh(Co.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),Jh(E.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Jh(qo.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Jh(jo.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Jh(nl.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Jh(Zc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),Jh(ul.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},qh("displayName",!0)]},bd:{name:"unenroll",j:[Yh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Xh},qh(),"multiFactorInfoIdentifier")]}}),Jh(Vh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),tf(gi,"parseLink",Ti,[qh("link")]),tf(Th,"assertion",(function(t){return new al(t)}),[Hh("phone")]),function(){if(void 0===pa||!pa.INTERNAL||!pa.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:oi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ii,VERIFY_AND_CHANGE_EMAIL:ai,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ih,AuthCredential:oo,Error:E};tf(t,"EmailAuthProvider",_o,[]),tf(t,"FacebookAuthProvider",go,[]),tf(t,"GithubAuthProvider",bo,[]),tf(t,"GoogleAuthProvider",Io,[]),tf(t,"TwitterAuthProvider",Eo,[]),tf(t,"OAuthProvider",yo,[qh("providerId")]),tf(t,"SAMLAuthProvider",mo,[qh("providerId")]),tf(t,"PhoneAuthProvider",Oo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof ih)}}]),tf(t,"RecaptchaVerifier",Vh,[Yh(qh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Wh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof pa.app.App)}}]),tf(t,"ActionCodeURL",gi,[]),tf(t,"PhoneMultiFactorGenerator",Th,[]),pa.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new ih(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),pa.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.nc,t),addAuthTokenListener:b(t.cc,t),removeAuthTokenListener:b(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),pa.registerVersion("@firebase/auth","0.16.5"),pa.INTERNAL.extendNamespace({User:vl})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Ew=["Aardvark","Albatross","Alligator","Alpaca","Ant","Anteater","Antelope","Ape","Armadillo","Donkey","Baboon","Badger","Barracuda","Bat","Bear","Beaver","Bee","Bison","Boar","Buffalo","Butterfly","Camel","Capybara","Caribou","Cassowary","Cat","Caterpillar","Cattle","Chamois","Cheetah","Chicken","Chimpanzee","Chinchilla","Chough","Clam","Cobra","Cockroach","Cod","Cormorant","Coyote","Crab","Crane","Crocodile","Crow","Curlew","Deer","Dinosaur","Dog","Dogfish","Dolphin","Dotterel","Dove","Dragonfly","Duck","Dugong","Dunlin","Eagle","Echidna","Eel","Eland","Elephant","Elk","Emu","Falcon","Ferret","Finch","Fish","Flamingo","Fly","Fox","Frog","Gaur","Gazelle","Gerbil","Giraffe","Gnat","Gnu","Goat","Goldfinch","Goldfish","Goose","Gorilla","Goshawk","Grasshopper","Grouse","Guanaco","Gull","Hamster","Hare","Hawk","Hedgehog","Heron","Herring","Hippopotamus","Hornet","Horse","Human","Hummingbird","Hyena","Ibex","Ibis","Jackal","Jaguar","Jay","Jellyfish","Kangaroo","Kingfisher","Koala","Kookabura","Kouprey","Kudu","Lapwing","Lark","Lemur","Leopard","Lion","Llama","Lobster","Locust","Loris","Louse","Lyrebird","Magpie","Mallard","Manatee","Mandrill","Mantis","Marten","Meerkat","Mink","Mole","Mongoose","Monkey","Moose","Mosquito","Mouse","Mule","Narwhal","Newt","Nightingale","Octopus","Okapi","Opossum","Oryx","Ostrich","Otter","Owl","Oyster","Panther","Parrot","Partridge","Peafowl","Pelican","Penguin","Pheasant","Pig","Pigeon","Pony","Porcupine","Porpoise","Quail","Quelea","Quetzal","Rabbit","Raccoon","Rail","Ram","Rat","Raven","Red deer","Red panda","Reindeer","Rhinoceros","Rook","Salamander","Salmon","Sand Dollar","Sandpiper","Sardine","Scorpion","Seahorse","Seal","Shark","Sheep","Shrew","Skunk","Snail","Snake","Sparrow","Spider","Spoonbill","Squid","Squirrel","Starling","Stingray","Stinkbug","Stork","Swallow","Swan","Tapir","Tarsier","Termite","Tiger","Toad","Trout","Turkey","Turtle","Viper","Vulture","Wallaby","Walrus","Wasp","Weasel","Whale","Wildcat","Wolf","Wolverine","Wombat","Woodcock","Woodpecker","Worm","Wren","Yak","Zebra"],Sw=["Abaft","Abased","Abashed","Abasic","Abeyant","Abiotic","Ablaze","Able","Above","Abrupt","Absent","Absurd","Abusive","Abysmal","Abyssal","Accused","Acid","Acidic","Acidy","Acrid","Acrylic","Active","Actual","Acute","Added","Adept","Adobe","Adored","Adoring","Adrenal","Adroit","Adult","Adverse","Aerial","Aerobic","Afeard","Affable","Afraid","Agate","Agatoid","Ageold","Aged","Ageless","Aghast","Agile","Agreed","Ailing","Aimless","Airsick","Airy","Alamode","Albinic","Albino","Albite","Alert","Alien","Alive","Alkalic","Alkylic","Allstar","Allayed","Alleged","Allegro","Allied","Almond","Almondy","Alright","Amateur","Amazing","Amber","Ambery","Ambient","Amebic","Ameboid","Amiable","Ammonic","Amoebic","Amoral","Ample","Amused","Amusing","Anaemic","Ancient","Angelic","Angry","Angsty","Angular","Animist","Annoyed","Antique","Antsy","Anxious","Apelike","Apian","Apish","Apricot","Apt","Aquatic","Aqueous","Arbored","Arcane","Archaic","Arctic","Ardent","Arduous","Arid","Armed","Armless","Artful","Artless","Arty","Ash","Ashamed","Ashen","Ashy","Asinine","Asocial","Asphalt","Asteria","Astral","Astute","Atomic","Attack","Auburn","Augite","Auroral","Aurous","Average","Avian","Avoided","Awake","Aware","Awesome","Awful","Awkward","Azure","Baby","Babyish","Bad","Baggy","Bairnly","Bald","Balding","Baldish","Baleful","Balky","Balmy","Balneal","Balsamy","Banal","Baneful","Bardic","Bardish","Bardy","Bare","Bared","Barite","Barky","Baroque","Barren","Baryte","Basalt","Base","Bashful","Basic","Batiste","Batty","Beachy","Beaming","Beamish","Beamy","Beaten","Beauish","Beefy","Beelike","Beeswax","Beige","Belated","Beloved","Bemused","Benign","Bereft","Berserk","Beryl","Best","Bestial","Beton","Bicolor","Big","Biggish","Bigoted","Binary","Binding","Bionic","Biotite","Bitter","Bitty","Bitumen","Bixbite","Bizarre","Black","Bland","Blank","Bleak","Bleary","Blessed","Blind","Blithe","Bloated","Blocky","Blond","Blonde","Blotchy","Blousy","Blowsy","Blowy","Blowzy","Blue","Blueish","Blunt","Boarish","Bohrium","Boiled","Boiling","Bold","Bonedry","Bonny","Bony","Bookish","Boolean","Boorish","Boreal","Bored","Boring","Bort","Bosky","Bossy","Botanic","Botchy","Bottom","Bouncy","Bovid","Bovine","Boyish","Braced","Braided","Brainy","Brambly","Branny","Brash","Brashy","Brass","Brassy","Bratty","Brave","Braving","Brazen","Breaded","Breezy","Brick","Bricky","Bridal","Brief","Bright","Brinish","Briny","Brisk","Brittle","Broad","Broke","Broken","Bronze","Bronzy","Broody","Brown","Browny","Brusque","Brutal","Brutish","Bubbly","Bubonic","Buggy","Bullish","Bullous","Bumpy","Buoyant","Buried","Burlap","Burly","Burned","Burning","Burnt","Bushy","Busied","Busy","Busying","Buttery","Cabbagy","Calcite","Callous","Calm","Calmy","Caloric","Calx","Camlet","Campy","Candid","Candied","Canine","Capable","Capless","Carbon","Cardiac","Careful","Caring","Carmine","Carnose","Carnous","Carping","Carroty","Carsick","Castoff","Castoff","Catchy","Catlike","Cattish","Catty","Caustic","Celadon","Cement","Censual","Central","Centric","Ceramic","Cerate","Cere","Cerise","Certain","Chalk","Chalky","Chancy","Chaotic","Charred","Chaste","Chatty","Cheap","Checked","Cheeky","Cheery","Cheesy","Chemic","Chewed","Chewy","Chic","Chief","Chiffon","Childly","Chilled","Chilly","Chino","Chintzy","Chipper","Choky","Choosey","Choosy","Choppy","Choral","Chordal","Chorded","Chosen","Chromic","Chubby","Chuffy","Chummy","Chunky","Churchy","Cilia","Cilium","Cindery","Cipolin","Citable","Citied","Citric","Citrine","Civic","Civil","Clammy","Classic","Classy","Clay","Clayey","Clayish","Clean","Clever","Cliffy","Clingy","Cloddy","Cloggy","Cloned","Close","Closeby","Closein","Closed","Cloth","Clothed","Clotty","Cloudy","Clubby","Clumpy","Clumsy","Coed","Coal","Coaly","Coarse","Coastal","Coated","Cob","Cocky","Cocoa","Cold","Coldish","Coltish","Comely","Comfy","Comic","Comical","Common","Compact","Complex","Concave","Conchin","Concise","Content","Cooked","Cool","Copper","Coppery","Coral","Cordial","Cork","Corked","Corking","Corky","Corny","Correct","Corrupt","Cosey","Coseys","Cosie","Cosies","Cosmic","Costly","Cosy","Cotton","Cottony","Couped","Courtly","Covered","Covert","Cowlike","Coy","Coyish","Cozey","Cozy","Crabbed","Crabby","Cracked","Crafty","Craggy","Cramped","Cranial","Cranky","Crass","Craven","Crawly","Crazed","Crazy","Cream","Creamy","Creased","Creasy","Creeded","Creepy","Crimpy","Crimson","Crispy","Cronish","Crooked","Crucial","Crude","Cruel","Crumbly","Crumby","Crumply","Cruse","Crusted","Crusty","Crying","Cryptic","Crystal","Cubic","Cubical","Cuboid","Cuddly","Culm","Cultic","Cultish","Cultual","Cummy","Cunning","Curable","Curdy","Cured","Curious","Curium","Curly","Current","Cursed","Cursive","Cursory","Curt","Curved","Curvy","Cushy","Cussed","Cut","Cutrate","Cute","Cyan","Cynical","Cystic","Czarist","Dacite","Daffy","Daft","Dainty","Damaged","Damask","Damp","Dampish","Dank","Dapper","Daring","Dark","Darkish","Dashing","Dated","Dazed","Dead","Deadly","Deadpan","Dear","Deathly","Decayed","Decent","Deep","Defiant","Deft","Defunct","Deific","Deiform","Deistic","Delayed","Demoded","Demonic","Demotic","Demure","Dendric","Denim","Dense","Dental","Dentine","Dermal","Dermic","Dermoid","Desired","Deviant","Devious","Devoid","Devoted","Devout","Dewy","Diamant","Diamond","Dicey","Diet","Dietary","Digital","Dim","Dimmed","Dimming","Dimply","Dingy","Dinky","Dippy","Dire","Direful","Dirt","Dirty","Dismal","Distant","Distent","Disused","Diverse","Divine","Diving","Dizzied","Dizzy","Docile","Dogpoor","Dogged","Doggish","Doglike","Dollish","Doltish","Doomed","Dopey","Dopy","Dorky","Dormant","Dorsal","Dotted","Doughty","Doughy","Dour","Doused","Dovish","Dowdy","Downy","Dozing","Dozy","Drab","Drafty","Drastic","Drawn","Dreamy","Drear","Dreary","Dressy","Drifty","Dripdry","Drippy","Drizzly","Droll","Dronish","Drooly","Droopy","Drossy","Drouthy","Drowsy","Druidic","Dry","Dryadic","Dubious","Dubnium","Ducal","Duckie","Dull","Dullish","Dumb","Dumpish","Dumpy","Duncish","Dungy","Dunite","Durable","Duskish","Dusky","Dusty","Duteous","Dutiful","Dwarfed","Dwarven","Dyable","Dying","Dynamic","Eager","Earnest","Earth","Earthen","Earthly","Earthy","Easeful","Eastern","Easy","Eatable","Eaved","Ebony","Edgy","Edible","Eerie","Effete","Elastic","Elated","Elder","Elderly","Elegant","Elfin","Elfish","Elite","Elmy","Elusive","Elvish","Embolic","Emerald","Emersed","Eminent","Emo","Emotive","Emptied","Empty","Endemic","Endless","Endowed","Engaged","Enraged","Enrapt","Entire","Envious","Eonian","Epoxy","Equable","Equal","Equine","Erect","Ermined","Erosive","Errable","Erratic","Eternal","Ethical","Ethnic","Evasive","Even","Evident","Evil","Evolved","Exact","Exalted","Excess","Excited","Exotic","Expert","Exposed","Extinct","Extra","Extreme","Eyeable","Fab","Fabled","Fabric","Facial","Facile","Fadable","Faded","Faint","Fair","Fairish","Fake","Famed","Famous","Fancy","Far","Fascist","Fast","Fat","Fatlike","Fatal","Fatlike","Fattish","Fatty","Faulty","Fawning","Fearful","Feather","Federal","Feeble","Feisty","Fel","Feline","Fellow","Felt","Female","Femoral","Feral","Fermium","Ferny","Ferrety","Ferric","Ferrous","Fertile","Fervent","Fervid","Festive","Fetid","Feudal","Fibered","Fibre","Fibroid","Fibrous","Fickle","Fidgety","Fierce","Fiery","Filched","Filthy","Finable","Final","Fine","Finical","Finicky","Firm","First","Fiscal","Fishy","Fit","Fixable","Fixed","Fizzy","Flabby","Flaky","Flaming","Flamy","Flannel","Flashy","Flat","Flaunty","Flax","Flayed","Fleece","Fleecy","Fleshly","Fleshy","Flighty","Flimsy","Flinty","Flirty","Floaty","Floppy","Floral","Florid","Floury","Flowery","Fluent","Fluffy","Fluid","Fluidal","Fluidic","Flushed","Flyable","Flying","Foamy","Fogged","Foggy","Foil","Fond","Foolish","Footed","Foreign","Forest","Forlorn","Formal","Former","Forworn","Foulard","Foxlike","Foxy","Fozy","Fragile","Frail","Frank","Frantic","Freaky","Freckly","Free","Fresh","Fretful","Frigid","Frilly","Frisky","Frizzly","Frizzy","Frogged","Froggy","Front","Frosted","Frosty","Frothy","Frousy","Frouzy","Frowsy","Frowzy","Frozen","Frugal","Fruited","Fruity","Fuchsia","Full","Fun","Fungal","Fungic","Fungoid","Fungous","Fungus","Funny","Fur","Furious","Furred","Furry","Furtive","Fusible","Fussy","Futile","Future","Fuzzy","Gabby","Gadgety","Gallant","Gamboge","Gammy","Gamy","Gangly","Garish","Garnet","Gaseous","Gassy","Gastric","Gauche","Gaudy","Gaunt","Gauze","Gauzy","Gem","Gemmy","General","Generic","Genetic","Genial","Genius","Gentile","Gentle","Gentled","Genuine","Geode","Ghast","Ghastly","Ghetto","Ghostly","Giant","Giddied","Giddy","Gifted","Giggly","Girlish","Girly","Glacial","Glad","Glass","Glassy","Glazed","Gleeful","Global","Gloomy","Glossy","Glowing","Gluey","Glum","Gluteal","Gnarled","Gnarly","Gnatty","Gnomic","Gnomish","Godless","Godlike","Godly","Godsent","Gold","Golden","Good","Goodish","Goodly","Gooey","Goofy","Gossipy","Gothic","Grained","Grainy","Grand","Granite","Grapey","Graphic","Grapy","Grassy","Gratis","Grave","Gray","Grayish","Greasy","Great","Greedy","Green","Greisen","Grey","Greyish","Grilled","Grim","Grisly","Groggy","Groovy","Gross","Grouchy","Grown","Grownup","Grubby","Grumpy","Grusome","Guerdon","Guilty","Gummous","Gummy","Gunshy","Gushy","Gutless","Gutsy","Gypsum","Hairy","Half","Halite","Handy","Hapless","Happy","Hard","Harmful","Harsh","Hassium","Hasty","Hated","Hateful","Haughty","Haunted","Hawkish","Haywire","Hazy","Head","Healthy","Heated","Heathen","Heavy","Heedful","Heinous","Helpful","Hemp","Hennish","Herbal","Herby","Heroic","Hessian","Hexadic","Hexed","Hick","Hidden","Hideous","High","Hilly","Hip","Hippy","Hogged","Hoggish","Hoglike","Hollow","Holy","Homely","Homey","Honest","Honeyed","Hopeful","Hopping","Hornmad","Horrid","Horsey","Horsy","Hostile","Hot","Houndy","Huge","Hulky","Human","Humane","Humble","Humbled","Humdrum","Humid","Hungry","Hurried","Hurt","Hurtful","Hygenic","Iambic","Ice","Icecold","Iced","Icicled","Icky","Iconic","Icy","Ideal","Idiotic","Idle","Idled","Idling","Igneous","Ignoble","Ignored","Ill","Illbred","Illegal","Illicit","Immense","Immoral","Immune","Impious","Impish","Inborn","Inbred","Indigo","Indoor","Inept","Infirm","Inhuman","Initial","Injured","Inky","Inland","Inner","Insane","Inside","Insipid","Instant","Insured","Intact","Intense","Inverse","Ionic","Irate","Irksome","Ironic","Isleted","Isotope","Itching","Itchy","Ivory","Jade","Jaded","Jadeite","Jadish","Jagged","Jaunty","Jazzy","Jealous","Jellied","Jestful","Jesting","Jet","Jewel","Jittery","Jobless","Jocund","Joking","Jolly","Jovial","Joyful","Joyless","Joyous","Juice","Juiced","Juicy","Jumping","Jumpy","Junior","Just","Jute","Juvenal","Kaolin","Kaput","Karmic","Keen","Ketonic","Key","Khaki","Kilted","Kind","Kindly","Kinetic","Kingly","Kitschy","Klepto","Klutzy","Knavish","Knitted","Knotted","Knotty","Knowing","Known","Kooky","Kosher","Kunzite","Kyanite","Lace","Laconic","Lacquer","Lacy","Ladyish","Lagging","Lame","Lapis","Lardy","Large","Largish","Larval","Last","Late","Lavish","Lawful","Lawless","Lawlike","Lax","Lazy","Lazyish","Leachy","Lead","Leading","Leady","Leafed","Leafy","Lean","Learned","Leather","Leery","Left","Leftist","Legal","Legged","Leggy","Legible","Legless","Lemon","Lemony","Lengthy","Leprous","Lethal","Level","Lexical","Liable","Liberal","Light","Lighted","Lignite","Likable","Like","Liked","Likely","Lilac","Lime","Limpid","Limping","Limy","Linear","Linen","Lineny","Linty","Lionly","Liquid","Literal","Lithe","Little","Live","Lively","Livid","Living","Loath","Local","Logical","Lonely","Long","Longish","Looney","Loony","Loopy","Lost","Lousy","Loutish","Lovable","Loved","Lovely","Loving","Low","Lowcost","Lowfat","Lowkey","Lowborn","Lowbred","Lowish","Lowly","Loyal","Lucid","Lucky","Lumpish","Lumpy","Lunar","Lunatic","Lunies","Luny","Lupine","Lush","Lying","Lyrical","Macabre","Macho","Mad","Maddish","Magenta","Magic","Magical","Main","Maize","Major","Male","Mammoth","Manmade","Manic","Manlike","Manly","Marble","Marine","Marital","Marked","Maroon","Married","Marshy","Masonic","Massive","Master","Mature","Maudlin","Mauve","Maximum","Maxixe","Meagre","Mean","Measled","Measly","Meaty","Medical","Medium","Meek","Mega","Mellow","Melodic","Melting","Menial","Mental","Mere","Merry","Messy","Metal","Mica","Mid","Middle","Mighty","Mild","Milky","Minced","Mindful","Mini","Minimal","Minimum","Minor","Minute","Mirky","Miry","Miserly","Missing","Misty","Mobile","Modern","Modest","Modish","Moist","Moody","Moonish","Moonlit","Moony","Mopey","Moral","Morbid","Moronic","Morose","Mossy","Moudly","Mousey","Mousy","Moving","Mucky","Muddled","Muddy","Mundane","Murky","Mushy","Musical","Mustard","Mutant","Mutated","Mutual","Muzzled","Myopic","Myrtle","Naggish","Naggy","Naive","Narrow","Nasty","Natant","Native","Natural","Naughty","Naval","Navy","Near","Nearby","Neat","Needy","Neon","Nepotic","Nerdy","Nervous","Neutral","New","Newrich","Newborn","Newsy","Next","Nice","Nickel","Nifty","Nimble","Nitro","Noble","Noetic","Noir","Nomadic","Nonfat","Nonstop","Normal","Nosey","Nosy","Notable","Novel","Novice","Nubuck","Nuclear","Nude","Numb","Numbing","Numeric","Nuptial","Nutlike","Nutty","Nylon","Oafish","Obese","Oblong","Obscene","Obtuse","Obvious","Oceanic","Ochre","Odd","Odious","Odorful","Odorous","Offbeat","Ogreish","Oily","Ok","Okay","Old","Olive","Olivine","Olympic","Ominous","Onerous","Oniony","Only","Onyx","Oozy","Opal","Open","Operose","Optic","Optical","Optimal","Orange","Orcish","Ore","Organic","Ornate","Ornery","Other","Outdoor","Outer","Outside","Oval","Overbig","Overdry","Oxygen","Pagan","Painful","Painted","Pale","Palish","Pallid","Panicky","Paper","Papery","Papyral","Parodic","Partial","Passive","Pasty","Patchy","Patient","Pattern","Peach","Peachy","Pear","Pearl","Pearly","Peat","Pebbly","Peckish","Peevish","Peewee","Pelage","Pensive","Peppery","Peppy","Perfect","Perfumy","Peridot","Perkish","Perky","Permier","Pesky","Petaled","Petit","Petite","Pettish","Petty","Phlegmy","Phobic","Phony","Pickled","Picky","Piggish","Pigish","Pine","Pink","Pinkish","Piny","Pious","Piratic","Piscine","Piteous","Pitiful","Pixyish","Placid","Plaid","Plaided","Plain","Plaster","Plastic","Playful","Pleased","Plucky","Plump","Plush","Plushed","Poetic","Polar","Polite","Pompous","Poor","Poorly","Popular","Porcine","Porky","Porous","Portly","Postwar","Postal","Potent","Potty","Powdery","Preachy","Precise","Premium","Pretty","Pricey","Prickly","Prim","Primary","Prime","Printed","Prior","Prissy","Private","Privy","Proper","Prosaic","Proud","Prudent","Prudish","Psychic","Public","Pudgy","Puerile","Puffy","Pumice","Pumpkin","Puny","Pure","Purple","Purply","Putrid","Puzzled","Pygmy","Pyrite","Quaint","Quartz","Queasy","Queenly","Quelled","Quick","Quilted","Rabid","Radiant","Radical","Radium","Radon","Raging","Rainbow","Rainy","Rancid","Rancour","Random","Rapid","Rapt","Rare","Rash","Raskly","Ratlike","Rattish","Raw","Rawhide","Rayon","Ready","Real","Rear","Rebel","Recent","Red","Reddish","Reduced","Reedy","Regal","Regular","Relaxed","Relaxer","Reliant","Renewed","Restful","Resting","Retail","Retired","Revered","Reviled","Rhombic","Ribbony","Rich","Right","Riotous","Ripe","Risky","Ritzy","Rival","Roasted","Robo","Robotic","Robust","Rocky","Roguish","Rookie","Roomy","Ropable","Roseate","Rosy","Rotten","Rough","Round","Rounded","Rowable","Royal","Rubber","Rubbery","Rubbly","Rubied","Ruby","Ruddy","Rude","Ruinous","Ruling","Runic","Running","Runtish","Runty","Rural","Russet","Rust","Rusted","Rustic","Rusty","Rutile","Sacred","Sad","Safe","Sainted","Saintly","Saline","Salmon","Salted","Saltish","Salty","Sand","Sanded","Sandy","Sane","Sangria","Sapient","Sappy","Sassy","Satin","Satiny","Savage","Savoury","Savvy","Scabby","Scaled","Scaley","Scaly","Scared","Scarlet","Scarred","Scary","Scrawny","Scrummy","Scummy","Seared","Seasick","Secret","Secular","Secure","Sedate","Seedy","Seemly","Seismic","Select","Selfish","Semidry","Senile","Senior","Sepia","Septic","Serene","Serge","Serious","Servile","Severe","Sewable","Shabby","Shaded","Shadowy","Shady","Shaggy","Shallow","Shapely","Shared","Sharp","Shaven","Sheer","Shelled","Shelly","Shifty","Shiny","Shocked","Shoddy","Short","Shorted","Shrewd","Shrubby","Shy","Sibling","Sick","Sickly","Sienna","Sighted","Sightly","Silk","Silken","Silky","Silly","Silt","Silty","Silvan","Silver","Silvern","Silvery","Simian","Similar","Simious","Simple","Sincere","Sinful","Single","Sinking","Sinless","Sirenic","Sizable","Sized","Sizy","Skaldic","Skarn","Sketchy","Skilful","Skilled","Skimpy","Skinny","Skyblue","Slate","Slavish","Sleepy","Slender","Slick","Slight","Slim","Slimy","Sloppy","Slow","Sludgy","Slushy","Sly","Small","Smart","Smarty","Smashed","Smelly","Smiling","Smoggy","Smoking","Smoky","Smooth","Smug","Snaky","Snappy","Snazzy","Sneaky","Snide","Snippy","Snively","Snoopy","Snooty","Snoozy","Snotty","Snowy","Snug","Soaked","Soapy","Social","Sodium","Soft","Softish","Soggy","Solar","Sole","Solemn","Solid","Sombre","Some","Songful","Sonic","Soot","Sooty","Sopping","Soppy","Sorry","Soulful","Sound","Soupy","Sour","Soured","Sourish","Spangly","Spare","Sparse","Spatial","Special","Speedy","Sphene","Spheral","Spicey","Spicy","Spidery","Spiky","Spinal","Spined","Spinous","Spiny","Splurgy","Spoiled","Spongy","Spooky","Sporty","Spotted","Spotty","Springy","Spy","Squalid","Square","Squishy","Stable","Stale","Starchy","Starred","Starry","Starved","Static","Statued","Steamy","Steel","Steep","Stellar","Sterile","Sticky","Still","Stingy","Stinky","Stoic","Stoical","Stolen","Stone","Stoned","Stoney","Stony","Stormy","Stout","Strange","Streaky","Strict","Striped","Stripy","Strong","Stuck","Stuckup","Stuffed","Stumpy","Stunty","Stupid","Stylish","Suave","Subdued","Suberin","Sublime","Subtle","Subzero","Sudden","Sudsy","Suede","Sugar","Sugared","Sugary","Sulfur","Sulky","Sullen","Sunlit","Sunny","Super","Superb","Supreme","Surah","Sure","Surly","Surreal","Suspect","Svelte","Swampy","Swanky","Sweated","Sweaty","Sweet","Swift","Swinish","Swirly","Sylphic","Sylphy","Syrupy","Taboo","Tacky","Tactful","Tainted","Talky","Tall","Tame","Tamed","Taming","Tan","Tangled","Tangy","Tanned","Tardy","Tart","Tasty","Taupe","Taurine","Taut","Tawdry","Taxing","Teal","Tearful","Tearing","Teary","Techy","Tedious","Teen","Teenage","Teensy","Teeny","Tekite","Tender","Tense","Tenuous","Terse","Testy","Textile","Thermal","Thick","Thin","Thirsty","Thistle","Thistly","Thorium","Thorny","Thrifty","Tidal","Tidy","Tiff","Timely","Timid","Tin","Tinfoil","Tinned","Tinny","Tinted","Tiny","Tired","Titanic","Toadish","Topaz","Topiary","Torrid","Touchy","Tough","Toxic","Toy","Toylike","Tragic","Trashy","Trendy","Tribal","Tricksy","Tricky","Trivial","Trophic","Tsarist","Tubby","Tuneful","Turbid","Tweed","Tweedy","Twill","Typical","Tzarist","Uber","Ugly","Umbral","Unable","Unadult","Unangry","Unarmed","Unawake","Unaware","Unblued","Uncanny","Uncivic","Uncivil","Unclean","Unclear","Uncouth","Undead","Undyed","Uneasy","Unempty","Unequal","Unfair","Unfired","Unfit","Ungodly","Unhappy","Unholy","Unhuman","Uniform","Unique","Unisex","United","Unjust","Unkempt","Unkind","Unknown","Unlegal","Unlight","Unlit","Unloved","Unlucky","Unlunar","Unnoted","Unpaid","Unquiet","Unread","Unreal","Unregal","Unruly","Unsafe","Unsalty","Unsolar","Unsure","Unsweet","Untidy","Unusual","Unwhite","Unwise","Unwitty","Upbeat","Upper","Uppity","Upright","Upset","Uptight","Uranium","Urban","Urbane","Urgent","Usable","Used","Useful","Useless","Usual","Utopian","Utopic","Vacant","Vacuous","Vague","Vain","Valiant","Valid","Valued","Vanilla","Vapid","Vapory","Vapoury","Varied","Varve","Varying","Vast","Vegan","Vegetal","Veiny","Vellum","Velour","Velvet","Velvety","Venal","Verbose","Vernal","Verymad","Vibrant","Vicious","Vile","Vinyl","Violent","Violet","Violety","Viral","Virile","Visible","Vital","Vivid","Vixenly","Voguish","Voltaic","Volumed","Vulgar","Vulpine","Wacky","Wafery","Wailful","Waiting","Wakeful","Walking","Wanted","Warless","Warlike","Warm","Warmish","Warty","Wary","Waspish","Waspy","Watery","Wavy","Wax","Waxy","Wayward","Weak","Weakish","Weakly","Wealthy","Wearied","Wearing","Wearish","Weary","Webbed","Webby","Wedded","Wee","Weedy","Weeping","Weepy","Weighty","Weird","Welcome","Well","Welloff","Western","Wet","Wettish","Whacky","Wheat","Wheezy","White","Whited","Whitish","Wicked","Wide","Widish","Wieldy","Wifely","Wild","Wilful","Willing","Wily","Wimpy","Winded","Windowy","Windy","Winged","Winning","Winsome","Wintery","Wintry","Wired","Wise","Wised","Wishful","Wispy","Wistful","Witchy","Witless","Witted","Witting","Witty","Woeful","Woesome","Wolfish","Womanly","Wood","Wooded","Wooden","Woodsy","Woody","Wool","Woollen","Woolly","Woozy","Wordy","Working","Wormish","Wormy","Wornout","Worried","Worse","Worthy","Wounded","Wrapped","Wrinkly","Written","Wroth","Yeasty","Yellow","Yester","Yestern","Young","Yummy","Yogic","Zany","Zanyish","Zealous","Zebraic","Zebrine","Zincic","Zincky","Zincoid","Zincous","Zincy","Zippy","Zircon","Zoisite","Zombie"];function Tw(t,e,n){const r=t.slice();return r[24]=e[n],r}function kw(t){let e,n;return e=new Bn({props:{isOpen:!0,$$slots:{default:[Ow]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(t,n){const r={};134217728&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function _w(t){let e,n;return e=new to({props:{path:t[0].t?`users/${t[0].t}`:`users/${t[18].uid}`,log:!0,$$slots:{fallback:[eI,({data:t,ref:e})=>({20:t,21:e}),({data:t,ref:e})=>(t?1048576:0)|(e?2097152:0)],loading:[tI,({data:t,ref:e})=>({20:t,21:e}),({data:t,ref:e})=>(t?1048576:0)|(e?2097152:0)],default:[Zw,({data:t,ref:e})=>({20:t,21:e}),({data:t,ref:e})=>(t?1048576:0)|(e?2097152:0)]},$$scope:{ctx:t}}}),e.$on("data",(function(...e){return t[16](t[18],t[19],...e)})),{c(){Tt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(n,r){t=n;const i={};262145&r&&(i.path=t[0].t?`users/${t[0].t}`:`users/${t[18].uid}`),137625615&r&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function Aw(t){let e;return{c(){e=S("Warning!")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function Nw(t){let e;return{c(){e=S("You are currently signed in as a helper.")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function Cw(t){let e;return{c(){e=S("Sign me out")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function xw(t){let e;return{c(){e=S("Go back")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function Dw(t){let e,n,r,i;return e=new le({props:{color:"danger",$$slots:{default:[Cw]},$$scope:{ctx:t}}}),e.$on("click",(function(){return t[17](t[19])})),r=new le({props:{color:"secondary",$$slots:{default:[xw]},$$scope:{ctx:t}}}),r.$on("click",Vt),{c(){Tt(e.$$.fragment),n=T(),Tt(r.$$.fragment)},m(t,o){kt(e,t,o),w(t,n,o),kt(r,t,o),i=!0},p(n,i){t=n;const o={};134217728&i&&(o.$$scope={dirty:i,ctx:t}),e.$set(o);const a={};134217728&i&&(a.$$scope={dirty:i,ctx:t}),r.$set(a)},i(t){i||(gt(e.$$.fragment,t),gt(r.$$.fragment,t),i=!0)},o(t){vt(e.$$.fragment,t),vt(r.$$.fragment,t),i=!1},d(t){_t(e,t),t&&I(n),_t(r,t)}}}function Ow(t){let e,n,r,i,o,a;return e=new $n({props:{$$slots:{default:[Aw]},$$scope:{ctx:t}}}),r=new pn({props:{$$slots:{default:[Nw]},$$scope:{ctx:t}}}),o=new Gn({props:{$$slots:{default:[Dw]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment),n=T(),Tt(r.$$.fragment),i=T(),Tt(o.$$.fragment)},m(t,s){kt(e,t,s),w(t,n,s),kt(r,t,s),w(t,i,s),kt(o,t,s),a=!0},p(t,n){const i={};134217728&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const a={};134217728&n&&(a.$$scope={dirty:n,ctx:t}),r.$set(a);const s={};134217728&n&&(s.$$scope={dirty:n,ctx:t}),o.$set(s)},i(t){a||(gt(e.$$.fragment,t),gt(r.$$.fragment,t),gt(o.$$.fragment,t),a=!0)},o(t){vt(e.$$.fragment,t),vt(r.$$.fragment,t),vt(o.$$.fragment,t),a=!1},d(t){_t(e,t),t&&I(n),_t(r,t),t&&I(i),_t(o,t)}}}function Rw(t){let e;return{c(){e=S("Warning!")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function Pw(t){let e,n,r=t[18].isAnonymous?"You are being redirected back.":"";return{c(){e=S("This chat is finished. "),n=S(r)},m(t,r){w(t,e,r),w(t,n,r)},p(t,e){262144&e&&r!==(r=t[18].isAnonymous?"You are being redirected back.":"")&&x(n,r)},d(t){t&&I(e),t&&I(n)}}}function Lw(t){let e;return{c(){e=S("Ok")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function Mw(t){let e,n;return e=new le({props:{color:"primary",$$slots:{default:[Lw]},$$scope:{ctx:t}}}),e.$on("click",t[4]),{c(){Tt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(t,n){const r={};134217728&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function Fw(t){let e,n,r,i,o,a;return e=new $n({props:{$$slots:{default:[Rw]},$$scope:{ctx:t}}}),r=new pn({props:{$$slots:{default:[Pw]},$$scope:{ctx:t}}}),o=new Gn({props:{$$slots:{default:[Mw]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment),n=T(),Tt(r.$$.fragment),i=T(),Tt(o.$$.fragment)},m(t,s){kt(e,t,s),w(t,n,s),kt(r,t,s),w(t,i,s),kt(o,t,s),a=!0},p(t,n){const i={};134217728&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const a={};134479872&n&&(a.$$scope={dirty:n,ctx:t}),r.$set(a);const s={};134217728&n&&(s.$$scope={dirty:n,ctx:t}),o.$set(s)},i(t){a||(gt(e.$$.fragment,t),gt(r.$$.fragment,t),gt(o.$$.fragment,t),a=!0)},o(t){vt(e.$$.fragment,t),vt(r.$$.fragment,t),vt(o.$$.fragment,t),a=!1},d(t){_t(e,t),t&&I(n),_t(r,t),t&&I(i),_t(o,t)}}}function Uw(t){let e;return{c(){e=S("Leave Chat")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function Vw(t){let e,n;return e=new le({props:{color:"danger",$$slots:{default:[Bw]},$$scope:{ctx:t}}}),e.$on("click",(function(){return t[11](t[21])})),{c(){Tt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(n,r){t=n;const i={};134217728&r&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function Bw(t){let e;return{c(){e=S("End Chat")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function jw(t){let e,n,r,i;e=new le({props:{color:"danger",$$slots:{default:[Uw]},$$scope:{ctx:t}}}),e.$on("click",(function(){return t[10](t[19])}));let o=1==t[0].u&&!t[20].isFinished&&Vw(t);return{c(){Tt(e.$$.fragment),n=T(),o&&o.c(),r=k()},m(t,a){kt(e,t,a),w(t,n,a),o&&o.m(t,a),w(t,r,a),i=!0},p(n,i){t=n;const a={};134217728&i&&(a.$$scope={dirty:i,ctx:t}),e.$set(a),1!=t[0].u||t[20].isFinished?o&&(mt(),vt(o,1,1,(()=>{o=null})),yt()):o?(o.p(t,i),1048577&i&&gt(o,1)):(o=Vw(t),o.c(),gt(o,1),o.m(r.parentNode,r))},i(t){i||(gt(e.$$.fragment,t),gt(o),i=!0)},o(t){vt(e.$$.fragment,t),vt(o),i=!1},d(t){_t(e,t),t&&I(n),o&&o.d(t),t&&I(r)}}}function qw(t){let e,n=t[24].text+"";return{c(){e=S(n)},m(t,n){w(t,e,n)},p(t,r){4194304&r&&n!==(n=t[24].text+"")&&x(e,n)},d(t){t&&I(e)}}}function Gw(t){let e,n=(t[24].time?t[24].time.toDate().toLocaleTimeString():"...")+"";return{c(){e=S(n)},m(t,n){w(t,e,n)},p(t,r){4194304&r&&n!==(n=(t[24].time?t[24].time.toDate().toLocaleTimeString():"...")+"")&&x(e,n)},d(t){t&&I(e)}}}function Ww(t){let e,n,r,i,o;return e=new ye({props:{$$slots:{default:[qw]},$$scope:{ctx:t}}}),r=new be({props:{$$slots:{default:[Gw]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment),n=T(),Tt(r.$$.fragment),i=T()},m(t,a){kt(e,t,a),w(t,n,a),kt(r,t,a),w(t,i,a),o=!0},p(t,n){const i={};138412032&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const o={};138412032&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(t){o||(gt(e.$$.fragment,t),gt(r.$$.fragment,t),o=!0)},o(t){vt(e.$$.fragment,t),vt(r.$$.fragment,t),o=!1},d(t){_t(e,t),t&&I(n),_t(r,t),t&&I(i)}}}function Kw(t){let e,n;return e=new de({props:{style:"\n                  border-bottom-"+(t[24].person==t[18].isAnonymous?"left":"right")+"-radius: 0rem !important;\n                  margin-left: "+(t[24].person==t[18].isAnonymous?"0":"auto")+";\n                ",color:t[24].person==t[18].isAnonymous?"primary":"secondary",inverse:!0,class:"msg",$$slots:{default:[Ww]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(t,n){const r={};4456448&n&&(r.style="\n                  border-bottom-"+(t[24].person==t[18].isAnonymous?"left":"right")+"-radius: 0rem !important;\n                  margin-left: "+(t[24].person==t[18].isAnonymous?"0":"auto")+";\n                "),4456448&n&&(r.color=t[24].person==t[18].isAnonymous?"primary":"secondary"),138412032&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function zw(t){let e;return{c(){e=S("Send")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function Hw(t){let e,n,r,i,o,a;function s(e){t[13](e)}let u={placeholder:"Message"};return void 0!==t[1]&&(u.value=t[1]),e=new en({props:u}),J.push((()=>St(e,"value",s))),e.$on("keyup",(function(...e){return t[14](t[23],t[18],t[20],t[21],...e)})),o=new le({props:{$$slots:{default:[zw]},$$scope:{ctx:t}}}),o.$on("click",(function(){return t[15](t[23],t[18],t[20],t[21])})),{c(){Tt(e.$$.fragment),r=T(),i=E("div"),Tt(o.$$.fragment),A(i,"class","input-group-append")},m(t,n){kt(e,t,n),w(t,r,n),w(t,i,n),kt(o,i,null),a=!0},p(r,i){t=r;const a={};!n&&2&i&&(n=!0,a.value=t[1],at((()=>n=!1))),e.$set(a);const s={};134217728&i&&(s.$$scope={dirty:i,ctx:t}),o.$set(s)},i(t){a||(gt(e.$$.fragment,t),gt(o.$$.fragment,t),a=!0)},o(t){vt(e.$$.fragment,t),vt(o.$$.fragment,t),a=!1},d(t){_t(e,t),t&&I(r),t&&I(i),_t(o)}}}function Qw(t){let e,n;return e=new on({props:{$$slots:{default:[Hw]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(t,n){const r={};134217730&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function Xw(t){let e,n,r,i,o,a,s;n=new Te({props:{class:"text-center",$$slots:{default:[jw]},$$scope:{ctx:t}}});let u=t[22],c=[];for(let e=0;e<u.length;e+=1)c[e]=Kw(Tw(t,u,e));const l=t=>vt(c[t],1,1,(()=>{c[t]=null}));return a=new Te({props:{id:"sendbox",$$slots:{default:[Qw]},$$scope:{ctx:t}}}),{c(){e=E("div"),Tt(n.$$.fragment),r=T(),i=E("div");for(let t=0;t<c.length;t+=1)c[t].c();o=T(),Tt(a.$$.fragment),A(i,"id","messages"),A(i,"class","svelte-t0dahc"),A(e,"id","chat"),A(e,"class","svelte-t0dahc")},m(u,l){w(u,e,l),kt(n,e,null),b(e,r),b(e,i);for(let t=0;t<c.length;t+=1)c[t].m(i,null);t[12](i),b(e,o),kt(a,e,null),s=!0},p(t,e){const r={};if(135266305&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r),4456448&e){let n;for(u=t[22],n=0;n<u.length;n+=1){const r=Tw(t,u,n);c[n]?(c[n].p(r,e),gt(c[n],1)):(c[n]=Kw(r),c[n].c(),gt(c[n],1),c[n].m(i,null))}for(mt(),n=u.length;n<c.length;n+=1)l(n);yt()}const o={};134217730&e&&(o.$$scope={dirty:e,ctx:t}),a.$set(o)},i(t){if(!s){gt(n.$$.fragment,t);for(let t=0;t<u.length;t+=1)gt(c[t]);gt(a.$$.fragment,t),s=!0}},o(t){vt(n.$$.fragment,t),c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)vt(c[t]);vt(a.$$.fragment,t),s=!1},d(r){r&&I(e),_t(n),$(c,r),t[12](null),_t(a)}}}function Yw(t){let e;return{c(){e=E("div"),e.textContent="Loading...",A(e,"slot","loading")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function Jw(t){let e;return{c(){e=E("div"),e.textContent="There was an error getting messages. Try refreshing.",A(e,"slot","fallback")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function Zw(t){let e,n,r,i;return e=new Bn({props:{fade:!1,isOpen:t[3],toggle:t[4],$$slots:{default:[Fw]},$$scope:{ctx:t}}}),r=new go({props:{path:t[21].collection("messages"),query:fI,log:!0,$$slots:{fallback:[Jw,({data:t,ref:e})=>({22:t,23:e}),({data:t,ref:e})=>(t?4194304:0)|(e?8388608:0)],loading:[Yw,({data:t,ref:e})=>({22:t,23:e}),({data:t,ref:e})=>(t?4194304:0)|(e?8388608:0)],default:[Xw,({data:t,ref:e})=>({22:t,23:e}),({data:t,ref:e})=>(t?4194304:0)|(e?8388608:0)]},$$scope:{ctx:t}}}),r.$on("data",t[6]),{c(){Tt(e.$$.fragment),n=T(),Tt(r.$$.fragment)},m(t,o){kt(e,t,o),w(t,n,o),kt(r,t,o),i=!0},p(t,n){const i={};8&n&&(i.isOpen=t[3]),134479872&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const o={};2097152&n&&(o.path=t[21].collection("messages")),139722759&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(t){i||(gt(e.$$.fragment,t),gt(r.$$.fragment,t),i=!0)},o(t){vt(e.$$.fragment,t),vt(r.$$.fragment,t),i=!1},d(t){_t(e,t),t&&I(n),_t(r,t)}}}function tI(t){let e;return{c(){e=E("div"),e.textContent="Loading...",A(e,"slot","loading")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function eI(t){let e,n,r,i=t[21].set({isFinished:!1,isChatting:!1,name:hI(Sw)+" "+hI(Ew),timeCreated:pa.firestore.FieldValue.serverTimestamp()})+"";return{c(){e=E("div"),n=S("Creating account...\n          "),r=S(i),A(e,"slot","fallback")},m(t,i){w(t,e,i),b(e,n),b(e,r)},p(t,e){2097152&e&&i!==(i=t[21].set({isFinished:!1,isChatting:!1,name:hI(Sw)+" "+hI(Ew),timeCreated:pa.firestore.FieldValue.serverTimestamp()})+"")&&x(r,i)},d(t){t&&I(e)}}}function nI(t){let e,n,r,i;const o=[_w,kw],a=[];function s(t,e){return t[18].isAnonymous||1==t[0].u?0:1}return e=s(t),n=a[e]=o[e](t),{c(){n.c(),r=k()},m(t,n){a[e].m(t,n),w(t,r,n),i=!0},p(t,i){let u=e;e=s(t),e===u?a[e].p(t,i):(mt(),vt(a[u],1,1,(()=>{a[u]=null})),yt(),n=a[e],n?n.p(t,i):(n=a[e]=o[e](t),n.c()),gt(n,1),n.m(r.parentNode,r))},i(t){i||(gt(n),i=!0)},o(t){vt(n),i=!1},d(t){a[e].d(t),t&&I(r)}}}function rI(e){let n,r,i=Hr.warning+"";return{c(){r=k(),n=new M(r)},m(t,e){n.m(i,t,e),w(t,r,e)},p:t,d(t){t&&I(r),t&&n.d()}}}function iI(e){let n,r,i=Hr.matchMeNow+"";return{c(){r=k(),n=new M(r)},m(t,e){n.m(i,t,e),w(t,r,e)},p:t,d(t){t&&I(r),t&&n.d()}}}function oI(t){let e,n;return e=new le({props:{$$slots:{default:[iI]},$$scope:{ctx:t}}}),e.$on("click",(function(){return t[9](t[19])})),{c(){Tt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(n,r){t=n;const i={};134217728&r&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function aI(t){let e,n,r,i;return e=new mr({props:{$$slots:{default:[rI]},$$scope:{ctx:t}}}),r=new mr({props:{class:"d-block text-center",$$slots:{default:[oI]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment),n=T(),Tt(r.$$.fragment)},m(t,o){kt(e,t,o),w(t,n,o),kt(r,t,o),i=!0},p(t,n){const i={};134217728&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const o={};134217728&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(t){i||(gt(e.$$.fragment,t),gt(r.$$.fragment,t),i=!0)},o(t){vt(e.$$.fragment,t),vt(r.$$.fragment,t),i=!1},d(t){_t(e,t),t&&I(n),_t(r,t)}}}function sI(t){let e,n,r;return n=new un({props:{$$slots:{default:[aI]},$$scope:{ctx:t}}}),{c(){e=E("div"),Tt(n.$$.fragment),A(e,"slot","signed-out")},m(t,i){w(t,e,i),kt(n,e,null),r=!0},p(t,e){const r={};134217728&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(gt(n.$$.fragment,t),r=!0)},o(t){vt(n.$$.fragment,t),r=!1},d(t){t&&I(e),_t(n)}}}function uI(t){let e,n;return e=new Ri({props:{$$slots:{"signed-out":[sI,({user:t,auth:e})=>({18:t,19:e}),({user:t,auth:e})=>(t?262144:0)|(e?524288:0)],default:[nI,({user:t,auth:e})=>({18:t,19:e}),({user:t,auth:e})=>(t?262144:0)|(e?524288:0)]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(t,n){const r={};134479887&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function cI(t){let e,n;return e=new bi({props:{firebase:pa,$$slots:{default:[uI]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(t,[n]){const r={};134217743&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}async function lI(t){await t.signOut()}function hI(t){return t[Math.floor(Math.random()*t.length)]}const fI=t=>t.orderBy("time");function dI(t,e,n){let r,i,{params:o}=e;console.log(o);let a=!1;const s=()=>n(3,a=!a);async function u(t,e,i,o,a){""!==t&&(o.isChatting||i||await a.update({isChatting:!0}),e.doc().set({person:i?0:1,text:t,time:pa.firestore.FieldValue.serverTimestamp()}),n(1,r=""))}function c(t){console.log("Leaving chat as anon"),setTimeout((async()=>{await lI(t),await Ut("/"),console.log("Leaving")}),3e3)}function l(t,e,n){t?.isFinished&&(s(),e&&c(n))}return t.$$set=t=>{"params"in t&&n(0,o=t.params)},[o,r,i,a,s,u,async function(){await it(),i&&i.scrollTo({top:i.scrollHeight,left:0,behavior:"smooth"}),console.log("Scrolling")},c,l,t=>t.signInAnonymously(),t=>o.u?Vt():s()&&c(t),t=>async function(t){await t.update({isFinished:!0})}(t),function(t){J[t?"unshift":"push"]((()=>{i=t,n(2,i)}))},function(t){r=t,n(1,r)},(t,e,n,i,o)=>"Enter"===o.key&&u(r,t,e.isAnonymous,n,i),(t,e,n,i)=>u(r,t,e.isAnonymous,n,i),(t,e,n)=>l(n.detail.data,t.isAnonymous,e),t=>lI(t)]}class pI extends Nt{constructor(t){super(),At(this,t,dI,cI,s,{params:0})}}function mI(e){let n;return{c(){n=E("h1"),n.textContent="About Page"},m(t,e){w(t,n,e)},p:t,i:t,o:t,d(t){t&&I(n)}}}class yI extends Nt{constructor(t){super(),At(this,t,null,mI,s,{})}}function gI(e){let n,r=Kr.title+"";return{c(){n=S(r)},m(t,e){w(t,n,e)},p:t,d(t){t&&I(n)}}}function vI(e){let n,r=Kr.home+"";return{c(){n=S(r)},m(t,e){w(t,n,e)},p:t,d(t){t&&I(n)}}}function bI(t){let e,n;return e=new or({props:{href:"#/",$$slots:{default:[vI]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function wI(e){let n,r=Kr.chatNow+"";return{c(){n=S(r)},m(t,e){w(t,n,e)},p:t,d(t){t&&I(n)}}}function II(t){let e,n;return e=new or({props:{href:"#/chat",$$slots:{default:[wI]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function $I(e){let n,r=Kr.login+"";return{c(){n=S(r)},m(t,e){w(t,n,e)},p:t,d(t){t&&I(n)}}}function EI(t){let e,n;return e=new or({props:{href:"#/login",$$slots:{default:[$I]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function SI(t){let e,n,r,i,o,a;return e=new nr({props:{$$slots:{default:[bI]},$$scope:{ctx:t}}}),r=new nr({props:{$$slots:{default:[II]},$$scope:{ctx:t}}}),o=new nr({props:{$$slots:{default:[EI]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment),n=T(),Tt(r.$$.fragment),i=T(),Tt(o.$$.fragment)},m(t,s){kt(e,t,s),w(t,n,s),kt(r,t,s),w(t,i,s),kt(o,t,s),a=!0},p(t,n){const i={};8&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const a={};8&n&&(a.$$scope={dirty:n,ctx:t}),r.$set(a);const s={};8&n&&(s.$$scope={dirty:n,ctx:t}),o.$set(s)},i(t){a||(gt(e.$$.fragment,t),gt(r.$$.fragment,t),gt(o.$$.fragment,t),a=!0)},o(t){vt(e.$$.fragment,t),vt(r.$$.fragment,t),vt(o.$$.fragment,t),a=!1},d(t){_t(e,t),t&&I(n),_t(r,t),t&&I(i),_t(o,t)}}}function TI(t){let e,n;return e=new zn({props:{class:"ml-auto",navbar:!0,$$slots:{default:[SI]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function kI(t){let e,n,r,i,o,a;return e=new ur({props:{href:"/",$$slots:{default:[gI]},$$scope:{ctx:t}}}),r=new fr({}),r.$on("click",t[2]),o=new ee({props:{isOpen:t[0],navbar:!0,expand:"md",$$slots:{default:[TI]},$$scope:{ctx:t}}}),o.$on("update",t[1]),{c(){Tt(e.$$.fragment),n=T(),Tt(r.$$.fragment),i=T(),Tt(o.$$.fragment)},m(t,s){kt(e,t,s),w(t,n,s),kt(r,t,s),w(t,i,s),kt(o,t,s),a=!0},p(t,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const i={};1&n&&(i.isOpen=t[0]),8&n&&(i.$$scope={dirty:n,ctx:t}),o.$set(i)},i(t){a||(gt(e.$$.fragment,t),gt(r.$$.fragment,t),gt(o.$$.fragment,t),a=!0)},o(t){vt(e.$$.fragment,t),vt(r.$$.fragment,t),vt(o.$$.fragment,t),a=!1},d(t){_t(e,t),t&&I(n),_t(r,t),t&&I(i),_t(o,t)}}}function _I(t){let e,n;return e=new Zn({props:{color:"primary",dark:!0,expand:"md",class:"fixed-top",$$slots:{default:[kI]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(t,[n]){const r={};9&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function AI(t,e,n){let r=!1;return[r,function(t){n(0,r=t.detail.isOpen)},()=>n(0,r=!r)]}class NI extends Nt{constructor(t){super(),At(this,t,AI,_I,s,{})}}function CI(e){let n,r=Ut("/dash")+"";return{c(){n=S(r)},m(t,e){w(t,n,e)},p:t,i:t,o:t,d(t){t&&I(n)}}}function xI(t){let e,n;return e=new Bn({props:{isOpen:!0,$$slots:{default:[MI]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(t,n){const r={};4096&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function DI(t){let e;return{c(){e=S("Warning!")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function OI(t){let e;return{c(){e=S("You are currently signed in to an anonymous chat session.")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function RI(t){let e;return{c(){e=S("Sign me out")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function PI(t){let e;return{c(){e=S("Go back")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function LI(t){let e,n,r,i;return e=new le({props:{color:"danger",$$slots:{default:[RI]},$$scope:{ctx:t}}}),e.$on("click",(function(){return t[9](t[11])})),r=new le({props:{color:"secondary",$$slots:{default:[PI]},$$scope:{ctx:t}}}),r.$on("click",Vt),{c(){Tt(e.$$.fragment),n=T(),Tt(r.$$.fragment)},m(t,o){kt(e,t,o),w(t,n,o),kt(r,t,o),i=!0},p(n,i){t=n;const o={};4096&i&&(o.$$scope={dirty:i,ctx:t}),e.$set(o);const a={};4096&i&&(a.$$scope={dirty:i,ctx:t}),r.$set(a)},i(t){i||(gt(e.$$.fragment,t),gt(r.$$.fragment,t),i=!0)},o(t){vt(e.$$.fragment,t),vt(r.$$.fragment,t),i=!1},d(t){_t(e,t),t&&I(n),_t(r,t)}}}function MI(t){let e,n,r,i,o,a;return e=new $n({props:{$$slots:{default:[DI]},$$scope:{ctx:t}}}),r=new pn({props:{$$slots:{default:[OI]},$$scope:{ctx:t}}}),o=new Gn({props:{$$slots:{default:[LI]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment),n=T(),Tt(r.$$.fragment),i=T(),Tt(o.$$.fragment)},m(t,s){kt(e,t,s),w(t,n,s),kt(r,t,s),w(t,i,s),kt(o,t,s),a=!0},p(t,n){const i={};4096&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const a={};4096&n&&(a.$$scope={dirty:n,ctx:t}),r.$set(a);const s={};4096&n&&(s.$$scope={dirty:n,ctx:t}),o.$set(s)},i(t){a||(gt(e.$$.fragment,t),gt(r.$$.fragment,t),gt(o.$$.fragment,t),a=!0)},o(t){vt(e.$$.fragment,t),vt(r.$$.fragment,t),vt(o.$$.fragment,t),a=!1},d(t){_t(e,t),t&&I(n),_t(r,t),t&&I(i),_t(o,t)}}}function FI(t){let e,n,r,i;const o=[xI,CI],a=[];function s(t,e){return t[10].isAnonymous?0:1}return e=s(t),n=a[e]=o[e](t),{c(){n.c(),r=k()},m(t,n){a[e].m(t,n),w(t,r,n),i=!0},p(t,i){let u=e;e=s(t),e===u?a[e].p(t,i):(mt(),vt(a[u],1,1,(()=>{a[u]=null})),yt(),n=a[e],n?n.p(t,i):(n=a[e]=o[e](t),n.c()),gt(n,1),n.m(r.parentNode,r))},i(t){i||(gt(n),i=!0)},o(t){vt(n),i=!1},d(t){a[e].d(t),t&&I(r)}}}function UI(t){let e;return{c(){e=S("Warning!")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function VI(t){let e;return{c(){e=S(t[3])},m(t,n){w(t,e,n)},p(t,n){8&n&&x(e,t[3])},d(t){t&&I(e)}}}function BI(t){let e;return{c(){e=S("Ok")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function jI(t){let e;return{c(){e=S("Close")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function qI(t){let e,n,r,i;return e=new le({props:{color:"primary",$$slots:{default:[BI]},$$scope:{ctx:t}}}),e.$on("click",t[4]),r=new le({props:{color:"secondary",$$slots:{default:[jI]},$$scope:{ctx:t}}}),r.$on("click",t[4]),{c(){Tt(e.$$.fragment),n=T(),Tt(r.$$.fragment)},m(t,o){kt(e,t,o),w(t,n,o),kt(r,t,o),i=!0},p(t,n){const i={};4096&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const o={};4096&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(t){i||(gt(e.$$.fragment,t),gt(r.$$.fragment,t),i=!0)},o(t){vt(e.$$.fragment,t),vt(r.$$.fragment,t),i=!1},d(t){_t(e,t),t&&I(n),_t(r,t)}}}function GI(t){let e,n,r,i,o,a;return e=new $n({props:{$$slots:{default:[UI]},$$scope:{ctx:t}}}),r=new pn({props:{$$slots:{default:[VI]},$$scope:{ctx:t}}}),o=new Gn({props:{$$slots:{default:[qI]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment),n=T(),Tt(r.$$.fragment),i=T(),Tt(o.$$.fragment)},m(t,s){kt(e,t,s),w(t,n,s),kt(r,t,s),w(t,i,s),kt(o,t,s),a=!0},p(t,n){const i={};4096&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const a={};4104&n&&(a.$$scope={dirty:n,ctx:t}),r.$set(a);const s={};4096&n&&(s.$$scope={dirty:n,ctx:t}),o.$set(s)},i(t){a||(gt(e.$$.fragment,t),gt(r.$$.fragment,t),gt(o.$$.fragment,t),a=!0)},o(t){vt(e.$$.fragment,t),vt(r.$$.fragment,t),vt(o.$$.fragment,t),a=!1},d(t){_t(e,t),t&&I(n),_t(r,t),t&&I(i),_t(o,t)}}}function WI(t){let e;return{c(){e=S("Sign In")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function KI(t){let e,n,r,i,o,a,s,u,c,l,h,f,d,p,m,y,g;function v(e){t[6](e)}n=new Bn({props:{isOpen:t[2],toggle:t[4],$$slots:{default:[GI]},$$scope:{ctx:t}}});let $={style:"border-bottom-left-radius: 0; border-bottom-right-radius: 0; margin-bottom: -1px;",type:"email",name:"email",placeholder:"Email "};function S(e){t[7](e)}void 0!==t[0]&&($.value=t[0]),l=new en({props:$}),J.push((()=>St(l,"value",v)));let k={style:"border-top-left-radius: 0; border-top-right-radius: 0; margin-bottom: 15px;",type:"password",name:"pass",placeholder:"Password "};return void 0!==t[1]&&(k.value=t[1]),d=new en({props:k}),J.push((()=>St(d,"value",S))),y=new le({props:{style:"width: 100%",color:"primary",$$slots:{default:[WI]},$$scope:{ctx:t}}}),y.$on("click",(function(){return t[8](t[11])})),{c(){e=E("div"),Tt(n.$$.fragment),r=T(),i=E("div"),o=E("img"),s=T(),u=E("h3"),u.textContent="Please Sign In",c=T(),Tt(l.$$.fragment),f=T(),Tt(d.$$.fragment),m=T(),Tt(y.$$.fragment),o.src!==(a="./favicon.png")&&A(o,"src","./favicon.png"),A(o,"alt","School Icon"),A(i,"id","form"),A(i,"class","svelte-12q354r"),A(e,"slot","signed-out"),A(e,"class","text-center"),O(e,"display","flex"),O(e,"height","100%")},m(t,a){w(t,e,a),kt(n,e,null),b(e,r),b(e,i),b(i,o),b(i,s),b(i,u),b(i,c),kt(l,i,null),b(i,f),kt(d,i,null),b(i,m),kt(y,i,null),g=!0},p(e,r){t=e;const i={};4&r&&(i.isOpen=t[2]),4104&r&&(i.$$scope={dirty:r,ctx:t}),n.$set(i);const o={};!h&&1&r&&(h=!0,o.value=t[0],at((()=>h=!1))),l.$set(o);const a={};!p&&2&r&&(p=!0,a.value=t[1],at((()=>p=!1))),d.$set(a);const s={};4096&r&&(s.$$scope={dirty:r,ctx:t}),y.$set(s)},i(t){g||(gt(n.$$.fragment,t),gt(l.$$.fragment,t),gt(d.$$.fragment,t),gt(y.$$.fragment,t),g=!0)},o(t){vt(n.$$.fragment,t),vt(l.$$.fragment,t),vt(d.$$.fragment,t),vt(y.$$.fragment,t),g=!1},d(t){t&&I(e),_t(n),_t(l),_t(d),_t(y)}}}function zI(t){let e,n;return e=new Ri({props:{$$slots:{"signed-out":[KI,({user:t,auth:e})=>({10:t,11:e}),({user:t,auth:e})=>(t?1024:0)|(e?2048:0)],default:[FI,({user:t,auth:e})=>({10:t,11:e}),({user:t,auth:e})=>(t?1024:0)|(e?2048:0)]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(t,n){const r={};5135&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function HI(t){let e,n;return e=new bi({props:{firebase:pa,$$slots:{default:[zI]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(t,[n]){const r={};4111&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function QI(t,e,n){let r,i,o,a=!1;async function s(t){try{await t.signInWithEmailAndPassword(r,i)}catch(t){n(3,o=t),n(2,a=!0)}}return[r,i,a,o,()=>n(2,a=!a),s,function(t){r=t,n(0,r)},function(t){i=t,n(1,i)},t=>s(t),t=>function(t){t.signOut()}(t)]}class XI extends Nt{constructor(t){super(),At(this,t,QI,HI,s,{})}}function YI(t,e,n){const r=t.slice();return r[5]=e[n],r}function JI(t){let e;return{c(){e=S("Delete")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function ZI(t,e){let n,r,i,o,a,s,u,c,l,h,f,d,p,m,y,g,v,$,k,_,N,C,D=(e[5].name?e[5].name:"No Name")+"",O=(e[5].timeCreated?e[5].timeCreated.toDate().toLocaleString():"...")+"",R=e[5].isChatting?"":"",P=e[5].isFinished?"":"";return _=new le({props:{color:"danger",$$slots:{default:[JI]},$$scope:{ctx:e}}}),_.$on("click",(function(){return e[0](e[5],e[4])})),{key:t,first:null,c(){n=E("tr"),r=E("th"),i=S(D),o=T(),a=E("td"),s=S(O),u=T(),c=E("td"),l=S(R),h=T(),f=E("td"),d=S(P),p=T(),m=E("td"),y=E("a"),g=S("Link"),$=T(),k=E("td"),Tt(_.$$.fragment),N=T(),A(r,"scope","row"),A(y,"href",v="#/chat/1/"+e[5].id),A(y,"class","svelte-1r5h7sm"),this.first=n},m(t,e){w(t,n,e),b(n,r),b(r,i),b(n,o),b(n,a),b(a,s),b(n,u),b(n,c),b(c,l),b(n,h),b(n,f),b(f,d),b(n,p),b(n,m),b(m,y),b(y,g),b(n,$),b(n,k),kt(_,k,null),b(n,N),C=!0},p(t,n){e=t,(!C||8&n)&&D!==(D=(e[5].name?e[5].name:"No Name")+"")&&x(i,D),(!C||8&n)&&O!==(O=(e[5].timeCreated?e[5].timeCreated.toDate().toLocaleString():"...")+"")&&x(s,O),(!C||8&n)&&R!==(R=e[5].isChatting?"":"")&&x(l,R),(!C||8&n)&&P!==(P=e[5].isFinished?"":"")&&x(d,P),(!C||8&n&&v!==(v="#/chat/1/"+e[5].id))&&A(y,"href",v);const r={};256&n&&(r.$$scope={dirty:n,ctx:e}),_.$set(r)},i(t){C||(gt(_.$$.fragment,t),C=!0)},o(t){vt(_.$$.fragment,t),C=!1},d(t){t&&I(n),_t(_)}}}function t$(t){let e,n,r,i,o=[],a=new Map,s=t[3];const u=t=>t[5].id;for(let e=0;e<s.length;e+=1){let n=YI(t,s,e),r=u(n);a.set(r,o[e]=ZI(r,n))}return{c(){e=E("thead"),e.innerHTML="<tr><th>Identifier</th> \n            <th>Time Created</th> \n            <th>Is Chatting</th> \n            <th>Is Finished</th> \n            <th>Link</th> \n            <th>Delete</th></tr>",n=T(),r=E("tbody");for(let t=0;t<o.length;t+=1)o[t].c()},m(t,a){w(t,e,a),w(t,n,a),w(t,r,a);for(let t=0;t<o.length;t+=1)o[t].m(r,null);i=!0},p(t,e){8&e&&(s=t[3],mt(),o=function(t,e,n,r,i,o,a,s,u,c,l,h){let f=t.length,d=o.length,p=f;const m={};for(;p--;)m[t[p].key]=p;const y=[],g=new Map,v=new Map;for(p=d;p--;){const t=h(i,o,p),s=n(t);let u=a.get(s);u?r&&u.p(t,e):(u=c(s,t),u.c()),g.set(s,y[p]=u),s in m&&v.set(s,Math.abs(p-m[s]))}const b=new Set,w=new Set;function I(t){gt(t,1),t.m(s,l),a.set(t.key,t),l=t.first,d--}for(;f&&d;){const e=y[d-1],n=t[f-1],r=e.key,i=n.key;e===n?(l=e.first,f--,d--):g.has(i)?!a.has(r)||b.has(r)?I(e):w.has(i)?f--:v.get(r)>v.get(i)?(w.add(r),I(e)):(b.add(i),f--):(u(n,a),f--)}for(;f--;){const e=t[f];g.has(e.key)||u(e,a)}for(;d;)I(y[d-1]);return y}(o,e,u,1,t,s,a,r,It,ZI,null,YI),yt())},i(t){if(!i){for(let t=0;t<s.length;t+=1)gt(o[t]);i=!0}},o(t){for(let t=0;t<o.length;t+=1)vt(o[t]);i=!1},d(t){t&&I(e),t&&I(n),t&&I(r);for(let t=0;t<o.length;t+=1)o[t].d()}}}function e$(t){let e,n;return e=new Gr({props:{striped:!0,responsive:!0,$$slots:{default:[t$]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(t,n){const r={};264&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function n$(t){let e,n;return e=new go({props:{path:"/users",query:o$,$$slots:{default:[e$,({data:t,ref:e})=>({3:t,4:e}),({data:t,ref:e})=>(t?8:0)|(e?16:0)]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(t,n){const r={};264&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function r$(t){let e,n;return e=new Ri({props:{$$slots:{default:[n$,({user:t,auth:e})=>({1:t,2:e}),({user:t,auth:e})=>(t?2:0)|(e?4:0)]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(t,n){const r={};256&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function i$(t){let e,n;return e=new bi({props:{firebase:pa,$$slots:{default:[r$]},$$scope:{ctx:t}}}),{c(){Tt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(t,[n]){const r={};256&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}const o$=t=>t.orderBy("timeCreated");function a$(t){return[(t,e)=>function(t,e){e.doc(t).delete()}(t.id,e)]}class s$ extends Nt{constructor(t){super(),At(this,t,a$,i$,s,{})}}function u$(e){let n,r,i=Qr.header+"";return{c(){r=k(),n=new M(r)},m(t,e){n.m(i,t,e),w(t,r,e)},p:t,i:t,o:t,d(t){t&&I(r),t&&n.d()}}}function c$(t,e,n){let{params:r}=e;return console.log(`404: '${r.wild}'`),t.$$set=t=>{"params"in t&&n(0,r=t.params)},[r]}class l$ extends Nt{constructor(t){super(),At(this,t,c$,u$,s,{params:0})}}function h$(e){let n,r,i,o,a;return r=new NI({}),o=new jt({props:{routes:e[0]}}),{c(){n=E("nav"),Tt(r.$$.fragment),i=T(),Tt(o.$$.fragment)},m(t,e){w(t,n,e),kt(r,n,null),w(t,i,e),kt(o,t,e),a=!0},p:t,i(t){a||(gt(r.$$.fragment,t),gt(o.$$.fragment,t),a=!0)},o(t){vt(r.$$.fragment,t),vt(o.$$.fragment,t),a=!1},d(t){t&&I(n),_t(r),t&&I(i),_t(o,t)}}}function f$(t){const e={"/":mi,"/chat/:u?/:t?":pI,"/about":yI,"/login":XI,"/dash":s$,"*":l$},n={apiKey:"AIzaSyDpFJ1vMnojgESGXD-yjlQyIXU8GuJNQLA",authDomain:"csachat-9dff3.firebaseapp.com",databaseURL:"https://csachat-9dff3-default-rtdb.firebaseio.com",projectId:"csachat-9dff3",storageBucket:"csachat-9dff3.appspot.com",messagingSenderId:"384915371882",appId:"1:384915371882:web:2a14a7141b635d69381713"};return pa.apps.length||pa.initializeApp(n),[e]}return new class extends Nt{constructor(t){super(),At(this,t,f$,h$,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
