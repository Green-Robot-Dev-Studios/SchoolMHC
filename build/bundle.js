var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(r)}function s(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function c(t,e,n,r){if(t){const i=h(t,e,n,r);return t[0](i)}}function h(t,e,r,i){return t[1]&&i?n(r.ctx.slice(),t[1](i(e))):r.ctx}function l(t,e,n,r,i,o,s){const a=function(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}(e,r,i,o);if(a){const i=h(e,n,r,s);t.p(i,a)}}function f(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function p(t,e){const n={};e=new Set(e);for(const r in t)e.has(r)||"$"===r[0]||(n[r]=t[r]);return n}const d="undefined"!=typeof window;let v=d?()=>window.performance.now():()=>Date.now(),m=d?t=>requestAnimationFrame(t):t;const g=new Set;function y(t){g.forEach((e=>{e.c(t)||(g.delete(e),e.f())})),0!==g.size&&m(y)}function b(t,e,n){t.insertBefore(e,n||null)}function w(t){t.parentNode.removeChild(t)}function I(t){return document.createElement(t)}function E(t){return document.createTextNode(t)}function T(){return E(" ")}function _(){return E("")}function S(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function A(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function N(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)null==e[r]?t.removeAttribute(r):"style"===r?t.style.cssText=e[r]:"__value"===r?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:A(t,r,e[r])}function k(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function D(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}class C{constructor(t=null){this.a=t,this.e=this.n=null}m(t,e,n=null){this.e||(this.e=I(e.nodeName),this.t=e,this.h(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)b(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(w)}}const x=new Set;let O,R=0;function P(t,e,n,r,i,o,s,a=0){const u=16.666/r;let c="{\n";for(let t=0;t<=1;t+=u){const r=e+(n-e)*o(t);c+=100*t+`%{${s(r,1-r)}}\n`}const h=c+`100% {${s(n,1-n)}}\n}`,l=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(h)}_${a}`,f=t.ownerDocument;x.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(I("style")).sheet),d=f.__svelte_rules||(f.__svelte_rules={});d[l]||(d[l]=!0,p.insertRule(`@keyframes ${l} ${h}`,p.cssRules.length));const v=t.style.animation||"";return t.style.animation=`${v?`${v}, `:""}${l} ${r}ms linear ${i}ms 1 both`,R+=1,l}function L(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-r.length;i&&(t.style.animation=r.join(", "),R-=i,R||m((()=>{R||(x.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),x.clear())})))}function M(t){O=t}function $(){if(!O)throw new Error("Function called outside component initialization");return O}function F(t){$().$$.on_mount.push(t)}function V(){const t=$();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const i=D(e,n);r.slice().forEach((e=>{e.call(t,i)}))}}}function U(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}const j=[],q=[],B=[],K=[],G=Promise.resolve();let H=!1;function z(){H||(H=!0,G.then(Y))}function W(t){B.push(t)}let X=!1;const Q=new Set;function Y(){if(!X){X=!0;do{for(let t=0;t<j.length;t+=1){const e=j[t];M(e),J(e.$$)}for(M(null),j.length=0;q.length;)q.pop()();for(let t=0;t<B.length;t+=1){const e=B[t];Q.has(e)||(Q.add(e),e())}B.length=0}while(j.length);for(;K.length;)K.pop()();H=!1,X=!1,Q.clear()}}function J(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(W)}}let Z;function tt(t,e,n){t.dispatchEvent(D(`${e?"intro":"outro"}${n}`))}const et=new Set;let nt;function rt(){nt={r:0,c:[],p:nt}}function it(){nt.r||o(nt.c),nt=nt.p}function ot(t,e){t&&t.i&&(et.delete(t),t.i(e))}function st(t,e,n,r){if(t&&t.o){if(et.has(t))return;et.add(t),nt.c.push((()=>{et.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const at={duration:0};function ut(n,r,i,a){let u=r(n,i),c=a?0:1,h=null,l=null,f=null;function p(){f&&L(n,f)}function d(t,e){const n=t.b-c;return e*=Math.abs(n),{a:c,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function b(r){const{delay:i=0,duration:s=300,easing:a=e,tick:b=t,css:w}=u||at,I={start:v()+i,b:r};r||(I.group=nt,nt.r+=1),h||l?l=I:(w&&(p(),f=P(n,c,r,s,i,a,w)),r&&b(0,1),h=d(I,s),W((()=>tt(n,r,"start"))),function(t){let e;0===g.size&&m(y),new Promise((n=>{g.add(e={c:t,f:n})}))}((t=>{if(l&&t>l.start&&(h=d(l,s),l=null,tt(n,h.b,"start"),w&&(p(),f=P(n,c,h.b,h.duration,0,a,u.css))),h)if(t>=h.end)b(c=h.b,1-c),tt(n,h.b,"end"),l||(h.b?p():--h.group.r||o(h.group.c)),h=null;else if(t>=h.start){const e=t-h.start;c=h.a+h.d*a(e/h.duration),b(c,1-c)}return!(!h&&!l)})))}return{run(t){s(u)?(Z||(Z=Promise.resolve(),Z.then((()=>{Z=null}))),Z).then((()=>{u=u(),b(t)})):b(t)},end(){p(),h=l=null}}}function ct(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const s=t[o],a=e[o];if(a){for(const t in s)t in a||(r[t]=1);for(const t in a)i[t]||(n[t]=a[t],i[t]=1);t[o]=a}else for(const t in s)i[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function ht(t){return"object"==typeof t&&null!==t?t:{}}function lt(t){t&&t.c()}function ft(t,e,n,i){const{fragment:a,on_mount:u,on_destroy:c,after_update:h}=t.$$;a&&a.m(e,n),i||W((()=>{const e=u.map(r).filter(s);c?c.push(...e):o(e),t.$$.on_mount=[]})),h.forEach(W)}function pt(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function dt(e,n,r,s,a,u,c=[-1]){const h=O;M(e);const l=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:a,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:n.context||[]),callbacks:i(),dirty:c,skip_bound:!1};let f=!1;if(l.ctx=r?r(e,n.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return l.ctx&&a(l.ctx[t],l.ctx[t]=i)&&(!l.skip_bound&&l.bound[t]&&l.bound[t](i),f&&function(t,e){-1===t.$$.dirty[0]&&(j.push(t),z(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],l.update(),f=!0,o(l.before_update),l.fragment=!!s&&s(l.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);l.fragment&&l.fragment.l(t),t.forEach(w)}else l.fragment&&l.fragment.c();n.intro&&ot(e.$$.fragment),ft(e,n.target,n.anchor,n.customElement),Y()}M(h)}class vt{$destroy(){pt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const mt=[];function gt(t,e){return{subscribe:yt(t,e).subscribe}}function yt(e,n=t){let r;const i=[];function o(t){if(a(e,t)&&(e=t,r)){const t=!mt.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),mt.push(n,e)}if(t){for(let t=0;t<mt.length;t+=2)mt[t][0](mt[t+1]);mt.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(s,a=t){const u=[s,a];return i.push(u),1===i.length&&(r=n(o)||t),s(e),()=>{const t=i.indexOf(u);-1!==t&&i.splice(t,1),0===i.length&&(r(),r=null)}}}}function bt(e,n,r){const i=!Array.isArray(e),a=i?[e]:e,c=n.length<2;return gt(r,(e=>{let r=!1;const h=[];let l=0,f=t;const p=()=>{if(l)return;f();const r=n(i?h[0]:h,e);c?e(r):f=s(r)?r:t},d=a.map(((t,e)=>u(t,(t=>{h[e]=t,l&=~(1<<e),r&&p()}),(()=>{l|=1<<e}))));return r=!0,p(),function(){o(d),f()}}))}function wt(t){let e,r,i;const o=[t[2]];var s=t[0];function a(t){let e={};for(let t=0;t<o.length;t+=1)e=n(e,o[t]);return{props:e}}return s&&(e=new s(a()),e.$on("routeEvent",t[7])),{c(){e&&lt(e.$$.fragment),r=_()},m(t,n){e&&ft(e,t,n),b(t,r,n),i=!0},p(t,n){const i=4&n?ct(o,[ht(t[2])]):{};if(s!==(s=t[0])){if(e){rt();const t=e;st(t.$$.fragment,1,0,(()=>{pt(t,1)})),it()}s?(e=new s(a()),e.$on("routeEvent",t[7]),lt(e.$$.fragment),ot(e.$$.fragment,1),ft(e,r.parentNode,r)):e=null}else s&&e.$set(i)},i(t){i||(e&&ot(e.$$.fragment,t),i=!0)},o(t){e&&st(e.$$.fragment,t),i=!1},d(t){t&&w(r),e&&pt(e,t)}}}function It(t){let e,r,i;const o=[{params:t[1]},t[2]];var s=t[0];function a(t){let e={};for(let t=0;t<o.length;t+=1)e=n(e,o[t]);return{props:e}}return s&&(e=new s(a()),e.$on("routeEvent",t[6])),{c(){e&&lt(e.$$.fragment),r=_()},m(t,n){e&&ft(e,t,n),b(t,r,n),i=!0},p(t,n){const i=6&n?ct(o,[2&n&&{params:t[1]},4&n&&ht(t[2])]):{};if(s!==(s=t[0])){if(e){rt();const t=e;st(t.$$.fragment,1,0,(()=>{pt(t,1)})),it()}s?(e=new s(a()),e.$on("routeEvent",t[6]),lt(e.$$.fragment),ot(e.$$.fragment,1),ft(e,r.parentNode,r)):e=null}else s&&e.$set(i)},i(t){i||(e&&ot(e.$$.fragment,t),i=!0)},o(t){e&&st(e.$$.fragment,t),i=!1},d(t){t&&w(r),e&&pt(e,t)}}}function Et(t){let e,n,r,i;const o=[It,wt],s=[];function a(t,e){return t[1]?0:1}return e=a(t),n=s[e]=o[e](t),{c(){n.c(),r=_()},m(t,n){s[e].m(t,n),b(t,r,n),i=!0},p(t,[i]){let u=e;e=a(t),e===u?s[e].p(t,i):(rt(),st(s[u],1,1,(()=>{s[u]=null})),it(),n=s[e],n?n.p(t,i):(n=s[e]=o[e](t),n.c()),ot(n,1),n.m(r.parentNode,r))},i(t){i||(ot(n),i=!0)},o(t){st(n),i=!1},d(t){s[e].d(t),t&&w(r)}}}function Tt(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const _t=gt(null,(function(t){t(Tt());const e=()=>{t(Tt())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}));function St(t,e,n){let{routes:r={}}=e,{prefix:i=""}=e,{restoreScrollState:o=!1}=e;class s{constructor(t,e){if(!e||"function"!=typeof e&&("object"!=typeof e||!0!==e._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:n,keys:r}=function(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,o,s=[],a="",u=t.split("/");for(u[0]||u.shift();i=u.shift();)"*"===(n=i[0])?(s.push("wild"),a+="/(.*)"):":"===n?(r=i.indexOf("?",1),o=i.indexOf(".",1),s.push(i.substring(1,~r?r:~o?o:i.length)),a+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(a+=(~r?"?":"")+"\\"+i.substring(o))):a+="/"+i;return{keys:s,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}(t);this.path=t,"object"==typeof e&&!0===e._sveltesparouter?(this.component=e.component,this.conditions=e.conditions||[],this.userData=e.userData,this.props=e.props||{}):(this.component=()=>Promise.resolve(e),this.conditions=[],this.props={}),this._pattern=n,this._keys=r}match(t){if(i)if("string"==typeof i){if(!t.startsWith(i))return null;t=t.substr(i.length)||"/"}else if(i instanceof RegExp){const e=t.match(i);if(!e||!e[0])return null;t=t.substr(e[0].length)||"/"}const e=this._pattern.exec(t);if(null===e)return null;if(!1===this._keys)return e;const n={};let r=0;for(;r<this._keys.length;){try{n[this._keys[r]]=decodeURIComponent(e[r+1]||"")||null}catch(t){n[this._keys[r]]=null}r++}return n}async checkConditions(t){for(let e=0;e<this.conditions.length;e++)if(!await this.conditions[e](t))return!1;return!0}}const a=[];r instanceof Map?r.forEach(((t,e)=>{a.push(new s(e,t))})):Object.keys(r).forEach((t=>{a.push(new s(t,r[t]))}));let u=null,c=null,h={};const l=V();async function f(t,e){await(z(),G),l(t,e)}let p=null;o&&(window.addEventListener("popstate",(t=>{p=t.state&&t.state.scrollY?t.state:null})),function(t){$().$$.after_update.push(t)}((()=>{p?window.scrollTo(p.scrollX,p.scrollY):window.scrollTo(0,0)})));let d=null,v=null;return _t.subscribe((async t=>{d=t;let e=0;for(;e<a.length;){const r=a[e].match(t.location);if(!r){e++;continue}const i={route:a[e].path,location:t.location,querystring:t.querystring,userData:a[e].userData};if(!await a[e].checkConditions(i))return n(0,u=null),v=null,void f("conditionsFailed",i);f("routeLoading",Object.assign({},i));const o=a[e].component;if(v!=o){o.loading?(n(0,u=o.loading),v=o,n(1,c=o.loadingParams),n(2,h={}),f("routeLoaded",Object.assign({},i,{component:u,name:u.name}))):(n(0,u=null),v=null);const e=await o();if(t!=d)return;n(0,u=e&&e.default||e),v=o}return r&&"object"==typeof r&&Object.keys(r).length?n(1,c=r):n(1,c=null),n(2,h=a[e].props),void f("routeLoaded",Object.assign({},i,{component:u,name:u.name}))}n(0,u=null),v=null})),t.$$set=t=>{"routes"in t&&n(3,r=t.routes),"prefix"in t&&n(4,i=t.prefix),"restoreScrollState"in t&&n(5,o=t.restoreScrollState)},t.$$.update=()=>{32&t.$$.dirty&&(history.scrollRestoration=o?"manual":"auto")},[u,c,h,r,i,o,function(e){U(t,e)},function(e){U(t,e)}]}bt(_t,(t=>t.location)),bt(_t,(t=>t.querystring));class At extends vt{constructor(t){super(),dt(this,t,St,Et,a,{routes:3,prefix:4,restoreScrollState:5})}}function Nt(t,e,n){return!0===n||""===n?t?"col":`col-${e}`:"auto"===n?t?"col-auto":`col-${e}-auto`:t?`col-${n}`:`col-${e}-${n}`}function kt(t){let e="";if("string"==typeof t||"number"==typeof t)e+=t;else if("object"==typeof t)if(Array.isArray(t))e=t.map(kt).filter(Boolean).join(" ");else for(let n in t)t[n]&&(e&&(e+=" "),e+=n);return e}function Dt(...t){return t.map(kt).filter(Boolean).join(" ")}function Ct(t){const e=t-1;return e*e*e+1}function xt(t,{delay:e=0,duration:n=400,easing:r=Ct}={}){const i=getComputedStyle(t),o=+i.opacity,s=parseFloat(i.height),a=parseFloat(i.paddingTop),u=parseFloat(i.paddingBottom),c=parseFloat(i.marginTop),h=parseFloat(i.marginBottom),l=parseFloat(i.borderTopWidth),f=parseFloat(i.borderBottomWidth);return{delay:e,duration:n,easing:r,css:t=>`overflow: hidden;opacity: ${Math.min(20*t,1)*o};height: ${t*s}px;padding-top: ${t*a}px;padding-bottom: ${t*u}px;margin-top: ${t*c}px;margin-bottom: ${t*h}px;border-top-width: ${t*l}px;border-bottom-width: ${t*f}px;`}}const Ot=["touchstart","click"];function Rt(t){let e,r,i,a,u,h;const f=t[15].default,p=c(f,t,t[14],null);let d=[{style:r=t[1]?void 0:"overflow: hidden;"},t[8],{class:t[7]}],v={};for(let t=0;t<d.length;t+=1)v=n(v,d[t]);return{c(){e=I("div"),p&&p.c(),N(e,v)},m(n,r){b(n,e,r),p&&p.m(e,null),a=!0,u||(h=[S(e,"introstart",t[16]),S(e,"introend",t[17]),S(e,"outrostart",t[18]),S(e,"outroend",t[19]),S(e,"introstart",(function(){s(t[2])&&t[2].apply(this,arguments)})),S(e,"introend",(function(){s(t[3])&&t[3].apply(this,arguments)})),S(e,"outrostart",(function(){s(t[4])&&t[4].apply(this,arguments)})),S(e,"outroend",(function(){s(t[5])&&t[5].apply(this,arguments)}))],u=!0)},p(n,i){t=n,p&&p.p&&(!a||16384&i)&&l(p,f,t,t[14],i,null,null),N(e,v=ct(d,[(!a||2&i&&r!==(r=t[1]?void 0:"overflow: hidden;"))&&{style:r},256&i&&t[8],(!a||128&i)&&{class:t[7]}]))},i(t){a||(ot(p,t),t&&W((()=>{i||(i=ut(e,xt,{},!0)),i.run(1)})),a=!0)},o(t){st(p,t),t&&(i||(i=ut(e,xt,{},!1)),i.run(0)),a=!1},d(t){t&&w(e),p&&p.d(t),t&&i&&i.end(),u=!1,o(h)}}}function Pt(t){let e,n,r,i;W(t[20]);let o=t[0]&&Rt(t);return{c(){o&&o.c(),e=_()},m(s,a){o&&o.m(s,a),b(s,e,a),n=!0,r||(i=S(window,"resize",t[20]),r=!0)},p(t,[n]){t[0]?o?(o.p(t,n),1&n&&ot(o,1)):(o=Rt(t),o.c(),ot(o,1),o.m(e.parentNode,e)):o&&(rt(),st(o,1,1,(()=>{o=null})),it())},i(t){n||(ot(o),n=!0)},o(t){st(o),n=!1},d(t){o&&o.d(t),t&&w(e),r=!1,i()}}}function Lt(t,e,r){let i;const o=["isOpen","class","navbar","onEntering","onEntered","onExiting","onExited","expand","toggler"];let s=p(e,o),{$$slots:a={},$$scope:u}=e;const c=V();let{isOpen:h=!1}=e,{class:l=""}=e,{navbar:d=!1}=e,{onEntering:v=(()=>c("opening"))}=e,{onEntered:m=(()=>c("open"))}=e,{onExiting:g=(()=>c("closing"))}=e,{onExited:y=(()=>c("close"))}=e,{expand:b=!1}=e,{toggler:w=null}=e;F((()=>((t,e)=>{let n;if("string"==typeof t&&"undefined"!=typeof window&&document&&document.createElement){let r=document.querySelectorAll(t);if(r.length||(r=document.querySelectorAll(`#${t}`)),!r.length)throw new Error(`The target '${t}' could not be identified in the dom, tip: check spelling`);Ot.forEach((t=>{r.forEach((n=>{n.addEventListener(t,e)}))})),n=()=>{Ot.forEach((t=>{r.forEach((n=>{n.removeEventListener(t,e)}))}))}}return()=>{"function"==typeof n&&(n(),n=void 0)}})(w,(()=>r(0,h=!h)))));let I=0,E=!1;const T={};function _(){c("update",h)}return T.xs=0,T.sm=576,T.md=768,T.lg=992,T.xl=1200,t.$$set=t=>{e=n(n({},e),f(t)),r(8,s=p(e,o)),"isOpen"in t&&r(0,h=t.isOpen),"class"in t&&r(9,l=t.class),"navbar"in t&&r(1,d=t.navbar),"onEntering"in t&&r(2,v=t.onEntering),"onEntered"in t&&r(3,m=t.onEntered),"onExiting"in t&&r(4,g=t.onExiting),"onExited"in t&&r(5,y=t.onExited),"expand"in t&&r(10,b=t.expand),"toggler"in t&&r(11,w=t.toggler),"$$scope"in t&&r(14,u=t.$$scope)},t.$$.update=()=>{514&t.$$.dirty&&r(7,i=Dt(l,d&&"navbar-collapse")),13379&t.$$.dirty&&d&&b&&(I>=T[b]&&!h?(r(0,h=!0),r(12,E=!0),_()):I<T[b]&&E&&(r(0,h=!1),r(12,E=!1),_()))},[h,d,v,m,g,y,I,i,s,l,b,w,E,T,u,a,function(e){U(t,e)},function(e){U(t,e)},function(e){U(t,e)},function(e){U(t,e)},function(){r(6,I=window.innerWidth)}]}class Mt extends vt{constructor(t){super(),dt(this,t,Lt,Pt,a,{isOpen:0,class:9,navbar:1,onEntering:2,onEntered:3,onExiting:4,onExited:5,expand:10,toggler:11})}}function $t(t){let e,r,i,o,s;const a=t[17].default,u=c(a,t,t[16],null),h=u||function(t){let e,n,r,i;const o=[Ut,Vt],s=[];function a(t,e){return t[0]?0:1}return e=a(t),n=s[e]=o[e](t),{c(){n.c(),r=_()},m(t,n){s[e].m(t,n),b(t,r,n),i=!0},p(t,i){let u=e;e=a(t),e===u?s[e].p(t,i):(rt(),st(s[u],1,1,(()=>{s[u]=null})),it(),n=s[e],n?n.p(t,i):(n=s[e]=o[e](t),n.c()),ot(n,1),n.m(r.parentNode,r))},i(t){i||(ot(n),i=!0)},o(t){st(n),i=!1},d(t){s[e].d(t),t&&w(r)}}}(t);let f=[t[8],{class:t[6]},{disabled:t[1]},{value:t[4]},{"aria-label":r=t[5]||t[7]},{style:t[3]}],p={};for(let t=0;t<f.length;t+=1)p=n(p,f[t]);return{c(){e=I("button"),h&&h.c(),N(e,p)},m(n,r){b(n,e,r),h&&h.m(e,null),i=!0,o||(s=S(e,"click",t[19]),o=!0)},p(t,n){u?u.p&&(!i||65536&n)&&l(u,a,t,t[16],n,null,null):h&&h.p&&65537&n&&h.p(t,n),N(e,p=ct(f,[256&n&&t[8],(!i||64&n)&&{class:t[6]},(!i||2&n)&&{disabled:t[1]},(!i||16&n)&&{value:t[4]},(!i||160&n&&r!==(r=t[5]||t[7]))&&{"aria-label":r},(!i||8&n)&&{style:t[3]}]))},i(t){i||(ot(h,t),i=!0)},o(t){st(h,t),i=!1},d(t){t&&w(e),h&&h.d(t),o=!1,s()}}}function Ft(t){let e,r,i,o,s,a,u;const c=[qt,jt],h=[];function l(t,e){return t[0]?0:1}r=l(t),i=h[r]=c[r](t);let f=[t[8],{class:t[6]},{disabled:t[1]},{href:t[2]},{"aria-label":o=t[5]||t[7]},{style:t[3]}],p={};for(let t=0;t<f.length;t+=1)p=n(p,f[t]);return{c(){e=I("a"),i.c(),N(e,p)},m(n,i){b(n,e,i),h[r].m(e,null),s=!0,a||(u=S(e,"click",t[18]),a=!0)},p(t,n){let a=r;r=l(t),r===a?h[r].p(t,n):(rt(),st(h[a],1,1,(()=>{h[a]=null})),it(),i=h[r],i?i.p(t,n):(i=h[r]=c[r](t),i.c()),ot(i,1),i.m(e,null)),N(e,p=ct(f,[256&n&&t[8],(!s||64&n)&&{class:t[6]},(!s||2&n)&&{disabled:t[1]},(!s||4&n)&&{href:t[2]},(!s||160&n&&o!==(o=t[5]||t[7]))&&{"aria-label":o},(!s||8&n)&&{style:t[3]}]))},i(t){s||(ot(i),s=!0)},o(t){st(i),s=!1},d(t){t&&w(e),h[r].d(),a=!1,u()}}}function Vt(t){let e;const n=t[17].default,r=c(n,t,t[16],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||65536&i)&&l(r,n,t,t[16],i,null,null)},i(t){e||(ot(r,t),e=!0)},o(t){st(r,t),e=!1},d(t){r&&r.d(t)}}}function Ut(e){let n;return{c(){n=E(e[0])},m(t,e){b(t,n,e)},p(t,e){1&e&&k(n,t[0])},i:t,o:t,d(t){t&&w(n)}}}function jt(t){let e;const n=t[17].default,r=c(n,t,t[16],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||65536&i)&&l(r,n,t,t[16],i,null,null)},i(t){e||(ot(r,t),e=!0)},o(t){st(r,t),e=!1},d(t){r&&r.d(t)}}}function qt(e){let n;return{c(){n=E(e[0])},m(t,e){b(t,n,e)},p(t,e){1&e&&k(n,t[0])},i:t,o:t,d(t){t&&w(n)}}}function Bt(t){let e,n,r,i;const o=[Ft,$t],s=[];function a(t,e){return t[2]?0:1}return e=a(t),n=s[e]=o[e](t),{c(){n.c(),r=_()},m(t,n){s[e].m(t,n),b(t,r,n),i=!0},p(t,[i]){let u=e;e=a(t),e===u?s[e].p(t,i):(rt(),st(s[u],1,1,(()=>{s[u]=null})),it(),n=s[e],n?n.p(t,i):(n=s[e]=o[e](t),n.c()),ot(n,1),n.m(r.parentNode,r))},i(t){i||(ot(n),i=!0)},o(t){st(n),i=!1},d(t){s[e].d(t),t&&w(r)}}}function Kt(t,e,r){let i,o,s;const a=["class","active","block","children","close","color","disabled","href","outline","size","style","value"];let u=p(e,a),{$$slots:c={},$$scope:h}=e,{class:l=""}=e,{active:d=!1}=e,{block:v=!1}=e,{children:m}=e,{close:g=!1}=e,{color:y="secondary"}=e,{disabled:b=!1}=e,{href:w=""}=e,{outline:I=!1}=e,{size:E=null}=e,{style:T=""}=e,{value:_=""}=e;return t.$$set=t=>{r(20,e=n(n({},e),f(t))),r(8,u=p(e,a)),"class"in t&&r(9,l=t.class),"active"in t&&r(10,d=t.active),"block"in t&&r(11,v=t.block),"children"in t&&r(0,m=t.children),"close"in t&&r(12,g=t.close),"color"in t&&r(13,y=t.color),"disabled"in t&&r(1,b=t.disabled),"href"in t&&r(2,w=t.href),"outline"in t&&r(14,I=t.outline),"size"in t&&r(15,E=t.size),"style"in t&&r(3,T=t.style),"value"in t&&r(4,_=t.value),"$$scope"in t&&r(16,h=t.$$scope)},t.$$.update=()=>{r(5,i=e["aria-label"]),65024&t.$$.dirty&&r(6,o=Dt(l,g?"btn-close":"btn",g||`btn${I?"-outline":""}-${y}`,!!E&&`btn-${E}`,!!v&&"d-block w-100",{active:d})),4096&t.$$.dirty&&r(7,s=g?"Close":null)},e=f(e),[m,b,w,T,_,i,o,s,u,l,d,v,g,y,I,E,h,c,function(e){U(t,e)},function(e){U(t,e)}]}class Gt extends vt{constructor(t){super(),dt(this,t,Kt,Bt,a,{class:9,active:10,block:11,children:0,close:12,color:13,disabled:1,href:2,outline:14,size:15,style:3,value:4})}}function Ht(t){let e,r,i;const o=t[10].default,s=c(o,t,t[9],null);let a=[t[1],{class:r=t[0].join(" ")}],u={};for(let t=0;t<a.length;t+=1)u=n(u,a[t]);return{c(){e=I("div"),s&&s.c(),N(e,u)},m(t,n){b(t,e,n),s&&s.m(e,null),i=!0},p(t,[n]){s&&s.p&&(!i||512&n)&&l(s,o,t,t[9],n,null,null),N(e,u=ct(a,[2&n&&t[1],{class:r}]))},i(t){i||(ot(s,t),i=!0)},o(t){st(s,t),i=!1},d(t){t&&w(e),s&&s.d(t)}}}function zt(t,e,r){const i=["class","xs","sm","md","lg","xl","xxl"];let o=p(e,i),{$$slots:s={},$$scope:a}=e,{class:u=""}=e,{xs:c}=e,{sm:h}=e,{md:l}=e,{lg:d}=e,{xl:v}=e,{xxl:m}=e;const g=[],y={xs:c,sm:h,md:l,lg:d,xl:v,xxl:m};return Object.keys(y).forEach((t=>{const e=y[t];if(!e&&""!==e)return;const n="xs"===t;if(function(t){const e=typeof t;return null!=t&&("object"==e||"function"==e)}(e)){const r=n?"-":`-${t}-`,i=Nt(n,t,e.size);(e.size||""===e.size)&&g.push(i),e.push&&g.push(`push${r}${e.push}`),e.pull&&g.push(`pull${r}${e.pull}`),e.offset&&g.push(`offset${r}${e.offset}`)}else g.push(Nt(n,t,e))})),g.length||g.push("col"),u&&g.push(u),t.$$set=t=>{e=n(n({},e),f(t)),r(1,o=p(e,i)),"class"in t&&r(2,u=t.class),"xs"in t&&r(3,c=t.xs),"sm"in t&&r(4,h=t.sm),"md"in t&&r(5,l=t.md),"lg"in t&&r(6,d=t.lg),"xl"in t&&r(7,v=t.xl),"xxl"in t&&r(8,m=t.xxl),"$$scope"in t&&r(9,a=t.$$scope)},[g,o,u,c,h,l,d,v,m,a,s]}class Wt extends vt{constructor(t){super(),dt(this,t,zt,Ht,a,{class:2,xs:3,sm:4,md:5,lg:6,xl:7,xxl:8})}}function Xt(t){let e,r;const i=t[10].default,o=c(i,t,t[9],null);let s=[t[1],{class:t[0]}],a={};for(let t=0;t<s.length;t+=1)a=n(a,s[t]);return{c(){e=I("div"),o&&o.c(),N(e,a)},m(t,n){b(t,e,n),o&&o.m(e,null),r=!0},p(t,[n]){o&&o.p&&(!r||512&n)&&l(o,i,t,t[9],n,null,null),N(e,a=ct(s,[2&n&&t[1],(!r||1&n)&&{class:t[0]}]))},i(t){r||(ot(o,t),r=!0)},o(t){st(o,t),r=!1},d(t){t&&w(e),o&&o.d(t)}}}function Qt(t,e,r){let i;const o=["class","sm","md","lg","xl","xxl","fluid"];let s=p(e,o),{$$slots:a={},$$scope:u}=e,{class:c=""}=e,{sm:h}=e,{md:l}=e,{lg:d}=e,{xl:v}=e,{xxl:m}=e,{fluid:g=!1}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(1,s=p(e,o)),"class"in t&&r(2,c=t.class),"sm"in t&&r(3,h=t.sm),"md"in t&&r(4,l=t.md),"lg"in t&&r(5,d=t.lg),"xl"in t&&r(6,v=t.xl),"xxl"in t&&r(7,m=t.xxl),"fluid"in t&&r(8,g=t.fluid),"$$scope"in t&&r(9,u=t.$$scope)},t.$$.update=()=>{508&t.$$.dirty&&r(0,i=Dt(c,{"container-sm":h,"container-md":l,"container-lg":d,"container-xl":v,"container-xxl":m,"container-fluid":g,container:!(h||l||d||v||m||g)}))},[i,s,c,h,l,d,v,m,g,u,a]}class Yt extends vt{constructor(t){super(),dt(this,t,Qt,Xt,a,{class:2,sm:3,md:4,lg:5,xl:6,xxl:7,fluid:8})}}function Jt(t){let e,n;const r=t[3].default,i=c(r,t,t[2],null);return{c(){e=I("div"),i&&i.c(),A(e,"class",t[0])},m(t,r){b(t,e,r),i&&i.m(e,null),n=!0},p(t,[o]){i&&i.p&&(!n||4&o)&&l(i,r,t,t[2],o,null,null),(!n||1&o)&&A(e,"class",t[0])},i(t){n||(ot(i,t),n=!0)},o(t){st(i,t),n=!1},d(t){t&&w(e),i&&i.d(t)}}}function Zt(t,e,n){let r,{$$slots:i={},$$scope:o}=e,{class:s=""}=e;return t.$$set=t=>{"class"in t&&n(1,s=t.class),"$$scope"in t&&n(2,o=t.$$scope)},t.$$.update=()=>{2&t.$$.dirty&&n(0,r=Dt(s,"p-5 mb-4 bg-light rounded-3"))},[r,s,o,i]}class te extends vt{constructor(t){super(),dt(this,t,Zt,Jt,a,{class:1})}}function ee(t){let e,r;const i=t[12].default,o=c(i,t,t[11],null);let s=[t[1],{class:t[0]}],a={};for(let t=0;t<s.length;t+=1)a=n(a,s[t]);return{c(){e=I("ul"),o&&o.c(),N(e,a)},m(t,n){b(t,e,n),o&&o.m(e,null),r=!0},p(t,[n]){o&&o.p&&(!r||2048&n)&&l(o,i,t,t[11],n,null,null),N(e,a=ct(s,[2&n&&t[1],(!r||1&n)&&{class:t[0]}]))},i(t){r||(ot(o,t),r=!0)},o(t){st(o,t),r=!1},d(t){t&&w(e),o&&o.d(t)}}}function ne(t,e,r){let i;const o=["class","tabs","pills","vertical","horizontal","justified","fill","navbar","card"];let s=p(e,o),{$$slots:a={},$$scope:u}=e,{class:c=""}=e,{tabs:h=!1}=e,{pills:l=!1}=e,{vertical:d=!1}=e,{horizontal:v=""}=e,{justified:m=!1}=e,{fill:g=!1}=e,{navbar:y=!1}=e,{card:b=!1}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(1,s=p(e,o)),"class"in t&&r(2,c=t.class),"tabs"in t&&r(3,h=t.tabs),"pills"in t&&r(4,l=t.pills),"vertical"in t&&r(5,d=t.vertical),"horizontal"in t&&r(6,v=t.horizontal),"justified"in t&&r(7,m=t.justified),"fill"in t&&r(8,g=t.fill),"navbar"in t&&r(9,y=t.navbar),"card"in t&&r(10,b=t.card),"$$scope"in t&&r(11,u=t.$$scope)},t.$$.update=()=>{2044&t.$$.dirty&&r(0,i=Dt(c,y?"navbar-nav":"nav",!!v&&`justify-content-${v}`,function(t){return!1!==t&&(!0===t||"xs"===t?"flex-column":`flex-${t}-column`)}(d),{"nav-tabs":h,"card-header-tabs":b&&h,"nav-pills":l,"card-header-pills":b&&l,"nav-justified":m,"nav-fill":g}))},[i,s,c,h,l,d,v,m,g,y,b,u,a]}class re extends vt{constructor(t){super(),dt(this,t,ne,ee,a,{class:2,tabs:3,pills:4,vertical:5,horizontal:6,justified:7,fill:8,navbar:9,card:10})}}function ie(t){let e;const n=t[10].default,r=c(n,t,t[11],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||2048&i)&&l(r,n,t,t[11],i,null,null)},i(t){e||(ot(r,t),e=!0)},o(t){st(r,t),e=!1},d(t){r&&r.d(t)}}}function oe(t){let e,n;return e=new Yt({props:{fluid:"fluid"===t[0],$$slots:{default:[se]},$$scope:{ctx:t}}}),{c(){lt(e.$$.fragment)},m(t,r){ft(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.fluid="fluid"===t[0]),2048&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){st(e.$$.fragment,t),n=!1},d(t){pt(e,t)}}}function se(t){let e;const n=t[10].default,r=c(n,t,t[11],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||2048&i)&&l(r,n,t,t[11],i,null,null)},i(t){e||(ot(r,t),e=!0)},o(t){st(r,t),e=!1},d(t){r&&r.d(t)}}}function ae(t){let e,r,i,o;const s=[oe,ie],a=[];function u(t,e){return t[0]?0:1}r=u(t),i=a[r]=s[r](t);let c=[t[2],{class:t[1]}],h={};for(let t=0;t<c.length;t+=1)h=n(h,c[t]);return{c(){e=I("nav"),i.c(),N(e,h)},m(t,n){b(t,e,n),a[r].m(e,null),o=!0},p(t,[n]){let l=r;r=u(t),r===l?a[r].p(t,n):(rt(),st(a[l],1,1,(()=>{a[l]=null})),it(),i=a[r],i?i.p(t,n):(i=a[r]=s[r](t),i.c()),ot(i,1),i.m(e,null)),N(e,h=ct(c,[4&n&&t[2],(!o||2&n)&&{class:t[1]}]))},i(t){o||(ot(i),o=!0)},o(t){st(i),o=!1},d(t){t&&w(e),a[r].d()}}}function ue(t,e,r){let i;const o=["class","container","color","dark","expand","fixed","light","sticky"];let s=p(e,o),{$$slots:a={},$$scope:u}=e,{class:c=""}=e,{container:h="fluid"}=e,{color:l=""}=e,{dark:d=!1}=e,{expand:v=""}=e,{fixed:m=""}=e,{light:g=!1}=e,{sticky:y=""}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(2,s=p(e,o)),"class"in t&&r(3,c=t.class),"container"in t&&r(0,h=t.container),"color"in t&&r(4,l=t.color),"dark"in t&&r(5,d=t.dark),"expand"in t&&r(6,v=t.expand),"fixed"in t&&r(7,m=t.fixed),"light"in t&&r(8,g=t.light),"sticky"in t&&r(9,y=t.sticky),"$$scope"in t&&r(11,u=t.$$scope)},t.$$.update=()=>{1016&t.$$.dirty&&r(1,i=Dt(c,"navbar",function(t){return!1!==t&&(!0===t||"xs"===t?"navbar-expand":`navbar-expand-${t}`)}(v),{"navbar-light":g,"navbar-dark":d,[`bg-${l}`]:l,[`fixed-${m}`]:m,[`sticky-${y}`]:y}))},[h,i,s,c,l,d,v,m,g,y,a,u]}class ce extends vt{constructor(t){super(),dt(this,t,ue,ae,a,{class:3,container:0,color:4,dark:5,expand:6,fixed:7,light:8,sticky:9})}}function he(t){let e,r;const i=t[5].default,o=c(i,t,t[4],null);let s=[t[1],{class:t[0]}],a={};for(let t=0;t<s.length;t+=1)a=n(a,s[t]);return{c(){e=I("li"),o&&o.c(),N(e,a)},m(t,n){b(t,e,n),o&&o.m(e,null),r=!0},p(t,[n]){o&&o.p&&(!r||16&n)&&l(o,i,t,t[4],n,null,null),N(e,a=ct(s,[2&n&&t[1],(!r||1&n)&&{class:t[0]}]))},i(t){r||(ot(o,t),r=!0)},o(t){st(o,t),r=!1},d(t){t&&w(e),o&&o.d(t)}}}function le(t,e,r){let i;const o=["class","active"];let s=p(e,o),{$$slots:a={},$$scope:u}=e,{class:c=""}=e,{active:h=!1}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(1,s=p(e,o)),"class"in t&&r(2,c=t.class),"active"in t&&r(3,h=t.active),"$$scope"in t&&r(4,u=t.$$scope)},t.$$.update=()=>{12&t.$$.dirty&&r(0,i=Dt(c,"nav-item",!!h&&"active"))},[i,s,c,h,u,a]}class fe extends vt{constructor(t){super(),dt(this,t,le,he,a,{class:2,active:3})}}function pe(t){let e,r,i,s;const a=t[8].default,u=c(a,t,t[7],null);let h=[t[3],{href:t[0]},{class:t[1]}],f={};for(let t=0;t<h.length;t+=1)f=n(f,h[t]);return{c(){e=I("a"),u&&u.c(),N(e,f)},m(n,o){b(n,e,o),u&&u.m(e,null),r=!0,i||(s=[S(e,"click",t[9]),S(e,"click",t[2])],i=!0)},p(t,[n]){u&&u.p&&(!r||128&n)&&l(u,a,t,t[7],n,null,null),N(e,f=ct(h,[8&n&&t[3],(!r||1&n)&&{href:t[0]},(!r||2&n)&&{class:t[1]}]))},i(t){r||(ot(u,t),r=!0)},o(t){st(u,t),r=!1},d(t){t&&w(e),u&&u.d(t),i=!1,o(s)}}}function de(t,e,r){let i;const o=["class","disabled","active","href"];let s=p(e,o),{$$slots:a={},$$scope:u}=e,{class:c=""}=e,{disabled:h=!1}=e,{active:l=!1}=e,{href:d="#"}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(3,s=p(e,o)),"class"in t&&r(4,c=t.class),"disabled"in t&&r(5,h=t.disabled),"active"in t&&r(6,l=t.active),"href"in t&&r(0,d=t.href),"$$scope"in t&&r(7,u=t.$$scope)},t.$$.update=()=>{112&t.$$.dirty&&r(1,i=Dt(c,"nav-link",{disabled:h,active:l}))},[d,i,function(t){if(h)return t.preventDefault(),void t.stopImmediatePropagation();"#"===d&&t.preventDefault()},s,c,h,l,u,a,function(e){U(t,e)}]}class ve extends vt{constructor(t){super(),dt(this,t,de,pe,a,{class:4,disabled:5,active:6,href:0})}}function me(t){let e,r,i,o;const s=t[5].default,a=c(s,t,t[4],null);let u=[t[2],{class:t[1]},{href:t[0]}],h={};for(let t=0;t<u.length;t+=1)h=n(h,u[t]);return{c(){e=I("a"),a&&a.c(),N(e,h)},m(n,s){b(n,e,s),a&&a.m(e,null),r=!0,i||(o=S(e,"click",t[6]),i=!0)},p(t,[n]){a&&a.p&&(!r||16&n)&&l(a,s,t,t[4],n,null,null),N(e,h=ct(u,[4&n&&t[2],(!r||2&n)&&{class:t[1]},(!r||1&n)&&{href:t[0]}]))},i(t){r||(ot(a,t),r=!0)},o(t){st(a,t),r=!1},d(t){t&&w(e),a&&a.d(t),i=!1,o()}}}function ge(t,e,r){let i;const o=["class","href"];let s=p(e,o),{$$slots:a={},$$scope:u}=e,{class:c=""}=e,{href:h="/"}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(2,s=p(e,o)),"class"in t&&r(3,c=t.class),"href"in t&&r(0,h=t.href),"$$scope"in t&&r(4,u=t.$$scope)},t.$$.update=()=>{8&t.$$.dirty&&r(1,i=Dt(c,"navbar-brand"))},[h,i,s,c,u,a,function(e){U(t,e)}]}class ye extends vt{constructor(t){super(),dt(this,t,ge,me,a,{class:3,href:0})}}function be(t){let e;const n=t[3].default,r=c(n,t,t[5],null),i=r||function(t){let e;return{c(){e=I("span"),A(e,"class","navbar-toggler-icon")},m(t,n){b(t,e,n)},d(t){t&&w(e)}}}();return{c(){i&&i.c()},m(t,n){i&&i.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||32&i)&&l(r,n,t,t[5],i,null,null)},i(t){e||(ot(i,t),e=!0)},o(t){st(i,t),e=!1},d(t){i&&i.d(t)}}}function we(t){let e,r;const i=[t[1],{class:t[0]}];let o={$$slots:{default:[be]},$$scope:{ctx:t}};for(let t=0;t<i.length;t+=1)o=n(o,i[t]);return e=new Gt({props:o}),e.$on("click",t[4]),{c(){lt(e.$$.fragment)},m(t,n){ft(e,t,n),r=!0},p(t,[n]){const r=3&n?ct(i,[2&n&&ht(t[1]),1&n&&{class:t[0]}]):{};32&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){r||(ot(e.$$.fragment,t),r=!0)},o(t){st(e.$$.fragment,t),r=!1},d(t){pt(e,t)}}}function Ie(t,e,r){let i;const o=["class"];let s=p(e,o),{$$slots:a={},$$scope:u}=e,{class:c=""}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(1,s=p(e,o)),"class"in t&&r(2,c=t.class),"$$scope"in t&&r(5,u=t.$$scope)},t.$$.update=()=>{4&t.$$.dirty&&r(0,i=Dt(c,"navbar-toggler"))},[i,s,c,a,function(e){U(t,e)},u]}class Ee extends vt{constructor(t){super(),dt(this,t,Ie,we,a,{class:2})}}function Te(t){let e,r;const i=t[7].default,o=c(i,t,t[6],null);let s=[t[1],{class:t[0]}],a={};for(let t=0;t<s.length;t+=1)a=n(a,s[t]);return{c(){e=I("div"),o&&o.c(),N(e,a)},m(t,n){b(t,e,n),o&&o.m(e,null),r=!0},p(t,[n]){o&&o.p&&(!r||64&n)&&l(o,i,t,t[6],n,null,null),N(e,a=ct(s,[2&n&&t[1],(!r||1&n)&&{class:t[0]}]))},i(t){r||(ot(o,t),r=!0)},o(t){st(o,t),r=!1},d(t){t&&w(e),o&&o.d(t)}}}function _e(t,e,r){let i;const o=["class","noGutters","form","cols"];let s=p(e,o),{$$slots:a={},$$scope:u}=e,{class:c=""}=e,{noGutters:h=!1}=e,{form:l=!1}=e,{cols:d=0}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(1,s=p(e,o)),"class"in t&&r(2,c=t.class),"noGutters"in t&&r(3,h=t.noGutters),"form"in t&&r(4,l=t.form),"cols"in t&&r(5,d=t.cols),"$$scope"in t&&r(6,u=t.$$scope)},t.$$.update=()=>{60&t.$$.dirty&&r(0,i=Dt(c,h?"gx-0":null,l?"form-row":"row",...function(t){const e=parseInt(t);if(isNaN(e)){if("object"==typeof t)return["xs","sm","md","lg","xl"].map((e=>{const n="xs"===e?"-":`-${e}-`,r=t[e];return"number"==typeof r&&r>0?`row-cols${n}${r}`:null})).filter((t=>!!t))}else if(e>0)return[`row-cols-${e}`];return[]}(d)))},[i,s,c,h,l,d,u,a]}class Se extends vt{constructor(t){super(),dt(this,t,_e,Te,a,{class:2,noGutters:3,form:4,cols:5})}}var Ae="Nepean Chat",Ne={title:Ae,home:"Home",chatNow:"Chat Now",aboutUs:"About Us"},ke={jumbo:"Welcome to Nepean Chat!",jumboSub:"Mental health chat.<br><i>By students, for students.</i>",chatNow:"Chat now"},De={warning:"<h1>Are you ready to chat with someone?</h1><h2>Before you start, here are some things to take into consideration</h2><ul><li>Be nice. No swearing or demeaning language.</li><li>Do not reveal personal information such as names, addresses, etc.</li></ul>",matchMeNow:"Match me now!"},Ce={header:"<h1>One of our devs made a booboo.</h1><h1>Page not found. 404</h1>"};function xe(t){let e,n;return{c(){e=I("img"),e.src!==(n="./chat-animate.svg")&&A(e,"src","./chat-animate.svg"),A(e,"alt","People chatting")},m(t,n){b(t,e,n)},d(t){t&&w(e)}}}function Oe(e){let n,r=ke.chatNow+"";return{c(){n=E(r)},m(t,e){b(t,n,e)},p:t,d(t){t&&w(n)}}}function Re(t){let e,n,r,i,o,s,a=ke.jumboSub+"";return o=new Gt({props:{color:"primary",$$slots:{default:[Oe]},$$scope:{ctx:t}}}),{c(){e=I("h1"),e.textContent=`${ke.jumbo}`,n=T(),r=I("h3"),i=T(),lt(o.$$.fragment)},m(t,u){b(t,e,u),b(t,n,u),b(t,r,u),r.innerHTML=a,b(t,i,u),ft(o,t,u),s=!0},p(t,e){const n={};1&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n)},i(t){s||(ot(o.$$.fragment,t),s=!0)},o(t){st(o.$$.fragment,t),s=!1},d(t){t&&w(e),t&&w(n),t&&w(r),t&&w(i),pt(o,t)}}}function Pe(t){let e,n;return e=new te({props:{$$slots:{default:[Re]},$$scope:{ctx:t}}}),{c(){lt(e.$$.fragment)},m(t,r){ft(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){st(e.$$.fragment,t),n=!1},d(t){pt(e,t)}}}function Le(t){let e,n,r,i;return e=new Wt({props:{class:"d-none d-md-block",$$slots:{default:[xe]},$$scope:{ctx:t}}}),r=new Wt({props:{$$slots:{default:[Pe]},$$scope:{ctx:t}}}),{c(){lt(e.$$.fragment),n=T(),lt(r.$$.fragment)},m(t,o){ft(e,t,o),b(t,n,o),ft(r,t,o),i=!0},p(t,n){const i={};1&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const o={};1&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(t){i||(ot(e.$$.fragment,t),ot(r.$$.fragment,t),i=!0)},o(t){st(e.$$.fragment,t),st(r.$$.fragment,t),i=!1},d(t){pt(e,t),t&&w(n),pt(r,t)}}}function Me(t){let e,n;return e=new Se({props:{$$slots:{default:[Le]},$$scope:{ctx:t}}}),{c(){lt(e.$$.fragment)},m(t,r){ft(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){st(e.$$.fragment,t),n=!1},d(t){pt(e,t)}}}class $e extends vt{constructor(t){super(),dt(this,t,null,Me,a,{})}}function Fe(t){let e;const n=t[5].default,r=c(n,t,t[4],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||16&i)&&l(r,n,t,t[4],i,null,null)},i(t){e||(ot(r,t),e=!0)},o(t){st(r,t),e=!1},d(t){r&&r.d(t)}}}function Ve(t){let e,n,r=t[0]&&Fe(t);return{c(){r&&r.c(),e=_()},m(t,i){r&&r.m(t,i),b(t,e,i),n=!0},p(t,[n]){t[0]?r?(r.p(t,n),1&n&&ot(r,1)):(r=Fe(t),r.c(),ot(r,1),r.m(e.parentNode,e)):r&&(rt(),st(r,1,1,(()=>{r=null})),it())},i(t){n||(ot(r),n=!0)},o(t){st(r),n=!1},d(t){r&&r.d(t),t&&w(e)}}}function Ue(t,e,n){let{$$slots:r={},$$scope:i}=e,{firebase:o}=e,{perf:s=!1}=e,{analytics:a=!1}=e,u=!1;const c=V();var h,l;return h="firebase",l={getFirebase:()=>o},$().$$.context.set(h,l),F((()=>{if(n(1,o=o||window&&window.firebase),!o)throw Error("No firebase app was provided. You must provide an initialized Firebase app or make it available globally.");s&&o.performance(),a&&o.analytics(),c("initializeApp",{firebase:o}),n(0,u=!0)})),t.$$set=t=>{"firebase"in t&&n(1,o=t.firebase),"perf"in t&&n(2,s=t.perf),"analytics"in t&&n(3,a=t.analytics),"$$scope"in t&&n(4,i=t.$$scope)},[u,o,s,a,i,r]}class je extends vt{constructor(t){super(),dt(this,t,Ue,Ve,a,{firebase:1,perf:2,analytics:3})}}function qe(){const{getFirebase:t}=(e="firebase",$().$$.context.get(e));var e;return t()}function Be(t={persist:null}){const e=function(t){const e=qe();if(!e)throw new Error("Missing Firebase app in context. Are you inside a 'FirebaseApp' component?");if(t){const n=e[t];if(n&&n())return n();throw new Error(`Firebase ${t} not found. You may be missing "import 'firebase/${t}'" `)}return e}("auth"),n="sveltefire_user";let r=null;const{persist:i}=t;i&&(r=JSON.parse(t.persist.getItem(n)));const o=yt(r,(()=>{const r=e.onAuthStateChanged((e=>{a(e),i&&t.persist.setItem(n,JSON.stringify(e))}));return()=>r})),{subscribe:s,set:a}=o;return{subscribe:s,auth:e}}const Ke=t=>({user:1&t}),Ge=t=>({user:t[0],auth:t[1].auth}),He=t=>({user:1&t}),ze=t=>({user:t[0],auth:t[1].auth}),We=t=>({user:1&t}),Xe=t=>({user:t[0],auth:t[1].auth}),Qe=t=>({user:1&t}),Ye=t=>({user:t[0],auth:t[1].auth});function Je(t){let e;const n=t[4]["signed-out"],r=c(n,t,t[3],ze);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||9&i)&&l(r,n,t,t[3],i,He,ze)},i(t){e||(ot(r,t),e=!0)},o(t){st(r,t),e=!1},d(t){r&&r.d(t)}}}function Ze(t){let e;const n=t[4].default,r=c(n,t,t[3],Xe);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||9&i)&&l(r,n,t,t[3],i,We,Xe)},i(t){e||(ot(r,t),e=!0)},o(t){st(r,t),e=!1},d(t){r&&r.d(t)}}}function tn(t){let e,n,r,i,o;const s=t[4].before,a=c(s,t,t[3],Ye),u=[Ze,Je],h=[];function f(t,e){return t[0]?0:1}n=f(t),r=h[n]=u[n](t);const p=t[4].after,d=c(p,t,t[3],Ge);return{c(){a&&a.c(),e=T(),r.c(),i=T(),d&&d.c()},m(t,r){a&&a.m(t,r),b(t,e,r),h[n].m(t,r),b(t,i,r),d&&d.m(t,r),o=!0},p(t,[e]){a&&a.p&&(!o||9&e)&&l(a,s,t,t[3],e,Qe,Ye);let c=n;n=f(t),n===c?h[n].p(t,e):(rt(),st(h[c],1,1,(()=>{h[c]=null})),it(),r=h[n],r?r.p(t,e):(r=h[n]=u[n](t),r.c()),ot(r,1),r.m(i.parentNode,i)),d&&d.p&&(!o||9&e)&&l(d,p,t,t[3],e,Ke,Ge)},i(t){o||(ot(a,t),ot(r),ot(d,t),o=!0)},o(t){st(a,t),st(r),st(d,t),o=!1},d(t){a&&a.d(t),t&&w(e),h[n].d(t),t&&w(i),d&&d.d(t)}}}function en(t,e,n){let r,{$$slots:i={},$$scope:o}=e,{persist:s=null}=e,a=Be({persist:s});!function(t,e,n){t.$$.on_destroy.push(u(e,n))}(t,a,(t=>n(0,r=t)));const c=V();let h;return F((()=>{h=a.subscribe((t=>{c("user",{user:t})}))})),function(t){$().$$.on_destroy.push(t)}((()=>h())),t.$$set=t=>{"persist"in t&&n(2,s=t.persist),"$$scope"in t&&n(3,o=t.$$scope)},[r,a,s,o,i]}class nn extends vt{constructor(t){super(),dt(this,t,en,tn,a,{persist:2})}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var rn=function(t,e){return(rn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function on(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}rn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var sn=function(){return(sn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function an(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function un(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function cn(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function hn(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function ln(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var fn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=o>>2,l=(3&o)<<4|a>>4,f=(15&a)<<2|c>>6,p=63&c;u||(p=64,s||(f=64)),r.push(n[h],n[l],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var c=o<<2|s>>4;if(r.push(c),64!==a){var h=s<<4&240|a>>2;if(r.push(h),64!==u){var l=a<<6&192|u;r.push(l)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function pn(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=pn(t[n],e[n]));return t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var dn=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function vn(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function mn(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var gn=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,yn.prototype.create),o}return on(e,t),e}(Error),yn=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?bn(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new gn(i,a,r);return u},t}();function bn(t,e){return t.replace(wn,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var wn=/\{\$([^}]+)}/g;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function In(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function En(t,e){var n=new Tn(t,e);return n.subscribe.bind(n)}var Tn=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=_n),void 0===r.error&&(r.error=_n),void 0===r.complete&&(r.complete=_n);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function _n(){}
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Sn(t){return t&&t._delegate?t._delegate:t}var An=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),Nn="[DEFAULT]",kn=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t=Nn);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new dn;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=sn({identifier:Nn,optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t))try{this.getOrInitializeService({instanceIdentifier:Nn})}catch(t){}try{for(var r=cn(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=hn(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService({instanceIdentifier:u});a.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=Nn),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return an(this,void 0,void 0,(function(){var t;return un(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(ln(ln([],hn(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),hn(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=Nn),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.instanceIdentifier,i=void 0===r?Nn:r,o=t.options,s=void 0===o?{}:o,a=this.normalizeInstanceIdentifier(i);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var c=cn(this.instancesDeferred.entries()),h=c.next();!h.done;h=c.next()){var l=hn(h.value,2),f=l[0],p=l[1];a===this.normalizeInstanceIdentifier(f)&&p.resolve(u)}}catch(t){e={error:t}}finally{try{h&&!h.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(u,a),u},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r;try{for(var i=cn(this.onInitCallbacks),o=i.next();!o.done;o=i.next()){var s=o.value;try{s(t,e)}catch(t){}}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===Nn?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(t){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:Nn:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Dn,Cn=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new kn(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function xn(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var On,Rn=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(On||(On={}));var Pn,Ln={debug:On.DEBUG,verbose:On.VERBOSE,info:On.INFO,warn:On.WARN,error:On.ERROR,silent:On.SILENT},Mn=On.INFO,$n=((Dn={})[On.DEBUG]="log",Dn[On.VERBOSE]="log",Dn[On.INFO]="info",Dn[On.WARN]="warn",Dn[On.ERROR]="error",Dn),Fn=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=$n[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,xn(["["+i+"]  "+t.name+":"],n))}},Vn=function(){function t(t){this.name=t,this._logLevel=Mn,this._logHandler=Fn,this._userLogHandler=null,Rn.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in On))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?Ln[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,xn([this,On.DEBUG],t)),this._logHandler.apply(this,xn([this,On.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,xn([this,On.VERBOSE],t)),this._logHandler.apply(this,xn([this,On.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,xn([this,On.INFO],t)),this._logHandler.apply(this,xn([this,On.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,xn([this,On.WARN],t)),this._logHandler.apply(this,xn([this,On.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,xn([this,On.ERROR],t)),this._logHandler.apply(this,xn([this,On.ERROR],t))},t}();function Un(t){Rn.forEach((function(e){e.setLogLevel(t)}))}var jn,qn=((Pn={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Pn["bad-app-name"]="Illegal App name: '{$appName}",Pn["duplicate-app"]="Firebase App named '{$appName}' already exists",Pn["app-deleted"]="Firebase App named '{$appName}' already deleted",Pn["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Pn["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Pn),Bn=new yn("app","Firebase",qn),Kn="@firebase/app",Gn="[DEFAULT]",Hn=((jn={})[Kn]="fire-core",jn["@firebase/analytics"]="fire-analytics",jn["@firebase/app-check"]="fire-app-check",jn["@firebase/auth"]="fire-auth",jn["@firebase/database"]="fire-rtdb",jn["@firebase/functions"]="fire-fn",jn["@firebase/installations"]="fire-iid",jn["@firebase/messaging"]="fire-fcm",jn["@firebase/performance"]="fire-perf",jn["@firebase/remote-config"]="fire-rc",jn["@firebase/storage"]="fire-gcs",jn["@firebase/firestore"]="fire-fst",jn["fire-js"]="fire-js",jn["firebase-wrapper"]="fire-js-all",jn),zn=new Vn("@firebase/app"),Wn=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=pn(void 0,t),this.container=new Cn(e.name),this._addComponent(new An("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e=Gn),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=Gn),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){zn.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Bn.create("app-deleted",{appName:this.name_})},t}();Wn.prototype.name&&Wn.prototype.options||Wn.prototype.delete||console.log("dc");
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Xn(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=Gn);var s=o.name;if("string"!=typeof s||!s)throw Bn.create("bad-app-name",{appName:String(s)});if(In(e,s))throw Bn.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=Hn[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void zn.warn(u.join(" "))}o(new An(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:Un,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw Bn.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=Ln[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:On[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=Rn;r<i.length;r++)n(i[r])}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t,e)},apps:null,SDK_VERSION:"8.6.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!In(e,t=t||Gn))throw Bn.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return zn.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var a=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw Bn.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&pn(a,o.serviceProps),r[s]=a,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,s);return n.apply(this,o.multipleInstances?t:[])}}for(var u=0,c=Object.keys(e);u<c.length;u++){var h=c[u];e[h]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Qn=function t(){var e=Xn(Wn);return e.INTERNAL=sn(sn({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){pn(e,t)},createSubscribe:En,ErrorFactory:yn,deepExtend:pn}),e}(),Yn=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){zn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Jn=self.firebase.SDK_VERSION;Jn&&Jn.indexOf("LITE")>=0&&zn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Zn=Qn.initializeApp;Qn.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return mn()&&zn.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Zn.apply(void 0,t)};var tr=Qn;!function(t,e){t.INTERNAL.registerComponent(new An("platform-logger",(function(t){return new Yn(t)}),"PRIVATE")),t.registerVersion(Kn,"0.6.22",e),t.registerVersion("fire-js","")}(tr);
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
tr.registerVersion("firebase","8.6.1","app");
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var er=function(t,e){return(er=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function nr(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var rr,ir="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},or=or||{},sr=ir||self;function ar(){}function ur(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function cr(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var hr="closure_uid_"+(1e9*Math.random()>>>0),lr=0;function fr(t,e,n){return t.call.apply(t.bind,arguments)}function pr(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function dr(t,e,n){return(dr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fr:pr).apply(null,arguments)}function vr(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function mr(){return Date.now()}function gr(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function yr(){this.j=this.j,this.i=this.i}yr.prototype.j=!1,yr.prototype.ja=function(){var t;!this.j&&(this.j=!0,this.G(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,hr)&&t[hr]||(t[hr]=++lr))},yr.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var br=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},wr=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Ir(t){return Array.prototype.concat.apply([],arguments)}function Er(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Tr(t){return/^[\s\xa0]*$/.test(t)}var _r,Sr=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ar(t,e){return-1!=t.indexOf(e)}function Nr(t,e){return t<e?-1:t>e?1:0}t:{var kr=sr.navigator;if(kr){var Dr=kr.userAgent;if(Dr){_r=Dr;break t}}_r=""}function Cr(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function xr(t){var e={};for(var n in t)e[n]=t[n];return e}var Or="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rr(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Or.length;o++)n=Or[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Pr(t){return Pr[" "](t),t}Pr[" "]=ar;var Lr,Mr,$r=Ar(_r,"Opera"),Fr=Ar(_r,"Trident")||Ar(_r,"MSIE"),Vr=Ar(_r,"Edge"),Ur=Vr||Fr,jr=Ar(_r,"Gecko")&&!(Ar(_r.toLowerCase(),"webkit")&&!Ar(_r,"Edge"))&&!(Ar(_r,"Trident")||Ar(_r,"MSIE"))&&!Ar(_r,"Edge"),qr=Ar(_r.toLowerCase(),"webkit")&&!Ar(_r,"Edge");function Br(){var t=sr.document;return t?t.documentMode:void 0}t:{var Kr="",Gr=(Mr=_r,jr?/rv:([^\);]+)(\)|;)/.exec(Mr):Vr?/Edge\/([\d\.]+)/.exec(Mr):Fr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Mr):qr?/WebKit\/(\S+)/.exec(Mr):$r?/(?:Version)[ \/]?(\S+)/.exec(Mr):void 0);if(Gr&&(Kr=Gr?Gr[1]:""),Fr){var Hr=Br();if(null!=Hr&&Hr>parseFloat(Kr)){Lr=String(Hr);break t}}Lr=Kr}var zr,Wr={};function Xr(t){return function(t,e){var n=Wr;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Sr(String(Lr)).split("."),r=Sr(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Nr(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Nr(0==s[2].length,0==a[2].length)||Nr(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(sr.document&&Fr){var Qr=Br();zr=Qr||(parseInt(Lr,10)||void 0)}else zr=void 0;var Yr=zr,Jr=!Fr||9<=Number(Yr),Zr=Fr&&!Xr("9"),ti=function(){if(!sr.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{sr.addEventListener("test",ar,e),sr.removeEventListener("test",ar,e)}catch(t){}return t}();function ei(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ni(t,e){if(ei.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(jr){t:{try{Pr(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ri[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ei.prototype.b=function(){this.defaultPrevented=!0},gr(ni,ei);var ri={2:"touch",3:"pen",4:"mouse"};ni.prototype.b=function(){ni.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Zr)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var ii="closure_listenable_"+(1e6*Math.random()|0),oi=0;function si(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++oi,this.Y=this.Z=!1}function ai(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ui(t){this.src=t,this.a={},this.b=0}function ci(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=br(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ai(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function hi(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ui.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=hi(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new si(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var li="closure_lm_"+(1e6*Math.random()|0),fi={};function pi(t,e,n,r,i){if(r&&r.once)return vi(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)pi(t,e[o],n,r,i);return null}return n=Ti(n),t&&t[ii]?t.va(e,n,cr(r)?!!r.capture:!!r,i):di(t,e,n,!1,r,i)}function di(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=cr(i)?!!i.capture:!!i;if(s&&!Jr)return null;var a=Ii(t);if(a||(t[li]=a=new ui(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=wi,e=Jr?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ti||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(yi(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function vi(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)vi(t,e[o],n,r,i);return null}return n=Ti(n),t&&t[ii]?t.wa(e,n,cr(r)?!!r.capture:!!r,i):di(t,e,n,!0,r,i)}function mi(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)mi(t,e[o],n,r,i);else r=cr(r)?!!r.capture:!!r,n=Ti(n),t&&t[ii]?(t=t.c,(e=String(e).toString())in t.a&&(-1<(n=hi(o=t.a[e],n,r,i))&&(ai(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Ii(t))&&(e=t.a[e.toString()],t=-1,e&&(t=hi(e,n,r,i)),(n=-1<t?e[t]:null)&&gi(n))}function gi(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ii])ci(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yi(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ii(e))?(ci(n,t),0==n.b&&(n.src=null,e[li]=null)):ai(t)}}}function yi(t){return t in fi?fi[t]:fi[t]="on"+t}function bi(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&gi(t),n.call(r,e)}function wi(t,e){if(t.Y)return!0;if(!Jr){if(!e)t:{e=["window","event"];for(var n=sr,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return bi(t,e=new ni(e,this))}return bi(t,new ni(e,this))}function Ii(t){return(t=t[li])instanceof ui?t:null}var Ei="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ti(t){return"function"==typeof t?t:(t[Ei]||(t[Ei]=function(e){return t.handleEvent(e)}),t[Ei])}function _i(){yr.call(this),this.c=new ui(this),this.J=this,this.C=null}function Si(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new ei(e,t);else if(e instanceof ei)e.target=e.target||t;else{var i=e;Rr(e=new ei(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Ai(s,r,!0,e)&&i}if(i=Ai(s=e.a=t,r,!0,e)&&i,i=Ai(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Ai(s=e.a=n[o],r,!1,e)&&i}function Ai(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&ci(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}gr(_i,yr),_i.prototype[ii]=!0,(rr=_i.prototype).addEventListener=function(t,e,n,r){pi(this,t,e,n,r)},rr.removeEventListener=function(t,e,n,r){mi(this,t,e,n,r)},rr.G=function(){if(_i.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ai(n[r]);delete e.a[t],e.b--}}this.C=null},rr.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},rr.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ni=sr.JSON.stringify;function ki(){this.b=this.a=null}var Di,Ci=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new Oi}),(function(t){t.reset()}));function xi(){var t=Mi,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Oi(){this.next=this.b=this.a=null}function Ri(t){sr.setTimeout((function(){throw t}),0)}function Pi(t,e){Di||function(){var t=sr.Promise.resolve(void 0);Di=function(){t.then($i)}}(),Li||(Di(),Li=!0),Mi.add(t,e)}ki.prototype.add=function(t,e){var n=Ci.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Oi.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Oi.prototype.reset=function(){this.next=this.b=this.a=null};var Li=!1,Mi=new ki;function $i(){for(var t;t=xi();){try{t.a.call(t.b)}catch(t){Ri(t)}var e=Ci;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Li=!1}function Fi(t,e){_i.call(this),this.b=t||1,this.a=e||sr,this.f=dr(this.Za,this),this.g=mr()}function Vi(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ui(t,e,n){if("function"==typeof t)n&&(t=dr(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=dr(t.handleEvent,t)}return 2147483647<Number(e)?-1:sr.setTimeout(t,e||0)}function ji(t){t.a=Ui((function(){t.a=null,t.c&&(t.c=!1,ji(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}gr(Fi,_i),(rr=Fi.prototype).aa=!1,rr.M=null,rr.Za=function(){if(this.aa){var t=mr()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Si(this,"tick"),this.aa&&(Vi(this),this.start()))}},rr.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=mr())},rr.G=function(){Fi.X.G.call(this),Vi(this),delete this.a};var qi=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}er(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:ji(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(sr.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(yr);function Bi(t){yr.call(this),this.b=t,this.a={}}gr(Bi,yr);var Ki=[];function Gi(t,e,n,r){Array.isArray(n)||(n&&(Ki[0]=n.toString()),n=Ki);for(var i=0;i<n.length;i++){var o=pi(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Hi(t){Cr(t.a,(function(t,e){this.a.hasOwnProperty(e)&&gi(t)}),t),t.a={}}function zi(){this.a=!0}function Wi(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ni(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}Bi.prototype.G=function(){Bi.X.G.call(this),Hi(this)},Bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zi.prototype.info=function(){};var Xi={},Qi=null;function Yi(){return Qi=Qi||new _i}function Ji(t){ei.call(this,Xi.Fa,t)}function Zi(t){var e=Yi();Si(e,new Ji(e,t))}function to(t,e){ei.call(this,Xi.STAT_EVENT,t),this.stat=e}function eo(t){var e=Yi();Si(e,new to(e,t))}function no(t){ei.call(this,Xi.Ga,t)}function ro(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return sr.setTimeout((function(){t()}),e)}Xi.Fa="serverreachability",gr(Ji,ei),Xi.STAT_EVENT="statevent",gr(to,ei),Xi.Ga="timingevent",gr(no,ei);var io={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},oo={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function so(){}function ao(t){var e;return(e=t.a)||(e=t.a={}),e}function uo(){}so.prototype.a=null;var co,ho={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function lo(){ei.call(this,"d")}function fo(){ei.call(this,"c")}function po(){}function vo(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Bi(this),this.P=mo,t=Ur?125:void 0,this.R=new Fi(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}gr(lo,ei),gr(fo,ei),gr(po,so),co=new po;var mo=45e3,go={},yo={};function bo(t,e,n){t.H=1,t.i=jo(Lo(e)),t.j=n,t.I=!0,wo(t,null)}function wo(t,e){t.u=mr(),To(t),t.l=Lo(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),ts(n.b,"t",r),t.D=0,t.a=Ws(t.g,t.g.C?e:null),0<t.O&&(t.F=new qi(dr(t.Ca,t,t.a),t.O)),Gi(t.J,t.a,"readystatechange",t.Xa),e=t.B?xr(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Zi(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var h=c[0];c=c[1];var l=h.split("_");s=2<=l.length&&"type"==l[1]?s+(h+"=")+c+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Io(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Eo(t,n);if(i==yo){4==e&&(t.h=4,eo(14),r=!1),Wi(t.c,t.f,null,"[Incomplete Response]");break}if(i==go){t.h=4,eo(15),Wi(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Wi(t.c,t.f,i,null),ko(t,i)}4==e&&0==n.length&&(t.h=1,eo(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Us(e),e.F=!0,eo(11))):(Wi(t.c,t.f,n,"[Invalid Chunked Response]"),No(t),Ao(t))}function Eo(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?yo:(n=Number(e.substring(n,r)),isNaN(n)?go:(r+=1)+n>e.length?yo:(e=e.substr(r,n),t.D=r+n,e))}function To(t){t.T=mr()+t.P,_o(t,t.P)}function _o(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=ro(dr(t.Va,t),e)}function So(t){t.o&&(sr.clearTimeout(t.o),t.o=null)}function Ao(t){0==t.g.v||t.A||Bs(t.g,t)}function No(t){So(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Vi(t.R),Hi(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ko(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||as(n.b,t)))if(n.I=t.N,!t.C&&as(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;qs(n),xs(n)}Vs(n),eo(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=ro(dr(n.Sa,n),6e3));if(1>=ss(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else Gs(n,11)}else if((t.C||n.a==t)&&qs(n),!Tr(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var h=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(h){var l=u.b;!l.a&&(Ar(h,"spdy")||Ar(h,"quic")||Ar(h,"h2"))&&(l.f=l.g,l.a=new Set,l.b&&(us(l,l.b),l.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Uo(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=mr()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=t;if((u=n).la=zs(u,u.C?u.ga:null,u.fa),p.C){cs(u.b,p);var d=p,v=u.D;v&&d.setTimeout(v),d.o&&(So(d),To(d)),u.a=p}else Fs(u);0<n.g.length&&Ps(n)}else"stop"!=i[0]&&"close"!=i[0]||Gs(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Gs(n,7):Cs(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Zi(4)}catch(t){}}function Do(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ur(t)||"string"==typeof t)wr(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(ur(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(ur(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Co(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Co)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function xo(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Oo(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Oo(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Oo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(rr=vo.prototype).setTimeout=function(t){this.P=t},rr.Xa=function(t){t=t.target;var e=this.F;e&&3==As(t)?e.f():this.Ca(t)},rr.Ca=function(t){try{if(t==this.a)t:{var e=As(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Ur&&!this.a.$())){this.A||4!=e||7==n||Zi(8==n||0>=r?3:2),So(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tr(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,eo(12),No(this),Ao(this);break t}Wi(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ko(this,u)}this.I?(Io(this,e,o),Ur&&this.b&&3==e&&(Gi(this.J,this.R,"tick",this.Wa),this.R.start())):(Wi(this.c,this.f,o,null),ko(this,o)),4==e&&No(this),this.b&&!this.A&&(4==e?Bs(this.g,this):(this.b=!1,To(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,eo(12)):(this.h=0,eo(13)),No(this),Ao(this)}}}catch(t){}},rr.Wa=function(){if(this.a){var t=As(this.a),e=this.a.$();this.D<e.length&&(So(this),Io(this,t,e),this.b&&4!=t&&To(this))}},rr.cancel=function(){this.A=!0,No(this)},rr.Va=function(){this.o=null;var t=mr();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Zi(3),eo(17)),No(this),this.h=2,Ao(this)):_o(this,this.T-t)},(rr=Co.prototype).K=function(){xo(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},rr.L=function(){return xo(this),this.a.concat()},rr.get=function(t,e){return Oo(this.b,t)?this.b[t]:e},rr.set=function(t,e){Oo(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},rr.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ro=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Po(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Po){this.a=void 0!==e?e:t.a,Mo(this,t.f),this.j=t.j,$o(this,t.c),Fo(this,t.h),this.g=t.g,e=t.b;var n=new Qo;n.c=e.c,e.a&&(n.a=new Co(e.a),n.b=e.b),Vo(this,n),this.i=t.i}else t&&(n=String(t).match(Ro))?(this.a=!!e,Mo(this,n[1]||"",!0),this.j=qo(n[2]||""),$o(this,n[3]||"",!0),Fo(this,n[4]),this.g=qo(n[5]||"",!0),Vo(this,n[6]||"",!0),this.i=qo(n[7]||"")):(this.a=!!e,this.b=new Qo(null,this.a))}function Lo(t){return new Po(t)}function Mo(t,e,n){t.f=n?qo(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function $o(t,e,n){t.c=n?qo(e,!0):e}function Fo(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Vo(t,e,n){e instanceof Qo?(t.b=e,function(t,e){e&&!t.f&&(Yo(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Jo(this,e),ts(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Bo(e,Wo)),t.b=new Qo(e,t.a))}function Uo(t,e,n){t.b.set(e,n)}function jo(t){return Uo(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^mr()).toString(36)),t}function qo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Bo(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ko),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ko(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Po.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Bo(e,Go,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Bo(e,Go,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Bo(n,"/"==n.charAt(0)?zo:Ho,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Bo(n,Xo)),t.join("")};var Go=/[#\/\?@]/g,Ho=/[#\?:]/g,zo=/[#\?]/g,Wo=/[#\?@]/g,Xo=/#/g;function Qo(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Yo(t){t.a||(t.a=new Co,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Jo(t,e){Yo(t),e=es(t,e),Oo(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Oo((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&xo(t)))}function Zo(t,e){return Yo(t),e=es(t,e),Oo(t.a.b,e)}function ts(t,e,n){Jo(t,e),0<n.length&&(t.c=null,t.a.set(es(t,e),Er(n)),t.b+=n.length)}function es(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(rr=Qo.prototype).add=function(t,e){Yo(this),this.c=null,t=es(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},rr.forEach=function(t,e){Yo(this),this.a.forEach((function(n,r){wr(n,(function(n){t.call(e,n,r,this)}),this)}),this)},rr.L=function(){Yo(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},rr.K=function(t){Yo(this);var e=[];if("string"==typeof t)Zo(this,t)&&(e=Ir(e,this.a.get(es(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Ir(e,t[n])}return e},rr.set=function(t,e){return Yo(this),this.c=null,Zo(this,t=es(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},rr.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},rr.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ns=function(t,e){this.b=t,this.a=e};function rs(t){this.g=t||is,sr.PerformanceNavigationTiming?t=0<(t=sr.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(sr.ia&&sr.ia.ya&&sr.ia.ya()&&sr.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var is=10;function os(t){return!!t.b||!!t.a&&t.a.size>=t.f}function ss(t){return t.b?1:t.a?t.a.size:0}function as(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function us(t,e){t.a?t.a.add(e):t.b=e}function cs(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function hs(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=nr(t.a.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Er(t.c)}function ls(){}function fs(){this.a=new ls}function ps(t,e,n){var r=n||"";try{Do(t,(function(t,n){var i=t;cr(t)&&(i=Ni(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function ds(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}rs.prototype.cancel=function(){var t,e;if(this.c=hs(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=nr(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},ls.prototype.stringify=function(t){return sr.JSON.stringify(t,void 0)},ls.prototype.parse=function(t){return sr.JSON.parse(t,void 0)};var vs=sr.JSON.parse;function ms(t){_i.call(this),this.headers=new Co,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=gs,this.D=this.F=!1}gr(ms,_i);var gs="",ys=/^https?$/i,bs=["POST","PUT"];function ws(t){return"content-type"==t.toLowerCase()}function Is(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Es(t),_s(t)}function Es(t){t.u||(t.u=!0,Si(t,"complete"),Si(t,"error"))}function Ts(t){if(t.b&&void 0!==or&&(!t.s[1]||4!=As(t)||2!=t.W()))if(t.l&&4==As(t))Ui(t.za,0,t);else if(Si(t,"readystatechange"),4==As(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Ro)[1]||null;if(!o&&sr.self&&sr.self.location){var s=sr.self.location.protocol;o=s.substr(0,s.length-1)}i=!ys.test(o?o.toLowerCase():"")}e=i}if(e)Si(t,"complete"),Si(t,"success");else{t.h=6;try{var a=2<As(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Es(t)}}finally{_s(t)}}}function _s(t,e){if(t.a){Ss(t);var n=t.a,r=t.s[0]?ar:null;t.a=null,t.s=null,e||Si(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function Ss(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(sr.clearTimeout(t.m),t.m=null)}function As(t){return t.a?t.a.readyState:0}function Ns(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Cr(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Uo(t,e,n))}function ks(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ds(t){this.pa=0,this.g=[],this.c=new zi,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=ks("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=ks("baseRetryDelayMs",5e3,t),this.Ra=ks("retryDelaySeedMs",1e4,t),this.Ma=ks("forwardChannelMaxRetries",2,t),this.ma=ks("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new rs(t&&t.concurrentRequestLimit),this.ka=new fs,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Cs(t){if(Os(t),3==t.v){var e=t.R++,n=Lo(t.B);Uo(n,"SID",t.J),Uo(n,"RID",e),Uo(n,"TYPE","terminate"),Ms(t,n),(e=new vo(t,t.c,e,void 0)).H=2,e.i=jo(Lo(n)),n=!1,sr.navigator&&sr.navigator.sendBeacon&&(n=sr.navigator.sendBeacon(e.i.toString(),"")),!n&&sr.Image&&((new Image).src=e.i,n=!0),n||(e.a=Ws(e.g,null),e.a.ba(e.i)),e.u=mr(),To(e)}Hs(t)}function xs(t){t.a&&(Us(t),t.a.cancel(),t.a=null)}function Os(t){xs(t),t.j&&(sr.clearTimeout(t.j),t.j=null),qs(t),t.b.cancel(),t.h&&("number"==typeof t.h&&sr.clearTimeout(t.h),t.h=null)}function Rs(t,e){t.g.push(new ns(t.Oa++,e)),3==t.v&&Ps(t)}function Ps(t){os(t.b)||t.h||(t.h=!0,Pi(t.Ba,t),t.u=0)}function Ls(t,e){var n;n=e?e.f:t.R++;var r=Lo(t.B);Uo(r,"SID",t.J),Uo(r,"RID",n),Uo(r,"AID",t.P),Ms(t,r),t.i&&t.l&&Ns(r,t.i,t.l),n=new vo(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=$s(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),us(t.b,n),bo(n,r,e)}function Ms(t,e){t.f&&Do({},(function(t,n){Uo(e,n,t)}))}function $s(t,e,n){n=Math.min(t.g.length,n);var r=t.f?dr(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{ps(h,s,"req"+c+"_")}catch(t){r&&r(h)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Fs(t){t.a||t.j||(t.T=1,Pi(t.Aa,t),t.o=0)}function Vs(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=ro(dr(t.Aa,t),Ks(t,t.o)),t.o++,!0)}function Us(t){null!=t.s&&(sr.clearTimeout(t.s),t.s=null)}function js(t){t.a=new vo(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Lo(t.la);Uo(e,"RID","rpc"),Uo(e,"SID",t.J),Uo(e,"CI",t.H?"0":"1"),Uo(e,"AID",t.P),Ms(t,e),Uo(e,"TYPE","xmlhttp"),t.i&&t.l&&Ns(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=jo(Lo(e)),n.j=null,n.I=!0,wo(n,t)}function qs(t){null!=t.m&&(sr.clearTimeout(t.m),t.m=null)}function Bs(t,e){var n=null;if(t.a==e){qs(t),Us(t),t.a=null;var r=2}else{if(!as(t.b,e))return;n=e.s,cs(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=mr()-e.u;var i=t.u;Si(r=Yi(),new no(r,n,e,i)),Ps(t)}else Fs(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(ss(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=ro(dr(t.Ba,t,e),Ks(t,t.u)),t.u++,0)))}(t,e)||2==r&&Vs(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Gs(t,5);break;case 4:Gs(t,10);break;case 3:Gs(t,6);break;default:Gs(t,2)}}function Ks(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Gs(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=dr(t.Ya,t);n||(n=new Po("//www.google.com/images/cleardot.gif"),sr.location&&"http"==sr.location.protocol||Mo(n,"https"),jo(n)),function(t,e){var n=new zi;if(sr.Image){var r=new Image;r.onload=vr(ds,n,r,"TestLoadImage: loaded",!0,e),r.onerror=vr(ds,n,r,"TestLoadImage: error",!1,e),r.onabort=vr(ds,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=vr(ds,n,r,"TestLoadImage: timeout",!1,e),sr.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else eo(2);t.v=0,t.f&&t.f.ra(e),Hs(t),Os(t)}function Hs(t){t.v=0,t.I=-1,t.f&&(0==hs(t.b).length&&0==t.g.length||(t.b.c.length=0,Er(t.g),t.g.length=0),t.f.qa())}function zs(t,e,n){var r=function(t){return t instanceof Po?Lo(t):new Po(t,void 0)}(n);if(""!=r.c)e&&$o(r,e+"."+r.c),Fo(r,r.h);else{var i=sr.location;r=function(t,e,n,r){var i=new Po(null,void 0);return t&&Mo(i,t),e&&$o(i,e),n&&Fo(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Cr(t.V,(function(t,e){Uo(r,e,t)})),e=t.A,n=t.na,e&&n&&Uo(r,e,n),Uo(r,"VER",t.ha),Ms(t,r),r}function Ws(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ms(t.Na)).F=t.C,e}function Xs(){}function Qs(){if(Fr&&!(10<=Number(Yr)))throw Error("Environmental error: no available transport.")}function Ys(t,e){_i.call(this),this.a=new Ds(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Tr(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Tr(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new ta(this)}function Js(t){lo.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Zs(){fo.call(this),this.status=1}function ta(t){this.a=t}(rr=ms.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?ao(this.H):ao(co),this.a.onreadystatechange=dr(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void Is(this,t)}t=n||"";var i=new Co(this.headers);r&&Do(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=ws,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=sr.FormData&&t instanceof sr.FormData,!(0<=br(bs,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Ss(this),0<this.o&&((this.D=function(t){return Fr&&Xr(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=dr(this.xa,this)):this.m=Ui(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Is(this,t)}},rr.xa=function(){void 0!==or&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Si(this,"timeout"),this.abort(8))},rr.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Si(this,"complete"),Si(this,"abort"),_s(this))},rr.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),_s(this,!0)),ms.X.G.call(this)},rr.za=function(){this.j||(this.A||this.l||this.g?Ts(this):this.Ua())},rr.Ua=function(){Ts(this)},rr.W=function(){try{return 2<As(this)?this.a.status:-1}catch(t){return-1}},rr.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},rr.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),vs(e)}},rr.ua=function(){return this.h},rr.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(rr=Ds.prototype).ha=8,rr.v=1,rr.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new vo(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Rr(r=xr(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=$s(this,n,e),Uo(i=Lo(this.B),"RID",t),Uo(i,"CVER",22),this.A&&Uo(i,"X-HTTP-Session-Id",this.A),Ms(this,i),this.i&&r&&Ns(i,this.i,r),us(this.b,n),this.Ia&&Uo(i,"TYPE","init"),this.da?(Uo(i,"$req",e),Uo(i,"SID","null"),n.U=!0,bo(n,i,null)):bo(n,i,e),this.v=2}}else 3==this.v&&(t?Ls(this,t):0==this.g.length||os(this.b)||Ls(this))},rr.Aa=function(){if(this.j=null,js(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=ro(dr(this.Ta,this),t)}},rr.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,eo(10),xs(this),js(this))},rr.Sa=function(){null!=this.m&&(this.m=null,xs(this),Vs(this),eo(19))},rr.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),eo(2)):(this.c.info("Failed to ping google.com"),eo(1))},(rr=Xs.prototype).ta=function(){},rr.sa=function(){},rr.ra=function(){},rr.qa=function(){},rr.Ja=function(){},Qs.prototype.a=function(t,e){return new Ys(t,e)},gr(Ys,_i),Ys.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;eo(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=zs(t,null,t.fa),Ps(t)},Ys.prototype.close=function(){Cs(this.a)},Ys.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Rs(this.a,e)}else this.l?((e={}).__data__=Ni(t),Rs(this.a,e)):Rs(this.a,t)},Ys.prototype.G=function(){this.a.f=null,delete this.f,Cs(this.a),delete this.a,Ys.X.G.call(this)},gr(Js,lo),gr(Zs,fo),gr(ta,Xs),ta.prototype.ta=function(){Si(this.a,"a")},ta.prototype.sa=function(t){Si(this.a,new Js(t))},ta.prototype.ra=function(t){Si(this.a,new Zs(t))},ta.prototype.qa=function(){Si(this.a,"b")},Qs.prototype.createWebChannel=Qs.prototype.a,Ys.prototype.send=Ys.prototype.h,Ys.prototype.open=Ys.prototype.g,Ys.prototype.close=Ys.prototype.close,io.NO_ERROR=0,io.TIMEOUT=8,io.HTTP_ERROR=6,oo.COMPLETE="complete",uo.EventType=ho,ho.OPEN="a",ho.CLOSE="b",ho.ERROR="c",ho.MESSAGE="d",_i.prototype.listen=_i.prototype.va,ms.prototype.listenOnce=ms.prototype.wa,ms.prototype.getLastError=ms.prototype.Qa,ms.prototype.getLastErrorCode=ms.prototype.ua,ms.prototype.getStatus=ms.prototype.W,ms.prototype.getResponseJson=ms.prototype.Pa,ms.prototype.getResponseText=ms.prototype.$,ms.prototype.send=ms.prototype.ba;var ea=io,na=oo,ra=Xi,ia=10,oa=11,sa=uo,aa=ms,ua=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();ua.o=-1;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var ca={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ha=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return on(e,t),e}(Error),la=new Vn("@firebase/firestore");function fa(){return la.logLevel}function pa(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(la.logLevel<=On.DEBUG){var r=e.map(ma);la.debug.apply(la,ln(["Firestore (8.5.0): "+t],r))}}function da(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(la.logLevel<=On.ERROR){var r=e.map(ma);la.error.apply(la,ln(["Firestore (8.5.0): "+t],r))}}function va(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(la.logLevel<=On.WARN){var r=e.map(ma);la.warn.apply(la,ln(["Firestore (8.5.0): "+t],r))}}function ma(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ga(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.5.0) INTERNAL ASSERTION FAILED: "+t;throw da(e),new Error(e)}function ya(t,e){t||ga()}function ba(t,e){return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function wa(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ia=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=wa(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Ea(t,e){return t<e?-1:t>e?1:0}function Ta(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function _a(t){return t+"\0"}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Sa=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ha(ca.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ha(ca.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ha(ca.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ha(ca.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Ea(this.nanoseconds,t.nanoseconds):Ea(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Aa=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Sa(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Na(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ka(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Da(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ca=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&ga(),void 0===n?n=t.length-e:n>t.length-e&&ga(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),xa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return on(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new ha(ca.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Ca),Oa=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ra=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return on(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Oa.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new ha(ca.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new ha(ca.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ha(ca.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ha(ca.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Ca),Pa=function(){function t(t){this.fields=t,t.sort(Ra.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Ta(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),La=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Ea(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();La.EMPTY_BYTE_STRING=new La("");var Ma=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $a(t){if(ya(!!t),"string"==typeof t){var e=0,n=Ma.exec(t);if(ya(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Fa(t.seconds),nanos:Fa(t.nanos)}}function Fa(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Va(t){return"string"==typeof t?La.fromBase64String(t):La.fromUint8Array(t)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ua(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ja(t){var e=t.mapValue.fields.__previous_value__;return Ua(e)?ja(e):e}function qa(t){var e=$a(t.mapValue.fields.__local_write_time__.timestampValue);return new Sa(e.seconds,e.nanos)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ba(t){return null==t}function Ka(t){return 0===t&&1/t==-1/0}function Ga(t){return"number"==typeof t&&Number.isInteger(t)&&!Ka(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ha=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(xa.fromString(e))},t.fromName=function(e){return new t(xa.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===xa.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return xa.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new xa(e.slice()))},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function za(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ua(t)?4:10:ga()}function Wa(t,e){var n=za(t);if(n!==za(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qa(t).isEqual(qa(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=$a(t.timestampValue),r=$a(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Va(t.bytesValue).isEqual(Va(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Fa(t.geoPointValue.latitude)===Fa(e.geoPointValue.latitude)&&Fa(t.geoPointValue.longitude)===Fa(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Fa(t.integerValue)===Fa(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Fa(t.doubleValue),r=Fa(e.doubleValue);return n===r?Ka(n)===Ka(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Ta(t.arrayValue.values||[],e.arrayValue.values||[],Wa);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Na(n)!==Na(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Wa(n[i],r[i])))return!1;return!0}(t,e);default:return ga()}}function Xa(t,e){return void 0!==(t.values||[]).find((function(t){return Wa(t,e)}))}function Qa(t,e){var n=za(t),r=za(e);if(n!==r)return Ea(n,r);switch(n){case 0:return 0;case 1:return Ea(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Fa(t.integerValue||t.doubleValue),r=Fa(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Ya(t.timestampValue,e.timestampValue);case 4:return Ya(qa(t),qa(e));case 5:return Ea(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Va(t),r=Va(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Ea(n[i],r[i]);if(0!==o)return o}return Ea(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Ea(Fa(t.latitude),Fa(e.latitude));return 0!==n?n:Ea(Fa(t.longitude),Fa(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Qa(n[i],r[i]);if(o)return o}return Ea(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Ea(r[s],o[s]);if(0!==a)return a;var u=Qa(n[r[s]],i[o[s]]);if(0!==u)return u}return Ea(r.length,o.length)}(t.mapValue,e.mapValue);default:throw ga()}}function Ya(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ea(t,e);var n=$a(t),r=$a(e),i=Ea(n.seconds,r.seconds);return 0!==i?i:Ea(n.nanos,r.nanos)}function Ja(t){return Za(t)}function Za(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=$a(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Va(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Ha.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Za(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Za(t.fields[o])}return e+"}"}(t.mapValue):ga();var e,n}function tu(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function eu(t){return!!t&&"integerValue"in t}function nu(t){return!!t&&"arrayValue"in t}function ru(t){return!!t&&"nullValue"in t}function iu(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ou(t){return!!t&&"mapValue"in t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var su=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(Ra.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach((function(t,n){t?e.set(n,t):e.delete(n)}))},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return Wa(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===za(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),s=ou(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(s[n]=o,i=!0)}else null!==t?(s[n]=t,i=!0):s.hasOwnProperty(n)&&(delete s[n],i=!0)})),i?{mapValue:{fields:s}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(Ra.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!ou(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function au(t){var e=[];return ka(t.fields||{},(function(t,n){var r=new Ra([t]);if(ou(n)){var i=au(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new Pa(e)
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var uu=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Aa.min(),su.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,su.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,su.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=su.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=su.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),cu=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function hu(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new cu(t,e,n,r,i,o,s)}function lu(t){var e=ba(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Ja(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),Ba(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=_u(e.startAt)),e.endAt&&(n+="|ub:",n+=_u(e.endAt)),e.h=n}return e.h}function fu(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Au(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Wa(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ku(t.startAt,e.startAt)&&ku(t.endAt,e.endAt)}function pu(t){return Ha.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var du=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return on(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new vu(t,n,r):"array-contains"===n?new bu(t,r):"in"===n?new wu(t,r):"not-in"===n?new Iu(t,r):"array-contains-any"===n?new Eu(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new mu(t,n):new gu(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Qa(e,this.value)):null!==e&&za(this.value)===za(e)&&this.m(Qa(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ga()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),vu=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Ha.fromName(r.referenceValue),i}return on(e,t),e.prototype.matches=function(t){var e=Ha.comparator(t.key,this.key);return this.m(e)},e}(du),mu=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=yu("in",n),r}return on(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(du),gu=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=yu("not-in",n),r}return on(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(du);function yu(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Ha.fromName(t.referenceValue)}))}var bu=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return on(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return nu(e)&&Xa(e.arrayValue,this.value)},e}(du),wu=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return on(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Xa(this.value.arrayValue,e)},e}(du),Iu=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return on(e,t),e.prototype.matches=function(t){if(Xa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Xa(this.value.arrayValue,e)},e}(du),Eu=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return on(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!nu(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Xa(e.value.arrayValue,t)}))},e}(du),Tu=function(t,e){this.position=t,this.before=e};function _u(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Ja(t)})).join(",")}var Su=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Au(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Nu(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Ha.comparator(Ha.fromName(s.referenceValue),n.key):Qa(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function ku(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Wa(t.position[n],e.position[n]))return!1;return!0}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Du=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt};function Cu(t,e,n,r,i,o,s,a){return new Du(t,e,n,r,i,o,s,a)}function xu(t){return new Du(t)}function Ou(t){return!Ba(t.limit)&&"F"===t.limitType}function Ru(t){return!Ba(t.limit)&&"L"===t.limitType}function Pu(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Lu(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Mu(t){return null!==t.collectionGroup}function $u(t){var e=ba(t);if(null===e.p){e.p=[];var n=Lu(e),r=Pu(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Su(n)),e.p.push(new Su(Ra.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Su(Ra.keyField(),u))}}}return e.p}function Fu(t){var e=ba(t);if(!e.T)if("F"===e.limitType)e.T=hu(e.path,e.collectionGroup,$u(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=$u(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new Su(o.field,s))}var a=e.endAt?new Tu(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Tu(e.startAt.position,!e.startAt.before):null;e.T=hu(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}return e.T}function Vu(t,e,n){return new Du(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Uu(t,e){return fu(Fu(t),Fu(e))&&t.limitType===e.limitType}function ju(t){return lu(Fu(t))+"|lt:"+t.limitType}function qu(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Ja(e.value);var e})).join(", ")+"]"),Ba(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+_u(t.startAt)),t.endAt&&(e+=", endAt: "+_u(t.endAt)),"Target("+e+")"}(Fu(t))+"; limitType="+t.limitType+")"}function Bu(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Ha.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Nu(t.startAt,$u(t),e)||t.endAt&&Nu(t.endAt,$u(t),e))}(t,e)}function Ku(t){return function(e,n){for(var r=!1,i=0,o=$u(t);i<o.length;i++){var s=o[i],a=Gu(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Gu(t,e,n){var r=t.field.isKeyField()?Ha.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Qa(r,i):ga()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ga()}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Hu(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ka(e)?"-0":e}}function zu(t){return{integerValue:""+t}}function Wu(t,e){return Ga(e)?zu(e):Hu(t,e)}
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Xu=function(){this._=void 0};function Qu(t,e,n){return t instanceof Zu?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof tc?ec(t,e):t instanceof nc?rc(t,e):function(t,e){var n=Ju(t,e),r=oc(n)+oc(t.A);return eu(n)&&eu(t.A)?zu(r):Hu(t.R,r)}(t,e)}function Yu(t,e,n){return t instanceof tc?ec(t,e):t instanceof nc?rc(t,e):n}function Ju(t,e){return t instanceof ic?eu(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Zu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return on(e,t),e}(Xu),tc=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return on(e,t),e}(Xu);function ec(t,e){for(var n=sc(e),r=function(t){n.some((function(e){return Wa(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var nc=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return on(e,t),e}(Xu);function rc(t,e){for(var n=sc(e),r=function(t){n=n.filter((function(e){return!Wa(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ic=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return on(e,t),e}(Xu);function oc(t){return Fa(t.integerValue||t.doubleValue)}function sc(t){return nu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ac=function(t,e){this.field=t,this.transform=e},uc=function(t,e){this.version=t,this.transformResults=e},cc=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function hc(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var lc=function(){};function fc(t,e,n){t instanceof gc?function(t,e,n){var r=t.value.clone(),i=wc(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof yc?function(t,e,n){if(hc(t.precondition,e)){var r=wc(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(bc(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function pc(t,e,n){t instanceof gc?function(t,e,n){if(hc(t.precondition,e)){var r=t.value.clone(),i=Ic(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(mc(e),r).setHasLocalMutations()}}(t,e,n):t instanceof yc?function(t,e,n){if(hc(t.precondition,e)){var r=Ic(t.fieldTransforms,n,e),i=e.data;i.setAll(bc(t)),i.setAll(r),e.convertToFoundDocument(mc(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){hc(t.precondition,e)&&e.convertToNoDocument(Aa.min())}(t,e)}function dc(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=Ju(o.transform,s||null);null!=a&&(null==n&&(n=su.empty()),n.set(o.field,a))}return n||null}function vc(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Ta(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof tc&&e instanceof tc||t instanceof nc&&e instanceof nc?Ta(t.elements,e.elements,Wa):t instanceof ic&&e instanceof ic?Wa(t.A,e.A):t instanceof Zu&&e instanceof Zu}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function mc(t){return t.isFoundDocument()?t.version:Aa.min()}var gc=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return on(e,t),e}(lc),yc=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return on(e,t),e}(lc);function bc(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function wc(t,e,n){var r=new Map;ya(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Yu(s,a,n[i]))}return r}function Ic(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,Qu(a,u,e))}return r}var Ec,Tc,_c=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return on(e,t),e}(lc),Sc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return on(e,t),e}(lc),Ac=function(t){this.count=t};function Nc(t){switch(t){case ca.OK:return ga();case ca.CANCELLED:case ca.UNKNOWN:case ca.DEADLINE_EXCEEDED:case ca.RESOURCE_EXHAUSTED:case ca.INTERNAL:case ca.UNAVAILABLE:case ca.UNAUTHENTICATED:return!1;case ca.INVALID_ARGUMENT:case ca.NOT_FOUND:case ca.ALREADY_EXISTS:case ca.PERMISSION_DENIED:case ca.FAILED_PRECONDITION:case ca.ABORTED:case ca.OUT_OF_RANGE:case ca.UNIMPLEMENTED:case ca.DATA_LOSS:return!0;default:return ga()}}function kc(t){if(void 0===t)return da("GRPC error has no .code"),ca.UNKNOWN;switch(t){case Ec.OK:return ca.OK;case Ec.CANCELLED:return ca.CANCELLED;case Ec.UNKNOWN:return ca.UNKNOWN;case Ec.DEADLINE_EXCEEDED:return ca.DEADLINE_EXCEEDED;case Ec.RESOURCE_EXHAUSTED:return ca.RESOURCE_EXHAUSTED;case Ec.INTERNAL:return ca.INTERNAL;case Ec.UNAVAILABLE:return ca.UNAVAILABLE;case Ec.UNAUTHENTICATED:return ca.UNAUTHENTICATED;case Ec.INVALID_ARGUMENT:return ca.INVALID_ARGUMENT;case Ec.NOT_FOUND:return ca.NOT_FOUND;case Ec.ALREADY_EXISTS:return ca.ALREADY_EXISTS;case Ec.PERMISSION_DENIED:return ca.PERMISSION_DENIED;case Ec.FAILED_PRECONDITION:return ca.FAILED_PRECONDITION;case Ec.ABORTED:return ca.ABORTED;case Ec.OUT_OF_RANGE:return ca.OUT_OF_RANGE;case Ec.UNIMPLEMENTED:return ca.UNIMPLEMENTED;case Ec.DATA_LOSS:return ca.DATA_LOSS;default:return ga()}}(Tc=Ec||(Ec={}))[Tc.OK=0]="OK",Tc[Tc.CANCELLED=1]="CANCELLED",Tc[Tc.UNKNOWN=2]="UNKNOWN",Tc[Tc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tc[Tc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tc[Tc.NOT_FOUND=5]="NOT_FOUND",Tc[Tc.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tc[Tc.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tc[Tc.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tc[Tc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tc[Tc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tc[Tc.ABORTED=10]="ABORTED",Tc[Tc.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tc[Tc.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tc[Tc.INTERNAL=13]="INTERNAL",Tc[Tc.UNAVAILABLE=14]="UNAVAILABLE",Tc[Tc.DATA_LOSS=15]="DATA_LOSS";
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Dc=function(){function t(t,e){this.comparator=t,this.root=e||xc.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xc.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xc.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Cc(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Cc(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Cc(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Cc(this.root,t,this.comparator,!0)},t}(),Cc=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),xc=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw ga();if(this.right.isRed())throw ga();var t=this.left.check();if(t!==this.right.check())throw ga();return t+(this.isRed()?0:1)},t}();xc.EMPTY=null,xc.RED=!0,xc.BLACK=!1,xc.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw ga()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw ga()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw ga()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw ga()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw ga()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new xc(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Oc=function(){function t(t){this.comparator=t,this.data=new Dc(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Rc(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Rc(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Rc=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Pc=new Dc(Ha.comparator);function Lc(){return Pc}var Mc=new Dc(Ha.comparator);function $c(){return Mc}var Fc=new Dc(Ha.comparator);var Vc=new Oc(Ha.comparator);function Uc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Vc,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var jc=new Oc(Ea);function qc(){return jc}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Bc=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Kc.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Aa.min(),r,qc(),Lc(),Uc())},t}(),Kc=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(La.EMPTY_BYTE_STRING,n,Uc(),Uc(),Uc())},t}(),Gc=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Hc=function(t,e){this.targetId=t,this.V=e},zc=function(t,e,n,r){void 0===n&&(n=La.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Wc=function(){function t(){this.S=0,this.D=Yc(),this.C=La.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Uc(),e=Uc(),n=Uc();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:ga()}})),new Kc(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Yc()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Xc=function(){function t(t){this.W=t,this.G=new Map,this.H=Lc(),this.J=Qc(),this.Y=new Oc(Ea)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:ga()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(pu(i))if(0===n){var o=new Ha(i.path);this.tt(e,o,uu.newNoDocument(o,Aa.min()))}else ya(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&pu(o.target)){var s=new Ha(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,uu.newNoDocument(s,t))}r.O&&(n.set(i,r.M()),r.L())}}));var r=Uc();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Bc(t,n,this.Y,this.H,r);return this.H=Lc(),this.J=Qc(),this.Y=new Oc(Ea),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Wc,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Oc(Ea),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||pa("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Wc),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Qc(){return new Dc(Ha.comparator)}function Yc(){return new Dc(Ha.comparator)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Jc={asc:"ASCENDING",desc:"DESCENDING"},Zc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},th=function(t,e){this.databaseId=t,this.I=e};function eh(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function nh(t,e){return t.I?e.toBase64():e.toUint8Array()}function rh(t,e){return eh(t,e.toTimestamp())}function ih(t){return ya(!!t),Aa.fromTimestamp(function(t){var e=$a(t);return new Sa(e.seconds,e.nanos)}(t))}function oh(t,e){return function(t){return new xa(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function sh(t){var e=xa.fromString(t);return ya(Dh(e)),e}function ah(t,e){return oh(t.databaseId,e.path)}function uh(t,e){var n=sh(e);if(n.get(1)!==t.databaseId.projectId)throw new ha(ca.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ha(ca.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ha(fh(n))}function ch(t,e){return oh(t.databaseId,e)}function hh(t){var e=sh(t);return 4===e.length?xa.emptyPath():fh(e)}function lh(t){return new xa(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fh(t){return ya(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function ph(t,e,n){return{name:ah(t,e),fields:n.toProto().mapValue.fields}}function dh(t,e){var n;if(e instanceof gc)n={update:ph(t,e.key,e.value)};else if(e instanceof _c)n={delete:ah(t,e.key)};else if(e instanceof yc)n={update:ph(t,e.key,e.data),updateMask:kh(e.fieldMask)};else{if(!(e instanceof Sc))return ga();n={verify:ah(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Zu)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof tc)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof nc)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ic)return{fieldPath:e.field.canonicalString(),increment:n.A};throw ga()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:rh(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:ga()}(t,e.precondition)),n}function vh(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?cc.updateTime(ih(t.updateTime)):void 0!==t.exists?cc.exists(t.exists):cc.none()}(e.currentDocument):cc.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)ya("REQUEST_TIME"===e.setToServerValue),n=new Zu;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new tc(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new nc(i)}else"increment"in e?n=new ic(t,e.increment):ga();var o=Ra.fromServerFormat(e.fieldPath);return new ac(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=uh(t,e.update.name),o=new su({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){var e=t.fieldPaths||[];return new Pa(e.map((function(t){return Ra.fromServerFormat(t)})))}(e.updateMask);return new yc(i,o,s,n,r)}return new gc(i,o,n,r)}if(e.delete){var a=uh(t,e.delete);return new _c(a,n)}if(e.verify){var u=uh(t,e.verify);return new Sc(u,n)}return ga()}function mh(t,e){return{documents:[ch(t,e.path)]}}function gh(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ch(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ch(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(iu(t.value))return{unaryFilter:{field:_h(t.field),op:"IS_NAN"}};if(ru(t.value))return{unaryFilter:{field:_h(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(iu(t.value))return{unaryFilter:{field:_h(t.field),op:"IS_NOT_NAN"}};if(ru(t.value))return{unaryFilter:{field:_h(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_h(t.field),op:Th(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:_h(t.field),direction:Eh(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||Ba(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=wh(e.startAt)),e.endAt&&(n.structuredQuery.endAt=wh(e.endAt)),n}function yh(t){var e=hh(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ya(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=bh(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Su(Sh(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Ba(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Ih(n.startAt));var h=null;return n.endAt&&(h=Ih(n.endAt)),Cu(e,i,a,s,u,"F",c,h)}function bh(t){return t?void 0!==t.unaryFilter?[Nh(t)]:void 0!==t.fieldFilter?[Ah(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return bh(t)})).reduce((function(t,e){return t.concat(e)})):ga():[]}function wh(t){return{before:t.before,values:t.position}}function Ih(t){var e=!!t.before,n=t.values||[];return new Tu(n,e)}function Eh(t){return Jc[t]}function Th(t){return Zc[t]}function _h(t){return{fieldPath:t.canonicalString()}}function Sh(t){return Ra.fromServerFormat(t.fieldPath)}function Ah(t){return du.create(Sh(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ga()}}(t.fieldFilter.op),t.fieldFilter.value)}function Nh(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Sh(t.unaryFilter.field);return du.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Sh(t.unaryFilter.field);return du.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Sh(t.unaryFilter.field);return du.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Sh(t.unaryFilter.field);return du.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ga()}}function kh(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Dh(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ch(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Oh(e)),e=xh(t.get(n),e);return Oh(e)}function xh(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Oh(t){return t+""}function Rh(t){var e=t.length;if(ya(e>=2),2===e)return ya(""===t.charAt(0)&&""===t.charAt(1)),xa.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&ga(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:ga()}o=s+2}return new xa(r)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ph=function(t,e){this.seconds=t,this.nanoseconds=e},Lh=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Lh.store="owner",Lh.key="owner";var Mh=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Mh.store="mutationQueues",Mh.keyPath="userId";var $h=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};$h.store="mutations",$h.keyPath="batchId",$h.userMutationsIndex="userMutationsIndex",$h.userMutationsKeyPath=["userId","batchId"];var Fh=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Ch(e)]},t.key=function(t,e,n){return[t,Ch(e),n]},t}();Fh.store="documentMutations",Fh.PLACEHOLDER=new Fh;var Vh=function(t,e){this.path=t,this.readTime=e},Uh=function(t,e){this.path=t,this.version=e},jh=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};jh.store="remoteDocuments",jh.readTimeIndex="readTimeIndex",jh.readTimeIndexPath="readTime",jh.collectionReadTimeIndex="collectionReadTimeIndex",jh.collectionReadTimeIndexPath=["parentPath","readTime"];var qh=function(t){this.byteSize=t};qh.store="remoteDocumentGlobal",qh.key="remoteDocumentGlobalKey";var Bh=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Bh.store="targets",Bh.keyPath="targetId",Bh.queryTargetsIndexName="queryTargetsIndex",Bh.queryTargetsKeyPath=["canonicalId","targetId"];var Kh=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Kh.store="targetDocuments",Kh.keyPath=["targetId","path"],Kh.documentTargetsIndex="documentTargetsIndex",Kh.documentTargetsKeyPath=["path","targetId"];var Gh=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Gh.key="targetGlobalKey",Gh.store="targetGlobal";var Hh=function(t,e){this.collectionId=t,this.parent=e};Hh.store="collectionParents",Hh.keyPath=["collectionId","parent"];var zh=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};zh.store="clientMetadata",zh.keyPath="clientId";var Wh=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Wh.store="bundles",Wh.keyPath="bundleId";var Xh=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Xh.store="namedQueries",Xh.keyPath="name";var Qh=ln(ln([],ln(ln([],ln(ln([],ln(ln([],[Mh.store,$h.store,Fh.store,jh.store,Bh.store,Lh.store,Gh.store,Kh.store]),[zh.store])),[qh.store])),[Hh.store])),[Wh.store,Xh.store]),Yh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Jh=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),Zh=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},tl=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&ga(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),el=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Zh,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new il(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=cl(e.target.error);n.ft.reject(new il(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new il(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(pa("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new sl(e)},t}(),nl=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(vn())&&da("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return pa("SimpleDb","Removing database:",t),al(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=vn(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return an(this,void 0,void 0,(function(){var e,n=this;return un(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(pa("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new il(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new ha(ca.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new il(t,n))},i.onupgradeneeded=function(t){pa("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next((function(){pa("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return an(this,void 0,void 0,(function(){var i,o,s,a,u;return un(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,h;return un(this,(function(l){switch(l.label){case 0:++o,l.label=1;case 1:return l.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=l.sent(),e=el.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),tl.reject(t)})).toPromise(),u={},s.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(l.sent(),s),u)];case 4:return c=l.sent(),h="FirebaseError"!==c.name&&o<3,pa("SimpleDb","Transaction failed with error:",c.message,"Retrying:",h),a.close(),h?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),rl=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return al(this.Pt.delete())},t}(),il=function(t){function e(e,n){var r=this;return(r=t.call(this,ca.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return on(e,t),e}(ha);function ol(t){return"IndexedDbTransactionError"===t.name}var sl=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(pa("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(pa("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),al(n)},t.prototype.add=function(t){return pa("SimpleDb","ADD",this.store.name,t,t),al(this.store.add(t))},t.prototype.get=function(t){var e=this;return al(this.store.get(t)).next((function(n){return void 0===n&&(n=null),pa("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return pa("SimpleDb","DELETE",this.store.name,t),al(this.store.delete(t))},t.prototype.count=function(){return pa("SimpleDb","COUNT",this.store.name),al(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){pa("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new tl((function(n,r){e.onerror=function(t){var e=cl(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new tl((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new rl(i),s=e(i.primaryKey,i.value,o);if(s instanceof tl){var a=s.catch((function(t){return o.done(),tl.reject(t)}));n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return tl.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function al(t){return new tl((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=cl(t.target.error);n(e)}}))}var ul=!1;function cl(t){var e=nl._t(vn());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new ha("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ul||(ul=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var hl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return on(e,t),e}(Jh);function ll(t,e){var n=ba(t);return nl.It(n.Mt,e)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var fl=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&fc(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&pc(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&pc(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Aa.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Uc())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ta(this.mutations,t.mutations,(function(t,e){return vc(t,e)}))&&Ta(this.baseMutations,t.baseMutations,(function(t,e){return vc(t,e)}))},t}(),pl=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){ya(e.mutations.length===r.length);for(var i=Fc,o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),dl=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Aa.min()),void 0===o&&(o=Aa.min()),void 0===s&&(s=La.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),vl=function(t){this.Lt=t};function ml(t,e){if(e.document)return function(t,e,n){var r=uh(t,e.name),i=ih(e.updateTime),o=new su({mapValue:{fields:e.fields}}),s=uu.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Ha.fromSegments(e.noDocument.path),r=Il(e.noDocument.readTime),i=uu.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Ha.fromSegments(e.unknownDocument.path);return r=Il(e.unknownDocument.version),uu.newUnknownDocument(o,r)}return ga()}function gl(t,e,n){var r=yl(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:ah(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:eh(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new jh(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=wl(e.version);return s=e.hasCommittedMutations,new jh(null,new Vh(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),h=wl(e.version);return new jh(new Uh(c,h),null,null,!0,r,i)}return ga()}function yl(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function bl(t){var e=new Sa(t[0],t[1]);return Aa.fromTimestamp(e)}function wl(t){var e=t.toTimestamp();return new Ph(e.seconds,e.nanoseconds)}function Il(t){var e=new Sa(t.seconds,t.nanoseconds);return Aa.fromTimestamp(e)}function El(t,e){for(var n=(e.baseMutations||[]).map((function(e){return vh(t.Lt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var s=e.mutations.map((function(e){return vh(t.Lt,e)})),a=Sa.fromMillis(e.localWriteTimeMs);return new fl(e.batchId,a,n,s)}function Tl(t){var e,n,r=Il(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Il(t.lastLimboFreeSnapshotVersion):Aa.min();return void 0!==t.query.documents?(ya(1===(n=t.query).documents.length),e=Fu(xu(hh(n.documents[0])))):e=function(t){return Fu(yh(t))}(t.query),new dl(e,t.targetId,0,t.lastListenSequenceNumber,r,i,La.fromBase64String(t.resumeToken))}function _l(t,e){var n,r=wl(e.snapshotVersion),i=wl(e.lastLimboFreeSnapshotVersion);n=pu(e.target)?mh(t.Lt,e.target):gh(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Bh(e.targetId,lu(e.target),r,o,e.sequenceNumber,i,n)}function Sl(t){var e=yh({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Vu(e,e.limit,"L"):e}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Al=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Nl(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Il(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Nl(t).put({bundleId:(n=e).id,createTime:wl(ih(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return kl(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Sl(e.bundledQuery),readTime:Il(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return kl(t).put(function(t){return{name:t.name,readTime:wl(ih(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Nl(t){return ll(t,Wh.store)}function kl(t){return ll(t,Xh.store)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Dl=function(){function t(){this.Bt=new Cl}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),tl.resolve()},t.prototype.getCollectionParents=function(t,e){return tl.resolve(this.Bt.getEntries(e))},t}(),Cl=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Oc(xa.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Oc(xa.comparator)).toArray()},t}(),xl=function(){function t(){this.qt=new Cl}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:Ch(i)};return Ol(t).put(o)}return tl.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[_a(e),""],!1,!0);return Ol(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Rh(o.parent))}return n}))},t}();function Ol(t){return ll(t,Hh.store)}
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Rl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Pl=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ll(t,e,n){var r=t.store($h.store),i=t.store(Fh.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Ot({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){ya(1===a)})));for(var c=[],h=0,l=n.mutations;h<l.length;h++){var f=l[h],p=Fh.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return tl.waitFor(o).next((function(){return c}))}function Ml(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ga();e=t.noDocument}return JSON.stringify(e).length}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */Pl.DEFAULT_COLLECTION_PERCENTILE=10,Pl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pl.DEFAULT=new Pl(41943040,Pl.DEFAULT_COLLECTION_PERCENTILE,Pl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pl.DISABLED=new Pl(-1,0,0);var $l=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return ya(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vl(t).Ot({index:$h.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Ul(t),s=Vl(t);return s.add({}).next((function(a){ya("number"==typeof a);for(var u=new fl(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return dh(t.Lt,e)})),i=n.mutations.map((function(e){return dh(t.Lt,e)}));return new $h(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),h=[],l=new Oc((function(t,e){return Ea(t.canonicalString(),e.canonicalString())})),f=0,p=r;f<p.length;f++){var d=p[f],v=Fh.key(i.userId,d.key.path,a);l=l.add(d.key.path.popLast()),h.push(s.put(c)),h.push(o.put(v,Fh.PLACEHOLDER))}return l.forEach((function(e){h.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Qt[a]=u.keys()})),tl.waitFor(h).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Vl(t).get(e).next((function(t){return t?(ya(t.userId===n.userId),El(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?tl.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Vl(t).Ot({index:$h.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(ya(e.batchId>=r),o=El(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Vl(t).Ot({index:$h.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vl(t).Nt($h.userMutationsIndex,n).next((function(t){return t.map((function(t){return El(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Fh.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Ul(t).Ot({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],h=Rh(u);if(a===n.userId&&e.path.isEqual(h))return Vl(t).get(c).next((function(t){if(!t)throw ga();ya(t.userId===n.userId),o.push(El(n.R,t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Oc(Ea),i=[];return e.forEach((function(e){var o=Fh.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Ul(t).Ot({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=Rh(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),tl.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Fh.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Oc(Ea);return Ul(t).Ot({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],h=Rh(u);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Wt(t,a)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Vl(t).get(e).next((function(t){if(null===t)throw ga();ya(t.userId===n.userId),r.push(El(n.R,t))})))})),tl.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return Ll(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),tl.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return tl.resolve();var r=IDBKeyRange.lowerBound(Fh.prefixForUser(e.userId)),i=[];return Ul(t).Ot({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Rh(t[1]);i.push(o)}else r.done()})).next((function(){ya(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return Fl(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return jl(t).get(this.userId).next((function(t){return t||new Mh(e.userId,-1,"")}))},t}();function Fl(t,e,n){var r=Fh.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Ul(t).Ot({range:o,kt:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function Vl(t){return ll(t,$h.store)}function Ul(t){return ll(t,Fh.store)}function jl(t){return ll(t,Mh.store)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ql=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Bl=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new ql(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return Aa.fromTimestamp(new Sa(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return Kl(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return ya(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Kl(t).Ot((function(s,a){var u=Tl(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return tl.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return Kl(t).Ot((function(t,n){var r=Tl(n);e(r)}))},t.prototype.Xt=function(t){return Gl(t).get(Gh.key).next((function(t){return ya(null!==t),t}))},t.prototype.Zt=function(t,e){return Gl(t).put(Gh.key,e)},t.prototype.te=function(t,e){return Kl(t).put(_l(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=lu(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Kl(t).Ot({range:r,index:Bh.queryTargetsIndexName},(function(t,n,r){var o=Tl(n);fu(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Hl(t);return e.forEach((function(e){var s=Ch(e.path);i.push(o.put(new Kh(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))})),tl.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Hl(t);return tl.forEach(e,(function(e){var o=Ch(e.path);return tl.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Hl(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Hl(t),i=Uc();return r.Ot({range:n,kt:!0},(function(t,e,n){var r=Rh(t[1]),o=new Ha(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=Ch(e.path),r=IDBKeyRange.bound([n],[_a(n)],!1,!0),i=0;return Hl(t).Ot({index:Kh.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return Kl(t).get(e).next((function(t){return t?Tl(t):null}))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Kl(t){return ll(t,Bh.store)}function Gl(t){return ll(t,Gh.store)}function Hl(t){return ll(t,Kh.store)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function zl(t){return an(this,void 0,void 0,(function(){return un(this,(function(e){if(t.code!==ca.FAILED_PRECONDITION||t.message!==Yh)throw t;return pa("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Wl(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=Ea(n,i);return 0===s?Ea(r,o):s}var Xl=function(){function t(t){this.ne=t,this.buffer=new Oc(Wl),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Wl(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Ql=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;pa("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return an(e,void 0,void 0,(function(){var e;return un(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return ol(e=n.sent())?(pa("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,zl(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Yl=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return tl.resolve(ua.o);var r=new Xl(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(pa("LruGarbageCollector","Garbage collection skipped; disabled"),tl.resolve(Rl)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(pa("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Rl):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(pa("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),fa()<=On.DEBUG&&pa("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-h)+"ms"),tl.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),Jl=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Yl(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return Zl(t,n)},t.prototype.removeReference=function(t,e,n){return Zl(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Zl(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return jl(t).$t((function(r){return Fl(t,r,e).next((function(t){return t&&(n=!0),tl.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(s,a){if(a<=e){var u=n._e(t,s).next((function(e){if(!e)return o++,r.getEntry(t,s).next((function(){return r.removeEntry(s),Hl(t).delete([0,Ch(s.path)])}))}));i.push(u)}})).next((function(){return tl.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Zl(t,e)},t.prototype.we=function(t,e){var n,r=Hl(t),i=ua.o;return r.Ot({index:Kh.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==ua.o&&e(new Ha(Rh(n)),i),i=a,n=s):i=ua.o})).next((function(){i!==ua.o&&e(new Ha(Rh(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Zl(t,e){return Hl(t).put(function(t,e){return new Kh(0,Ch(t.path),e)}(e,t.currentSequenceNumber))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var tf=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.equalsFn(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){ka(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype.isEmpty=function(){return Da(this.inner)},t}(),ef=function(){function t(){this.changes=new tf((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Aa.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:uu.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?tl.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),nf=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return sf(t).put(af(e),n)},t.prototype.removeEntry=function(t,e){var n=sf(t),r=af(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return sf(t).get(af(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return sf(t).get(af(e)).next((function(t){return{document:n.ye(e,t),size:Ml(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=Lc();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=Lc(),i=new Dc(Ha.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Ml(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return tl.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return sf(t).Ot({range:r},(function(t,e,r){for(var s=Ha.fromSegments(t);o&&Ha.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Lc(),o=e.path.length+1,s={};if(n.isEqual(Aa.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=yl(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=jh.collectionReadTimeIndex}return sf(t).Ot(s,(function(t,n,s){if(t.length===o){var a=ml(r.R,n);e.path.isPrefixOf(a.key.path)?Bu(e,a)&&(i=i.insert(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new rf(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return of(t).get(qh.key).next((function(t){return ya(!!t),t}))},t.prototype.me=function(t,e){return of(t).put(qh.key,e)},t.prototype.ye=function(t,e){if(e){var n=ml(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Aa.min()))return n}return uu.newInvalidDocument(t)},t}(),rf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new tf((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return on(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Oc((function(t,e){return Ea(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=gl(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Ml(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var h=gl(e.Ie.R,uu.newNoDocument(o,Aa.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,h))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),tl.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(ef);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function of(t){return ll(t,qh.store)}function sf(t){return ll(t,jh.store)}function af(t){return t.path.toArray()}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var uf=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;ya(n<r&&n>=0&&r<=11);var o=new el("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Lh.store)}(t),function(t){t.createObjectStore(Mh.store,{keyPath:Mh.keyPath}),t.createObjectStore($h.store,{keyPath:$h.keyPath,autoIncrement:!0}).createIndex($h.userMutationsIndex,$h.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Fh.store)}(t),cf(t),function(t){t.createObjectStore(jh.store)}(t));var s=tl.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Kh.store),t.deleteObjectStore(Bh.store),t.deleteObjectStore(Gh.store)}(t),cf(t)),s=s.next((function(){return function(t){var e=t.store(Gh.store),n=new Gh(0,0,Aa.min().toTimestamp(),0);return e.put(Gh.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store($h.store).Nt().next((function(n){t.deleteObjectStore($h.store),t.createObjectStore($h.store,{keyPath:$h.keyPath,autoIncrement:!0}).createIndex($h.userMutationsIndex,$h.userMutationsKeyPath,{unique:!0});var r=e.store($h.store),i=n.map((function(t){return r.put(t)}));return tl.waitFor(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(zh.store,{keyPath:zh.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Re(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(qh.store)}(t),i.be(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ve(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(jh.store);e.createIndex(jh.readTimeIndex,jh.readTimeIndexPath,{unique:!1}),e.createIndex(jh.collectionReadTimeIndex,jh.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(Wh.store,{keyPath:Wh.keyPath})}(t),function(t){t.createObjectStore(Xh.store,{keyPath:Xh.keyPath})}(t)}))),s},t.prototype.be=function(t){var e=0;return t.store(jh.store).Ot((function(t,n){e+=Ml(n)})).next((function(){var n=new qh(e);return t.store(qh.store).put(qh.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(Mh.store),r=t.store($h.store);return n.Nt().next((function(n){return tl.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt($h.userMutationsIndex,i).next((function(r){return tl.forEach(r,(function(r){ya(r.userId===n.userId);var i=El(e.R,r);return Ll(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(Kh.store),n=t.store(jh.store);return t.store(Gh.store).get(Gh.key).next((function(t){var r=[];return n.Ot((function(n,i){var o=new xa(n),s=function(t){return[0,Ch(t)]}(o);r.push(e.get(s).next((function(n){return n?tl.resolve():function(n){return e.put(new Kh(0,Ch(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return tl.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(Hh.store,{keyPath:Hh.keyPath});var n=e.store(Hh.store),r=new Cl,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Ch(i)})}};return e.store(jh.store).Ot({kt:!0},(function(t,e){var n=new xa(t);return i(n.popLast())})).next((function(){return e.store(Fh.store).Ot({kt:!0},(function(t,e){t[0];var n=t[1],r=(t[2],Rh(n));return i(r.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(Bh.store);return n.Ot((function(t,r){var i=Tl(r),o=_l(e.R,i);return n.put(o)}))},t}();function cf(t){t.createObjectStore(Kh.store,{keyPath:Kh.keyPath}).createIndex(Kh.documentTargetsIndex,Kh.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Bh.store,{keyPath:Bh.keyPath}).createIndex(Bh.queryTargetsIndexName,Bh.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Gh.store)}var hf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",lf=function(){function t(e,n,r,i,o,s,a,u,c,h){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=h,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new ha(ca.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Jl(this,i),this.Le=n+"main",this.R=new vl(u),this.Be=new nl(this.Le,11,new uf(this.R)),this.qe=new Bl(this.referenceDelegate,this.R),this.Ut=new xl,this.Ue=function(t,e){return new nf(t,e)}(this.R,this.Ut),this.Qe=new Al,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===h&&da("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new ha(ca.FAILED_PRECONDITION,hf);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new ua(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return an(e,void 0,void 0,(function(){return un(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return an(e,void 0,void 0,(function(){return un(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return an(e,void 0,void 0,(function(){return un(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return pf(e).put(new zh(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(ol(e))return pa("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return pa("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return ff(t).get(Lh.key).next((function(t){return tl.resolve(e.tn(t))}))},t.prototype.en=function(t){return pf(t).delete(this.clientId)},t.prototype.nn=function(){return an(this,void 0,void 0,(function(){var t,e,n,r,i=this;return un(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=ll(t,zh.store);return e.Nt().next((function(t){var n=i.rn(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return tl.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)r=n[e],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?tl.resolve(!0):ff(t).get(Lh.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new ha(ca.FAILED_PRECONDITION,hf);return!1}}return!(!e.networkEnabled||!e.inForeground)||pf(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&pa("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return an(this,void 0,void 0,(function(){var t=this;return un(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Lh.store,zh.store],(function(e){var n=new hl(e,ua.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return pf(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return $l.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;pa("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,Qh,(function(o){return i=new hl(o,r.Ne?r.Ne.next():ua.o),"readwrite-primary"===e?r.Je(i).next((function(t){return!!t||r.Ye(i)})).next((function(e){if(!e)throw da("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new ha(ca.FAILED_PRECONDITION,Yh);return n(i)})).next((function(t){return r.Ze(i).next((function(){return t}))})):r.dn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return ff(t).get(Lh.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new ha(ca.FAILED_PRECONDITION,hf)}))},t.prototype.Ze=function(t){var e=new Lh(this.clientId,this.allowTabSynchronization,Date.now());return ff(t).put(Lh.key,e)},t.yt=function(){return nl.yt()},t.prototype.Xe=function(t){var e=this,n=ff(t);return n.get(Lh.key).next((function(t){return e.tn(t)?(pa("IndexedDbPersistence","Releasing primary lease."),n.delete(Lh.key)):tl.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(da("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return pa("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return da("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){da("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ff(t){return ll(t,Lh.store)}function pf(t){return ll(t,zh.store)}function df(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var vf=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Ha.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Mu(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Ha(e)).next((function(t){var e=$c();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=$c();return this.Ut.getCollectionParents(t,i).next((function(s){return tl.forEach(s,(function(s){var a=function(t,e){return new Du(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Rn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,h=r.get(c);null==h&&(h=uu.newInvalidDocument(c),r=r.insert(c,h)),pc(u,h,o.localWriteTime),h.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){Bu(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=Uc(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof yc&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),mf=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Uc(),i=Uc(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),gf=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Aa.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var s=i.Cn(e,o);return(Ou(e)||Ru(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(fa()<=On.DEBUG&&pa("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),qu(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return s.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Oc(Ku(t));return e.forEach((function(e,r){Bu(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return fa()<=On.DEBUG&&pa("QueryEngine","Using full collection scan to execute query:",qu(e)),this.Sn.getDocumentsMatchingQuery(t,e,Aa.min())},t}(),yf=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Dc(Ea),this.kn=new tf((function(t){return lu(t)}),fu),this.On=Aa.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new vf(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function bf(t,e,n,r){return new yf(t,e,n,r)}function wf(t,e){return an(this,void 0,void 0,(function(){var n,r,i,o;return un(this,(function(s){switch(s.label){case 0:return n=ba(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new vf(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],s=Uc(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var h=0,l=c.mutations;h<l.length;h++){var f=l[h];s=s.add(f.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var m=0,g=v.mutations;m<g.length;m++){var y=g[m];s=s.add(y.key)}}return i.pn(t,s).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function If(t,e){var n=ba(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=tl.resolve();return o.forEach((function(t){s=s.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);ya(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),s.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function Ef(t){var e=ba(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function Tf(t,e){var n=ba(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return ya(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}}));var a=Lc();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(function(t,e,n,r,i){var o=Uc();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Lc();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Aa.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):pa("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}(t,o,e.documentUpdates,r,void 0).next((function(t){a=t}))),!r.isEqual(Aa.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));s.push(u)}return tl.waitFor(s).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,a)})).next((function(){return a}))})).then((function(t){return n.Fn=i,t}))}function _f(t,e){var n=ba(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function Sf(t,e){var n=ba(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?(r=i,tl.resolve(r)):n.qe.allocateTargetId(t).next((function(i){return r=new dl(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function Af(t,e,n){return an(this,void 0,void 0,(function(){var r,i,o,s;return un(this,(function(a){switch(a.label){case 0:r=ba(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!ol(s=a.sent()))throw s;return pa("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function Nf(t,e,n){var r=ba(t),i=Aa.min(),o=Uc();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=ba(t),i=r.kn.get(n);return void 0!==i?tl.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Fu(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Aa.min(),n?o:Uc())})).next((function(t){return{documents:t,Bn:o}}))}))}function kf(t,e){var n=ba(t),r=ba(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function Df(t){var e=ba(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=ba(t),i=Lc(),o=yl(n),s=sf(e),a=IDBKeyRange.lowerBound(o,!0);return s.Ot({index:jh.readTimeIndex,range:a},(function(t,e){var n=ml(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:bl(o)}}))}(e.$n,t,e.On)})).then((function(t){var n=t.wn,r=t.readTime;return e.On=r,n}))}function Cf(t){return an(this,void 0,void 0,(function(){var e;return un(this,(function(n){return[2,(e=ba(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=sf(t),n=Aa.min();return e.Ot({index:jh.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=bl(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.On=t}))]}))}))}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var xf=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return tl.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:ih(n.createTime)}),tl.resolve()},t.prototype.getNamedQuery=function(t,e){return tl.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Sl(t.bundledQuery),readTime:ih(t.readTime)}}(e)),tl.resolve()},t}(),Of=function(){function t(){this.Wn=new Oc(Rf.Gn),this.zn=new Oc(Rf.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Rf(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new Rf(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new Ha(new xa([])),r=new Rf(n,t),i=new Rf(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Ha(new xa([])),n=new Rf(e,t),r=new Rf(e,t+1),i=Uc();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new Rf(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Rf=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Ha.comparator(t.key,e.key)||Ea(t.ns,e.ns)},t.Hn=function(t,e){return Ea(t.ns,e.ns)||Ha.comparator(t.key,e.key)},t}(),Pf=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Oc(Rf.Gn)}return t.prototype.checkEmpty=function(t){return tl.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new fl(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new Rf(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return tl.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return tl.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return tl.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return tl.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return tl.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Rf(e,0),i=new Rf(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),tl.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Oc(Ea);return e.forEach((function(t){var e=new Rf(t,0),i=new Rf(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),tl.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Ha.isDocumentKey(i)||(i=i.child(""));var o=new Rf(new Ha(i),0),s=new Oc(Ea);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)}),o),tl.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;ya(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return tl.forEach(e.mutations,(function(i){var o=new Rf(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Rf(e,0),r=this.rs.firstAfterOrEqual(n);return tl.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,tl.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Lf=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Dc(Ha.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return tl.resolve(n?n.document.clone():uu.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Lc();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():uu.newInvalidDocument(t))})),tl.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Lc(),i=new Ha(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.key,u=s.value,c=u.document,h=u.readTime;if(!e.path.isPrefixOf(a.path))break;h.compareTo(n)<=0||Bu(e,c)&&(r=r.insert(c.key,c.clone()))}return tl.resolve(r)},t.prototype.fs=function(t,e){return tl.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new Mf(this)},t.prototype.getSize=function(t){return tl.resolve(this.size)},t}(),Mf=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return on(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),tl.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(ef),$f=function(){function t(t){this.persistence=t,this.ds=new tf((function(t){return lu(t)}),fu),this.lastRemoteSnapshotVersion=Aa.min(),this.highestTargetId=0,this.ws=0,this._s=new Of,this.targetCount=0,this.ys=ql.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),tl.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return tl.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return tl.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),tl.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),tl.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new ql(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,tl.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),tl.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,tl.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),tl.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return tl.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return tl.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),tl.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),tl.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),tl.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return tl.resolve(n)},t.prototype.containsKey=function(t,e){return tl.resolve(this._s.containsKey(e))},t}(),Ff=function(){function t(t,e){var n=this;this.gs={},this.Ne=new ua(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new $f(this),this.Ut=new Dl,this.Ue=function(t,e){return new Lf(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new vl(e),this.Qe=new xf(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Pf(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;pa("MemoryPersistence","Starting transaction:",t);var i=new Vf(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return tl.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),Vf=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return on(e,t),e}(Jh),Uf=function(){function t(t){this.persistence=t,this.As=new Of,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ga()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),tl.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),tl.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),tl.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tl.forEach(this.vs,(function(r){var i=Ha.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return tl.or([function(){return tl.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),jf=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function qf(t,e){return"firestore_clients_"+t+"_"+e}function Bf(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Kf(t,e){return"firestore_targets_"+t+"_"+e}jf.UNAUTHENTICATED=new jf(null),jf.GOOGLE_CREDENTIALS=new jf("google-credentials-uid"),jf.FIRST_PARTY=new jf("first-party-uid");var Gf=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new ha(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(da("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Hf=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ha(i.error.code,i.error.message)),o?new t(e,i.state,r):(da("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),zf=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=qc(),s=0;i&&s<r.activeTargetIds.length;++s)i=Ga(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(da("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Wf=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(da("SharedClientState","Failed to parse online state: "+e),null)},t}(),Xf=function(){function t(){this.activeTargetIds=qc()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Qf=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Dc(Ea),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=qf(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Xf),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return an(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,h,l=this;return un(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(qf(this.persistenceKey,r)))&&(o=zf.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.Os;u<c.length;u++)h=c[u],this.Fs(h);return this.Os=[],this.window.addEventListener("unload",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Kf(this.persistenceKey,t));if(n){var r=Hf.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Kf(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return pa("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){pa("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){pa("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(pa("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void da("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return an(e,void 0,void 0,(function(){var t,e,r,i,o,s;return un(this,(function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=ua.o;if(null!=t)try{var n=JSON.parse(t);ya("number"==typeof n),e=n}catch(t){da("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==ua.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Gf(this.currentUser,t,e,n),i=Bf(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Bf(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=Kf(this.persistenceKey,t),i=new Hf(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return zf.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Gf.Vs(new jf(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Hf.Vs(r,e)},t.prototype.js=function(t){return Wf.Vs(t)},t.prototype.ii=function(t){return an(this,void 0,void 0,(function(){return un(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(pa("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.syncEngine.hi(s,a).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=qc();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),Yf=function(){function t(){this.li=new Xf,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Xf,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Jf=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Zf=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){pa("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){pa("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),tp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ep=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),np=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return on(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var s=new aa;s.listenOnce(na.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case ea.NO_ERROR:var e=s.getResponseJson();pa("Connection","XHR received:",JSON.stringify(e)),i(e);break;case ea.TIMEOUT:pa("Connection",'RPC "'+t+'" timed out'),o(new ha(ca.DEADLINE_EXCEEDED,"Request time out"));break;case ea.HTTP_ERROR:var n=s.getStatus();if(pa("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(ca).indexOf(e)>=0?e:ca.UNKNOWN}(r.status);o(new ha(a,r.message))}else o(new ha(ca.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new ha(ca.UNAVAILABLE,"Connection failed."));break;default:ga()}}finally{pa("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.$i=function(t,e){var n,r=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new Qs,o=Yi(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(s.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())||"object"==typeof navigator&&"ReactNative"===navigator.product||vn().indexOf("Electron/")>=0||function(){var t=vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||vn().indexOf("MSAppHost/")>=0||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(s.httpHeadersOverwriteParam="$httpHeaders");var a=r.join("");pa("Connection","Creating WebChannel: "+a,s);var u=i.createWebChannel(a,s),c=!1,h=!1,l=new ep({Ei:function(t){h?pa("Connection","Not sending because WebChannel is closed:",t):(c||(pa("Connection","Opening WebChannel transport."),u.open(),c=!0),pa("Connection","WebChannel sending:",t),u.send(t))},Ti:function(){return u.close()}}),f=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(u,sa.EventType.OPEN,(function(){h||pa("Connection","WebChannel transport opened.")})),f(u,sa.EventType.CLOSE,(function(){h||(h=!0,pa("Connection","WebChannel transport closed"),l.Vi())})),f(u,sa.EventType.ERROR,(function(t){h||(h=!0,va("Connection","WebChannel transport errored:",t),l.Vi(new ha(ca.UNAVAILABLE,"The operation could not be completed")))})),f(u,sa.EventType.MESSAGE,(function(t){var e;if(!h){var n=t.data[0];ya(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){pa("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=Ec[t];if(void 0!==e)return kc(e)}(o),a=i.message;void 0===s&&(s=ca.INTERNAL,a="Unknown error status: "+o+" with message "+i.message),h=!0,l.Vi(new ha(s,a)),u.close()}else pa("Connection","WebChannel received:",n),l.Si(n)}})),f(o,ra.STAT_EVENT,(function(t){t.stat===ia?pa("Connection","Detected buffering proxy"):t.stat===oa&&pa("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);pa("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return pa("RestConnection","Received: ",t),t}),(function(e){throw va("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.5.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=tp[t];return this.Di+"/v1/"+e+":"+n},t}());
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function rp(){return"undefined"!=typeof window?window:null}function ip(){return"undefined"!=typeof document?document:null}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function op(t){return new th(t,!0)}var sp=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&pa("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Qi=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),ap=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new sp(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return an(this,void 0,void 0,(function(){return un(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return an(this,void 0,void 0,(function(){return un(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return an(this,void 0,void 0,(function(){return un(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===ca.RESOURCE_EXHAUSTED?(da(e.toString()),da("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===ca.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new ha(ca.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return an(t,void 0,void 0,(function(){return un(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return pa("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(pa("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),up=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return on(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:ga()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(ya(void 0===e||"string"==typeof e),La.fromBase64String(e||"")):(ya(void 0===e||e instanceof Uint8Array),La.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?ca.UNKNOWN:kc(t.code);return new ha(e,t.message||"")}(a);n=new zc(r,i,o,s||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=uh(t,r.document.name),o=ih(r.document.updateTime);var a=new su({mapValue:{fields:r.document.fields}}),u=(s=uu.newFoundDocument(i,o,a),r.targetIds||[]),c=r.removedTargetIds||[];n=new Gc(u,c,s.key,s)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=uh(t,r.document),o=r.readTime?ih(r.readTime):Aa.min(),a=uu.newNoDocument(i,o),s=r.removedTargetIds||[],n=new Gc([],s,a.key,a);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=uh(t,r.document),o=r.removedTargetIds||[],n=new Gc([],o,i,null);else{if(!("filter"in e))return ga();e.filter;var h=e.filter;h.targetId,r=h.count||0,i=new Ac(r),o=h.targetId,n=new Hc(o,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Aa.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Aa.min():e.readTime?ih(e.readTime):Aa.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=lh(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=pu(r)?{documents:mh(t,r)}:{query:gh(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=nh(t,e.resumeToken):e.snapshotVersion.compareTo(Aa.min())>0&&(n.readTime=eh(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ga()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=lh(this.R),e.removeTarget=t,this.cr(e)},e}(ap),cp=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return on(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(ya(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(ya(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?ih(t.updateTime):ih(e);return n.isEqual(Aa.min())&&(n=ih(e)),new uc(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=ih(t.commitTime);return this.listener.Tr(n,e)}return ya(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=lh(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return dh(e.R,t)}))};this.cr(n)},e}(ap),hp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return on(e,t),e.prototype.br=function(){if(this.Rr)throw new ha(ca.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===ca.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new ha(ca.UNKNOWN,t.toString())}))},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===ca.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new ha(ca.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),lp=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(da(e),this.Vr=!1):pa("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),fp=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return an(o,void 0,void 0,(function(){return un(this,(function(t){switch(t.label){case 0:return Ip(this)?(pa("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return an(this,void 0,void 0,(function(){var e;return un(this,(function(n){switch(n.label){case 0:return(e=ba(t)).$r.add(4),[4,dp(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,pp(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new lp(n,r)};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function pp(t){return an(this,void 0,void 0,(function(){var e,n;return un(this,(function(r){switch(r.label){case 0:if(!Ip(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function dp(t){return an(this,void 0,void 0,(function(){var e,n;return un(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function vp(t,e){var n=ba(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),wp(n)?bp(n):Mp(n).er()&&gp(n,e))}function mp(t,e){var n=ba(t),r=Mp(n);n.Or.delete(e),r.er()&&yp(n,e),0===n.Or.size&&(r.er()?r.ir():Ip(n)&&n.Br.set("Unknown"))}function gp(t,e){t.qr.U(e.targetId),Mp(t).mr(e)}function yp(t,e){t.qr.U(e),Mp(t).yr(e)}function bp(t){t.qr=new Xc({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),Mp(t).start(),t.Br.Sr()}function wp(t){return Ip(t)&&!Mp(t).tr()&&t.Or.size>0}function Ip(t){return 0===ba(t).$r.size}function Ep(t){t.qr=void 0}function Tp(t){return an(this,void 0,void 0,(function(){return un(this,(function(e){return t.Or.forEach((function(e,n){gp(t,e)})),[2]}))}))}function _p(t,e){return an(this,void 0,void 0,(function(){return un(this,(function(n){return Ep(t),wp(t)?(t.Br.Nr(e),bp(t)):t.Br.set("Unknown"),[2]}))}))}function Sp(t,e,n){return an(this,void 0,void 0,(function(){var r,i,o;return un(this,(function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof zc&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return an(this,void 0,void 0,(function(){var n,r,i,o;return un(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?(o=i[r],t.Or.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:s.sent(),t.Or.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),pa("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Ap(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Gc?t.qr.X(e):e instanceof Hc?t.qr.rt(e):t.qr.et(e),n.isEqual(Aa.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Ef(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(La.EMPTY_BYTE_STRING,n.snapshotVersion)),yp(t,e);var r=new dl(n.target,e,1,n.sequenceNumber);gp(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return pa("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Ap(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function Ap(t,e,n){return an(this,void 0,void 0,(function(){var r=this;return un(this,(function(i){switch(i.label){case 0:if(!ol(e))throw e;return t.$r.add(1),[4,dp(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Ef(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return an(r,void 0,void 0,(function(){return un(this,(function(e){switch(e.label){case 0:return pa("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,pp(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Np(t,e){return e().catch((function(n){return Ap(t,n,e)}))}function kp(t){return an(this,void 0,void 0,(function(){var e,n,r,i,o;return un(this,(function(s){switch(s.label){case 0:e=ba(t),n=$p(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Ip(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,_f(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=$p(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Ap(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Dp(e)&&Cp(e),[2]}}))}))}function Dp(t){return Ip(t)&&!$p(t).tr()&&t.kr.length>0}function Cp(t){$p(t).start()}function xp(t){return an(this,void 0,void 0,(function(){return un(this,(function(e){return $p(t).Ar(),[2]}))}))}function Op(t){return an(this,void 0,void 0,(function(){var e,n,r,i;return un(this,(function(o){for(e=$p(t),n=0,r=t.kr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]}))}))}function Rp(t,e,n){return an(this,void 0,void 0,(function(){var r,i;return un(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=pl.from(r,e,n),[4,Np(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,kp(t)];case 2:return o.sent(),[2]}}))}))}function Pp(t,e){return an(this,void 0,void 0,(function(){return un(this,(function(n){switch(n.label){case 0:return e&&$p(t).pr?[4,function(t,e){return an(this,void 0,void 0,(function(){var n,r;return un(this,(function(i){switch(i.label){case 0:return Nc(r=e.code)&&r!==ca.ABORTED?(n=t.kr.shift(),$p(t).sr(),[4,Np(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,kp(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Dp(t)&&Cp(t),[2]}}))}))}function Lp(t,e){return an(this,void 0,void 0,(function(){var n;return un(this,(function(r){switch(r.label){case 0:return n=ba(t),e?(n.$r.delete(2),[4,pp(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,dp(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Mp(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=ba(t);return r.br(),new up(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Tp.bind(null,t),Ri:_p.bind(null,t),_r:Sp.bind(null,t)}),t.Mr.push((function(n){return an(e,void 0,void 0,(function(){return un(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),wp(t)?bp(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Ep(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function $p(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=ba(t);return r.br(),new cp(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:xp.bind(null,t),Ri:Pp.bind(null,t),Ir:Op.bind(null,t),Tr:Rp.bind(null,t)}),t.Mr.push((function(n){return an(e,void 0,void 0,(function(){return un(this,(function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,kp(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(pa("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Qr
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var Fp=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Zh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ha(ca.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Vp(t,e){if(da("AsyncQueue",e+": "+t),ol(t))return new ha(ca.UNAVAILABLE,e+": "+t);throw t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Up=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Ha.comparator(e.key,n.key)}:function(t,e){return Ha.comparator(t.key,e.key)},this.keyedMap=$c(),this.sortedSet=new Dc(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),jp=function(){function t(){this.Kr=new Dc(Ha.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):ga():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),qp=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Up.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Uu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Bp=function(){this.Wr=void 0,this.listeners=[]},Kp=function(){this.queries=new tf((function(t){return ju(t)}),Uu),this.onlineState="Unknown",this.Gr=new Set};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Gp(t,e){return an(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return un(this,(function(c){switch(c.label){case 0:if(n=ba(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Bp),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=Vp(a,"Initialization of query '"+qu(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Xp(n),[2]}}))}))}function Hp(t,e){return an(this,void 0,void 0,(function(){var n,r,i,o,s;return un(this,(function(a){return n=ba(t),r=e.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function zp(t,e){for(var n=ba(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,u=n.queries.get(a);if(u){for(var c=0,h=u.listeners;c<h.length;c++)h[c].Hr(s)&&(r=!0);u.Wr=s}}r&&Xp(n)}function Wp(t,e,n){var r=ba(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Xp(t){t.Gr.forEach((function(t){t.next()}))}var Qp=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new qp(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=qp.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Yp=function(t){this.key=t},Jp=function(t){this.key=t},Zp=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Uc(),this.mutatedKeys=Uc(),this.lo=Ku(t),this.fo=new Up(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new jp,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=Ou(this.query)&&i.size===this.query.limit?i.last():null,c=Ru(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var h=i.get(t),l=Bu(n.query,e)?e:null,f=!!h&&n.mutatedKeys.has(h.key),p=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),d=!1;h&&l?h.data.isEqual(l.data)?f!==p&&(r.track({type:3,doc:l}),d=!0):n.yo(h,l)||(r.track({type:2,doc:l}),d=!0,(u&&n.lo(l,u)>0||c&&n.lo(l,c)<0)&&(a=!0)):!h&&l?(r.track({type:0,doc:l}),d=!0):h&&!l&&(r.track({type:1,doc:h}),d=!0,(u||c)&&(a=!0)),d&&(l?(s=s.add(l),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Ou(this.query)||Ru(this.query))for(;s.size>this.query.limit;){var h=Ou(this.query)?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ga()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new qp(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new jp,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Uc(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new Jp(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new Yp(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Uc();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return qp.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),td=function(t,e,n){this.query=t,this.targetId=e,this.view=n},ed=function(t){this.key=t,this.bo=!1},nd=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new tf((function(t){return ju(t)}),Uu),this.Vo=new Map,this.So=new Set,this.Do=new Dc(Ha.comparator),this.Co=new Map,this.No=new Of,this.xo={},this.Fo=new Map,this.ko=ql.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function rd(t,e){return an(this,void 0,void 0,(function(){var n,r,i,o,s,a;return un(this,(function(u){switch(u.label){case 0:return n=Od(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Sf(n.localStore,Fu(e))];case 2:return s=u.sent(),a=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,id(n,e,r,"current"===a)];case 3:i=u.sent(),n.isPrimaryClient&&vp(n.remoteStore,s),u.label=4;case 4:return[2,i]}}))}))}function id(t,e,n,r){return an(this,void 0,void 0,(function(){var i,o,s,a,u,c;return un(this,(function(h){switch(h.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return an(this,void 0,void 0,(function(){var i,o,s;return un(this,(function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,Nf(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(gd(t,e.targetId,s.To),s.snapshot)]}}))}))}(t,e,n,r)},[4,Nf(t.localStore,e,!0)];case 1:return i=h.sent(),o=new Zp(e,i.Bn),s=o._o(i.documents),a=Kc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),gd(t,n,u.To),c=new td(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function od(t,e){return an(this,void 0,void 0,(function(){var n,r,i;return un(this,(function(o){switch(o.label){case 0:return n=ba(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!Uu(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Af(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),mp(n.remoteStore,r.targetId),vd(n,r.targetId)})).catch(zl)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return vd(n,r.targetId),[4,Af(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function sd(t,e,n){return an(this,void 0,void 0,(function(){var r,i,o,s;return un(this,(function(a){switch(a.label){case 0:r=Rd(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=ba(t),i=Sa.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Uc());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],h=dc(c,n.get(c.key));null!=h&&s.push(new yc(c.key,h,au(h.toProto().mapValue),cc.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Dc(Ea)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,wd(r,i.changes)];case 3:return a.sent(),[4,kp(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Vp(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function ad(t,e){return an(this,void 0,void 0,(function(){var n,r;return un(this,(function(i){switch(i.label){case 0:n=ba(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Tf(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(ya(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?ya(r.bo):t.removedDocuments.size>0&&(ya(r.bo),r.bo=!1))})),[4,wd(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,zl(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function ud(t,e,n){var r=ba(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=ba(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&Xp(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function cd(t,e,n){return an(this,void 0,void 0,(function(){var r,i,o,s,a,u;return un(this,(function(c){switch(c.label){case 0:return(r=ba(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new Dc(Ha.comparator)).insert(o,uu.newNoDocument(o,Aa.min())),a=Uc().add(o),u=new Bc(Aa.min(),new Map,new Oc(Ea),s,a),[4,ad(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),bd(r),[3,4];case 2:return[4,Af(r.localStore,e,!1).then((function(){return vd(r,e,n)})).catch(zl)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function hd(t,e){return an(this,void 0,void 0,(function(){var n,r,i;return un(this,(function(o){switch(o.label){case 0:n=ba(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,If(n.localStore,e)];case 2:return i=o.sent(),dd(n,r,null),pd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,wd(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,zl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function ld(t,e,n){return an(this,void 0,void 0,(function(){var r,i;return un(this,(function(o){switch(o.label){case 0:r=ba(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=ba(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return ya(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),dd(r,e,n),pd(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,wd(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,zl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function fd(t,e){return an(this,void 0,void 0,(function(){var n,r,i,o,s;return un(this,(function(a){switch(a.label){case 0:Ip((n=ba(t)).remoteStore)||pa("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=ba(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=Vp(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function pd(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function dd(t,e,n){var r=ba(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function vd(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||md(t,e)}))}function md(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(mp(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),bd(t))}function gd(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Yp?(t.No.addReference(o.key,e),yd(t,o)):o instanceof Jp?(pa("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||md(t,o.key)):ga()}}function yd(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(pa("SyncEngine","New document in limbo: "+n),t.So.add(r),bd(t))}function bd(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Ha(xa.fromString(e)),r=t.ko.next();t.Co.set(r,new ed(n)),t.Do=t.Do.insert(n,r),vp(t.remoteStore,new dl(Fu(xu(n.path)),r,2,ua.o))}}function wd(t,e,n){return an(this,void 0,void 0,(function(){var r,i,o,s;return un(this,(function(a){switch(a.label){case 0:return r=ba(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,a){s.push(r.$o(a,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=mf.Pn(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return an(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,h;return un(this,(function(l){switch(l.label){case 0:n=ba(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return tl.forEach(e,(function(e){return tl.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return tl.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!ol(r=l.sent()))throw r;return pa("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=o[i],a=s.targetId,s.fromCache||(u=n.Fn.get(a),c=u.snapshotVersion,h=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(a,h));return[2]}}))}))}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Id(t,e){return an(this,void 0,void 0,(function(){var n,r;return un(this,(function(i){switch(i.label){case 0:return(n=ba(t)).currentUser.isEqual(e)?[3,3]:(pa("SyncEngine","User change. New user:",e.toKey()),[4,wf(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach((function(t){t.forEach((function(t){t.reject(new ha(ca.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,wd(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Ed(t,e){var n=ba(t),r=n.Co.get(e);if(r&&r.bo)return Uc().add(r.key);var i=Uc(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function Td(t,e){return an(this,void 0,void 0,(function(){var n,r,i;return un(this,(function(o){switch(o.label){case 0:return[4,Nf((n=ba(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&gd(n,e.targetId,i.To),i)]}}))}))}function _d(t){return an(this,void 0,void 0,(function(){var e;return un(this,(function(n){return[2,Df((e=ba(t)).localStore).then((function(t){return wd(e,t)}))]}))}))}function Sd(t,e,n,r){return an(this,void 0,void 0,(function(){var i,o;return un(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=ba(t),r=ba(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):tl.resolve(null)}))}))}((i=ba(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,kp(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(dd(i,e,r||null),pd(i,e),function(t,e){ba(ba(t)._n).Gt(e)}(i.localStore,e)):ga(),s.label=4;case 4:return[4,wd(i,o)];case 5:return s.sent(),[3,7];case 6:pa("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function Ad(t,e){return an(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return un(this,(function(h){switch(h.label){case 0:return Od(n=ba(t)),Rd(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Nd(n,r.toArray())]);case 1:return i=h.sent(),n.Oo=!0,[4,Lp(n.remoteStore,!0)];case 2:for(h.sent(),o=0,s=i;o<s.length;o++)a=s[o],vp(n.remoteStore,a);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then((function(){return vd(n,e),Af(n.localStore,e,!0)})),mp(n.remoteStore,e)})),[4,c]);case 4:return h.sent(),[4,Nd(n,u)];case 5:return h.sent(),function(t){var e=ba(t);e.Co.forEach((function(t,n){mp(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new Dc(Ha.comparator)}(n),n.Oo=!1,[4,Lp(n.remoteStore,!1)];case 6:h.sent(),h.label=7;case 7:return[2]}}))}))}function Nd(t,e,n){return an(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,h,l,f,p,d,v;return un(this,(function(m){switch(m.label){case 0:n=ba(t),r=[],i=[],o=0,s=e,m.label=1;case 1:return o<s.length?(a=s[o],u=void 0,(c=n.Vo.get(a))&&0!==c.length?[4,Sf(n.localStore,Fu(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),h=0,l=c,m.label=3;case 3:return h<l.length?(f=l[h],p=n.Po.get(f),[4,Td(n,p)]):[3,6];case 4:(d=m.sent()).snapshot&&i.push(d.snapshot),m.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,kf(n.localStore,a)];case 8:return v=m.sent(),[4,Sf(n.localStore,v)];case 9:return u=m.sent(),[4,id(n,kd(v),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function kd(t){return Cu(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Dd(t){var e=ba(t);return ba(ba(e.localStore).persistence).fn()}function Cd(t,e,n,r){return an(this,void 0,void 0,(function(){var i,o,s;return un(this,(function(a){switch(a.label){case 0:return(i=ba(t)).Oo?(pa("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Df(i.localStore)];case 3:return o=a.sent(),s=Bc.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,wd(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Af(i.localStore,e,!0)];case 6:return a.sent(),vd(i,e,r),[3,8];case 7:ga(),a.label=8;case 8:return[2]}}))}))}function xd(t,e,n){return an(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,h,l,f;return un(this,(function(p){switch(p.label){case 0:if(!(r=Od(t)).Oo)return[3,10];i=0,o=e,p.label=1;case 1:return i<o.length?(s=o[i],r.Vo.has(s)?(pa("SyncEngine","Adding an already active target "+s),[3,5]):[4,kf(r.localStore,s)]):[3,6];case 2:return a=p.sent(),[4,Sf(r.localStore,a)];case 3:return u=p.sent(),[4,id(r,kd(a),u.targetId,!1)];case 4:p.sent(),vp(r.remoteStore,u),p.label=5;case 5:return i++,[3,1];case 6:c=function(t){return un(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Af(r.localStore,t,!1).then((function(){mp(r.remoteStore,t),vd(r,t)})).catch(zl)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,l=n,p.label=7;case 7:return h<l.length?(f=l[h],[5,c(f)]):[3,10];case 8:p.sent(),p.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function Od(t){var e=ba(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ad.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ed.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cd.bind(null,e),e.vo._r=zp.bind(null,e.eventManager),e.vo.Mo=Wp.bind(null,e.eventManager),e}function Rd(t){var e=ba(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hd.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ld.bind(null,e),e}var Pd=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return an(this,void 0,void 0,(function(){return un(this,(function(e){switch(e.label){case 0:return this.R=op(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return bf(this.persistence,new gf,t.initialUser,this.R)},t.prototype.qo=function(t){return new Ff(Uf.bs,this.R)},t.prototype.Bo=function(t){return new Yf},t.prototype.terminate=function(){return an(this,void 0,void 0,(function(){return un(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),Ld=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return on(e,t),e.prototype.initialize=function(e){return an(this,void 0,void 0,(function(){return un(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Cf(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Rd(this.Ko.syncEngine)];case 4:return n.sent(),[4,kp(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Qo=function(t){return bf(this.persistence,new gf,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new Ql(e,t.asyncQueue)},e.prototype.qo=function(t){var e=df(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Pl.withCacheSize(this.cacheSizeBytes):Pl.DEFAULT;return new lf(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,rp(),ip(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Yf},e}(Pd),Md=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return on(e,t),e.prototype.initialize=function(e){return an(this,void 0,void 0,(function(){var n,r=this;return un(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Qf?(this.sharedClientState.syncEngine={ui:Sd.bind(null,n),ai:Cd.bind(null,n),hi:xd.bind(null,n),fn:Dd.bind(null,n),ci:_d.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return an(r,void 0,void 0,(function(){return un(this,(function(e){switch(e.label){case 0:return[4,Ad(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=rp();if(!Qf.yt(e))throw new ha(ca.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=df(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Qf(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Ld),$d=function(){function t(){}return t.prototype.initialize=function(t,e){return an(this,void 0,void 0,(function(){var n=this;return un(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return ud(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Id.bind(null,this.syncEngine),[4,Lp(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new Kp},t.prototype.createDatastore=function(t){var e,n=op(t.databaseInfo.databaseId),r=(e=t.databaseInfo,new np(e));return function(t,e,n){return new hp(t,e,n)}(t.credentials,r,n)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return ud(s.syncEngine,t,0)},o=Zf.yt()?new Zf:new Jf,new fp(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new nd(t,e,n,r,i,o);return s&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return an(this,void 0,void 0,(function(){var e;return un(this,(function(n){switch(n.label){case 0:return e=ba(t),pa("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,dp(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),Fd=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Vd=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return an(this,void 0,void 0,(function(){var e,n=this;return un(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ha(ca.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return an(this,void 0,void 0,(function(){var n,r,i,o,s,a;return un(this,(function(u){switch(u.label){case 0:return n=ba(t),r=lh(n.R)+"/documents",i={documents:e.map((function(t){return ah(n.R,t)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){ya(!!e.found),e.found.name,e.found.updateTime;var n=uh(t,e.found.name),r=ih(e.found.updateTime),i=new su({mapValue:{fields:e.found.fields}});return uu.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){ya(!!e.missing),ya(!!e.readTime);var n=uh(t,e.missing),r=ih(e.readTime);return uu.newNoDocument(n,r)}(t,e):ga()}(n.R,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());ya(!!e),a.push(e)})),a)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new _c(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return an(this,void 0,void 0,(function(){var t,e=this;return un(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Ha.fromPath(n);e.mutations.push(new Sc(r,e.precondition(r)))})),[4,function(t,e){return an(this,void 0,void 0,(function(){var n,r,i;return un(this,(function(o){switch(o.label){case 0:return n=ba(t),r=lh(n.R)+"/documents",i={writes:e.map((function(t){return dh(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ga();e=Aa.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new ha(ca.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?cc.updateTime(e):cc.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Aa.min()))throw new ha(ca.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cc.updateTime(e)}return cc.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),Ud=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new sp(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return an(t,void 0,void 0,(function(){var t,e,n=this;return un(this,(function(r){return t=new Vd(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Ba(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Nc(e)}return!1},t}(),jd=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=jf.UNAUTHENTICATED,this.clientId=Ia.u(),this.credentialListener=function(){},this.receivedInitialUser=new Zh,this.credentials.setChangeListener((function(t){pa("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()}))}return t.prototype.getConfiguration=function(){return an(this,void 0,void 0,(function(){return un(this,(function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then((function(){return e.credentialListener(e.user)}))},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ha(ca.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Zh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return an(t,void 0,void 0,(function(){var t,n;return un(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Vp(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function qd(t,e){return an(this,void 0,void 0,(function(){var n,r,i=this;return un(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),pa("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable((function(){return an(i,void 0,void 0,(function(){return un(this,(function(t){switch(t.label){case 0:return[4,wf(e.localStore,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function Bd(t,e){return an(this,void 0,void 0,(function(){var n,r;return un(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Kd(t)];case 1:return n=i.sent(),pa("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(n){return t.asyncQueue.enqueueRetryable((function(){return function(t,e){return an(this,void 0,void 0,(function(){var n,r;return un(this,(function(i){switch(i.label){case 0:return(n=ba(t)).asyncQueue.verifyOperationInProgress(),pa("RemoteStore","RemoteStore received new credentials"),r=Ip(n),n.$r.add(3),[4,dp(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,pp(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,n)}))})),t.onlineComponents=e,[2]}}))}))}function Kd(t){return an(this,void 0,void 0,(function(){return un(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(pa("FirestoreClient","Using default OfflineComponentProvider"),[4,qd(t,new Pd)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function Gd(t){return an(this,void 0,void 0,(function(){return un(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(pa("FirestoreClient","Using default OnlineComponentProvider"),[4,Bd(t,new $d)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function Hd(t){return Kd(t).then((function(t){return t.persistence}))}function zd(t){return Kd(t).then((function(t){return t.localStore}))}function Wd(t){return Gd(t).then((function(t){return t.remoteStore}))}function Xd(t){return Gd(t).then((function(t){return t.syncEngine}))}function Qd(t){return an(this,void 0,void 0,(function(){var e,n;return un(this,(function(r){switch(r.label){case 0:return[4,Gd(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=rd.bind(null,e.syncEngine),n.onUnlisten=od.bind(null,e.syncEngine),n)]}}))}))}function Yd(t,e,n){var r=this;void 0===n&&(n={});var i=new Zh;return t.asyncQueue.enqueueAndForget((function(){return an(r,void 0,void 0,(function(){var r;return un(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Fd({next:function(o){e.enqueueAndForget((function(){return Hp(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new ha(ca.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new ha(ca.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Qp(xu(n.path),o,{includeMetadataChanges:!0,so:!0});return Gp(t,s)},[4,Qd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function Jd(t,e,n){var r=this;void 0===n&&(n={});var i=new Zh;return t.asyncQueue.enqueueAndForget((function(){return an(r,void 0,void 0,(function(){var r;return un(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Fd({next:function(n){e.enqueueAndForget((function(){return Hp(t,s)})),n.fromCache&&"server"===r.source?i.reject(new ha(ca.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Qp(n,o,{includeMetadataChanges:!0,so:!0});return Gp(t,s)},[4,Qd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var Zd=function(t,e,n,r,i,o,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},tv=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),ev=new Map,nv=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},rv=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(jf.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),iv=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(this.token.user)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),ov=function(){function t(t){var e=this;this.oc=null,this.currentUser=jf.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then((function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(pa("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(ya("string"==typeof n.accessToken),new nv(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return ya(null===t||"string"==typeof t),new jf(t)},t}(),sv=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=jf.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),av=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new sv(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(jf.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function uv(t,e,n){if(!n)throw new ha(ca.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function cv(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ha(ca.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function hv(t,e,n,r){if(!0===e&&!0===r)throw new ha(ca.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function lv(t){if(!Ha.isDocumentKey(t))throw new ha(ca.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function fv(t){if(Ha.isDocumentKey(t))throw new ha(ca.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function pv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":ga()}function dv(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ha(ca.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=pv(t);throw new ha(ca.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function vv(t,e){if(e<=0)throw new ha(ca.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var mv=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ha(ca.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ha(ca.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,hv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),gv=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mv({}),this._settingsFrozen=!1,t instanceof tv?(this._databaseId=t,this._credentials=new rv):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ha(ca.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tv(t.options.projectId)}(t),this._credentials=new ov(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new ha(ca.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new ha(ca.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mv(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new rv;switch(t.type){case"gapi":var e=t.client;return ya(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new av(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new ha(ca.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return this,(t=ev.get(this))&&(pa("ComponentProvider","Removing Datastore"),ev.delete(this),t.terminate()),Promise.resolve();var t},t}(),yv=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new wv(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),bv=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),wv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,xu(r))||this)._path=r,i.type="collection",i}return on(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new yv(this.firestore,null,new Ha(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(bv);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Iv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Sn(t),uv("collection","path",e),t instanceof gv)return fv(n=xa.fromString.apply(xa,ln([e],r))),new wv(t,null,n);if(!(t instanceof yv||t instanceof wv))throw new ha(ca.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return fv(n=xa.fromString.apply(xa,ln([t.path],r)).child(xa.fromString(e))),new wv(t.firestore,null,n)}function Ev(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Sn(t),1===arguments.length&&(e=Ia.u()),uv("doc","path",e),t instanceof gv)return lv(n=xa.fromString.apply(xa,ln([e],r))),new yv(t,null,new Ha(n));if(!(t instanceof yv||t instanceof wv))throw new ha(ca.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return lv(n=t._path.child(xa.fromString.apply(xa,ln([e],r)))),new yv(t.firestore,t instanceof wv?t.converter:null,new Ha(n))}function Tv(t,e){return t=Sn(t),e=Sn(e),(t instanceof yv||t instanceof wv)&&(e instanceof yv||e instanceof wv)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function _v(t,e){return t=Sn(t),e=Sn(e),t instanceof bv&&e instanceof bv&&t.firestore===e.firestore&&Uu(t._query,e._query)&&t.converter===e.converter
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var Sv=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new sp(this,"async_queue_retry"),this.Ec=function(){var e=ip();e&&pa("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=ip();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=ip();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise((function(t){})):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.dc.push(t),e.Ac()}))},t.prototype.Ac=function(){return an(this,void 0,void 0,(function(){var t,e=this;return un(this,(function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!ol(t=n.sent()))throw t;return pa("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji((function(){return e.Ac()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ic=function(t){var e=this,n=this.fc.then((function(){return e.yc=!0,t().catch((function(t){throw e.mc=t,e.yc=!1,da("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.yc=!1,t}))}));return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=Fp.createAndSchedule(this,t,e,n,(function(t){return r.Rc(t)}));return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&ga()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return an(this,void 0,void 0,(function(){var t;return un(this,(function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then((function(){e._c.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()}))},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function Av(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Nv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Sv,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return on(e,t),e.prototype._terminate=function(){return this._firestoreClient||Dv(this),this._firestoreClient.terminate()},e}(gv);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function kv(t){return t._firestoreClient||Dv(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Dv(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Zd(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new jd(t._credentials,t._queue,r)}function Cv(t,e,n){var r=this,i=new Zh;return t.asyncQueue.enqueue((function(){return an(r,void 0,void 0,(function(){var r;return un(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,qd(t,n)];case 1:return o.sent(),[4,Bd(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===ca.FAILED_PRECONDITION||t.code===ca.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function xv(t){if(t._initialized||t._terminated)throw new ha(ca.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ov=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new ha(ca.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ra(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Rv=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(La.fromBase64String(e))}catch(e){throw new ha(ca.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(La.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Pv=function(t){this._methodName=t},Lv=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new ha(ca.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ha(ca.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Ea(this._lat,t._lat)||Ea(this._long,t._long)},t}(),Mv=/^__.*__$/,$v=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new yc(t,this.data,this.fieldMask,e,this.fieldTransforms):new gc(t,this.data,e,this.fieldTransforms)},t}(),Fv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new yc(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Vv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ga()}}var Uv=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return sm(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(Vv(this.Dc)&&Mv.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),jv=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||op(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new Uv({Dc:t,methodName:e,Lc:n,path:Ra.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function qv(t){var e=t._freezeSettings(),n=op(t._databaseId);return new jv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Bv(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);nm("Data must be an object, but it was:",s,r);var a,u,c=tm(r,s);if(o.merge)a=new Pa(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var h=[],l=0,f=o.mergeFields;l<f.length;l++){var p=rm(e,f[l],n);if(!s.contains(p))throw new ha(ca.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");am(h,p)||h.push(p)}a=new Pa(h),u=s.fieldTransforms.filter((function(t){return a.covers(t.field)}))}else a=null,u=s.fieldTransforms;return new $v(new su(c),a,u)}var Kv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return on(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw 1===t.Dc?t.$c(this._methodName+"() can only appear at the top level of your update data"):t.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Pv);function Gv(t,e,n){return new Uv({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Hv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return on(e,t),e.prototype._toFieldTransform=function(t){return new ac(t.path,new Zu)},e.prototype.isEqual=function(t){return t instanceof e},e}(Pv),zv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return on(e,t),e.prototype._toFieldTransform=function(t){var e=Gv(this,t,!0),n=this.qc.map((function(t){return Zv(t,e)})),r=new tc(n);return new ac(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Pv),Wv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return on(e,t),e.prototype._toFieldTransform=function(t){var e=Gv(this,t,!0),n=this.qc.map((function(t){return Zv(t,e)})),r=new nc(n);return new ac(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Pv),Xv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return on(e,t),e.prototype._toFieldTransform=function(t){var e=new ic(t.R,Wu(t.R,this.Uc));return new ac(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Pv);function Qv(t,e,n,r){var i=t.Bc(1,e,n);nm("Data must be an object, but it was:",i,r);var o=[],s=su.empty();ka(r,(function(t,r){var a=om(e,t,n);r=Sn(r);var u=i.kc(a);if(r instanceof Kv)o.push(a);else{var c=Zv(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new Pa(o);return new Fv(s,a,i.fieldTransforms)}function Yv(t,e,n,r,i,o){var s=t.Bc(1,e,n),a=[rm(e,r,n)],u=[i];if(o.length%2!=0)throw new ha(ca.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(rm(e,o[c])),u.push(o[c+1]);for(var h=[],l=su.empty(),f=a.length-1;f>=0;--f)if(!am(h,a[f])){var p=a[f],d=u[f];d=Sn(d);var v=s.kc(p);if(d instanceof Kv)h.push(p);else{var m=Zv(d,v);null!=m&&(h.push(p),l.set(p,m))}}var g=new Pa(h);return new Fv(l,g,s.fieldTransforms)}function Jv(t,e,n,r){return void 0===r&&(r=!1),Zv(n,t.Bc(r?4:3,e))}function Zv(t,e){if(em(t=Sn(t)))return nm("Unsupported field value:",e,t),tm(t,e);if(t instanceof Pv)return function(t,e){if(!Vv(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Zv(o[i],e.Oc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Sn(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Wu(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Sa.fromDate(t);return{timestampValue:eh(e.R,n)}}if(t instanceof Sa)return n=new Sa(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:eh(e.R,n)};if(t instanceof Lv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Rv)return{bytesValue:nh(e.R,t._byteString)};if(t instanceof yv){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:oh(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+pv(t))}(t,e)}function tm(t,e){var n={};return Da(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ka(t,(function(t,r){var i=Zv(r,e.Nc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function em(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Sa||t instanceof Lv||t instanceof Rv||t instanceof yv||t instanceof Pv)}function nm(t,e,n){if(!em(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=pv(n);throw"an object"===r?e.$c(t+" a custom object"):e.$c(t+" "+r)}}function rm(t,e,n){if((e=Sn(e))instanceof Ov)return e._internalPath;if("string"==typeof e)return om(t,e);throw sm("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var im=new RegExp("[~\\*/\\[\\]]");function om(t,e,n){if(e.search(im)>=0)throw sm("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Ov.bind.apply(Ov,ln([void 0],e.split(".")))))._internalPath}catch(r){throw sm("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function sm(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new ha(ca.INVALID_ARGUMENT,(a+=". ")+t+u)}function am(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var um=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new yv(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new cm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(hm("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),cm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return on(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(um);function hm(t,e){return"string"==typeof e?om(t,e):e instanceof Ov?e._internalPath:e._delegate._internalPath}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var lm=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),fm=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return on(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new pm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(hm("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(um),pm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return on(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(fm),dm=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new lm(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new pm(n._firestore,n._userDataWriter,r.key,r,new lm(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ha(ca.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){var r=new pm(t._firestore,t._userDataWriter,e.doc.key,e.doc,new lm(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new pm(t._firestore,t._userDataWriter,e.doc.key,e.doc,new lm(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:vm(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function vm(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ga()}}function mm(t,e){return t instanceof fm&&e instanceof fm?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof dm&&e instanceof dm&&t._firestore===e._firestore&&_v(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function gm(t){if(Ru(t)&&0===t.explicitOrderBy.length)throw new ha(ca.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ym=function(){};function bm(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var wm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return on(e,t),e.prototype._apply=function(t){var e=qv(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new ha(ca.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Nm(s,o);for(var u=[],c=0,h=s;c<h.length;c++){var l=h[c];u.push(Am(r,t,l))}a={arrayValue:{values:u}}}else a=Am(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Nm(s,o),a=Jv(n,"where",s,"in"===o||"not-in"===o);var f=du.create(i,o,a);return function(t,e){if(e.g()){var n=Lu(t);if(null!==n&&!n.isEqual(e.field))throw new ha(ca.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Pu(t);null!==r&&km(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new ha(ca.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new ha(ca.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new bv(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Du(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(ym),Im=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return on(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new ha(ca.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new ha(ca.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Su(e,n);return function(t,e){if(null===Pu(t)){var n=Lu(t);null!==n&&km(t,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new bv(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Du(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(ym),Em=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return on(e,t),e.prototype._apply=function(t){return new bv(t.firestore,t.converter,Vu(t._query,this.Gc,this.zc))},e}(ym),Tm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return on(e,t),e.prototype._apply=function(t){var e=Sm(t,this.type,this.Hc,this.Jc);return new bv(t.firestore,t.converter,function(t,e){return new Du(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(ym),_m=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return on(e,t),e.prototype._apply=function(t){var e=Sm(t,this.type,this.Hc,this.Jc);return new bv(t.firestore,t.converter,function(t,e){return new Du(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(ym);function Sm(t,e,n,r){if(n[0]=Sn(n[0]),n[0]instanceof um)return function(t,e,n,r,i){if(!r)throw new ha(ca.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=$u(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(tu(e,r.key));else{var c=r.data.field(u.field);if(Ua(c))throw new ha(ca.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var h=u.field.canonicalString();throw new ha(ca.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+h+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Tu(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=qv(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new ha(ca.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new ha(ca.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Mu(t)&&-1!==c.indexOf("/"))throw new ha(ca.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var h=t.path.child(xa.fromString(c));if(!Ha.isDocumentKey(h))throw new ha(ca.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");var l=new Ha(h);a.push(tu(e,l))}else{var f=Jv(n,r,c);a.push(f)}}return new Tu(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Am(t,e,n){if("string"==typeof(n=Sn(n))){if(""===n)throw new ha(ca.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mu(e)&&-1!==n.indexOf("/"))throw new ha(ca.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(xa.fromString(n));if(!Ha.isDocumentKey(r))throw new ha(ca.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return tu(t,new Ha(r))}if(n instanceof yv)return tu(t,n._key);throw new ha(ca.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+pv(n)+".")}function Nm(t,e){if(!Array.isArray(t)||0===t.length)throw new ha(ca.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new ha(ca.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function km(t,e,n){if(!n.isEqual(e))throw new ha(ca.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Dm=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),za(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Fa(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Va(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ga()}},t.prototype.convertObject=function(t,e){var n=this,r={};return ka(t.fields||{},(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new Lv(Fa(t.latitude),Fa(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=ja(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(qa(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=$a(t);return new Sa(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=xa.fromString(t);ya(Dh(n));var r=new tv(n.get(1),n.get(3)),i=new Ha(n.popFirst(5));return r.isEqual(e)||da("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Cm(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var xm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return on(e,t),e.prototype.convertBytes=function(t){return new Rv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new yv(this.firestore,null,e)},e}(Dm),Om=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=qv(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Rm(t,this._firestore),i=Cm(r.converter,e,n),o=Bv(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,cc.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=Rm(t,this._firestore);return o="string"==typeof(e=Sn(e))||e instanceof Ov?Yv(this._dataReader,"WriteBatch.update",s._key,e,n,r):Qv(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,cc.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Rm(t,this._firestore);return this._mutations=this._mutations.concat(new _c(e._key,cc.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new ha(ca.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Rm(t,e){if((t=Sn(t)).firestore!==e)throw new ha(ca.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Pm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return on(e,t),e.prototype.convertBytes=function(t){return new Rv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new yv(this.firestore,null,e)},e}(Dm);function Lm(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=dv(t,yv);var o=dv(t.firestore,Nv),s=qv(o);return $m(o,[("string"==typeof(e=Sn(e))||e instanceof Ov?Yv(s,"updateDoc",t._key,e,n,r):Qv(s,"updateDoc",t._key,e)).toMutation(t._key,cc.exists(!0))])}function Mm(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Sn(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Av(i[a])||(s=i[a],a++);var u,c,h,l={includeMetadataChanges:s.includeMetadataChanges};if(Av(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof yv)c=dv(t.firestore,Nv),h=xu(t._key.path),u={next:function(e){i[a]&&i[a](Fm(c,t,e))},error:i[a+1],complete:i[a+2]};else{var p=dv(t,bv);c=dv(p.firestore,Nv),h=p._query;var d=new Pm(c);u={next:function(t){i[a]&&i[a](new dm(c,d,p,t))},error:i[a+1],complete:i[a+2]},gm(t._query)}return function(t,e,n,r){var i=this,o=new Fd(r),s=new Qp(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return an(i,void 0,void 0,(function(){var e;return un(this,(function(n){switch(n.label){case 0:return e=Gp,[4,Qd(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return an(i,void 0,void 0,(function(){var e;return un(this,(function(n){switch(n.label){case 0:return e=Hp,[4,Qd(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(kv(c),h,l,u)}function $m(t,e){return function(t,e){var n=this,r=new Zh;return t.asyncQueue.enqueueAndForget((function(){return an(n,void 0,void 0,(function(){var n;return un(this,(function(i){switch(i.label){case 0:return n=sd,[4,Xd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(kv(t),e)}function Fm(t,e,n){var r=n.docs.get(e._key),i=new Pm(t);return new fm(t,i,e._key,r,new lm(n.hasPendingWrites,n.fromCache),e.converter)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Vm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return on(e,t),e.prototype.get=function(e){var n=this,r=Rm(e,this._firestore),i=new Pm(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new fm(n._firestore,i,r._key,t._document,new lm(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=qv(t)}return t.prototype.get=function(t){var e=this,n=Rm(t,this._firestore),r=new xm(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return ga();var i=t[0];if(i.isFoundDocument())return new um(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new um(e._firestore,r,n._key,null,n.converter);throw ga()}))},t.prototype.set=function(t,e,n){var r=Rm(t,this._firestore),i=Cm(r.converter,e,n),o=Bv(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Rm(t,this._firestore);return o="string"==typeof(e=Sn(e))||e instanceof Ov?Yv(this._dataReader,"Transaction.update",s._key,e,n,r):Qv(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=Rm(t,this._firestore);return this._transaction.delete(e._key),this},t}());
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Um(){if("undefined"==typeof Uint8Array)throw new ha(ca.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function jm(){if("undefined"==typeof atob)throw new ha(ca.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var qm=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return jm(),new t(Rv.fromBase64String(e))},t.fromUint8Array=function(e){return Um(),new t(Rv.fromUint8Array(e))},t.prototype.toBase64=function(){return jm(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Um(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Bm=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){xv(t=dv(t,Nv));var n=kv(t),r=t._freezeSettings(),i=new $d;return Cv(n,i,new Ld(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){xv(t=dv(t,Nv));var e=kv(t),n=t._freezeSettings(),r=new $d;return Cv(e,r,new Md(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new ha(ca.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Zh;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return an(e,void 0,void 0,(function(){var e;return un(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return an(this,void 0,void 0,(function(){var e;return un(this,(function(n){switch(n.label){case 0:return nl.yt()?(e=t+"main",[4,nl.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(df(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),Km=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof tv||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=dv(t,gv))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&va("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=sn({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[fn.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),fn.encodeString(JSON.stringify(o),!1),""].join(".")}(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new ha(ca.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new iv(new nv(o,new jf(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return an(e,void 0,void 0,(function(){var e,n;return un(this,(function(r){switch(r.label){case 0:return[4,Hd(t)];case 1:return e=r.sent(),[4,Wd(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=ba(t);return e.$r.delete(0),pp(e)}(n))]}}))}))}))}(kv(dv(this._delegate,Nv)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return an(e,void 0,void 0,(function(){var e,n;return un(this,(function(r){switch(r.label){case 0:return[4,Hd(t)];case 1:return e=r.sent(),[4,Wd(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return an(this,void 0,void 0,(function(){var e;return un(this,(function(n){switch(n.label){case 0:return(e=ba(t)).$r.add(0),[4,dp(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(kv(dv(this._delegate,Nv)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&hv("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Zh;return t.asyncQueue.enqueueAndForget((function(){return an(e,void 0,void 0,(function(){var e;return un(this,(function(r){switch(r.label){case 0:return e=fd,[4,Xd(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(kv(dv(this._delegate,Nv)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Fd(e);return t.asyncQueue.enqueueAndForget((function(){return an(n,void 0,void 0,(function(){var e;return un(this,(function(n){switch(n.label){case 0:return e=function(t,e){ba(t).Gr.add(e),e.next()},[4,Qd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return an(n,void 0,void 0,(function(){var e;return un(this,(function(n){switch(n.label){case 0:return e=function(t,e){ba(t).Gr.delete(e)},[4,Qd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(kv(t=dv(t,Nv)),Av(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new ha(ca.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new ig(this,Iv(this._delegate,t))}catch(t){throw Qm(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Xm(this,Ev(this._delegate,t))}catch(t){throw Qm(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new eg(this,function(t,e){if(t=dv(t,gv),uv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ha(ca.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new bv(t,null,function(t){return new Du(xa.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Qm(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Zh;return t.asyncQueue.enqueueAndForget((function(){return an(n,void 0,void 0,(function(){var n;return un(this,(function(i){switch(i.label){case 0:return[4,function(t){return Gd(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new Ud(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(kv(t),(function(n){return e(new Vm(t,n))}))}(this._delegate,(function(n){return t(new Hm(e,n))}))},t.prototype.batch=function(){var t=this;return kv(this._delegate),new zm(new Om(this._delegate,(function(e){return $m(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new ha(ca.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new ha(ca.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Gm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return on(e,t),e.prototype.convertBytes=function(t){return new qm(new Rv(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Xm.Zc(e,this.firestore,null)},e}(Dm);var Hm=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Gm(t)}return t.prototype.get=function(t){var e=this,n=og(t);return this._delegate.get(n).then((function(t){return new Zm(e._firestore,new fm(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=og(t);return n?(cv("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=og(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,ln([s,e,n],i)),this},t.prototype.delete=function(t){var e=og(t);return this._delegate.delete(e),this},t}(),zm=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=og(t);return n?(cv("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=og(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,ln([s,e,n],i)),this},t.prototype.delete=function(t){var e=og(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Wm=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new pm(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new tg(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Gm(e),n),i.set(n,o)),o},t}();Wm.eu=new WeakMap;var Xm=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Gm(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new ha(ca.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new yv(n._delegate,r,new Ha(e)))},t.Zc=function(e,n,r){return new t(n,new yv(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ig(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new ig(this.firestore,Iv(this._delegate,t))}catch(t){throw Qm(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Sn(t))instanceof yv&&Tv(this._delegate,t)},t.prototype.set=function(t,e){e=cv("DocumentReference.set",e);try{return function(t,e,n){t=dv(t,yv);var r=dv(t.firestore,Nv),i=Cm(t.converter,e,n);return $m(r,[Bv(qv(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,cc.none())])}(this._delegate,t,e)}catch(t){throw Qm(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Lm(this._delegate,t):Lm.apply(void 0,ln([this._delegate,t,e],n))}catch(t){throw Qm(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return $m(dv((t=this._delegate).firestore,Nv),[new _c(t._key,cc.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Ym(e),i=Jm(e,(function(e){return new Zm(t.firestore,new fm(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return Mm(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=dv(t,yv);var e=dv(t.firestore,Nv),n=kv(e),r=new Pm(e);return function(t,e){var n=this,r=new Zh;return t.asyncQueue.enqueueAndForget((function(){return an(n,void 0,void 0,(function(){var n;return un(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return an(this,void 0,void 0,(function(){var r,i;return un(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=ba(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new ha(ca.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Vp(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,zd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new fm(e,r,t._key,n,new lm(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=dv(t,yv);var e=dv(t.firestore,Nv);return Yd(kv(e),t._key,{source:"server"}).then((function(n){return Fm(e,t,n)}))}(this._delegate):function(t){t=dv(t,yv);var e=dv(t.firestore,Nv);return Yd(kv(e),t._key).then((function(n){return Fm(e,t,n)}))}(this._delegate)).then((function(t){return new Zm(e.firestore,new fm(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Wm.tu(this.firestore,e)):this._delegate.withConverter(null))},t}();function Qm(t,e,n){return t.message=t.message.replace(e,n),t}function Ym(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Av(r))return r}return{}}function Jm(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Av(t[0])?t[0]:Av(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Zm=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Xm(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return mm(this._delegate,t._delegate)},t}(),tg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return on(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Zm),eg=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Gm(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,bm(this._delegate,function(t,e,n){var r=e,i=hm("where",t);return new wm(i,r,n)}(e,n,r)))}catch(e){throw Qm(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,bm(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=hm("orderBy",t);return new Im(r,n)}(e,n)))}catch(e){throw Qm(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,bm(this._delegate,function(t){return vv("limit",t),new Em("limit",t,"F")}(e)))}catch(e){throw Qm(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,bm(this._delegate,function(t){return vv("limitToLast",t),new Em("limitToLast",t,"L")}(e)))}catch(e){throw Qm(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,bm(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Tm("startAt",t,!0)}.apply(void 0,e)))}catch(e){throw Qm(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,bm(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Tm("startAfter",t,!1)}.apply(void 0,e)))}catch(e){throw Qm(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,bm(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new _m("endBefore",t,!0)}.apply(void 0,e)))}catch(e){throw Qm(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,bm(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new _m("endAt",t,!1)}.apply(void 0,e)))}catch(e){throw Qm(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return _v(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=dv(t,bv);var e=dv(t.firestore,Nv),n=kv(e),r=new Pm(e);return function(t,e){var n=this,r=new Zh;return t.asyncQueue.enqueueAndForget((function(){return an(n,void 0,void 0,(function(){var n;return un(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return an(this,void 0,void 0,(function(){var r,i,o,s,a;return un(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Nf(t,e,!0)];case 1:return a=u.sent(),r=new Zp(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Vp(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,zd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new dm(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=dv(t,bv);var e=dv(t.firestore,Nv),n=kv(e),r=new Pm(e);return Jd(n,t._query,{source:"server"}).then((function(n){return new dm(e,r,t,n)}))}(this._delegate):function(t){t=dv(t,bv);var e=dv(t.firestore,Nv),n=kv(e),r=new Pm(e);return gm(t._query),Jd(n,t._query).then((function(n){return new dm(e,r,t,n)}))}(this._delegate)).then((function(t){return new rg(e.firestore,new dm(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Ym(e),i=Jm(e,(function(e){return new rg(t.firestore,new dm(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return Mm(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Wm.tu(this.firestore,e)):this._delegate.withConverter(null))},t}(),ng=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new tg(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),rg=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new eg(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new tg(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new ng(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new tg(n._firestore,r))}))},t.prototype.isEqual=function(t){return mm(this._delegate,t._delegate)},t}(),ig=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return on(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Xm(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Xm(this.firestore,void 0===t?Ev(this._delegate):Ev(this._delegate,t))}catch(t){throw Qm(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=dv(t.firestore,Nv),r=Ev(t),i=Cm(t.converter,e);return $m(n,[Bv(qv(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,cc.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new Xm(e.firestore,t)}))},e.prototype.isEqual=function(t){return Tv(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Wm.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(eg);function og(t){return dv(t,yv)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var sg,ag=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Ov.bind.apply(Ov,ln([void 0],t)))}return t.documentId=function(){return new t(Ra.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Sn(t))instanceof Ov&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),ug=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Hv("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Kv("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zv("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Wv("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Xv("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),cg={Firestore:Km,GeoPoint:Lv,Timestamp:Sa,Blob:qm,Transaction:Hm,WriteBatch:zm,DocumentReference:Xm,DocumentSnapshot:Zm,Query:eg,QueryDocumentSnapshot:tg,QuerySnapshot:rg,CollectionReference:ig,FieldPath:ag,FieldValue:ug,setLogLevel:function(t){var e;e=t,la.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};function hg(e){let n,r,i=De.warning+"";return{c(){r=_(),n=new C(r)},m(t,e){n.m(i,t,e),b(t,r,e)},p:t,d(t){t&&w(r),t&&n.d()}}}function lg(e){let n,r,i=De.matchMeNow+"";return{c(){r=_(),n=new C(r)},m(t,e){n.m(i,t,e),b(t,r,e)},p:t,d(t){t&&w(r),t&&n.d()}}}function fg(t){let e,n;return e=new Gt({props:{$$slots:{default:[lg]},$$scope:{ctx:t}}}),e.$on("click",(function(){return t[0](t[3])})),{c(){lt(e.$$.fragment)},m(t,r){ft(e,t,r),n=!0},p(n,r){t=n;const i={};16&r&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){st(e.$$.fragment,t),n=!1},d(t){pt(e,t)}}}function pg(t){let e,n,r,i;return e=new Se({props:{$$slots:{default:[hg]},$$scope:{ctx:t}}}),r=new Se({props:{class:"d-block text-center",$$slots:{default:[fg]},$$scope:{ctx:t}}}),{c(){lt(e.$$.fragment),n=T(),lt(r.$$.fragment)},m(t,o){ft(e,t,o),b(t,n,o),ft(r,t,o),i=!0},p(t,n){const i={};16&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const o={};16&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(t){i||(ot(e.$$.fragment,t),ot(r.$$.fragment,t),i=!0)},o(t){st(e.$$.fragment,t),st(r.$$.fragment,t),i=!1},d(t){pt(e,t),t&&w(n),pt(r,t)}}}function dg(t){let e,n,r;return n=new te({props:{$$slots:{default:[pg]},$$scope:{ctx:t}}}),{c(){e=I("div"),lt(n.$$.fragment),A(e,"slot","signed-out")},m(t,i){b(t,e,i),ft(n,e,null),r=!0},p(t,e){const r={};16&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(ot(n.$$.fragment,t),r=!0)},o(t){st(n.$$.fragment,t),r=!1},d(t){t&&w(e),pt(n)}}}function vg(t){let e,n;return e=new nn({props:{$$slots:{"signed-out":[dg,({user:t,auth:e})=>({2:t,3:e}),({user:t,auth:e})=>(t?4:0)|(e?8:0)]},$$scope:{ctx:t}}}),{c(){lt(e.$$.fragment)},m(t,r){ft(e,t,r),n=!0},p(t,n){const r={};16&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){st(e.$$.fragment,t),n=!1},d(t){pt(e,t)}}}function mg(t){let e,n;return e=new je({props:{firebase:tr,$$slots:{default:[vg]},$$scope:{ctx:t}}}),{c(){lt(e.$$.fragment)},m(t,r){ft(e,t,r),n=!0},p(t,[n]){const r={};16&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){st(e.$$.fragment,t),n=!1},d(t){pt(e,t)}}}function gg(t){const e={apiKey:"AIzaSyDpFJ1vMnojgESGXD-yjlQyIXU8GuJNQLA",authDomain:"csachat-9dff3.firebaseapp.com",databaseURL:"https://csachat-9dff3-default-rtdb.firebaseio.com",projectId:"csachat-9dff3",storageBucket:"csachat-9dff3.appspot.com",messagingSenderId:"384915371882",appId:"1:384915371882:web:2a14a7141b635d69381713"};tr.apps.length||tr.initializeApp(e);return[t=>t.signInAnonymously()]}(function(t,e){t.INTERNAL.registerComponent(new An("firestore",(function(t){return function(t,e){return new Km(t,new Nv(t,e),new Bm)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},cg)))})(sg=tr),sg.registerVersion("@firebase/firestore","2.3.0"),function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Qa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),s=r.next();!s.done;s=r.next())o(s.value).Qa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,o(r.value).Qa(i(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},s=this||self,a=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&a.test(t)?t:""}function h(){}function l(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==l(t)}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),m=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:y).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function I(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t){return t}function T(t,e,n){this.code=A+t,this.message=e||N[t]||"",this.a=n||null}function _(t){var e=t&&t.code;return e?new T(e.substring(A.length),t.message,t.serverResponse):null}I(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var S,A="auth/",N={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},k={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function D(t){for(var e in k)if(k[e].id===t)return{firebaseEndpoint:(t=k[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function C(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function x(t){if(Error.captureStackTrace)Error.captureStackTrace(this,x);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function O(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");x.call(this,n+t[r])}function R(t,e){throw new O("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function P(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function L(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function M(){this.b=this.a=null}S=D("__EID__")?"__EID__":void 0,I(x,Error),x.prototype.name="CustomError",I(O,x),O.prototype.name="AssertionError",P.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var $=new P((function(){return new V}),(function(t){t.reset()}));function F(){var t=me,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function V(){this.next=this.b=this.a=null}M.prototype.add=function(t,e){var n=$.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},V.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},V.prototype.reset=function(){this.next=this.b=this.a=null};var U=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},j=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var q=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},B=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},K=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function G(t,e){return 0<=U(t,e)}function H(t,e){var n;return(n=0<=(e=U(t,e)))&&Array.prototype.splice.call(t,e,1),n}function z(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function W(t){return Array.prototype.concat.apply([],arguments)}function X(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Q,Y=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},J=/&/g,Z=/</g,tt=/>/g,et=/"/g,nt=/'/g,rt=/\x00/g,it=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function st(t,e){return t<e?-1:t>e?1:0}t:{var at=s.navigator;if(at){var ut=at.userAgent;if(ut){Q=ut;break t}}Q=""}function ct(t){return ot(Q,t)}function ht(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function lt(t){for(var e in t)return!1;return!0}function ft(t){var e,n={};for(e in t)n[e]=t[e];return n}var pt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<pt.length;o++)n=pt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(d(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;R("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function mt(t,e){this.a=t===wt&&e||"",this.b=bt}function gt(t){return t instanceof mt&&t.constructor===mt&&t.b===bt?t.a:(R("expected object of type Const, got '"+t+"'"),"type_error:Const")}mt.prototype.sa=!0,mt.prototype.ra=function(){return this.a},mt.prototype.toString=function(){return"Const{"+this.a+"}"};var yt,bt={},wt={};function It(){if(void 0===yt){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:E,createScript:E,createScriptURL:E})}catch(t){s.console&&s.console.error(t.message)}yt=t}else yt=t}return yt}function Et(t,e){this.a=e===Nt?t:""}function Tt(t){return t instanceof Et&&t.constructor===Et?t.a:(R("expected object of type TrustedResourceUrl, got '"+t+"' of type "+l(t)),"type_error:TrustedResourceUrl")}function _t(t,e){var n=gt(t);if(!At.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=It();return new Et(t=e?e.createScriptURL(t):t,Nt)}(t=n.replace(St,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof mt?gt(t):encodeURIComponent(String(t))})))}Et.prototype.sa=!0,Et.prototype.ra=function(){return this.a.toString()},Et.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var St=/%{(\w+)}/g,At=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Nt={};function kt(t,e){this.a=e===Lt?t:""}function Dt(t){return t instanceof kt&&t.constructor===kt?t.a:(R("expected object of type SafeUrl, got '"+t+"' of type "+l(t)),"type_error:SafeUrl")}kt.prototype.sa=!0,kt.prototype.ra=function(){return this.a.toString()},kt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ct=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,xt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Ot=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Rt(t){if(t instanceof kt)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Ot.test(t))t=new kt(t,Lt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(xt);t=e&&Ct.test(e[1])?new kt(t,Lt):null}return t}function Pt(t){return t instanceof kt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Ot.test(t)||(t="about:invalid#zClosurez"),new kt(t,Lt))}var Lt={},Mt=new kt("about:invalid#zClosurez",Lt);function $t(t,e,n){this.a=n===Ft?t:""}$t.prototype.sa=!0,$t.prototype.ra=function(){return this.a.toString()},$t.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ft={};function Vt(t,e,n,r){return t=t instanceof kt?t:Pt(t),e=e||s,n=n instanceof mt?gt(n):n||"",e.open(Dt(t),n,r,void 0)}function Ut(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function jt(t){return it.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(J,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(et,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function qt(t){return qt[" "](t),t}qt[" "]=h;var Bt,Kt=ct("Opera"),Gt=ct("Trident")||ct("MSIE"),Ht=ct("Edge"),zt=Ht||Gt,Wt=ct("Gecko")&&!(ot(Q.toLowerCase(),"webkit")&&!ct("Edge"))&&!(ct("Trident")||ct("MSIE"))&&!ct("Edge"),Xt=ot(Q.toLowerCase(),"webkit")&&!ct("Edge");function Qt(){var t=s.document;return t?t.documentMode:void 0}t:{var Yt="",Jt=function(){var t=Q;return Wt?/rv:([^\);]+)(\)|;)/.exec(t):Ht?/Edge\/([\d\.]+)/.exec(t):Gt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Xt?/WebKit\/(\S+)/.exec(t):Kt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Jt&&(Yt=Jt?Jt[1]:""),Gt){var Zt=Qt();if(null!=Zt&&Zt>parseFloat(Yt)){Bt=String(Zt);break t}}Bt=Yt}var te,ee={};function ne(t){return function(t,e){var n=ee;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Y(String(Bt)).split("."),r=Y(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=st(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||st(0==s[2].length,0==a[2].length)||st(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(s.document&&Gt){var re=Qt();te=re||(parseInt(Bt,10)||void 0)}else te=void 0;var ie=te;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(t){}var oe=!Gt||9<=Number(ie);function se(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ae(t,e){ht(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:he.hasOwnProperty(n)?t.setAttribute(he[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ue,ce,he={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function le(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||d(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(d(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){s="function"==typeof o.item;break t}}s=!1}j(s?X(o):o,r)}}}function fe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function pe(t){s.setTimeout((function(){throw t}),0)}function de(t,e){ce||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);ce=function(){t.then(ge)}}else ce=function(){var t=ge;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!ct("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ue||(ue=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ct("Presto")&&(t=function(){var t=fe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ct("Trident")&&!ct("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),ue(t)):s.setImmediate(t)}}(),ve||(ce(),ve=!0),me.add(t,e)}var ve=!1,me=new M;function ge(){for(var t;t=F();){try{t.a.call(t.b)}catch(t){pe(t)}L($,t)}ve=!1}function ye(t,e){if(this.a=be,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){Oe(n,we,t)}),(function(t){if(!(t instanceof Ve))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Oe(n,Ie,t)}))}catch(t){Oe(this,Ie,t)}}var be=0,we=2,Ie=3;function Ee(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ee.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Te=new P((function(){return new Ee}),(function(t){t.reset()}));function _e(t,e,n){var r=Te.get();return r.g=t,r.b=e,r.f=n,r}function Se(t){if(t instanceof ye)return t;var e=new ye(h);return Oe(e,we,t),e}function Ae(t){return new ye((function(e,n){n(t)}))}function Ne(t,e,n){Re(t,e,n,null)||de(w(e,t))}function ke(t){return new ye((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ne(t[o],w(i,o,!0),w(i,o,!1));else e(r)}))}function De(t,e){if(t.a==be)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==be&&1==r?De(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Le(n),Me(n,i,Ie,e)))}t.c=null}else Oe(t,Ie,e)}function Ce(t,e){t.b||t.a!=we&&t.a!=Ie||Pe(t),t.f?t.f.next=e:t.b=e,t.f=e}function xe(t,e,n,r){var i=_e(null,null,null);return i.a=new ye((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ve?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,Ce(t,i),i.a}function Oe(t,e,n){t.a==be&&(t===n&&(e=Ie,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Re(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Pe(t),e!=Ie||n instanceof Ve||function(t,e){t.g=!0,de((function(){t.g&&Fe.call(null,e)}))}(t,n)))}function Re(t,e,n,r){if(t instanceof ye)return Ce(t,_e(e||h,n||null,r)),!0;if(C(t))return t.then(e,n,r),!0;if(d(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}function s(t){a||(a=!0,n.call(i,t))}var a=!1;try{e.call(t,s,o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Pe(t){t.h||(t.h=!0,de(t.gc,t))}function Le(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Me(t,e,n,r){if(n==Ie&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,$e(e,n,r);else try{e.c?e.g.call(e.f):$e(e,n,r)}catch(t){Fe.call(null,t)}L(Te,e)}function $e(t,e,n){e==we?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ye.prototype.then=function(t,e,n){return xe(this,p(t)?t:null,p(e)?e:null,n)},ye.prototype.$goog_Thenable=!0,(t=ye.prototype).oa=function(t,e){return(t=_e(t,t,e)).c=!0,Ce(this,t),this},t.o=function(t,e){return xe(this,null,t,e)},t.cancel=function(t){if(this.a==be){var e=new Ve(t);de((function(){De(this,e)}),this)}},t.$c=function(t){this.a=be,Oe(this,we,t)},t.ad=function(t){this.a=be,Oe(this,Ie,t)},t.gc=function(){for(var t;t=Le(this);)Me(this,t,this.a,this.i);this.h=!1};var Fe=pe;function Ve(t){x.call(this,t)}function Ue(){this.xa=this.xa,this.pa=this.pa}I(Ve,x),Ve.prototype.name="cancel";function je(t){!t.xa&&(t.xa=!0,t.Da(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++m)}(t)}Ue.prototype.xa=!1,Ue.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var qe=Object.freeze||function(t){return t},Be=!Gt||9<=Number(ie),Ke=Gt&&!ne("9"),Ge=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",h,e),s.removeEventListener("test",h,e)}catch(t){}return t}();function He(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function ze(t,e){if(He.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Wt){t:{try{qt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:We[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}He.prototype.preventDefault=function(){this.defaultPrevented=!0},I(ze,He);var We=qe({2:"touch",3:"pen",4:"mouse"});ze.prototype.preventDefault=function(){ze.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ke)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},ze.prototype.g=function(){return this.a};var Xe="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function Ye(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++Qe,this.va=this.Pa=!1}function Je(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function Ze(t){this.src=t,this.a={},this.b=0}function tn(t,e){var n=e.type;n in t.a&&H(t.a[n],e)&&(Je(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function en(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}Ze.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=en(t,e,r,i);return-1<s?(e=t[s],n||(e.Pa=!1)):((e=new Ye(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var nn="closure_lm_"+(1e6*Math.random()|0),rn={};function on(t,e,n,r,i){if(r&&r.once)an(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)on(t,e[o],n,r,i);else n=mn(n),t&&t[Xe]?yn(t,e,n,d(r)?!!r.capture:!!r,i):sn(t,e,n,!1,r,i)}function sn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=d(i)?!!i.capture:!!i,a=dn(t);if(a||(t[nn]=a=new Ze(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=pn,e=Be?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ge||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(hn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function an(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)an(t,e[o],n,r,i);else n=mn(n),t&&t[Xe]?bn(t,e,n,d(r)?!!r.capture:!!r,i):sn(t,e,n,!0,r,i)}function un(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else r=d(r)?!!r.capture:!!r,n=mn(n),t&&t[Xe]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=en(o=t.a[e],n,r,i))&&(Je(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=dn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=en(e,n,r,i)),(n=-1<t?e[t]:null)&&cn(n))}function cn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Xe])tn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(hn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=dn(e))?(tn(n,t),0==n.b&&(n.src=null,e[nn]=null)):Je(t)}}}function hn(t){return t in rn?rn[t]:rn[t]="on"+t}function ln(t,e,n,r){var i=!0;if((t=dn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=fn(o,r),i=i&&!1!==o)}return i}function fn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&cn(t),n.call(r,e)}function pn(t,e){if(t.va)return!0;if(!Be){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new ze(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=ln(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=ln(r[i],t,!1,e),n=n&&o}return n}return fn(t,new ze(e,this))}function dn(t){return(t=t[nn])instanceof Ze?t:null}var vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function mn(t){return p(t)?t:(t[vn]||(t[vn]=function(e){return t.handleEvent(e)}),t[vn])}function gn(){Ue.call(this),this.v=new Ze(this),this.ac=this,this.gb=null}function yn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function bn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function wn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,u=s.Va||s.src;s.Pa&&tn(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function In(t,e,n){if(p(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function En(t){var e=null;return new ye((function(n,r){-1==(e=In((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function Tn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function _n(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Sn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Sn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function An(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Nn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Nn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Nn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}I(gn,Ue),gn.prototype[Xe]=!0,gn.prototype.addEventListener=function(t,e,n,r){on(this,t,e,n,r)},gn.prototype.removeEventListener=function(t,e,n,r){un(this,t,e,n,r)},gn.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"==typeof t)t=new He(t,n);else if(t instanceof He)t.target=t.target||n;else{var i=t;dt(t=new He(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=wn(s,r,!0,t)&&i}if(i=wn(s=t.b=n,r,!0,t)&&i,i=wn(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=wn(s=t.b=e[o],r,!1,t)&&i;return i},gn.prototype.Da=function(){if(gn.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Je(n[r]);delete e.a[t],e.b--}}this.gb=null},(t=Sn.prototype).W=function(){An(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return An(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Nn(this.b,t)?this.b[t]:e},t.set=function(t,e){Nn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var kn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Dn?(this.i=void 0!==e?e:t.i,Cn(this,t.c),this.l=t.l,this.a=t.a,xn(this,t.g),this.f=t.f,On(this,Yn(t.b)),this.h=t.h):t&&(n=String(t).match(kn))?(this.i=!!e,Cn(this,n[1]||"",!0),this.l=$n(n[2]||""),this.a=$n(n[3]||"",!0),xn(this,n[4]),this.f=$n(n[5]||"",!0),On(this,n[6]||"",!0),this.h=$n(n[7]||"")):(this.i=!!e,this.b=new Gn(null,this.i))}function Cn(t,e,n){t.c=n?$n(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function xn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function On(t,e,n){e instanceof Gn?(t.b=e,function(t,e){e&&!t.f&&(Hn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Wn(this,e),Qn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Fn(e,Bn)),t.b=new Gn(e,t.i))}function Rn(t,e,n){t.b.set(e,n)}function Pn(t,e){return t.b.get(e)}function Ln(t){return t instanceof Dn?new Dn(t):new Dn(t,void 0)}function Mn(t,e,n,r){var i=new Dn(null,void 0);return t&&Cn(i,t),e&&(i.a=e),n&&xn(i,n),r&&(i.f=r),i}function $n(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Vn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Vn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Dn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Fn(e,Un,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Fn(e,Un,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Fn(n,"/"==n.charAt(0)?qn:jn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Fn(n,Kn)),t.join("")},Dn.prototype.resolve=function(t){var e=new Dn(this),n=!!t.c;n?Cn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)xn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ot(i,"./")||ot(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?On(e,Yn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Un=/[#\/\?@]/g,jn=/[#\?:]/g,qn=/[#\?]/g,Bn=/[#\?@]/g,Kn=/#/g;function Gn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Hn(t){t.a||(t.a=new Sn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function zn(t){var e=_n(t);if(void 0===e)throw Error("Keys are undefined");var n=new Gn(null,void 0);t=Tn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Qn(n,i,o):n.add(i,o)}return n}function Wn(t,e){Hn(t),e=Jn(t,e),Nn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Nn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&An(t)))}function Xn(t,e){return Hn(t),e=Jn(t,e),Nn(t.a.b,e)}function Qn(t,e,n){Wn(t,e),0<n.length&&(t.c=null,t.a.set(Jn(t,e),X(n)),t.b+=n.length)}function Yn(t){var e=new Gn;return e.c=t.c,t.a&&(e.a=new Sn(t.a),e.b=t.b),e}function Jn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Zn(t){var e=[];return nr(new er,t,e),e.join("")}function er(){}function nr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),nr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),or(r,n),n.push(":"),nr(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":or(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Gn.prototype).add=function(t,e){Hn(this),this.c=null,t=Jn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Hn(this),this.a.forEach((function(n,r){j(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Hn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){Hn(this);var e=[];if("string"==typeof t)Xn(this,t)&&(e=W(e,this.a.get(Jn(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=W(e,t[n])}return e},t.set=function(t,e){return Hn(this),this.c=null,Xn(this,t=Jn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var rr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ir=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function or(t,e){e.push('"',t.replace(ir,(function(t){var e=rr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),rr[t]=e),e})),'"')}function sr(){var t=Ar();return Gt&&!!ie&&11==ie||/Edge\/\d+/.test(t)}function ar(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function ur(t,e){e=e||s.window;var n="about:blank";t&&(n=Dt(Rt(t)||Mt)),e.location.href=n}function cr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<cr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function hr(t){return!!((t=(t||Ar()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function lr(t){t=t||s.window;try{t.close()}catch(t){}}function fr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ar().toLowerCase(),r&&(e.target=r,ot(n,"crios/")&&(e.target="_blank")),Tr(Ar())==Ir&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof kt?n:Rt(void 0!==n.href?n.href:String(n))||Mt,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ct("iPhone")&&!ct("iPod")&&!ct("iPad")||ct("iPad")||ct("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(s=fe(document,"A"),"HTMLAnchorElement"),e=e instanceof kt?e:Pt(e),s.href=Dt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Vt("",r,n,s),t=Dt(e),s&&(zt&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+jt(t)+'">',t=new $t(t=(r=It())?r.createHTML(t):t,null,Ft),r=s.document)&&(r.write(function(t){return t instanceof $t&&t.constructor===$t?t.a:(R("expected object of type SafeHtml, got '"+t+"' of type "+l(t)),"type_error:SafeHtml")}(t)),r.close())):(s=Vt(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(t){}return s}var pr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dr=/^[^@]+@[^@]+$/;function vr(){var t=null;return new ye((function(e){"complete"==s.document.readyState?e():(t=function(){e()},an(window,"load",t))})).o((function(e){throw un(window,"load",t),e}))}function mr(t){return t=t||Ar(),!("file:"!==xr()&&"ionic:"!==xr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function gr(){var t=s.window;try{return!(!t||t==t.top)}catch(t){return!1}}function yr(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function br(){return tr.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":tr.INTERNAL.hasOwnProperty("node")?"Node":yr()?"Worker":"Browser"}function wr(){var t=br();return"ReactNative"===t||"Node"===t}var Ir="Firefox",Er="Chrome";function Tr(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?Ir:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Er:"Safari"}var _r={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Sr(t,e){e=e||[];var n,r=[],i={};for(n in _r)i[_r[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=br())?r=Tr(i=Ar()):"Worker"===r&&(r=Tr(i=Ar())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Ar(){return s.navigator&&s.navigator.userAgent||""}function Nr(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function kr(){try{var t=s.localStorage,e=Mr();if(t)return t.setItem(e,"1"),t.removeItem(e),!sr()||!!s.indexedDB}catch(t){return yr()&&!!s.indexedDB}return!1}function Dr(){return(Cr()||"chrome-extension:"===xr()||mr())&&!wr()&&kr()&&!yr()}function Cr(){return"http:"===xr()||"https:"===xr()}function xr(){return s.location&&s.location.protocol||null}function Or(t){return!hr(t=t||Ar())&&Tr(t)!=Ir}function Rr(t){return void 0===t?null:Zn(t)}function Pr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Lr(t){if(null!==t)return JSON.parse(t)}function Mr(t){return t||Math.floor(1e9*Math.random()).toString()}function $r(t){return"Safari"!=Tr(t=t||Ar())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Fr(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Vr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Ar(),e=br(),this.b=hr(t)||"ReactNative"===e}function Ur(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function jr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function qr(){return!(!Nr("fireauth.oauthhelper",s)&&!Nr("fireauth.iframe",s))}Vr.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Cr()&&"chrome-extension:"!==xr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Br,Kr={};function Gr(t){Kr[t]||(Kr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Hr={};Object.defineProperty(Hr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Hr,"abcd",{configurable:!0,enumerable:!0,value:2}),Br=2==Hr.abcd}catch(t){Br=!1}function zr(t,e,n){Br?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Wr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&zr(t,n,e[n])}function Xr(t){var e={};return Wr(e,t),e}function Qr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)zr(e,n,Qr(t[n]));return e}function Yr(t){var e=t&&(t[ni]?"phone":null);if(!(e&&t&&t[ei]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");zr(this,"uid",t[ei]),zr(this,"displayName",t[Zr]||null);var n=null;t[ti]&&(n=new Date(t[ti]).toUTCString()),zr(this,"enrollmentTime",n),zr(this,"factorId",e)}function Jr(t){try{var e=new ri(t)}catch(t){e=null}return e}Yr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Zr="displayName",ti="enrolledAt",ei="mfaEnrollmentId",ni="phoneInfo";function ri(t){Yr.call(this,t),zr(this,"phoneNumber",t[ni])}function ii(t){var e={},n=t[ui],r=t[hi],i=t[li];if(t=Jr(t[ci]),!i||i!=si&&i!=ai&&!n||i==ai&&!r||i==oi&&!t)throw Error("Invalid checkActionCode response!");i==ai?(e[pi]=n||null,e[vi]=n||null,e[fi]=r):(e[pi]=r||null,e[vi]=r||null,e[fi]=n||null),e[di]=t||null,zr(this,gi,i),zr(this,mi,Qr(e))}I(ri,Yr),ri.prototype.w=function(){var t=ri.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var oi="REVERT_SECOND_FACTOR_ADDITION",si="EMAIL_SIGNIN",ai="VERIFY_AND_CHANGE_EMAIL",ui="email",ci="mfaInfo",hi="newEmail",li="requestType",fi="email",pi="fromEmail",di="multiFactorInfo",vi="previousEmail",mi="data",gi="operation";function yi(t){var e=Pn(t=Ln(t),bi)||null,n=Pn(t,wi)||null,r=Pn(t,Ti)||null;if(r=r&&Si[r]||null,!e||!n||!r)throw new T("argument-error",bi+", "+wi+"and "+Ti+" are required in a valid action code URL.");Wr(this,{apiKey:e,operation:r,code:n,continueUrl:Pn(t,Ii)||null,languageCode:Pn(t,Ei)||null,tenantId:Pn(t,_i)||null})}var bi="apiKey",wi="oobCode",Ii="continueUrl",Ei="languageCode",Ti="mode",_i="tenantId",Si={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:oi,signIn:si,verifyAndChangeEmail:ai,verifyEmail:"VERIFY_EMAIL"};function Ai(t){try{return new yi(t)}catch(t){return null}}function Ni(t){var e=t[Oi];if(void 0===e)throw new T("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new T("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[ki];if(n&&"object"==typeof n){e=n[Li];var r=n[Ri];if(n=n[Pi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new T("argument-error",Ri+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new T("argument-error",Pi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new T("argument-error",Li+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new T("missing-android-pkg-name")}}else if(void 0!==n)throw new T("argument-error",ki+" property must be a non null object when specified.");if(this.f=null,(e=t[xi])&&"object"==typeof e){if("string"==typeof(e=e[Mi])&&e.length)this.f=e;else if(void 0!==e)throw new T("argument-error",Mi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new T("argument-error",xi+" property must be a non null object when specified.");if(void 0!==(e=t[Ci])&&"boolean"!=typeof e)throw new T("argument-error",Ci+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Di])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new T("argument-error",Di+" property must be a non empty string when specified.");this.i=t||null}var ki="android",Di="dynamicLinkDomain",Ci="handleCodeInApp",xi="iOS",Oi="url",Ri="installApp",Pi="minimumVersion",Li="packageName",Mi="bundleId";function $i(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Fi=null;function Vi(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Fi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Fi){Fi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Fi[o]&&(Fi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e.push(t)})),e}function Ui(t){var e=qi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function ji(t){try{return new Ui(t)}catch(t){return null}}function qi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=Vi(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(t){}return null}Ui.prototype.T=function(){return this.f},Ui.prototype.l=function(){return this.c},Ui.prototype.toString=function(){return this.h};var Bi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ki=["client_id","response_type","scope","redirect_uri","state"],Gi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Ki},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Ki},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Ki},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Bi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Hi(t){for(var e in Gi)if(Gi[e].fa==t)return Gi[e];return null}function zi(t){var e={};e["facebook.com"]=Ji,e["google.com"]=to,e["github.com"]=Zi,e["twitter.com"]=eo;var n=t&&t[Xi];try{if(n)return e[n]?new e[n](t):new Yi(t);if(void 0!==t[Wi])return new Qi(t)}catch(t){}return null}var Wi="idToken",Xi="providerId";function Qi(t){var e=t[Xi];if(!e&&t[Wi]){var n=ji(t[Wi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),zr(this,"providerId",e),zr(this,"isNewUser",n)}function Yi(t){Qi.call(this,t),zr(this,"profile",Qr((t=Lr(t.rawUserInfo||"{}"))||{}))}function Ji(t){if(Yi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Zi(t){if(Yi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");zr(this,"username",this.profile&&this.profile.login||null)}function to(t){if(Yi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if(Yi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");zr(this,"username",t.screenName||null)}function no(t){var e=Ln(t),n=Pn(e,"link"),r=Pn(Ln(n),"link");return e=Pn(e,"deep_link_id"),Pn(Ln(e),"link")||e||r||n||t}function ro(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?io:oo}I(Yi,Qi),I(Ji,Yi),I(Zi,Yi),I(to,Yi),I(eo,Yi);var io="enroll",oo="signin";function so(){}function ao(t,e){return t.then((function(t){if(t[Qs]){var n=ji(t[Qs]);if(!n||e!=n.i)throw new T("user-mismatch");return t}throw new T("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==A+"user-not-found"?new T("user-mismatch"):t}))}function uo(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,zr(this,"providerId",t),zr(this,"signInMethod",t)}function co(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function ho(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new uo(t.providerId,t.pendingToken)}catch(t){}return null}function lo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&zr(this,"idToken",e.idToken),e.accessToken&&zr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&zr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");zr(this,"accessToken",e.oauthToken),zr(this,"secret",e.oauthTokenSecret)}zr(this,"providerId",t),zr(this,"signInMethod",n)}function fo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:zn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function po(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new lo(t.providerId,e,t.signInMethod)}catch(t){}}return null}function vo(t,e){this.Qc=e||[],Wr(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Hi(t)||{}).Ja||null,this.ob=null}function mo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');vo.call(this,t,[])}function go(t){vo.call(this,t,Ki),this.a=[]}function yo(){go.call(this,"facebook.com")}function bo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new yo).credential({accessToken:e})}function wo(){go.call(this,"github.com")}function Io(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new wo).credential({accessToken:e})}function Eo(){go.call(this,"google.com"),this.Ca("profile")}function To(t,e){var n=t;return d(t)&&(n=t.idToken,e=t.accessToken),(new Eo).credential({idToken:n,accessToken:e})}function _o(){vo.call(this,"twitter.com",Bi)}function So(t,e){var n=t;if(d(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new lo("twitter.com",n,"twitter.com")}function Ao(t,e,n){this.a=t,this.f=e,zr(this,"providerId","password"),zr(this,"signInMethod",n===ko.EMAIL_LINK_SIGN_IN_METHOD?ko.EMAIL_LINK_SIGN_IN_METHOD:ko.EMAIL_PASSWORD_SIGN_IN_METHOD)}function No(t){return t&&t.email&&t.password?new Ao(t.email,t.password,t.signInMethod):null}function ko(){Wr(this,{providerId:"password",isOAuthProvider:!1})}function Do(t,e){if(!(e=Co(e)))throw new T("argument-error","Invalid email link!");return new Ao(t,e.code,ko.EMAIL_LINK_SIGN_IN_METHOD)}function Co(t){return(t=Ai(t=no(t)))&&t.operation===si?t:null}function xo(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new T("internal-error");this.a=t,zr(this,"providerId","phone"),this.fa="phone",zr(this,"signInMethod","phone")}function Oo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return j(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new xo(e)}return null}function Ro(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Po(t){try{this.a=t||tr.auth()}catch(t){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Wr(this,{providerId:"phone",isOAuthProvider:!1})}function Lo(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new xo({eb:t,cb:e})}function Mo(t){if(t.temporaryProof&&t.phoneNumber)return new xo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return To(o,n);case"facebook.com":return bo(n);case"github.com":return Io(n);case"twitter.com":return So(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new uo(e,s):new lo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new go(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function $o(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function Fo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function Vo(t){return(t=t||{}).type?new Fo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&_(t.error),t.postBody,t.tenantId):null}function Uo(){this.b=null,this.a=[]}ro.prototype.Ha=function(){return this.a?Se(this.a):Se(this.b)},ro.prototype.w=function(){return this.type==io?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},so.prototype.ka=function(){},so.prototype.b=function(){},so.prototype.c=function(){},so.prototype.w=function(){},uo.prototype.ka=function(t){return ya(t,co(this))},uo.prototype.b=function(t,e){var n=co(this);return n.idToken=e,ba(t,n)},uo.prototype.c=function(t,e){return ao(wa(t,co(this)),e)},uo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},lo.prototype.ka=function(t){return ya(t,fo(this))},lo.prototype.b=function(t,e){var n=fo(this);return n.idToken=e,ba(t,n)},lo.prototype.c=function(t,e){return ao(wa(t,fo(this)),e)},lo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},vo.prototype.Ka=function(t){return this.Ib=ft(t),this},I(mo,vo),I(go,vo),go.prototype.Ca=function(t){return G(this.a,t)||this.a.push(t),this},go.prototype.Qb=function(){return X(this.a)},go.prototype.credential=function(t,e){var n;if(!(n=d(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new lo(this.providerId,n,this.providerId)},I(yo,go),zr(yo,"PROVIDER_ID","facebook.com"),zr(yo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(wo,go),zr(wo,"PROVIDER_ID","github.com"),zr(wo,"GITHUB_SIGN_IN_METHOD","github.com"),I(Eo,go),zr(Eo,"PROVIDER_ID","google.com"),zr(Eo,"GOOGLE_SIGN_IN_METHOD","google.com"),I(_o,vo),zr(_o,"PROVIDER_ID","twitter.com"),zr(_o,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ao.prototype.ka=function(t){return this.signInMethod==ko.EMAIL_LINK_SIGN_IN_METHOD?eu(t,ka,{email:this.a,oobCode:this.f}):eu(t,Qa,{email:this.a,password:this.f})},Ao.prototype.b=function(t,e){return this.signInMethod==ko.EMAIL_LINK_SIGN_IN_METHOD?eu(t,Da,{idToken:e,email:this.a,oobCode:this.f}):eu(t,qa,{idToken:e,email:this.a,password:this.f})},Ao.prototype.c=function(t,e){return ao(this.ka(t),e)},Ao.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Wr(ko,{PROVIDER_ID:"password"}),Wr(ko,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Wr(ko,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),xo.prototype.ka=function(t){return t.fb(Ro(this))},xo.prototype.b=function(t,e){var n=Ro(this);return n.idToken=e,eu(t,Ja,n)},xo.prototype.c=function(t,e){var n=Ro(this);return n.operation="REAUTH",ao(t=eu(t,Za,n),e)},xo.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Po.prototype.fb=function(t,e){var n=this.a.a;return Se(e.verify()).then((function(r){if("string"!=typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=d(t)?t.session:null,o=d(t)?t.phoneNumber:t;return(i&&i.type==io?i.Ha().then((function(t){return function(t,e){return eu(t,Ka,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==oo?i.Ha().then((function(e){return function(t,e){return eu(t,Ga,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return eu(t,Ua,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Wr(Po,{PROVIDER_ID:"phone"}),Wr(Po,{PHONE_SIGN_IN_METHOD:"phone"}),Fo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Fo.prototype.T=function(){return this.h},Fo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var jo,qo=null;function Bo(t){var e="unauthorized-domain",n=void 0,r=Ln(t);t=r.a,"chrome-extension"==(r=r.c)?n=Ut("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ut("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function Ko(t,e,n){T.call(this,t,n),(t=e||{}).Jb&&zr(this,"email",t.Jb),t.ea&&zr(this,"phoneNumber",t.ea),t.credential&&zr(this,"credential",t.credential),t.Zb&&zr(this,"tenantId",t.Zb)}function Go(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:Mo(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new Ko(e,n,t.message)}return null}function Ho(){}function zo(t){return t.c||(t.c=t.b())}function Wo(){}function Xo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Qo(){}function Yo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Sb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function Jo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Zo(t,e,n){this.reset(t,e,n,void 0,void 0)}function ts(t){this.f=t,this.b=this.c=this.a=null}function es(t,e){this.name=t,this.value=e}I(Bo,T),I(Ko,T),Ko.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&dt(t,e),t},Ko.prototype.toJSON=function(){return this.w()},Ho.prototype.c=null,I(Wo,Ho),Wo.prototype.a=function(){var t=Xo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Wo.prototype.b=function(){var t={};return Xo(this)&&(t[0]=!0,t[1]=!0),t},jo=new Wo,I(Qo,Ho),Qo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Yo;throw Error("Unsupported browser")},Qo.prototype.b=function(){return{}},(t=Yo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Jo(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",Jo(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,Jo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Zo.prototype.a=null,Zo.prototype.reset=function(t,e,n,r,i){delete this.a},es.prototype.toString=function(){return this.name};var ns=new es("SEVERE",1e3),rs=new es("WARNING",900),is=new es("CONFIG",700),os=new es("FINE",500);function ss(t){return t.c?t.c:t.a?ss(t.a):(R("Root logger has no level set."),null)}ts.prototype.log=function(t,e,n){if(t.value>=ss(this).value)for(p(e)&&(e=e()),t=new Zo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var as={},us=null;function cs(t){var e;if(us||(us=new ts(""),as[""]=us,us.c=is),!(e=as[t])){e=new ts(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=cs(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,as[t]=e}return e}function hs(t,e){t&&t.log(os,e,void 0)}function ls(t){this.f=t}function fs(t){gn.call(this),this.u=t,this.h=void 0,this.readyState=ps,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=cs("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}I(ls,Ho),ls.prototype.a=function(){return new fs(this.f)},ls.prototype.b=function(t){return function(){return t}}({}),I(fs,gn);var ps=0;function ds(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function vs(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ms(t)}function ms(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function gs(t){gn.call(this),this.headers=new Sn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ys,this.u=this.S=!1}(t=fs.prototype).open=function(t,e){if(this.readyState!=ps)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ms(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,vs(this)),this.readyState=ps},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ms(this)),this.a&&(this.readyState=3,ms(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ds(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?vs(this):ms(this),3==this.readyState&&ds(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,vs(this))},t.sc=function(t){this.a&&(this.response=t,vs(this))},t.Ua=function(t){var e=this.i;e&&e.log(rs,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&vs(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(rs,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(rs,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(fs.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),I(gs,gn);var ys="";gs.prototype.b=cs("goog.net.XhrIo");var bs=/^https?$/i,ws=["POST","PUT"];function Is(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():jo.a(),t.C=t.D?zo(t.D):zo(jo),t.a.onreadystatechange=b(t.Vb,t);try{hs(t.b,Cs(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(e){return hs(t.b,Cs(t,"Error opening Xhr: "+e.message)),void Ts(t,e)}e=r||"";var o=new Sn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)j(t,e,void 0);else for(var n=_n(t),r=Tn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Es,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!G(ws,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Ns(t),0<t.g&&(t.u=function(t){return Gt&&ne(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),hs(t.b,Cs(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ma,t)):t.s=In(t.Ma,t.g,t)),hs(t.b,Cs(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){hs(t.b,Cs(t,"Send error: "+e.message)),Ts(t,e)}}function Es(t){return"content-type"==t.toLowerCase()}function Ts(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,_s(t),As(t)}function _s(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ss(t){if(t.c&&void 0!==o)if(t.C[1]&&4==ks(t)&&2==Ds(t))hs(t.b,Cs(t,"Local request error detected and ignored"));else if(t.i&&4==ks(t))In(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==ks(t)){hs(t.b,Cs(t,"Request complete")),t.c=!1;try{var e,n=Ds(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.l).match(kn)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!bs.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<ks(t)?t.a.statusText:""}catch(e){hs(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+Ds(t)+"]",_s(t)}}finally{As(t)}}}function As(t,e){if(t.a){Ns(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(ns,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Ns(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function ks(t){return t.a?t.a.readyState:0}function Ds(t){try{return 2<ks(t)?t.a.status:-1}catch(t){return-1}}function Cs(t,e){return e+" ["+t.R+" "+t.l+" "+Ds(t)+"]"}function xs(t){var e=qs;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Os(t,e,n){t.a=!0,t.c=n,t.f=!e,Ms(t)}function Rs(t){if(t.a){if(!t.v)throw new $s(t);t.v=!1}}function Ps(t,e,n,r){t.g.push([e,n,r]),t.a&&Ms(t)}function Ls(t){return K(t.g,(function(t){return p(t[1])}))}function Ms(t){if(t.h&&t.a&&Ls(t)){var e=t.h,n=Us[e];n&&(s.clearTimeout(n.a),delete Us[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(C(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,Ls(t)||(n=!0)}}t.c=e,r&&(u=b(t.m,t,!0),r=b(t.m,t,!1),e instanceof xs?(Ps(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new Vs(e),Us[e.a]=e,t.h=e.a)}function $s(){x.call(this)}function Fs(){x.call(this)}function Vs(t){this.a=s.setTimeout(b(this.c,this),0),this.b=t}(t=gs.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",hs(this.b,Cs(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(hs(this.b,Cs(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),As(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),As(this,!0)),gs.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?Ss(this):this.Jc())},t.Jc=function(){Ss(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ys:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ns,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return hs(this.b,"Can not get response: "+t.message),null}},xs.prototype.cancel=function(t){if(this.a)this.c instanceof xs&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Fs(this),Rs(this),Os(this,!1,t))}},xs.prototype.m=function(t,e){this.i=!1,Os(this,t,e)},xs.prototype.then=function(t,e,n){var r,i,o=new ye((function(t,e){r=t,i=e}));return Ps(this,r,(function(t){t instanceof Fs?o.cancel():i(t)})),o.then(t,e,n)},xs.prototype.$goog_Thenable=!0,I($s,x),$s.prototype.message="Deferred has already fired",$s.prototype.name="AlreadyCalledError",I(Fs,x),Fs.prototype.message="Deferred was canceled",Fs.prototype.name="CanceledError",Vs.prototype.c=function(){throw delete Us[this.a],this.b};var Us={};function js(t){var e,n=document,r=Tt(t).toString(),i=fe(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new xs(o);return e=window.setTimeout((function(){Bs(i,!0);var t=new Hs(Gs,"Timeout reached for loading script "+r);Rs(a),Os(a,!1,t)}),5e3),o.Ma=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Bs(i,!1,e),Rs(a),Os(a,!0,null))},i.onerror=function(){Bs(i,!0,e);var t=new Hs(Ks,"Error while loading script "+r);Rs(a),Os(a,!1,t)},dt(o={},{type:"text/javascript",charset:"UTF-8"}),ae(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=Tt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=c(e.document):(null===u&&(u=c(s.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function qs(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&Bs(t,!0,this.Ma)}}function Bs(t,e,n){null!=n&&s.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ks=0,Gs=1;function Hs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),x.call(this,n),this.code=t}function zs(t){this.f=t}function Ws(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Ys,this.g=ft(t.secureTokenHeaders||Js),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Zs,this.a=ft(t.firebaseHeaders||ta),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==br(),!(n=s.XMLHttpRequest||n&&tr.INTERNAL.node&&tr.INTERNAL.node.XMLHttpRequest)&&!yr())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,yr()?this.f=new ls(self):wr()?this.f=new zs(n):this.f=new Qo,this.b=null}I(Hs,x),I(zs,Ho),zs.prototype.a=function(){return new this.f},zs.prototype.b=function(){return{}};var Xs,Qs="idToken",Ys=new Vr(3e4,6e4),Js={"Content-Type":"application/x-www-form-urlencoded"},Zs=new Vr(3e4,6e4),ta={"Content-Type":"application/json"};function ea(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function na(t,e){e&&(t.l=ra("https://securetoken.googleapis.com/v1/token",e),t.h=ra("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=ra("https://identitytoolkit.googleapis.com/v2/",e))}function ra(t,e){return t=Ln(t),e=Ln(e.url),t.f=t.a+t.f,Cn(t,e.c),t.a=e.a,xn(t,e.g),t.toString()}function ia(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function oa(t,e,n,r,i,o,a){(function(){var t=Ar();return!((t=Tr(t)!=Er?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Gt&&ie&&!(9<ie))})()||yr()?t=b(t.u,t):(Xs||(Xs=new ye((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{s[aa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ps(t,null,e,void 0)}(js(_t(sa,{onload:aa})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=b(t.s,t)),t(e,n,r,i,o,a)}Ws.prototype.T=function(){return this.b},Ws.prototype.u=function(t,e,n,r,i,o){if(yr()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new gs(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}yn(a,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return hs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),bn(a,"ready",(function(){u&&clearTimeout(u),je(this)})),bn(a,"timeout",(function(){u&&clearTimeout(u),je(this),e&&e(null)})),Is(a,t,n,r,i)};var sa=new mt(wt,"https://apis.google.com/js/client.js?onload=%{onload}"),aa="__fcb"+Math.floor(1e6*Math.random()).toString();function ua(t,e,n,r,i,o,s){var a=Ln(e+n);Rn(a,"key",t.c),s&&Rn(a,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Rn(a,c,i[c]);return new ye((function(e,n){oa(t,a.toString(),(function(t){t?t.error?n(ru(t,o||{})):e(t):n(new T("network-request-failed"))}),r,u?void 0:Zn(Pr(i)),t.a,t.v.get())}))}function ca(t){if("string"!=typeof(t=t.email)||!dr.test(t))throw new T("invalid-email")}function ha(t){"email"in t&&ca(t)}function la(t){if(!t[Qs]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,ft(t));throw new T("internal-error")}}function fa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}Ws.prototype.s=function(t,e,n,r,i){var o=this;Xs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Ws.prototype.zb=function(){return eu(this,Ba,{})},Ws.prototype.Bb=function(t,e){return eu(this,ja,{idToken:t,email:e})},Ws.prototype.Cb=function(t,e){return eu(this,qa,{idToken:t,password:e})};var pa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function da(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function va(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function ma(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Xn(t=new Gn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ga(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Go(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Go(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Go(t)):t.errorMessage&&(e=nu(t.errorMessage)),e)throw e;la(t)}function ya(t,e){return e.returnIdpCredential=!0,eu(t,Ha,e)}function ba(t,e){return e.returnIdpCredential=!0,eu(t,Wa,e)}function wa(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,eu(t,za,e)}function Ia(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=Ws.prototype).Db=function(t,e){var n={idToken:t},r=[];return ht(pa,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),eu(this,ja,n)},t.vb=function(t,e){return dt(t={requestType:"PASSWORD_RESET",email:t},e),eu(this,Ma,t)},t.wb=function(t,e){return dt(t={requestType:"EMAIL_SIGNIN",email:t},e),eu(this,Ra,t)},t.ub=function(t,e){return dt(t={requestType:"VERIFY_EMAIL",idToken:t},e),eu(this,Pa,t)},t.Eb=function(t,e,n){return dt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),eu(this,La,t)},t.fb=function(t){return eu(this,Ya,t)},t.nb=function(t,e){return eu(this,Va,{oobCode:t,newPassword:e})},t.Ra=function(t){return eu(this,Ta,{oobCode:t})},t.jb=function(t){return eu(this,Ea,{oobCode:t})};var Ea={endpoint:"setAccountInfo",A:Ia,Z:"email",B:!0},Ta={endpoint:"resetPassword",A:Ia,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},B:!0},_a={endpoint:"signupNewUser",A:function(t){if(ca(t),!t.password)throw new T("weak-password")},G:la,V:!0,B:!0},Sa={endpoint:"createAuthUri",B:!0},Aa={endpoint:"deleteAccount",N:["idToken"]},Na={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new T("internal-error")}},ka={endpoint:"emailLinkSignin",N:["email","oobCode"],A:ca,G:la,V:!0,B:!0},Da={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:ca,G:la,V:!0},Ca={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:da,G:la,B:!0,Na:!0},xa={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:da,G:la,B:!0,Na:!0},Oa={endpoint:"getAccountInfo"},Ra={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");ca(t)},Z:"email",B:!0},Pa={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},La={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Ma={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");ca(t)},Z:"email",B:!0},$a={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Fa={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},Va={endpoint:"resetPassword",A:Ia,Z:"email",B:!0},Ua={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},ja={endpoint:"setAccountInfo",N:["idToken"],A:ha,V:!0},qa={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(ha(t),!t.password)throw new T("weak-password")},G:la,V:!0},Ba={endpoint:"signupNewUser",G:la,V:!0,B:!0},Ka={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Ga={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Ha={endpoint:"verifyAssertion",A:va,Ya:ma,G:ga,V:!0,B:!0},za={endpoint:"verifyAssertion",A:va,Ya:ma,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw nu(t.errorMessage);la(t)},V:!0,B:!0},Wa={endpoint:"verifyAssertion",A:function(t){if(va(t),!t.idToken)throw new T("internal-error")},Ya:ma,G:ga,V:!0},Xa={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new T("invalid-custom-token")},G:la,V:!0,B:!0},Qa={endpoint:"verifyPassword",A:function(t){if(ca(t),!t.password)throw new T("wrong-password")},G:la,V:!0,B:!0},Ya={endpoint:"verifyPhoneNumber",A:fa,G:la,B:!0},Ja={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new T("internal-error");fa(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Go(t);la(t)}},Za={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:fa,G:la,B:!0},tu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Qs]^!!t.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function eu(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.N))return Ae(new T("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return Se(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),ua(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)})).then((function(t){return r=t,e.Ya?e.Ya(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new T("internal-error");return r[e.Z]}))}function nu(t){return ru({error:{errors:[{message:t}],code:400,message:t}})}function ru(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",dt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],e);return!e&&t&&(e=Rr(t)),new T("internal-error",e)}function iu(t){this.b=t,this.a=null,this.rb=function(t){return(uu||(uu=new ye((function(t,e){function n(){Fr(),Nr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Fr(),e(Error("Network Error"))},timeout:su.get()})}if(Nr("gapi.iframes.Iframe"))t();else if(Nr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Nr("gapi.load")?n():e(Error("Network Error"))},Se(js(r=_t(ou,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw uu=null,t})))).then((function(){return new ye((function(e,n){Nr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),au.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var ou=new mt(wt,"https://apis.google.com/js/api.js?onload=%{onload}"),su=new Vr(3e4,6e4),au=new Vr(5e3,15e3),uu=null;function cu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=Mn((t=Ln(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=Mn("https",this.l,null,"/__/auth/iframe"),this.a=t,Rn(this.a,"apiKey",this.h),Rn(this.a,"appName",this.i),this.b=null,this.c=[]}function hu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function lu(t){try{return tr.app(t).auth().Ga()}catch(t){return[]}}function fu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function pu(t){var e=ar();return function(t){return eu(t,$a,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Ln(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Ln(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:pr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Bo(ar())}))}function du(t){return t.m||(t.m=vr().then((function(){if(!t.u){var e=t.c,n=t.i,r=lu(t.b),i=new cu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=X(r||[]),t.u=i.toString()}t.v=new iu(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then((function(){t.a.register("authEvent",e,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Vo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Se(n)}return n.status="ERROR",Se(n)}))}(t)}))),t.m}function vu(t){return t.l||(t.C=t.c?Sr(t.c,lu(t.b)):null,t.l=new Ws(t.g,D(t.i),t.C),t.f&&na(t.l,t.f)),t.l}function mu(t,e,n,r,i,o,s,a,u,c,h,l){return(t=new hu(t,e,n,r,i,l)).l=o,t.g=s,t.i=a,t.b=ft(u||null),t.f=c,t.yb(h).toString()}function gu(t){if(this.a=t||tr.INTERNAL.reactNative&&tr.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function yu(t){this.b=t,this.a={},this.f=b(this.c,this)}cu.prototype.toString=function(){return this.f?Rn(this.a,"v",this.f):Wn(this.a.b,"v"),this.b?Rn(this.a,"eid",this.b):Wn(this.a.b,"eid"),this.c.length?Rn(this.a,"fw",this.c.join(",")):Wn(this.a.b,"fw"),this.a.toString()},hu.prototype.yb=function(t){return this.h=t,this},hu.prototype.toString=function(){if(this.v){var t=Ln(this.v.url);t=Mn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Mn("https",this.u,null,"/__/auth/handler");if(Rn(t,"apiKey",this.s),Rn(t,"appName",this.c),Rn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=tr.app(this.c).auth().la()}catch(t){n=null}for(var r in e.ob=n,Rn(t,"providerId",this.a.providerId),e=Pr((n=this.a).Ib))e[r]=e[r].toString();r=n.Qc,e=ft(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),lt(e)||Rn(t,"customParameters",Rr(e))}if("function"==typeof this.a.Qb&&((n=this.a.Qb()).length&&Rn(t,"scopes",n.join(","))),this.l?Rn(t,"redirectUrl",this.l):Wn(t.b,"redirectUrl"),this.g?Rn(t,"eventId",this.g):Wn(t.b,"eventId"),this.i?Rn(t,"v",this.i):Wn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Pn(t,s)&&Rn(t,s,this.b[s]);return this.h?Rn(t,"tid",this.h):Wn(t.b,"tid"),this.f?Rn(t,"eid",this.f):Wn(t.b,"eid"),(s=lu(this.c)).length&&Rn(t,"fw",s.join(",")),t.toString()},(t=fu.prototype).Ob=function(t,e,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,s=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return du(t).then((function(){return function(t,e){return t.rb.then((function(){return new ye((function(n){t.a.send(e.type,e,n,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&lr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new ye((function(e){return function n(){En(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return En(n).then((function(){e(r)}))}))},t.Xb=function(){var t=Ar();return!Or(t)&&!$r(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,s,a){if(!t)return Ae(new T("popup-blocked"));if(s&&!Or())return this.ma().o((function(e){lr(t),i(e)})),r(),Se();this.a||(this.a=pu(vu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw lr(t),i(e),e}));return r(),e})).then((function(){($o(n),s)||ur(mu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Nb=function(t,e,n,r){this.a||(this.a=pu(vu(this)));var i=this;return this.a.then((function(){$o(e),ur(mu(i.s,i.g,i.b,t,e,ar(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return du(this).then((function(){return t.v.rb})).o((function(){throw t.a=null,new T("network-request-failed")}))},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){z(this.h,(function(e){return e==t}))},(t=gu.prototype).get=function(t){return Se(this.a.getItem(t)).then((function(t){return t&&Lr(t)}))},t.set=function(t,e){return Se(this.a.setItem(t,Rr(e)))},t.U=function(t){return Se(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var bu,wu=[];function Iu(t,e,n){lt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Eu(t){this.a=t}function Tu(t){this.c=t,this.b=!1,this.a=[]}function _u(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Ae(Error("connection_unavailable"));var h=r?800:50,l="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ye((function(n,r){l?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),h),c={messageChannel:l,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(c),l.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[l.port2])):r(Error("connection_unavailable"))})).then((function(e){return Su(t,c),e})).o((function(e){throw Su(t,c),e}))}function Su(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),z(t.a,(function(t){return t==e}))}}function Au(){if(!Cu())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;yr()&&self?(this.v=function(){var t=yr()?self:null;if(j(wu,(function(n){n.b==t&&(e=n)})),!e){var e=new yu(t);wu.push(e)}return e}(),Iu(this.v,"keyChanged",(function(e,n){return Lu(t).then((function(e){return 0<e.length&&j(t.a,(function(t){t(e)})),{keyProcessed:G(e,n.key)}}))})),Iu(this.v,"ping",(function(){return Se(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?Se().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Se(null)}().then((function(e){(t.h=e)&&(t.g=new Tu(new Eu(e)),_u(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&G(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Nu(t){return new ye((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new ye((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Nu(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function ku(t){return t.i||(t.i=Nu(t)),t.i}function Du(t,e){var n=0;return new ye((function r(i,o){ku(t).then(e).then(i).o((function(e){if(!(3<++n))return ku(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Cu(){try{return!!s.indexedDB}catch(t){return!1}}function xu(t){return t.objectStore("firebaseLocalStorage")}function Ou(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Ru(t){return new ye((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Pu(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?_u(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Se()}function Lu(t){return ku(t).then((function(t){var e=xu(Ou(t,!1));return e.getAll?Ru(e.getAll()):new ye((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=cr(t.c,n),t.c=n}return r}))}function Mu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function $u(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Se().then((function(){if(Cu()){var t=Mr(),r="__sak"+t;return bu||(bu=new Au),(n=bu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){j(e.a,(function(e){e(t)}))})),t}))}function Fu(){this.a={},this.type="inMemory"}function Vu(){if(!function(){var t="Node"==br();if(!(t=Uu()||t&&tr.INTERNAL.node&&tr.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==br())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Uu()||tr.INTERNAL.node.localStorage,this.type="localStorage"}function Uu(){try{var t=s.localStorage,e=Mr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function ju(){this.type="nullStorage"}function qu(){if(!function(){var t="Node"==br();if(!(t=Bu()||t&&tr.INTERNAL.node&&tr.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==br())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Bu()||tr.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Bu(){try{var t=s.sessionStorage,e=Mr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Ku(){var t={};t.Browser=zu,t.Node=Wu,t.ReactNative=Xu,t.Worker=Qu,this.a=t[br()]}yu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];j(r,(function(e){i.push(Se().then((function(){return e(t.origin,t.data.data)})))})),ke(i).then((function(r){var i=[];j(r,(function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})})),j(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Eu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Tu.prototype.close=function(){for(;0<this.a.length;)Su(this,this.a[0]);this.b=!0},(t=Au.prototype).set=function(t,e){var n=this,r=!1;return Du(this,(function(e){return Ru((e=xu(Ou(e,!0))).get(t))})).then((function(i){return Du(n,(function(o){if(o=xu(Ou(o,!0)),i)return i.value=e,Ru(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Ru(o.add(s))}))})).then((function(){return n.c[t]=e,Pu(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return Du(this,(function(e){return Ru(xu(Ou(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return Du(this,(function(r){return n=!0,e.b++,Ru(xu(Ou(r,!0)).delete(t))})).then((function(){return delete e.c[t],Pu(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=Lu(t).then((function(e){0<e.length&&j(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Mu(t),e()}(this),this.a.push(t)},t.ia=function(t){z(this.a,(function(e){return e==t})),0==this.a.length&&Mu(this)},(t=$u.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){z(this.a,(function(e){return e==t}))},(t=Fu.prototype).get=function(t){return Se(this.a[t])},t.set=function(t,e){return this.a[t]=e,Se()},t.U=function(t){return delete this.a[t],Se()},t.ca=function(){},t.ia=function(){},(t=Vu.prototype).get=function(t){var e=this;return Se().then((function(){return Lr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Se().then((function(){var r=Rr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},t.ca=function(t){s.window&&on(s.window,"storage",t)},t.ia=function(t){s.window&&un(s.window,"storage",t)},(t=ju.prototype).get=function(){return Se(null)},t.set=function(){return Se()},t.U=function(){return Se()},t.ca=function(){},t.ia=function(){},(t=qu.prototype).get=function(t){var e=this;return Se().then((function(){return Lr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Se().then((function(){var r=Rr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Gu,Hu,zu={F:Vu,bb:qu},Wu={F:Vu,bb:qu},Xu={F:gu,bb:ju},Qu={F:Vu,bb:ju},Yu={rd:"local",NONE:"none",td:"session"};function Ju(){var t=!($r(Ar())||!gr()),e=Or(),n=kr();this.m=t,this.h=e,this.l=n,this.a={},Gu||(Gu=new Ku),t=Gu;try{this.g=!sr()&&qr()||!s.indexedDB?new t.a.F:new $u(yr()?new Fu:new t.a.F)}catch(t){this.g=new Fu,this.h=!0}try{this.i=new t.a.bb}catch(t){this.i=new Fu}this.v=new Fu,this.f=b(this.Yb,this),this.b={}}function Zu(){return Hu||(Hu=new Ju),Hu}function tc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function ec(t,e){return"firebase:"+t.name+(e?":"+e:"")}function nc(t,e,n){return n=ec(e,n),"local"==e.F&&(t.b[n]=null),tc(t,e.F).U(n)}function rc(t){t.c&&(clearInterval(t.c),t.c=null)}function ic(t){this.a=t,this.b=Zu()}(t=Ju.prototype).get=function(t,e){return tc(this,t.F).get(ec(t,e))},t.set=function(t,e,n){var r=ec(t,n),i=this,o=tc(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=ec(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),lt(this.a)&&(tc(this,"local").ca(this.f),this.h||(sr()||!qr())&&s.indexedDB||!this.l||function(t){rc(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new ze({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=ec(t,e),this.a[t]&&(z(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),lt(this.a)&&(tc(this,"local").ia(this.f),rc(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?tc(this,"local").ia(this.f):rc(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.mb(e))},Gt&&ie&&10==ie&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else j(t,b(this.mb,this))},t.mb=function(t){this.a[t]&&j(this.a[t],(function(t){t()}))};var oc,sc={name:"authEvent",F:"local"};function ac(){this.a=Zu()}function uc(t,e){this.b=cc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===oc&&(oc=s.Int32Array?new Int32Array(mc):mc),this.reset()}I(uc,(function(){this.b=-1}));for(var cc=64,hc=cc-1,lc=[],fc=0;fc<hc;fc++)lc[fc]=0;var pc=W(128,lc);function dc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],l=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&h^~c&l)+(0|oc[e])|0)+(0|n[e])|0)|0,o=l,l=h,h=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+l|0,t.a[7]=t.a[7]+o|0}function vc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(dc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(dc(t),i=0)}}t.c=i,t.g+=n}uc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):X(this.h)};var mc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function gc(){uc.call(this,8,yc)}I(gc,uc);var yc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function bc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new ac,this.g=new ic(this.h),this.f=null,this.b=[],this.a=this.c=null}function wc(t){return new T("invalid-cordova-configuration",t)}function Ic(t){var e=new gc;vc(e,t),t=[];var n=8*e.g;56>e.c?vc(e,pc,56-e.c):vc(e,pc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(dc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return B(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function Ec(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Tc(t){return t.f||(t.f=t.ma().then((function(){return new ye((function(e){t.Ea((function n(r){return e(r),t.Sa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),_c(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=no(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Lr(Pn(o=Ln(i),"firebaseError")||null))?_(o):null)?new Fo(r.c,r.b,null,null,o,null,r.T()):new Fo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Ec(t,i)}))}var n=new Fo("unknown",null,null,null,new T("no-auth-event")),r=!1,i=En(500).then((function(){return _c(t).then((function(){r||Ec(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Nr("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},qo||(qo=new Uo),function(t){var e=qo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Nr("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function _c(t){var e=null;return function(t){return t.b.get(sc,t.a).then((function(t){return Vo(t)}))}(t.g).then((function(n){return e=n,nc((n=t.g).b,sc,n.a)})).then((function(){return e}))}function Sc(t){this.a=t,this.b=Zu()}(t=bc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(mr(void 0)?vr().then((function(){return new ye((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ae(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Nr("universalLinks.subscribe",s))throw wc("cordova-universal-links-plugin-fix is not installed");if(void 0===Nr("BuildInfo.packageName",s))throw wc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Nr("cordova.plugins.browsertab.openUrl",s))throw wc("cordova-plugin-browsertab is not installed");if("function"!=typeof Nr("cordova.InAppBrowser.open",s))throw wc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},t.Ob=function(t,e){return e(new T("operation-not-supported-in-this-environment")),Se()},t.Mb=function(){return Ae(new T("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return Ae(new T("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,h=null;return this.c=Se().then((function(){return $o(e),Tc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Fo(e,r,null,o,new T("no-auth-event"),null,i),u=Nr("BuildInfo.packageName",s);if("string"!=typeof u)throw new T("invalid-cordova-configuration");var c=Nr("BuildInfo.displayName",s),h={};if(Ar().toLowerCase().match(/iphone|ipad|ipod/))h.ibi=u;else{if(!Ar().toLowerCase().match(/android/))return Ae(new T("operation-not-supported-in-this-environment"));h.apn=u}c&&(h.appDisplayName=c),o=Ic(o),h.sessionId=o;var l=mu(t.v,t.i,t.l,e,n,null,r,t.m,h,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(sc,a.w(),e)})).then((function(){var e=Nr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new T("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Nr("cordova.plugins.browsertab.openUrl",s)))throw new T("invalid-cordova-configuration");n(l)}else{if("function"!=typeof(n=Nr("cordova.InAppBrowser.open",s)))throw new T("invalid-cordova-configuration");e=Ar(),t.a=n(l,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new ye((function(t,e){u=function(){var e=Nr("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=En(2e3).then((function(){e(new T("redirect-cancelled-by-user"))})))},h=function(){Ur()&&c()},o.addEventListener("resume",c,!1),Ar().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",h,!1)})).o((function(t){return _c(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),h&&o.removeEventListener("visibilitychange",h,!1),a&&a.cancel(),u&&i.Sa(u),i.c=null}))},t.Ea=function(t){this.b.push(t),Tc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Fo("unknown",null,null,null,new T("no-auth-event")),t(e))}))},t.Sa=function(t){z(this.b,(function(e){return e==t}))};var Ac={name:"pendingRedirect",F:"session"};function Nc(t){return nc(t.b,Ac,t.a)}function kc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Bc,this.C=new Wc,this.g=new Sc(jc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Dc(this.D,this.v,this.m,S,this.J)}function Dc(t,e,n,r,i){var o=tr.SDK_VERSION||null;return mr()?new bc(t,e,n,o,r,i):new fu(t,e,n,o,r,i)}function Cc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function xc(t){t.a.Xb()&&Cc(t).o((function(e){var n=new Fo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));$c(e)&&t.s(n)})),t.a.Tb()||Kc(t.b)}function Oc(t,e){G(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Ac,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Nc(t.g).then((function(){Cc(t).o((function(e){var n=new Fo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));$c(e)&&t.s(n)}))})):xc(t)})).o((function(){xc(t)}))}function Rc(t,e){z(t.h,(function(t){return t==e}))}kc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Dc(this.D,this.v,this.m,null,this.J),this.i={}},kc.prototype.s=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Kc(this.b),e};var Pc=new Vr(2e3,1e4),Lc=new Vr(3e4,6e4);function Mc(t,e,n,r,i,o,s){return t.a.Mb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function $c(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Fc(t,e,n,r,i){var o;return function(t){return t.b.set(Ac,"pending",t.a)}(t.g).then((function(){return t.a.Nb(e,n,r,i).o((function(e){if($c(e))throw new T("operation-not-supported-in-this-environment");return o=e,Nc(t.g).then((function(){throw o}))})).then((function(){return t.a.$b()?new ye((function(){})):Nc(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function Vc(t,e,n,r,i){return t.a.Ob(r,(function(t){e.na(n,null,t,i)}),Pc.get())}kc.prototype.qa=function(){return this.b.qa()};var Uc={};function jc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function qc(t,e,n,r){var i=jc(e,n,r);return Uc[i]||(Uc[i]=new kc(t,e,n,r)),Uc[i]}function Bc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Kc(t){t.g||(t.g=!0,zc(t,!1,null,null))}function Gc(t){t.g&&!t.i&&zc(t,!1,null,null)}function Hc(t,e){if(t.b=function(){return Se(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function zc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ae(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Hc(t,n):Hc(t,{user:null}),t.f=[],t.c=[]}function Wc(){}function Xc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function Qc(t,e){this.a=e,zr(this,"verificationId",t)}function Yc(t,e,n,r){return new Po(t).fb(e,n).then((function(t){return new Qc(t,r)}))}function Jc(t){var e=qi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Wr(this,{token:t,expirationTime:jr(1e3*e.exp),authTime:jr(1e3*e.auth_time),issuedAtTime:jr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Zc(t,e,n){var r=e&&e[eh];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ft(e),this.g=n,this.c=new ro(null,r),this.b=[];var i=this;j(e[th]||[],(function(t){(t=Jr(t))&&i.b.push(t)})),zr(this,"auth",this.a),zr(this,"session",this.c),zr(this,"hints",this.b)}Bc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Bc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(zc(this,!0,null,t.a),Se()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){zc(t,a,e,null)})).o((function(e){zc(t,a,null,e)}))}(this,t,e):Ae(new T("invalid-auth-event")):(zc(this,!1,null,null),Se())}else Ae(new T("invalid-auth-event"))},Bc.prototype.qa=function(){var t=this;return new ye((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new T("timeout");t.a&&t.a.cancel(),t.a=En(Lc.get()).then((function(){t.b||(t.g=!0,zc(t,!0,null,e))}))}(t))}))},Wc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Se()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):Ae(new T("invalid-auth-event"))}else Ae(new T("invalid-auth-event"))},Qc.prototype.confirm=function(t){return t=Lo(this.verificationId,t),this.a(t)};var th="mfaInfo",eh="mfaPendingCredential";function nh(t,e,n,r){T.call(this,"multi-factor-auth-required",r,e),this.b=new Zc(t,e,n),zr(this,"resolver",this.b)}function rh(t,e,n){if(t&&d(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new nh(e,t.serverResponse,n,t.message)}catch(t){}return null}function ih(){}function oh(t){zr(this,"factorId",t.fa),this.a=t}function sh(t){if(oh.call(this,t),this.a.fa!=Po.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ah(t,e){for(var n in He.call(this,t),e)this[n]=e[n]}function uh(t,e){this.a=t,this.b=[],this.c=b(this.yc,this),on(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&j(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ei]=t.uid),t.displayName&&(r[Zr]=t.displayName),t.enrollmentTime&&(r[ti]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ni]=t.phoneNumber);try{e=new ri(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),ch(this,n)}function ch(t,e){t.b=e,zr(t,"enrolledFactors",e)}function hh(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function lh(t,e){t.stop(),t.b=En(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=s.document,e=null;return Ur()||!t?Se():new ye((function(n){e=function(){Ur()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){lh(t,!0)})).o((function(e){t.i(e)&&lh(t,!1)}))}function fh(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function ph(t,e){void 0===e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function dh(t,e){t.b=ji(e[Qs]||""),t.a=e.refreshToken,ph(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function vh(t,e){return function(t,e){return new ye((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?oa(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(ru(t)):t.access_token&&t.refresh_token?n(t):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",zn(e).toString(),t.g,t.m.get()):r(new T("internal-error"))}))}(t.f,e).then((function(e){return t.b=ji(e.access_token),t.a=e.refresh_token,ph(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function mh(t,e){this.a=t||null,this.b=e||null,Wr(this,{lastSignInTime:jr(e||null),creationTime:jr(t||null)})}function gh(t,e,n,r,i,o){Wr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function yh(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=tr.SDK_VERSION?Sr(tr.SDK_VERSION):null;this.a=new Ws(this.l,D(S),r),t.emulatorConfig&&na(this.a,t.emulatorConfig),this.b=new fh(this.a),Ah(this,e[Qs]),dh(this.b,e),zr(this,"refreshToken",this.b.a),Dh(this,n||{}),gn.call(this),this.R=!1,this.s&&Dr()&&(this.i=qc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new hh((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.aa=b(this.hb,this);var i=this;this.ya=null,this.Oa=function(t){i.wa(t.h)},this.ja=null,this.Aa=function(t){na(i.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){Ih(i,t.f)},this.ba=null,this.O=new uh(this,n),zr(this,"multiFactor",this.O)}function bh(t,e){t.ja&&un(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&on(e,"languageCodeChanged",t.Oa)}function wh(t,e){t.X&&un(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&on(e,"emulatorConfigChanged",t.Aa)}function Ih(t,e){t.$=e,ia(t.a,tr.SDK_VERSION?Sr(tr.SDK_VERSION,t.$):null)}function Eh(t,e){t.ba&&un(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&on(e,"frameworkChanged",t.Ba)}function Th(t){try{return tr.app(t.m).auth()}catch(e){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function _h(t){t.D||t.u.b||(t.u.start(),un(t,"tokenChanged",t.aa),on(t,"tokenChanged",t.aa))}function Sh(t){un(t,"tokenChanged",t.aa),t.u.stop()}function Ah(t,e){t.za=e,zr(t,"_lat",e)}function Nh(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return ke(e).then((function(){return t}))}function kh(t){t.i&&!t.R&&(t.R=!0,Oc(t.i,t))}function Dh(t,e){Wr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new mh(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Ch(){}function xh(t){return Se().then((function(){if(t.D)throw new T("app-deleted")}))}function Oh(t){return B(t.providerData,(function(t){return t.providerId}))}function Rh(t,e){e&&(Ph(t,e.providerId),t.providerData.push(e))}function Ph(t,e){z(t.providerData,(function(t){return t.providerId==e}))}function Lh(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&zr(t,e,n)}function Mh(t,e){t!=e&&(Wr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?zr(t,"metadata",function(t){return new mh(t.a,t.b)}(e.metadata)):zr(t,"metadata",new mh),j(e.providerData,(function(e){Rh(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),zr(t,"refreshToken",t.b.a),ch(t.O,e.O.b))}function $h(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return eu(t.a,Oa,{idToken:e}).then(b(t.Kc,t))}(t,e).then((function(){return n||Lh(t,"isAnonymous",!1),e}))}))}function Fh(t,e){e[Qs]&&t.za!=e[Qs]&&(dh(t.b,e),t.dispatchEvent(new ah("tokenChanged")),Ah(t,e[Qs]),Lh(t,"refreshToken",t.b.a))}function Vh(t,e){return $h(t).then((function(){if(G(Oh(t),e))return Nh(t).then((function(){throw new T("provider-already-linked")}))}))}function Uh(t,e,n){return Xr({user:t,credential:Mo(e),additionalUserInfo:e=zi(e),operationType:n})}function jh(t,e){return Fh(t,e),t.reload().then((function(){return t}))}function qh(t,e,n,r,i){if(!Dr())return Ae(new T("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ae(t.h);var o=Hi(n.providerId),s=Mr(t.uid+":::"),a=null;(!Or()||gr())&&t.s&&n.isOAuthProvider&&(a=mu(t.s,t.l,t.m,e,n,null,s,tr.SDK_VERSION||null,null,null,t.tenantId));var u=fr(a,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Kh(t),!i)return t.I().then((function(){}))})).then((function(){return Mc(t.i,u,e,n,s,!!a,t.tenantId)})).then((function(){return new ye((function(n,r){t.na(e,null,new T("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=Vc(t.i,t,e,u,s)}))})).then((function(t){return u&&lr(u),t?Xr(t):null})).o((function(t){throw u&&lr(u),t})),Gh(t,r,i)}function Bh(t,e,n,r,i){if(!Dr())return Ae(new T("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ae(t.h);var o=null,s=Mr(t.uid+":::");return r=r().then((function(){if(Kh(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,Nh(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Wh,t.w(),e.a)),e})).then((function(){return Fc(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ha)return Xh(t.ha);throw o})).then((function(){if(o)throw o})),Gh(t,r,i)}function Kh(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new T("internal-error");throw new T("auth-domain-config-required")}}function Gh(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Ae(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new ah("userInvalidated")),t.h=e),e}))}(t,e,n);return t.J.push(r),r.oa((function(){H(t.J,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=rh(e.w(),Th(t),b(t.jc,t))),n||e}))}function Hh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Qs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new yh(e,n,t);return t.providerData&&j(t.providerData,(function(t){t&&Rh(i,Xr(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function zh(t){this.a=t,this.b=Zu()}Zc.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then((function(t){var n=ft(e.f);return delete n[th],delete n[eh],dt(n,t),e.g(n)}))},I(nh,T),ih.prototype.sb=function(t,e,n){return e.type==io?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),dt(n,{phoneVerificationInfo:Ro(t.a)}),eu(e,Ca,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return dt(n={mfaPendingCredential:n},{phoneVerificationInfo:Ro(t.a)}),eu(e,xa,n)}))}(this,t,e)},I(oh,ih),I(sh,oh),I(ah,He),(t=uh.prototype).yc=function(t){ch(this,function(t){var e=[];return j(t.mfaInfo||[],(function(t){(t=Jr(t))&&e.push(t)})),e}(t.hd))},t.Rb=function(){return this.a.I().then((function(t){return new ro(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then((function(n){return t.sb(r,n,e)})).then((function(t){return Fh(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return eu(r,tu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=q(e.b,(function(t){return t.uid!=n}));return ch(e,r),Fh(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:B(this.b,(function(t){return t.w()}))}}},hh.prototype.start=function(){this.a=this.c,lh(this,!0)},hh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},fh.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},fh.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ae(new T("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?vh(this,{grant_type:"refresh_token",refresh_token:this.a}):Se(null):Se({accessToken:this.b.toString(),refreshToken:this.a})},mh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(yh,gn),yh.prototype.wa=function(t){this.ya=t,ea(this.a,t)},yh.prototype.la=function(){return this.ya},yh.prototype.Ga=function(){return X(this.$)},yh.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},zr(yh.prototype,"providerId","firebase"),(t=yh.prototype).reload=function(){var t=this;return Gh(this,xh(this).then((function(){return $h(t).then((function(){return Nh(t)})).then(Ch)})))},t.oc=function(t){return this.I(t).then((function(t){return new Jc(t)}))},t.I=function(t){var e=this;return Gh(this,xh(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.za&&(Ah(e,t.accessToken),e.dispatchEvent(new ah("tokenChanged"))),Lh(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");Dh(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?B(t,(function(t){return new gh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Rh(this,e[n]);Lh(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ah("userReloaded",{hd:t}))},t.Lc=function(t){return Gr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return Gh(this,t.c(this.a,this.uid).then((function(t){return Fh(e,t),n=Uh(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Gr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return Gh(this,Vh(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Uh(e,t,"link"),jh(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Gh(this,Vh(this,"phone").then((function(){return Yc(Th(n),t,e,b(n.qb,n))})))},t.Mc=function(t,e){var n=this;return Gh(this,Se().then((function(){return Yc(Th(n),t,e,b(n.tb,n))})),!0)},t.Bb=function(t){var e=this;return Gh(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Fh(e,t),e.reload()})))},t.ed=function(t){var e=this;return Gh(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Fh(e,t),e.reload()})))},t.Cb=function(t){var e=this;return Gh(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Fh(e,t),e.reload()})))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return xh(this);var e=this;return Gh(this,this.I().then((function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Fh(e,t),Lh(e,"displayName",t.displayName||null),Lh(e,"photoURL",t.photoUrl||null),j(e.providerData,(function(t){"password"===t.providerId&&(zr(t,"displayName",e.displayName),zr(t,"photoURL",e.photoURL))})),Nh(e)})).then(Ch))},t.cd=function(t){var e=this;return Gh(this,$h(this).then((function(n){return G(Oh(e),t)?function(t,e,n){return eu(t,Na,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return j(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),j(Oh(e),(function(t){n[t]||Ph(e,t)})),n[Po.PROVIDER_ID]||zr(e,"phoneNumber",null),Nh(e)})):Nh(e).then((function(){throw new T("no-such-provider")}))})))},t.delete=function(){var t=this;return Gh(this,this.I().then((function(e){return eu(t.a,Aa,{idToken:e})})).then((function(){t.dispatchEvent(new ah("userDeleted"))}))).then((function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");bh(t,null),wh(t,null),Eh(t,null),t.J=[],t.D=!0,Sh(t),zr(t,"refreshToken",null),t.i&&Rc(t.i,t)}))},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?b(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?b(this.Lb,this):null},t.Ec=function(t){var e=this;return qh(this,"linkViaPopup",t,(function(){return Vh(e,t.providerId).then((function(){return Nh(e)}))}),!1)},t.Nc=function(t){return qh(this,"reauthViaPopup",t,(function(){return Se()}),!0)},t.Fc=function(t){var e=this;return Bh(this,"linkViaRedirect",t,(function(){return Vh(e,t.providerId)}),!1)},t.Oc=function(t){return Bh(this,"reauthViaRedirect",t,(function(){return Se()}),!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Gh(this,this.I().then((function(n){return ba(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Uh(i,t,"link"),jh(i,t)})).then((function(){return o})))},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Gh(this,Se().then((function(){return ao(wa(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Uh(i,t,"reauthenticate"),Fh(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.ub=function(t){var e=this,n=null;return Gh(this,this.I().then((function(e){return n=e,void 0===t||lt(t)?{}:$i(new Ni(t))})).then((function(t){return e.a.ub(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Eb=function(t,e){var n=this,r=null;return Gh(this,this.I().then((function(t){return r=t,void 0===e||lt(e)?{}:$i(new Ni(e))})).then((function(e){return n.a.Eb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Gh(this,t=ao(Se(t),n.uid).then((function(t){return e=Uh(n,t,"reauthenticate"),Fh(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&dt(t,this.metadata.w()),j(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),dt(t,this.O.w()),t};var Wh={name:"redirectUser",F:"session"};function Xh(t){return nc(t.b,Wh,t.a)}function Qh(t){this.a=t,this.b=Zu(),this.c=null,this.f=function(t){var e=Zh("local"),n=Zh("session"),r=Zh("none");return function(t,e,n){var r=ec(e,n),i=tc(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Lr(s.localStorage.getItem(r))}catch(t){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Jh,t.a).then((function(t){return t?Zh(t):e}))}))}))})).then((function(e){return t.c=e,Yh(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Zh("local"),this.a,b(this.g,this))}function Yh(t,e){var n,r=[];for(n in Yu)Yu[n]!==e&&r.push(nc(t.b,Zh(Yu[n]),t.a));return r.push(nc(t.b,Jh,t.a)),function(t){return new ye((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Ne(t[a],w(o,a),s);else e(i)}))}(r)}Qh.prototype.g=function(){var t=this,e=Zh("local");rl(this,(function(){return Se().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Yh(t,"local").then((function(){t.c=e}))}))}))};var Jh={name:"persistence",F:"session"};function Zh(t){return{name:"authUser",F:t}}function tl(t,e){return rl(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function el(t){return rl(t,(function(){return nc(t.b,t.c,t.a)}))}function nl(t,e,n){return rl(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Hh(t||{})}))}))}function rl(t,e){return t.f=t.f.then(e,e),t.f}function il(t){if(this.l=!1,zr(this,"settings",new Xc),zr(this,"app",t),!pl(this).options||!pl(this).options.apiKey)throw new T("invalid-api-key");t=tr.SDK_VERSION?Sr(tr.SDK_VERSION):null,this.a=new Ws(pl(this).options&&pl(this).options.apiKey,D(S),t),this.R=[],this.s=[],this.O=[],this.hb=tr.INTERNAL.createSubscribe(b(this.zc,this)),this.X=void 0,this.bc=tr.INTERNAL.createSubscribe(b(this.Ac,this)),ll(this,null),this.i=new Qh(pl(this).options.apiKey+":"+pl(this).name),this.D=new zh(pl(this).options.apiKey+":"+pl(this).name),this.$=gl(this,function(t){var e=pl(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Wh,t.a).then((function(t){return t&&e&&(t.authDomain=e),Hh(t||{})}))}(t.D,pl(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Xh(t.D)}));return gl(t,e)}(t).then((function(){return nl(t.i,e,t.P)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return tl(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:el(t.i)}))):null})).then((function(e){ll(t,e||null)}));return gl(t,n)}(this)),this.h=gl(this,function(t){return t.$.then((function(){return cl(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Zh("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.ya=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,function(t){var e=pl(t).options.authDomain,n=pl(t).options.apiKey;e&&Dr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=qc(e,n,pl(t).name,t.P),Oc(t.b,t),dl(t)&&kh(dl(t)),t.m){kh(t.m);var r=t.m;r.wa(t.la()),bh(r,t),Ih(r=t.m,t.J),Eh(r,t),na((r=t.m).a,t.P),wh(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,gn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Ln(this.P.url);t=Xr({protocol:t.c,host:t.a,port:t.g,options:Xr({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function ol(t){He.call(this,"languageCodeChanged"),this.h=t}function sl(t){He.call(this,"emulatorConfigChanged"),this.c=t}function al(t){He.call(this,"frameworkChanged"),this.f=t}function ul(t){return t.Oa||Ae(new T("auth-domain-config-required"))}function cl(t){if(!Dr())return Ae(new T("operation-not-supported-in-this-environment"));var e=ul(t).then((function(){return t.b.qa()})).then((function(t){return t?Xr(t):null}));return gl(t,e)}function hl(t,e){var n={};return n.apiKey=pl(t).options.apiKey,n.authDomain=pl(t).options.authDomain,n.appName=pl(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then((function(){return function(t,e,n,r){var i=new yh(t,e);return n&&(i.ha=n),r&&Ih(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return dl(t)&&e.uid==dl(t).uid?(Mh(dl(t),e),t.da(e)):(ll(t,e),kh(e),t.da(e))})).then((function(){ml(t)}))}function ll(t,e){dl(t)&&(function(t,e){z(t.S,(function(t){return t==e}))}(dl(t),t.Ba),un(dl(t),"tokenChanged",t.ya),un(dl(t),"userDeleted",t.za),un(dl(t),"userInvalidated",t.Aa),Sh(dl(t))),e&&(e.S.push(t.Ba),on(e,"tokenChanged",t.ya),on(e,"userDeleted",t.za),on(e,"userInvalidated",t.Aa),0<t.u&&_h(e)),zr(t,"currentUser",e),e&&(e.wa(t.la()),bh(e,t),Ih(e,t.J),Eh(e,t),na(e.a,t.P),wh(e,t))}function fl(t,e){var n=null,r=null;return gl(t,e.then((function(e){return n=Mo(e),r=zi(e),hl(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=rh(e.w(),t,b(t.kc,t))),n||e})).then((function(){return Xr({user:dl(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function pl(t){return t.app}function dl(t){return t.currentUser}function vl(t){return dl(t)&&dl(t)._lat||null}function ml(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](vl(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](vl(t))}}function gl(t,e){return t.R.push(e),e.oa((function(){H(t.R,e)})),e}function yl(){}function bl(){this.a={},this.b=1e12}Qh.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(r in Yu)if(Yu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(br()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Cu()&&"none"!==t)throw n;break;default:if(!kr()&&"none"!==t)throw n}}(t),rl(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Yh(n,t)})).then((function(){if(n.c=Zh(t),e)return n.b.set(n.c,e,n.a)})):Se()}))},I(il,gn),I(ol,He),I(sl,He),I(al,He),(t=il.prototype).xb=function(t){return gl(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,ea(this.a,this.aa),this.dispatchEvent(new ol(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=s.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&vr().then((function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,na(this.a,this.P),this.dispatchEvent(new sl(this.P))}},t.Gc=function(t){this.J.push(t),ia(this.a,tr.SDK_VERSION?Sr(tr.SDK_VERSION,this.J):null),this.dispatchEvent(new al(this.J))},t.Ga=function(){return X(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:pl(this).options.apiKey,authDomain:pl(this).options.authDomain,appName:pl(this).name,currentUser:dl(this)&&dl(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return fl(i,ya(i.a,o))}))},t.Xc=function(t){if(!Dr())return Ae(new T("operation-not-supported-in-this-environment"));var e=this,n=Hi(t.providerId),r=Mr(),i=null;(!Or()||gr())&&pl(this).options.authDomain&&t.isOAuthProvider&&(i=mu(pl(this).options.authDomain,pl(this).options.apiKey,pl(this).name,"signInViaPopup",t,null,r,tr.SDK_VERSION||null,null,null,this.T(),this.P));var o=fr(i,n&&n.ua,n&&n.ta);return gl(this,n=ul(this).then((function(n){return Mc(n,o,"signInViaPopup",t,r,!!i,e.T())})).then((function(){return new ye((function(t,n){e.na("signInViaPopup",null,new T("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=Vc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&lr(o),t?Xr(t):null})).o((function(t){throw o&&lr(o),t})))},t.Yc=function(t){if(!Dr())return Ae(new T("operation-not-supported-in-this-environment"));var e=this;return gl(this,ul(this).then((function(){return function(t){return rl(t,(function(){return t.b.set(Jh,t.c.F,t.a)}))}(e.i)})).then((function(){return Fc(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.qa=function(){var t=this;return cl(this).then((function(e){return t.b&&Gc(t.b.b),e})).o((function(e){throw t.b&&Gc(t.b.b),e}))},t.dd=function(t){if(!t)return Ae(new T("null-user"));if(this.S!=t.tenantId)return Ae(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=pl(this).options.apiKey,n.authDomain=pl(this).options.authDomain,n.appName=pl(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Qs]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new yh(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Ih(e,r),Mh(e,t),e}(t,n,e.D,e.Ga());return gl(this,this.h.then((function(){if(pl(e).options.apiKey!=t.l)return r.reload()})).then((function(){return dl(e)&&t.uid==dl(e).uid?(Mh(dl(e),t),e.da(t)):(ll(e,r),kh(r),e.da(r))})).then((function(){ml(e)})))},t.Ab=function(){var t=this;return gl(this,this.h.then((function(){return t.b&&Gc(t.b.b),dl(t)?(ll(t,null),el(t.i).then((function(){ml(t)}))):Se()})))},t.Zc=function(){var t=this;return nl(this.i,pl(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=dl(t)&&e){n=dl(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Mh(dl(t),e),dl(t).I();(dl(t)||e)&&(ll(t,e),e&&(kh(e),e.ha=t.D),t.b&&Oc(t.b,t),ml(t))}}))},t.da=function(t){return tl(this.i,t)},t.mc=function(){ml(this),this.da(dl(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then((function(){return fl(e,Se(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(dl(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),gl(t,t.h.then((function(){!t.l&&G(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(vl(t)))})))}(this,(function(){t.next(dl(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(dl(r)):"function"==typeof t.next&&t.next(dl(r))})),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(dl(r)):"function"==typeof t.next&&t.next(dl(r))})),this.bc(t,e,n)},t.nc=function(t){var e=this;return gl(this,this.h.then((function(){return dl(e)?dl(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return fl(e,eu(e.a,Xa,{token:t}))})).then((function(t){var n=t.user;return Lh(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return fl(n,eu(n.a,Qa,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return fl(n,eu(n.a,_a,{email:t,password:e}))}))},t.$a=function(t){var e=this;return this.h.then((function(){return fl(e,t.ka(e.a))}))},t.Sc=function(t){return Gr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then((function(){var e=dl(t);if(e&&e.isAnonymous){var n=Xr({providerId:null,isNewUser:!1});return Xr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return fl(t,t.a.zb()).then((function(e){var n=e.user;return Lh(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return dl(this)&&dl(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&dl(this)&&_h(dl(this))},t.Pc=function(t){var e=this;j(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&dl(this)&&Sh(dl(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),gl(this,this.h.then((function(){e.l||G(e.s,t)&&t(vl(e))})))},t.removeAuthTokenListener=function(t){z(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(Zh("local"),t.a,this.ja),this.b&&(Rc(this.b,this),Gc(this.b.b)),Promise.resolve()},t.hc=function(t){return gl(this,function(t,e){return eu(t,Sa,{identifier:e,continueUri:Cr()?ar():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!Co(t)},t.wb=function(t,e){var n=this;return gl(this,Se().then((function(){var t=new Ni(e);if(!t.c)throw new T("argument-error",Ci+" must be true when sending sign in link to email");return $i(t)})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.jd=function(t){return this.Ra(t).then((function(t){return t.data.email}))},t.nb=function(t,e){return gl(this,this.a.nb(t,e).then((function(){})))},t.Ra=function(t){return gl(this,this.a.Ra(t).then((function(t){return new ii(t)})))},t.jb=function(t){return gl(this,this.a.jb(t).then((function(){})))},t.vb=function(t,e){var n=this;return gl(this,Se().then((function(){return void 0===e||lt(e)?{}:$i(new Ni(e))})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.Wc=function(t,e){return gl(this,Yc(this,t,e,b(this.$a,this)))},t.Vc=function(t,e){var n=this;return gl(this,Se().then((function(){var r=e||ar(),i=Do(t,r);if(!(r=Co(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.$a(i)})))},yl.prototype.render=function(){},yl.prototype.reset=function(){},yl.prototype.getResponse=function(){},yl.prototype.execute=function(){};var wl=null;function Il(t,e){return(e=El(e))&&t.a[e]||null}function El(t){return(t=void 0===t?1e12:t)?t.toString():null}function Tl(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=se(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():on(this.f,"click",this.i)}function _l(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Sl(){}function Al(){}bl.prototype.render=function(t,e){return this.a[this.b.toString()]=new Tl(t,e),this.b++},bl.prototype.reset=function(t){var e=Il(this,t);t=El(t),e&&t&&(e.delete(),delete this.a[t])},bl.prototype.getResponse=function(t){return(t=Il(this,t))?t.getResponse():null},bl.prototype.execute=function(t){(t=Il(this,t))&&t.execute()},Tl.prototype.getResponse=function(){return _l(this),this.b},Tl.prototype.execute=function(){_l(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},Tl.prototype.delete=function(){_l(this),this.g=!0,clearTimeout(this.a),this.a=null,un(this.f,"click",this.i)},zr(Sl,"FACTOR_ID","phone"),Al.prototype.g=function(){return wl||(wl=new bl),Se(wl)},Al.prototype.c=function(){};var Nl=null;function kl(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Dl=new mt(wt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Cl=new Vr(3e4,6e4);kl.prototype.g=function(t){var e=this;return new ye((function(n,r){var i=setTimeout((function(){r(new T("network-request-failed"))}),Cl.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete s[e.a]},Se(js(_t(Dl,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},kl.prototype.c=function(){this.b--};var xl=null;function Ol(t,e,n,r,i,o,a){if(zr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,a?(Nl||(Nl=new Al),a=Nl):(xl||(xl=new kl),a=xl),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ll])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Ml],!s.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!se(e)||!this.i&&se(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ws(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Rl];this.a[Rl]=function(t){if($l(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Nr(c,s);"function"==typeof e&&e(t)}};var h=this.a[Pl];this.a[Pl]=function(){if($l(u,null),"function"==typeof h)h();else if("string"==typeof h){var t=Nr(h,s);"function"==typeof t&&t()}}}var Rl="callback",Pl="expired-callback",Ll="sitekey",Ml="size";function $l(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Fl(t,e){return t.h.push(e),e.oa((function(){H(t.h,e)})),e}function Vl(t){if(t.D)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function Ul(t,e,n){var r=!1;try{this.b=n||tr.app()}catch(t){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=tr.SDK_VERSION?Sr(tr.SDK_VERSION,o):null,Ol.call(this,n,t,e,(function(){try{var t=i.b.auth().la()}catch(e){t=null}return t}),o,D(S),r)}function jl(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=ql.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=ql[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new T("argument-error",t+" failed: "+r)}(t=Ol.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Fl(this,Se().then((function(){if(Cr()&&!yr())return vr();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,eu(t.s,Fa,{})})).then((function(e){t.a[Ll]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Vl(this);var t=this;return Fl(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=se(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!oe&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',jt(s.name),'"'),s.type){o.push(' type="',jt(s.type),'"');var a={};dt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=fe(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ae(o,s)),2<r.length&&le(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Vl(this);var t=this;return Fl(this,this.render().then((function(e){return new ye((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){z(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Vl(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Vl(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=se(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},I(Ul,Ol);var ql="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Bl(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Kl(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Gl(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:d}}function Hl(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function zl(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Wl(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function Xl(t,e){return d(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Ql(t){return d(t)&&"string"==typeof t.uid}function Yl(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Jl(t,e){for(var n in e){var r=e[n].name;t[r]=ef(r,t[n],e[n].j)}}function Zl(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w((function(t){return this[t]}),n),set:w((function(t,e,n,r){jl(t,[n],[r],!0),this[e]=r}),r,n,e[n].kb),enumerable:!0})}}function tf(t,e,n,r){t[e]=ef(e,n,r)}function ef(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return jl(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Jl(il.prototype,{jb:{name:"applyActionCode",j:[Bl("code")]},Ra:{name:"checkActionCode",j:[Bl("code")]},nb:{name:"confirmPasswordReset",j:[Bl("code"),Bl("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Bl("email"),Bl("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Bl("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Bl("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Yl(Gl(),Hl(),"nextOrObserver"),Hl("opt_error",!0),Hl("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Yl(Gl(),Hl(),"nextOrObserver"),Hl("opt_error",!0),Hl("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Bl("email"),Yl(Gl("opt_actionCodeSettings",!0),zl(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Bl("email"),Gl("actionCodeSettings")]},xb:{name:"setPersistence",j:[Bl("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Wl()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Wl()]},Tc:{name:"signInWithCustomToken",j:[Bl("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Bl("email"),Bl("password")]},Vc:{name:"signInWithEmailLink",j:[Bl("email"),Bl("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Bl("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Yl({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof yh)}},zl(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Bl(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Bl("url"),Gl("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Bl("code")]}}),Zl(il.prototype,{lc:{name:"languageCode",kb:Yl(Bl(),zl(),"languageCode")},ti:{name:"tenantId",kb:Yl(Bl(),zl(),"tenantId")}}),il.Persistence=Yu,il.Persistence.LOCAL="local",il.Persistence.SESSION="session",il.Persistence.NONE="none",Jl(yh.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Kl("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Kl("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Wl()]},qb:{name:"linkWithCredential",j:[Wl()]},Dc:{name:"linkWithPhoneNumber",j:[Bl("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Wl()]},tb:{name:"reauthenticateWithCredential",j:[Wl()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Bl("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Yl(Gl("opt_actionCodeSettings",!0),zl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Bl(null,!0)]},cd:{name:"unlink",j:[Bl("provider")]},Bb:{name:"updateEmail",j:[Bl("email")]},Cb:{name:"updatePassword",j:[Bl("password")]},ed:{name:"updatePhoneNumber",j:[Wl("phone")]},Db:{name:"updateProfile",j:[Gl("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Bl("email"),Yl(Gl("opt_actionCodeSettings",!0),zl(null,!0),"opt_actionCodeSettings",!0)]}}),Jl(bl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Jl(yl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Jl(ye.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Zl(Xc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Kl("appVerificationDisabledForTesting")}}),Jl(Qc.prototype,{confirm:{name:"confirm",j:[Bl("verificationCode")]}}),tf(so,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[po,No,Oo,ho],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Yl(Bl(),Gl(),"json")]),tf(ko,"credential",(function(t,e){return new Ao(t,e)}),[Bl("email"),Bl("password")]),Jl(Ao.prototype,{w:{name:"toJSON",j:[Bl(null,!0)]}}),Jl(yo.prototype,{Ca:{name:"addScope",j:[Bl("scope")]},Ka:{name:"setCustomParameters",j:[Gl("customOAuthParameters")]}}),tf(yo,"credential",bo,[Yl(Bl(),Gl(),"token")]),tf(ko,"credentialWithLink",Do,[Bl("email"),Bl("emailLink")]),Jl(wo.prototype,{Ca:{name:"addScope",j:[Bl("scope")]},Ka:{name:"setCustomParameters",j:[Gl("customOAuthParameters")]}}),tf(wo,"credential",Io,[Yl(Bl(),Gl(),"token")]),Jl(Eo.prototype,{Ca:{name:"addScope",j:[Bl("scope")]},Ka:{name:"setCustomParameters",j:[Gl("customOAuthParameters")]}}),tf(Eo,"credential",To,[Yl(Bl(),Yl(Gl(),zl()),"idToken"),Yl(Bl(),zl(),"accessToken",!0)]),Jl(_o.prototype,{Ka:{name:"setCustomParameters",j:[Gl("customOAuthParameters")]}}),tf(_o,"credential",So,[Yl(Bl(),Gl(),"token"),Bl("secret",!0)]),Jl(go.prototype,{Ca:{name:"addScope",j:[Bl("scope")]},credential:{name:"credential",j:[Yl(Bl(),Yl(Gl(),zl()),"optionsOrIdToken"),Yl(Bl(),zl(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Gl("customOAuthParameters")]}}),Jl(lo.prototype,{w:{name:"toJSON",j:[Bl(null,!0)]}}),Jl(uo.prototype,{w:{name:"toJSON",j:[Bl(null,!0)]}}),tf(Po,"credential",Lo,[Bl("verificationId"),Bl("verificationCode")]),Jl(Po.prototype,{fb:{name:"verifyPhoneNumber",j:[Yl(Bl(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Xl(t.session,io)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Xl(t.session,oo)&&Ql(t.multiFactorHint):t.session&&t.multiFactorUid?Xl(t.session,oo)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Jl(xo.prototype,{w:{name:"toJSON",j:[Bl(null,!0)]}}),Jl(T.prototype,{toJSON:{name:"toJSON",j:[Bl(null,!0)]}}),Jl(Ko.prototype,{toJSON:{name:"toJSON",j:[Bl(null,!0)]}}),Jl(Bo.prototype,{toJSON:{name:"toJSON",j:[Bl(null,!0)]}}),Jl(nh.prototype,{toJSON:{name:"toJSON",j:[Bl(null,!0)]}}),Jl(Zc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),Jl(uh.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},Bl("displayName",!0)]},bd:{name:"unenroll",j:[Yl({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Ql},Bl(),"multiFactorInfoIdentifier")]}}),Jl(Ul.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),tf(yi,"parseLink",Ai,[Bl("link")]),tf(Sl,"assertion",(function(t){return new sh(t)}),[Wl("phone")]),function(){if(void 0===tr||!tr.INTERNAL||!tr.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:si,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:oi,VERIFY_AND_CHANGE_EMAIL:ai,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:il,AuthCredential:so,Error:T};tf(t,"EmailAuthProvider",ko,[]),tf(t,"FacebookAuthProvider",yo,[]),tf(t,"GithubAuthProvider",wo,[]),tf(t,"GoogleAuthProvider",Eo,[]),tf(t,"TwitterAuthProvider",_o,[]),tf(t,"OAuthProvider",go,[Bl("providerId")]),tf(t,"SAMLAuthProvider",mo,[Bl("providerId")]),tf(t,"PhoneAuthProvider",Po,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof il)}}]),tf(t,"RecaptchaVerifier",Ul,[Yl(Bl(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Gl("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof tr.app.App)}}]),tf(t,"ActionCodeURL",yi,[]),tf(t,"PhoneMultiFactorGenerator",Sl,[]),tr.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new il(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),tr.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.nc,t),addAuthTokenListener:b(t.cc,t),removeAuthTokenListener:b(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),tr.registerVersion("@firebase/auth","0.16.5"),tr.INTERNAL.extendNamespace({User:yh})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});class yg extends vt{constructor(t){super(),dt(this,t,gg,mg,a,{})}}function bg(e){let n;return{c(){n=I("h1"),n.textContent="About Page"},m(t,e){b(t,n,e)},p:t,i:t,o:t,d(t){t&&w(n)}}}class wg extends vt{constructor(t){super(),dt(this,t,null,bg,a,{})}}function Ig(e){let n,r=Ne.title+"";return{c(){n=E(r)},m(t,e){b(t,n,e)},p:t,d(t){t&&w(n)}}}function Eg(e){let n,r=Ne.home+"";return{c(){n=E(r)},m(t,e){b(t,n,e)},p:t,d(t){t&&w(n)}}}function Tg(t){let e,n;return e=new ve({props:{href:"#/",$$slots:{default:[Eg]},$$scope:{ctx:t}}}),{c(){lt(e.$$.fragment)},m(t,r){ft(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){st(e.$$.fragment,t),n=!1},d(t){pt(e,t)}}}function _g(e){let n,r=Ne.chatNow+"";return{c(){n=E(r)},m(t,e){b(t,n,e)},p:t,d(t){t&&w(n)}}}function Sg(t){let e,n;return e=new ve({props:{href:"#/chat",$$slots:{default:[_g]},$$scope:{ctx:t}}}),{c(){lt(e.$$.fragment)},m(t,r){ft(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){st(e.$$.fragment,t),n=!1},d(t){pt(e,t)}}}function Ag(e){let n,r=Ne.aboutUs+"";return{c(){n=E(r)},m(t,e){b(t,n,e)},p:t,d(t){t&&w(n)}}}function Ng(t){let e,n;return e=new ve({props:{href:"#/about",$$slots:{default:[Ag]},$$scope:{ctx:t}}}),{c(){lt(e.$$.fragment)},m(t,r){ft(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){st(e.$$.fragment,t),n=!1},d(t){pt(e,t)}}}function kg(t){let e,n,r,i,o,s;return e=new fe({props:{$$slots:{default:[Tg]},$$scope:{ctx:t}}}),r=new fe({props:{$$slots:{default:[Sg]},$$scope:{ctx:t}}}),o=new fe({props:{$$slots:{default:[Ng]},$$scope:{ctx:t}}}),{c(){lt(e.$$.fragment),n=T(),lt(r.$$.fragment),i=T(),lt(o.$$.fragment)},m(t,a){ft(e,t,a),b(t,n,a),ft(r,t,a),b(t,i,a),ft(o,t,a),s=!0},p(t,n){const i={};8&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const s={};8&n&&(s.$$scope={dirty:n,ctx:t}),r.$set(s);const a={};8&n&&(a.$$scope={dirty:n,ctx:t}),o.$set(a)},i(t){s||(ot(e.$$.fragment,t),ot(r.$$.fragment,t),ot(o.$$.fragment,t),s=!0)},o(t){st(e.$$.fragment,t),st(r.$$.fragment,t),st(o.$$.fragment,t),s=!1},d(t){pt(e,t),t&&w(n),pt(r,t),t&&w(i),pt(o,t)}}}function Dg(t){let e,n;return e=new re({props:{class:"ml-auto",navbar:!0,$$slots:{default:[kg]},$$scope:{ctx:t}}}),{c(){lt(e.$$.fragment)},m(t,r){ft(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){st(e.$$.fragment,t),n=!1},d(t){pt(e,t)}}}function Cg(t){let e,n,r,i,o,s;return e=new ye({props:{href:"/",$$slots:{default:[Ig]},$$scope:{ctx:t}}}),r=new Ee({}),r.$on("click",t[2]),o=new Mt({props:{isOpen:t[0],navbar:!0,expand:"md",$$slots:{default:[Dg]},$$scope:{ctx:t}}}),o.$on("update",t[1]),{c(){lt(e.$$.fragment),n=T(),lt(r.$$.fragment),i=T(),lt(o.$$.fragment)},m(t,a){ft(e,t,a),b(t,n,a),ft(r,t,a),b(t,i,a),ft(o,t,a),s=!0},p(t,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const i={};1&n&&(i.isOpen=t[0]),8&n&&(i.$$scope={dirty:n,ctx:t}),o.$set(i)},i(t){s||(ot(e.$$.fragment,t),ot(r.$$.fragment,t),ot(o.$$.fragment,t),s=!0)},o(t){st(e.$$.fragment,t),st(r.$$.fragment,t),st(o.$$.fragment,t),s=!1},d(t){pt(e,t),t&&w(n),pt(r,t),t&&w(i),pt(o,t)}}}function xg(t){let e,n;return e=new ce({props:{color:"primary",dark:!0,expand:"md",$$slots:{default:[Cg]},$$scope:{ctx:t}}}),{c(){lt(e.$$.fragment)},m(t,r){ft(e,t,r),n=!0},p(t,[n]){const r={};9&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){st(e.$$.fragment,t),n=!1},d(t){pt(e,t)}}}function Og(t,e,n){let r=!1;return[r,function(t){n(0,r=t.detail.isOpen)},()=>n(0,r=!r)]}class Rg extends vt{constructor(t){super(),dt(this,t,Og,xg,a,{})}}function Pg(e){let n,r,i=Ce.header+"";return{c(){r=_(),n=new C(r)},m(t,e){n.m(i,t,e),b(t,r,e)},p:t,i:t,o:t,d(t){t&&w(r),t&&n.d()}}}function Lg(t,e,n){let{params:r}=e;return console.log(`404: '${r.wild}'`),t.$$set=t=>{"params"in t&&n(0,r=t.params)},[r]}class Mg extends vt{constructor(t){super(),dt(this,t,Lg,Pg,a,{params:0})}}function $g(e){let n,r,i,o,s;return r=new Rg({}),o=new At({props:{routes:e[0]}}),{c(){n=I("nav"),lt(r.$$.fragment),i=T(),lt(o.$$.fragment)},m(t,e){b(t,n,e),ft(r,n,null),b(t,i,e),ft(o,t,e),s=!0},p:t,i(t){s||(ot(r.$$.fragment,t),ot(o.$$.fragment,t),s=!0)},o(t){st(r.$$.fragment,t),st(o.$$.fragment,t),s=!1},d(t){t&&w(n),pt(r),t&&w(i),pt(o,t)}}}function Fg(t){return[{"/":$e,"/chat":yg,"/about":wg,"*":Mg}]}return new class extends vt{constructor(t){super(),dt(this,t,Fg,$g,a,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
