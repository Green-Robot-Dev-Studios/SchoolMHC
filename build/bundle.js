var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(r)}function s(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function c(t,e,n,r){if(t){const i=l(t,e,n,r);return t[0](i)}}function l(t,e,r,i){return t[1]&&i?n(r.ctx.slice(),t[1](i(e))):r.ctx}function h(t,e,n,r,i,o,s){const a=function(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}(e,r,i,o);if(a){const i=l(e,n,r,s);t.p(i,a)}}function f(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function d(t,e){const n={};e=new Set(e);for(const r in t)e.has(r)||"$"===r[0]||(n[r]=t[r]);return n}const p="undefined"!=typeof window;let m=p?()=>window.performance.now():()=>Date.now(),g=p?t=>requestAnimationFrame(t):t;const v=new Set;function y(t){v.forEach((e=>{e.c(t)||(v.delete(e),e.f())})),0!==v.size&&g(y)}function b(t,e){t.appendChild(e)}function w(t,e,n){t.insertBefore(e,n||null)}function I(t){t.parentNode.removeChild(t)}function $(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function E(t){return document.createElement(t)}function T(t){return document.createTextNode(t)}function _(){return T(" ")}function S(){return T("")}function k(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function A(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function N(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)null==e[r]?t.removeAttribute(r):"style"===r?t.style.cssText=e[r]:"__value"===r?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:A(t,r,e[r])}function x(t){return""===t?null:+t}function D(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function C(t,e){t.value=null==e?"":e}function O(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function R(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}}function P(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];r.selected=~e.indexOf(r.__value)}}function L(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}class M{constructor(t=null){this.a=t,this.e=this.n=null}m(t,e,n=null){this.e||(this.e=E(e.nodeName),this.t=e,this.h(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)w(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(I)}}const F=new Set;let V,U=0;function j(t,e,n,r,i,o,s,a=0){const u=16.666/r;let c="{\n";for(let t=0;t<=1;t+=u){const r=e+(n-e)*o(t);c+=100*t+`%{${s(r,1-r)}}\n`}const l=c+`100% {${s(n,1-n)}}\n}`,h=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(l)}_${a}`,f=t.ownerDocument;F.add(f);const d=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(E("style")).sheet),p=f.__svelte_rules||(f.__svelte_rules={});p[h]||(p[h]=!0,d.insertRule(`@keyframes ${h} ${l}`,d.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${h} ${r}ms linear ${i}ms 1 both`,U+=1,h}function q(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-r.length;i&&(t.style.animation=r.join(", "),U-=i,U||g((()=>{U||(F.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),F.clear())})))}function B(t){V=t}function K(){if(!V)throw new Error("Function called outside component initialization");return V}function G(t){K().$$.on_mount.push(t)}function z(t){K().$$.after_update.push(t)}function W(t){K().$$.on_destroy.push(t)}function H(){const t=K();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const i=L(e,n);r.slice().forEach((e=>{e.call(t,i)}))}}}function X(t,e){K().$$.context.set(t,e)}function Q(t){return K().$$.context.get(t)}function Y(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}const J=[],Z=[],tt=[],et=[],nt=Promise.resolve();let rt=!1;function it(){rt||(rt=!0,nt.then(lt))}function ot(){return it(),nt}function st(t){tt.push(t)}function at(t){et.push(t)}let ut=!1;const ct=new Set;function lt(){if(!ut){ut=!0;do{for(let t=0;t<J.length;t+=1){const e=J[t];B(e),ht(e.$$)}for(B(null),J.length=0;Z.length;)Z.pop()();for(let t=0;t<tt.length;t+=1){const e=tt[t];ct.has(e)||(ct.add(e),e())}tt.length=0}while(J.length);for(;et.length;)et.pop()();rt=!1,ut=!1,ct.clear()}}function ht(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(st)}}let ft;function dt(t,e,n){t.dispatchEvent(L(`${e?"intro":"outro"}${n}`))}const pt=new Set;let mt;function gt(){mt={r:0,c:[],p:mt}}function vt(){mt.r||o(mt.c),mt=mt.p}function yt(t,e){t&&t.i&&(pt.delete(t),t.i(e))}function bt(t,e,n,r){if(t&&t.o){if(pt.has(t))return;pt.add(t),mt.c.push((()=>{pt.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const wt={duration:0};function It(n,r,i,a){let u=r(n,i),c=a?0:1,l=null,h=null,f=null;function d(){f&&q(n,f)}function p(t,e){const n=t.b-c;return e*=Math.abs(n),{a:c,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function b(r){const{delay:i=0,duration:s=300,easing:a=e,tick:b=t,css:w}=u||wt,I={start:m()+i,b:r};r||(I.group=mt,mt.r+=1),l||h?h=I:(w&&(d(),f=j(n,c,r,s,i,a,w)),r&&b(0,1),l=p(I,s),st((()=>dt(n,r,"start"))),function(t){let e;0===v.size&&g(y),new Promise((n=>{v.add(e={c:t,f:n})}))}((t=>{if(h&&t>h.start&&(l=p(h,s),h=null,dt(n,l.b,"start"),w&&(d(),f=j(n,c,l.b,l.duration,0,a,u.css))),l)if(t>=l.end)b(c=l.b,1-c),dt(n,l.b,"end"),h||(l.b?d():--l.group.r||o(l.group.c)),l=null;else if(t>=l.start){const e=t-l.start;c=l.a+l.d*a(e/l.duration),b(c,1-c)}return!(!l&&!h)})))}return{run(t){s(u)?(ft||(ft=Promise.resolve(),ft.then((()=>{ft=null}))),ft).then((()=>{u=u(),b(t)})):b(t)},end(){d(),l=h=null}}}function $t(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const s=t[o],a=e[o];if(a){for(const t in s)t in a||(r[t]=1);for(const t in a)i[t]||(n[t]=a[t],i[t]=1);t[o]=a}else for(const t in s)i[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function Et(t){return"object"==typeof t&&null!==t?t:{}}function Tt(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function _t(t){t&&t.c()}function St(t,e,n,i){const{fragment:a,on_mount:u,on_destroy:c,after_update:l}=t.$$;a&&a.m(e,n),i||st((()=>{const e=u.map(r).filter(s);c?c.push(...e):o(e),t.$$.on_mount=[]})),l.forEach(st)}function kt(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function At(e,n,r,s,a,u,c=[-1]){const l=V;B(e);const h=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:a,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:n.context||[]),callbacks:i(),dirty:c,skip_bound:!1};let f=!1;if(h.ctx=r?r(e,n.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return h.ctx&&a(h.ctx[t],h.ctx[t]=i)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](i),f&&function(t,e){-1===t.$$.dirty[0]&&(J.push(t),it(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],h.update(),f=!0,o(h.before_update),h.fragment=!!s&&s(h.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);h.fragment&&h.fragment.l(t),t.forEach(I)}else h.fragment&&h.fragment.c();n.intro&&yt(e.$$.fragment),St(e,n.target,n.anchor,n.customElement),lt()}B(l)}class Nt{$destroy(){kt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const xt=[];function Dt(t,e){return{subscribe:Ct(t,e).subscribe}}function Ct(e,n=t){let r;const i=[];function o(t){if(a(e,t)&&(e=t,r)){const t=!xt.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),xt.push(n,e)}if(t){for(let t=0;t<xt.length;t+=2)xt[t][0](xt[t+1]);xt.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(s,a=t){const u=[s,a];return i.push(u),1===i.length&&(r=n(o)||t),s(e),()=>{const t=i.indexOf(u);-1!==t&&i.splice(t,1),0===i.length&&(r(),r=null)}}}}function Ot(e,n,r){const i=!Array.isArray(e),a=i?[e]:e,c=n.length<2;return Dt(r,(e=>{let r=!1;const l=[];let h=0,f=t;const d=()=>{if(h)return;f();const r=n(i?l[0]:l,e);c?e(r):f=s(r)?r:t},p=a.map(((t,e)=>u(t,(t=>{l[e]=t,h&=~(1<<e),r&&d()}),(()=>{h|=1<<e}))));return r=!0,d(),function(){o(p),f()}}))}function Rt(t){let e,r,i;const o=[t[2]];var s=t[0];function a(t){let e={};for(let t=0;t<o.length;t+=1)e=n(e,o[t]);return{props:e}}return s&&(e=new s(a()),e.$on("routeEvent",t[7])),{c(){e&&_t(e.$$.fragment),r=S()},m(t,n){e&&St(e,t,n),w(t,r,n),i=!0},p(t,n){const i=4&n?$t(o,[Et(t[2])]):{};if(s!==(s=t[0])){if(e){gt();const t=e;bt(t.$$.fragment,1,0,(()=>{kt(t,1)})),vt()}s?(e=new s(a()),e.$on("routeEvent",t[7]),_t(e.$$.fragment),yt(e.$$.fragment,1),St(e,r.parentNode,r)):e=null}else s&&e.$set(i)},i(t){i||(e&&yt(e.$$.fragment,t),i=!0)},o(t){e&&bt(e.$$.fragment,t),i=!1},d(t){t&&I(r),e&&kt(e,t)}}}function Pt(t){let e,r,i;const o=[{params:t[1]},t[2]];var s=t[0];function a(t){let e={};for(let t=0;t<o.length;t+=1)e=n(e,o[t]);return{props:e}}return s&&(e=new s(a()),e.$on("routeEvent",t[6])),{c(){e&&_t(e.$$.fragment),r=S()},m(t,n){e&&St(e,t,n),w(t,r,n),i=!0},p(t,n){const i=6&n?$t(o,[2&n&&{params:t[1]},4&n&&Et(t[2])]):{};if(s!==(s=t[0])){if(e){gt();const t=e;bt(t.$$.fragment,1,0,(()=>{kt(t,1)})),vt()}s?(e=new s(a()),e.$on("routeEvent",t[6]),_t(e.$$.fragment),yt(e.$$.fragment,1),St(e,r.parentNode,r)):e=null}else s&&e.$set(i)},i(t){i||(e&&yt(e.$$.fragment,t),i=!0)},o(t){e&&bt(e.$$.fragment,t),i=!1},d(t){t&&I(r),e&&kt(e,t)}}}function Lt(t){let e,n,r,i;const o=[Pt,Rt],s=[];function a(t,e){return t[1]?0:1}return e=a(t),n=s[e]=o[e](t),{c(){n.c(),r=S()},m(t,n){s[e].m(t,n),w(t,r,n),i=!0},p(t,[i]){let u=e;e=a(t),e===u?s[e].p(t,i):(gt(),bt(s[u],1,1,(()=>{s[u]=null})),vt(),n=s[e],n?n.p(t,i):(n=s[e]=o[e](t),n.c()),yt(n,1),n.m(r.parentNode,r))},i(t){i||(yt(n),i=!0)},o(t){bt(n),i=!1},d(t){s[e].d(t),t&&I(r)}}}function Mt(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const Ft=Dt(null,(function(t){t(Mt());const e=()=>{t(Mt())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}));async function Vt(t){if(!t||t.length<1||"/"!=t.charAt(0)&&0!==t.indexOf("#/"))throw Error("Invalid parameter location");await ot(),history.replaceState({scrollX:window.scrollX,scrollY:window.scrollY},void 0,void 0),window.location.hash=("#"==t.charAt(0)?"":"#")+t}async function Ut(){await ot(),window.history.back()}function jt(t,e,n){let{routes:r={}}=e,{prefix:i=""}=e,{restoreScrollState:o=!1}=e;class s{constructor(t,e){if(!e||"function"!=typeof e&&("object"!=typeof e||!0!==e._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:n,keys:r}=function(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,o,s=[],a="",u=t.split("/");for(u[0]||u.shift();i=u.shift();)"*"===(n=i[0])?(s.push("wild"),a+="/(.*)"):":"===n?(r=i.indexOf("?",1),o=i.indexOf(".",1),s.push(i.substring(1,~r?r:~o?o:i.length)),a+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(a+=(~r?"?":"")+"\\"+i.substring(o))):a+="/"+i;return{keys:s,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}(t);this.path=t,"object"==typeof e&&!0===e._sveltesparouter?(this.component=e.component,this.conditions=e.conditions||[],this.userData=e.userData,this.props=e.props||{}):(this.component=()=>Promise.resolve(e),this.conditions=[],this.props={}),this._pattern=n,this._keys=r}match(t){if(i)if("string"==typeof i){if(!t.startsWith(i))return null;t=t.substr(i.length)||"/"}else if(i instanceof RegExp){const e=t.match(i);if(!e||!e[0])return null;t=t.substr(e[0].length)||"/"}const e=this._pattern.exec(t);if(null===e)return null;if(!1===this._keys)return e;const n={};let r=0;for(;r<this._keys.length;){try{n[this._keys[r]]=decodeURIComponent(e[r+1]||"")||null}catch(t){n[this._keys[r]]=null}r++}return n}async checkConditions(t){for(let e=0;e<this.conditions.length;e++)if(!await this.conditions[e](t))return!1;return!0}}const a=[];r instanceof Map?r.forEach(((t,e)=>{a.push(new s(e,t))})):Object.keys(r).forEach((t=>{a.push(new s(t,r[t]))}));let u=null,c=null,l={};const h=H();async function f(t,e){await ot(),h(t,e)}let d=null;o&&(window.addEventListener("popstate",(t=>{d=t.state&&t.state.scrollY?t.state:null})),z((()=>{d?window.scrollTo(d.scrollX,d.scrollY):window.scrollTo(0,0)})));let p=null,m=null;return Ft.subscribe((async t=>{p=t;let e=0;for(;e<a.length;){const r=a[e].match(t.location);if(!r){e++;continue}const i={route:a[e].path,location:t.location,querystring:t.querystring,userData:a[e].userData};if(!await a[e].checkConditions(i))return n(0,u=null),m=null,void f("conditionsFailed",i);f("routeLoading",Object.assign({},i));const o=a[e].component;if(m!=o){o.loading?(n(0,u=o.loading),m=o,n(1,c=o.loadingParams),n(2,l={}),f("routeLoaded",Object.assign({},i,{component:u,name:u.name}))):(n(0,u=null),m=null);const e=await o();if(t!=p)return;n(0,u=e&&e.default||e),m=o}return r&&"object"==typeof r&&Object.keys(r).length?n(1,c=r):n(1,c=null),n(2,l=a[e].props),void f("routeLoaded",Object.assign({},i,{component:u,name:u.name}))}n(0,u=null),m=null})),t.$$set=t=>{"routes"in t&&n(3,r=t.routes),"prefix"in t&&n(4,i=t.prefix),"restoreScrollState"in t&&n(5,o=t.restoreScrollState)},t.$$.update=()=>{32&t.$$.dirty&&(history.scrollRestoration=o?"manual":"auto")},[u,c,l,r,i,o,function(e){Y(t,e)},function(e){Y(t,e)}]}Ot(Ft,(t=>t.location)),Ot(Ft,(t=>t.querystring));class qt extends Nt{constructor(t){super(),At(this,t,jt,Lt,a,{routes:3,prefix:4,restoreScrollState:5})}}function Bt(t){document.body.style.paddingRight=t>0?`${t}px`:null}function Kt(){const t=function(){let t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t);const e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}(),e=document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")[0],n=e?parseInt(e.style.paddingRight||0,10):0;window&&document.body.clientWidth<window.innerWidth&&Bt(n+t)}function Gt(t,e,n){return!0===n||""===n?t?"col":`col-${e}`:"auto"===n?t?"col-auto":`col-${e}-auto`:t?`col-${n}`:`col-${e}-${n}`}function zt(t){let e="";if("string"==typeof t||"number"==typeof t)e+=t;else if("object"==typeof t)if(Array.isArray(t))e=t.map(zt).filter(Boolean).join(" ");else for(let n in t)t[n]&&(e&&(e+=" "),e+=n);return e}function Wt(...t){return t.map(zt).filter(Boolean).join(" ")}function Ht(t){const e=t-1;return e*e*e+1}function Xt(t,{delay:n=0,duration:r=400,easing:i=e}={}){const o=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:i,css:t=>"opacity: "+t*o}}function Qt(t,{delay:e=0,duration:n=400,easing:r=Ht}={}){const i=getComputedStyle(t),o=+i.opacity,s=parseFloat(i.height),a=parseFloat(i.paddingTop),u=parseFloat(i.paddingBottom),c=parseFloat(i.marginTop),l=parseFloat(i.marginBottom),h=parseFloat(i.borderTopWidth),f=parseFloat(i.borderBottomWidth);return{delay:e,duration:n,easing:r,css:t=>`overflow: hidden;opacity: ${Math.min(20*t,1)*o};height: ${t*s}px;padding-top: ${t*a}px;padding-bottom: ${t*u}px;margin-top: ${t*c}px;margin-bottom: ${t*l}px;border-top-width: ${t*h}px;border-bottom-width: ${t*f}px;`}}const Yt=["touchstart","click"];function Jt(t){let e,r,i,a,u,l;const f=t[15].default,d=c(f,t,t[14],null);let p=[{style:r=t[1]?void 0:"overflow: hidden;"},t[8],{class:t[7]}],m={};for(let t=0;t<p.length;t+=1)m=n(m,p[t]);return{c(){e=E("div"),d&&d.c(),N(e,m)},m(n,r){w(n,e,r),d&&d.m(e,null),a=!0,u||(l=[k(e,"introstart",t[16]),k(e,"introend",t[17]),k(e,"outrostart",t[18]),k(e,"outroend",t[19]),k(e,"introstart",(function(){s(t[2])&&t[2].apply(this,arguments)})),k(e,"introend",(function(){s(t[3])&&t[3].apply(this,arguments)})),k(e,"outrostart",(function(){s(t[4])&&t[4].apply(this,arguments)})),k(e,"outroend",(function(){s(t[5])&&t[5].apply(this,arguments)}))],u=!0)},p(n,i){t=n,d&&d.p&&(!a||16384&i)&&h(d,f,t,t[14],i,null,null),N(e,m=$t(p,[(!a||2&i&&r!==(r=t[1]?void 0:"overflow: hidden;"))&&{style:r},256&i&&t[8],(!a||128&i)&&{class:t[7]}]))},i(t){a||(yt(d,t),t&&st((()=>{i||(i=It(e,Qt,{},!0)),i.run(1)})),a=!0)},o(t){bt(d,t),t&&(i||(i=It(e,Qt,{},!1)),i.run(0)),a=!1},d(t){t&&I(e),d&&d.d(t),t&&i&&i.end(),u=!1,o(l)}}}function Zt(t){let e,n,r,i;st(t[20]);let o=t[0]&&Jt(t);return{c(){o&&o.c(),e=S()},m(s,a){o&&o.m(s,a),w(s,e,a),n=!0,r||(i=k(window,"resize",t[20]),r=!0)},p(t,[n]){t[0]?o?(o.p(t,n),1&n&&yt(o,1)):(o=Jt(t),o.c(),yt(o,1),o.m(e.parentNode,e)):o&&(gt(),bt(o,1,1,(()=>{o=null})),vt())},i(t){n||(yt(o),n=!0)},o(t){bt(o),n=!1},d(t){o&&o.d(t),t&&I(e),r=!1,i()}}}function te(t,e,r){let i;const o=["isOpen","class","navbar","onEntering","onEntered","onExiting","onExited","expand","toggler"];let s=d(e,o),{$$slots:a={},$$scope:u}=e;const c=H();let{isOpen:l=!1}=e,{class:h=""}=e,{navbar:p=!1}=e,{onEntering:m=(()=>c("opening"))}=e,{onEntered:g=(()=>c("open"))}=e,{onExiting:v=(()=>c("closing"))}=e,{onExited:y=(()=>c("close"))}=e,{expand:b=!1}=e,{toggler:w=null}=e;G((()=>((t,e)=>{let n;if("string"==typeof t&&"undefined"!=typeof window&&document&&document.createElement){let r=document.querySelectorAll(t);if(r.length||(r=document.querySelectorAll(`#${t}`)),!r.length)throw new Error(`The target '${t}' could not be identified in the dom, tip: check spelling`);Yt.forEach((t=>{r.forEach((n=>{n.addEventListener(t,e)}))})),n=()=>{Yt.forEach((t=>{r.forEach((n=>{n.removeEventListener(t,e)}))}))}}return()=>{"function"==typeof n&&(n(),n=void 0)}})(w,(()=>r(0,l=!l)))));let I=0,$=!1;const E={};function T(){c("update",l)}return E.xs=0,E.sm=576,E.md=768,E.lg=992,E.xl=1200,t.$$set=t=>{e=n(n({},e),f(t)),r(8,s=d(e,o)),"isOpen"in t&&r(0,l=t.isOpen),"class"in t&&r(9,h=t.class),"navbar"in t&&r(1,p=t.navbar),"onEntering"in t&&r(2,m=t.onEntering),"onEntered"in t&&r(3,g=t.onEntered),"onExiting"in t&&r(4,v=t.onExiting),"onExited"in t&&r(5,y=t.onExited),"expand"in t&&r(10,b=t.expand),"toggler"in t&&r(11,w=t.toggler),"$$scope"in t&&r(14,u=t.$$scope)},t.$$.update=()=>{514&t.$$.dirty&&r(7,i=Wt(h,p&&"navbar-collapse")),13379&t.$$.dirty&&p&&b&&(I>=E[b]&&!l?(r(0,l=!0),r(12,$=!0),T()):I<E[b]&&$&&(r(0,l=!1),r(12,$=!1),T()))},[l,p,m,g,v,y,I,i,s,h,b,w,$,E,u,a,function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(){r(6,I=window.innerWidth)}]}class ee extends Nt{constructor(t){super(),At(this,t,te,Zt,a,{isOpen:0,class:9,navbar:1,onEntering:2,onEntered:3,onExiting:4,onExited:5,expand:10,toggler:11})}}function ne(t){let e,r,i,o,s;const a=t[17].default,u=c(a,t,t[16],null),l=u||function(t){let e,n,r,i;const o=[oe,ie],s=[];function a(t,e){return t[0]?0:1}return e=a(t),n=s[e]=o[e](t),{c(){n.c(),r=S()},m(t,n){s[e].m(t,n),w(t,r,n),i=!0},p(t,i){let u=e;e=a(t),e===u?s[e].p(t,i):(gt(),bt(s[u],1,1,(()=>{s[u]=null})),vt(),n=s[e],n?n.p(t,i):(n=s[e]=o[e](t),n.c()),yt(n,1),n.m(r.parentNode,r))},i(t){i||(yt(n),i=!0)},o(t){bt(n),i=!1},d(t){s[e].d(t),t&&I(r)}}}(t);let f=[t[8],{class:t[6]},{disabled:t[1]},{value:t[4]},{"aria-label":r=t[5]||t[7]},{style:t[3]}],d={};for(let t=0;t<f.length;t+=1)d=n(d,f[t]);return{c(){e=E("button"),l&&l.c(),N(e,d)},m(n,r){w(n,e,r),l&&l.m(e,null),i=!0,o||(s=k(e,"click",t[19]),o=!0)},p(t,n){u?u.p&&(!i||65536&n)&&h(u,a,t,t[16],n,null,null):l&&l.p&&65537&n&&l.p(t,n),N(e,d=$t(f,[256&n&&t[8],(!i||64&n)&&{class:t[6]},(!i||2&n)&&{disabled:t[1]},(!i||16&n)&&{value:t[4]},(!i||160&n&&r!==(r=t[5]||t[7]))&&{"aria-label":r},(!i||8&n)&&{style:t[3]}]))},i(t){i||(yt(l,t),i=!0)},o(t){bt(l,t),i=!1},d(t){t&&I(e),l&&l.d(t),o=!1,s()}}}function re(t){let e,r,i,o,s,a,u;const c=[ae,se],l=[];function h(t,e){return t[0]?0:1}r=h(t),i=l[r]=c[r](t);let f=[t[8],{class:t[6]},{disabled:t[1]},{href:t[2]},{"aria-label":o=t[5]||t[7]},{style:t[3]}],d={};for(let t=0;t<f.length;t+=1)d=n(d,f[t]);return{c(){e=E("a"),i.c(),N(e,d)},m(n,i){w(n,e,i),l[r].m(e,null),s=!0,a||(u=k(e,"click",t[18]),a=!0)},p(t,n){let a=r;r=h(t),r===a?l[r].p(t,n):(gt(),bt(l[a],1,1,(()=>{l[a]=null})),vt(),i=l[r],i?i.p(t,n):(i=l[r]=c[r](t),i.c()),yt(i,1),i.m(e,null)),N(e,d=$t(f,[256&n&&t[8],(!s||64&n)&&{class:t[6]},(!s||2&n)&&{disabled:t[1]},(!s||4&n)&&{href:t[2]},(!s||160&n&&o!==(o=t[5]||t[7]))&&{"aria-label":o},(!s||8&n)&&{style:t[3]}]))},i(t){s||(yt(i),s=!0)},o(t){bt(i),s=!1},d(t){t&&I(e),l[r].d(),a=!1,u()}}}function ie(t){let e;const n=t[17].default,r=c(n,t,t[16],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||65536&i)&&h(r,n,t,t[16],i,null,null)},i(t){e||(yt(r,t),e=!0)},o(t){bt(r,t),e=!1},d(t){r&&r.d(t)}}}function oe(e){let n;return{c(){n=T(e[0])},m(t,e){w(t,n,e)},p(t,e){1&e&&D(n,t[0])},i:t,o:t,d(t){t&&I(n)}}}function se(t){let e;const n=t[17].default,r=c(n,t,t[16],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||65536&i)&&h(r,n,t,t[16],i,null,null)},i(t){e||(yt(r,t),e=!0)},o(t){bt(r,t),e=!1},d(t){r&&r.d(t)}}}function ae(e){let n;return{c(){n=T(e[0])},m(t,e){w(t,n,e)},p(t,e){1&e&&D(n,t[0])},i:t,o:t,d(t){t&&I(n)}}}function ue(t){let e,n,r,i;const o=[re,ne],s=[];function a(t,e){return t[2]?0:1}return e=a(t),n=s[e]=o[e](t),{c(){n.c(),r=S()},m(t,n){s[e].m(t,n),w(t,r,n),i=!0},p(t,[i]){let u=e;e=a(t),e===u?s[e].p(t,i):(gt(),bt(s[u],1,1,(()=>{s[u]=null})),vt(),n=s[e],n?n.p(t,i):(n=s[e]=o[e](t),n.c()),yt(n,1),n.m(r.parentNode,r))},i(t){i||(yt(n),i=!0)},o(t){bt(n),i=!1},d(t){s[e].d(t),t&&I(r)}}}function ce(t,e,r){let i,o,s;const a=["class","active","block","children","close","color","disabled","href","outline","size","style","value"];let u=d(e,a),{$$slots:c={},$$scope:l}=e,{class:h=""}=e,{active:p=!1}=e,{block:m=!1}=e,{children:g}=e,{close:v=!1}=e,{color:y="secondary"}=e,{disabled:b=!1}=e,{href:w=""}=e,{outline:I=!1}=e,{size:$=null}=e,{style:E=""}=e,{value:T=""}=e;return t.$$set=t=>{r(20,e=n(n({},e),f(t))),r(8,u=d(e,a)),"class"in t&&r(9,h=t.class),"active"in t&&r(10,p=t.active),"block"in t&&r(11,m=t.block),"children"in t&&r(0,g=t.children),"close"in t&&r(12,v=t.close),"color"in t&&r(13,y=t.color),"disabled"in t&&r(1,b=t.disabled),"href"in t&&r(2,w=t.href),"outline"in t&&r(14,I=t.outline),"size"in t&&r(15,$=t.size),"style"in t&&r(3,E=t.style),"value"in t&&r(4,T=t.value),"$$scope"in t&&r(16,l=t.$$scope)},t.$$.update=()=>{r(5,i=e["aria-label"]),65024&t.$$.dirty&&r(6,o=Wt(h,v?"btn-close":"btn",v||`btn${I?"-outline":""}-${y}`,!!$&&`btn-${$}`,!!m&&"d-block w-100",{active:p})),4096&t.$$.dirty&&r(7,s=v?"Close":null)},e=f(e),[g,b,w,E,T,i,o,s,u,h,p,m,v,y,I,$,l,c,function(e){Y(t,e)},function(e){Y(t,e)}]}class le extends Nt{constructor(t){super(),At(this,t,ce,ue,a,{class:9,active:10,block:11,children:0,close:12,color:13,disabled:1,href:2,outline:14,size:15,style:3,value:4})}}function he(t){let e,r,i,o;const s=t[9].default,a=c(s,t,t[8],null);let u=[t[2],{class:t[1]},{style:t[0]}],l={};for(let t=0;t<u.length;t+=1)l=n(l,u[t]);return{c(){e=E("div"),a&&a.c(),N(e,l)},m(n,s){w(n,e,s),a&&a.m(e,null),r=!0,i||(o=k(e,"click",t[10]),i=!0)},p(t,[n]){a&&a.p&&(!r||256&n)&&h(a,s,t,t[8],n,null,null),N(e,l=$t(u,[4&n&&t[2],(!r||2&n)&&{class:t[1]},(!r||1&n)&&{style:t[0]}]))},i(t){r||(yt(a,t),r=!0)},o(t){bt(a,t),r=!1},d(t){t&&I(e),a&&a.d(t),i=!1,o()}}}function fe(t,e,r){let i;const o=["class","body","color","inverse","outline","style"];let s=d(e,o),{$$slots:a={},$$scope:u}=e,{class:c=""}=e,{body:l=!1}=e,{color:h=""}=e,{inverse:p=!1}=e,{outline:m=!1}=e,{style:g=""}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(2,s=d(e,o)),"class"in t&&r(3,c=t.class),"body"in t&&r(4,l=t.body),"color"in t&&r(5,h=t.color),"inverse"in t&&r(6,p=t.inverse),"outline"in t&&r(7,m=t.outline),"style"in t&&r(0,g=t.style),"$$scope"in t&&r(8,u=t.$$scope)},t.$$.update=()=>{248&t.$$.dirty&&r(1,i=Wt(c,"card",!!p&&"text-white",!!l&&"card-body",!!h&&`${m?"border":"bg"}-${h}`))},[g,i,s,c,l,h,p,m,u,a,function(e){Y(t,e)}]}class de extends Nt{constructor(t){super(),At(this,t,fe,he,a,{class:3,body:4,color:5,inverse:6,outline:7,style:0})}}function pe(t){let e,r;const i=t[4].default,o=c(i,t,t[3],null);let s=[t[1],{class:t[0]}],a={};for(let t=0;t<s.length;t+=1)a=n(a,s[t]);return{c(){e=E("div"),o&&o.c(),N(e,a)},m(t,n){w(t,e,n),o&&o.m(e,null),r=!0},p(t,[n]){o&&o.p&&(!r||8&n)&&h(o,i,t,t[3],n,null,null),N(e,a=$t(s,[2&n&&t[1],(!r||1&n)&&{class:t[0]}]))},i(t){r||(yt(o,t),r=!0)},o(t){bt(o,t),r=!1},d(t){t&&I(e),o&&o.d(t)}}}function me(t,e,r){let i;const o=["class"];let s=d(e,o),{$$slots:a={},$$scope:u}=e,{class:c=""}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(1,s=d(e,o)),"class"in t&&r(2,c=t.class),"$$scope"in t&&r(3,u=t.$$scope)},t.$$.update=()=>{4&t.$$.dirty&&r(0,i=Wt(c,"card-body"))},[i,s,c,u,a]}class ge extends Nt{constructor(t){super(),At(this,t,me,pe,a,{class:2})}}function ve(t){let e,r;const i=t[4].default,o=c(i,t,t[3],null);let s=[t[1],{class:t[0]}],a={};for(let t=0;t<s.length;t+=1)a=n(a,s[t]);return{c(){e=E("div"),o&&o.c(),N(e,a)},m(t,n){w(t,e,n),o&&o.m(e,null),r=!0},p(t,[n]){o&&o.p&&(!r||8&n)&&h(o,i,t,t[3],n,null,null),N(e,a=$t(s,[2&n&&t[1],(!r||1&n)&&{class:t[0]}]))},i(t){r||(yt(o,t),r=!0)},o(t){bt(o,t),r=!1},d(t){t&&I(e),o&&o.d(t)}}}function ye(t,e,r){let i;const o=["class"];let s=d(e,o),{$$slots:a={},$$scope:u}=e,{class:c=""}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(1,s=d(e,o)),"class"in t&&r(2,c=t.class),"$$scope"in t&&r(3,u=t.$$scope)},t.$$.update=()=>{4&t.$$.dirty&&r(0,i=Wt(c,"card-footer"))},[i,s,c,u,a]}class be extends Nt{constructor(t){super(),At(this,t,ye,ve,a,{class:2})}}function we(t){let e,r,i;const o=t[10].default,s=c(o,t,t[9],null);let a=[t[1],{class:r=t[0].join(" ")}],u={};for(let t=0;t<a.length;t+=1)u=n(u,a[t]);return{c(){e=E("div"),s&&s.c(),N(e,u)},m(t,n){w(t,e,n),s&&s.m(e,null),i=!0},p(t,[n]){s&&s.p&&(!i||512&n)&&h(s,o,t,t[9],n,null,null),N(e,u=$t(a,[2&n&&t[1],{class:r}]))},i(t){i||(yt(s,t),i=!0)},o(t){bt(s,t),i=!1},d(t){t&&I(e),s&&s.d(t)}}}function Ie(t,e,r){const i=["class","xs","sm","md","lg","xl","xxl"];let o=d(e,i),{$$slots:s={},$$scope:a}=e,{class:u=""}=e,{xs:c}=e,{sm:l}=e,{md:h}=e,{lg:p}=e,{xl:m}=e,{xxl:g}=e;const v=[],y={xs:c,sm:l,md:h,lg:p,xl:m,xxl:g};return Object.keys(y).forEach((t=>{const e=y[t];if(!e&&""!==e)return;const n="xs"===t;if(function(t){const e=typeof t;return null!=t&&("object"==e||"function"==e)}(e)){const r=n?"-":`-${t}-`,i=Gt(n,t,e.size);(e.size||""===e.size)&&v.push(i),e.push&&v.push(`push${r}${e.push}`),e.pull&&v.push(`pull${r}${e.pull}`),e.offset&&v.push(`offset${r}${e.offset}`)}else v.push(Gt(n,t,e))})),v.length||v.push("col"),u&&v.push(u),t.$$set=t=>{e=n(n({},e),f(t)),r(1,o=d(e,i)),"class"in t&&r(2,u=t.class),"xs"in t&&r(3,c=t.xs),"sm"in t&&r(4,l=t.sm),"md"in t&&r(5,h=t.md),"lg"in t&&r(6,p=t.lg),"xl"in t&&r(7,m=t.xl),"xxl"in t&&r(8,g=t.xxl),"$$scope"in t&&r(9,a=t.$$scope)},[v,o,u,c,l,h,p,m,g,a,s]}class $e extends Nt{constructor(t){super(),At(this,t,Ie,we,a,{class:2,xs:3,sm:4,md:5,lg:6,xl:7,xxl:8})}}const Ee=t=>({}),Te=t=>({}),_e=t=>({}),Se=t=>({});function ke(t){let e,r;const i=t[9].default,o=c(i,t,t[8],null);let s=[{class:t[0]},t[7]],a={};for(let t=0;t<s.length;t+=1)a=n(a,s[t]);return{c(){e=E("td"),o&&o.c(),N(e,a)},m(t,n){w(t,e,n),o&&o.m(e,null),r=!0},p(t,n){o&&o.p&&(!r||256&n)&&h(o,i,t,t[8],n,null,null),N(e,a=$t(s,[(!r||1&n)&&{class:t[0]},128&n&&t[7]]))},i(t){r||(yt(o,t),r=!0)},o(t){bt(o,t),r=!1},d(t){t&&I(e),o&&o.d(t)}}}function Ae(t){let e,r,i,o=t[2]&&De(t);const s=t[9].header,a=c(s,t,t[8],Te);let u=[t[7]],l={};for(let t=0;t<u.length;t+=1)l=n(l,u[t]);return{c(){e=E("th"),o&&o.c(),r=_(),a&&a.c(),N(e,l)},m(t,n){w(t,e,n),o&&o.m(e,null),b(e,r),a&&a.m(e,null),i=!0},p(t,n){t[2]?o?o.p(t,n):(o=De(t),o.c(),o.m(e,r)):o&&(o.d(1),o=null),a&&a.p&&(!i||256&n)&&h(a,s,t,t[8],n,Ee,Te),N(e,l=$t(u,[128&n&&t[7]]))},i(t){i||(yt(a,t),i=!0)},o(t){bt(a,t),i=!1},d(t){t&&I(e),o&&o.d(),a&&a.d(t)}}}function Ne(t){let e,r,i,o=t[1]&&Ce(t);const s=t[9].footer,a=c(s,t,t[8],Se);let u=[t[7]],l={};for(let t=0;t<u.length;t+=1)l=n(l,u[t]);return{c(){e=E("th"),o&&o.c(),r=_(),a&&a.c(),N(e,l)},m(t,n){w(t,e,n),o&&o.m(e,null),b(e,r),a&&a.m(e,null),i=!0},p(t,n){t[1]?o?o.p(t,n):(o=Ce(t),o.c(),o.m(e,r)):o&&(o.d(1),o=null),a&&a.p&&(!i||256&n)&&h(a,s,t,t[8],n,_e,Se),N(e,l=$t(u,[128&n&&t[7]]))},i(t){i||(yt(a,t),i=!0)},o(t){bt(a,t),i=!1},d(t){t&&I(e),o&&o.d(),a&&a.d(t)}}}function xe(e){let n;return{c(){n=E("col"),O(n,"width",e[3])},m(t,e){w(t,n,e)},p(t,e){8&e&&O(n,"width",t[3])},i:t,o:t,d(t){t&&I(n)}}}function De(t){let e;return{c(){e=T(t[2])},m(t,n){w(t,e,n)},p(t,n){4&n&&D(e,t[2])},d(t){t&&I(e)}}}function Ce(t){let e;return{c(){e=T(t[1])},m(t,n){w(t,e,n)},p(t,n){2&n&&D(e,t[1])},d(t){t&&I(e)}}}function Oe(t){let e,n,r,i;const o=[xe,Ne,Ae,ke],s=[];return e=function(t,e){return t[4]?0:t[6]?1:t[5]?2:3}(t),n=s[e]=o[e](t),{c(){n.c(),r=S()},m(t,n){s[e].m(t,n),w(t,r,n),i=!0},p(t,[e]){n.p(t,e)},i(t){i||(yt(n),i=!0)},o(t){bt(n),i=!1},d(t){s[e].d(t),t&&I(r)}}}function Re(t,e,r){const i=["class","footer","header","width"];let o=d(e,i),{$$slots:s={},$$scope:a}=e,{class:u=""}=e,{footer:c}=e,{header:l}=e,{width:h}=e;const p=Q("colgroup"),m=Q("header"),g=Q("footer");return t.$$set=t=>{e=n(n({},e),f(t)),r(7,o=d(e,i)),"class"in t&&r(0,u=t.class),"footer"in t&&r(1,c=t.footer),"header"in t&&r(2,l=t.header),"width"in t&&r(3,h=t.width),"$$scope"in t&&r(8,a=t.$$scope)},[u,c,l,h,p,m,g,o,a,s]}class Pe extends Nt{constructor(t){super(),At(this,t,Re,Oe,a,{class:0,footer:1,header:2,width:3})}}function Le(t){let e,r;const i=t[10].default,o=c(i,t,t[9],null);let s=[t[1],{class:t[0]}],a={};for(let t=0;t<s.length;t+=1)a=n(a,s[t]);return{c(){e=E("div"),o&&o.c(),N(e,a)},m(t,n){w(t,e,n),o&&o.m(e,null),r=!0},p(t,[n]){o&&o.p&&(!r||512&n)&&h(o,i,t,t[9],n,null,null),N(e,a=$t(s,[2&n&&t[1],(!r||1&n)&&{class:t[0]}]))},i(t){r||(yt(o,t),r=!0)},o(t){bt(o,t),r=!1},d(t){t&&I(e),o&&o.d(t)}}}function Me(t,e,r){let i;const o=["class","sm","md","lg","xl","xxl","fluid"];let s=d(e,o),{$$slots:a={},$$scope:u}=e,{class:c=""}=e,{sm:l}=e,{md:h}=e,{lg:p}=e,{xl:m}=e,{xxl:g}=e,{fluid:v=!1}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(1,s=d(e,o)),"class"in t&&r(2,c=t.class),"sm"in t&&r(3,l=t.sm),"md"in t&&r(4,h=t.md),"lg"in t&&r(5,p=t.lg),"xl"in t&&r(6,m=t.xl),"xxl"in t&&r(7,g=t.xxl),"fluid"in t&&r(8,v=t.fluid),"$$scope"in t&&r(9,u=t.$$scope)},t.$$.update=()=>{508&t.$$.dirty&&r(0,i=Wt(c,{"container-sm":l,"container-md":h,"container-lg":p,"container-xl":m,"container-xxl":g,"container-fluid":v,container:!(l||h||p||m||g||v)}))},[i,s,c,l,h,p,m,g,v,u,a]}class Fe extends Nt{constructor(t){super(),At(this,t,Me,Le,a,{class:2,sm:3,md:4,lg:5,xl:6,xxl:7,fluid:8})}}const Ve=t=>({}),Ue=t=>({});function je(t){let e,r,i,s=[t[10],{class:t[8]},{id:t[9]},{type:"checkbox"},{disabled:t[2]},{name:t[4]},{__value:t[6]}],a={};for(let t=0;t<s.length;t+=1)a=n(a,s[t]);return{c(){e=E("input"),N(e,a)},m(n,o){w(n,e,o),e.checked=t[0],r||(i=[k(e,"blur",t[27]),k(e,"change",t[28]),k(e,"focus",t[29]),k(e,"input",t[30]),k(e,"change",t[34])],r=!0)},p(t,n){N(e,a=$t(s,[1024&n[0]&&t[10],256&n[0]&&{class:t[8]},512&n[0]&&{id:t[9]},{type:"checkbox"},4&n[0]&&{disabled:t[2]},16&n[0]&&{name:t[4]},64&n[0]&&{__value:t[6]}])),1&n[0]&&(e.checked=t[0])},d(t){t&&I(e),r=!1,o(i)}}}function qe(t){let e,r,i,s=[t[10],{class:t[8]},{id:t[9]},{type:"checkbox"},{disabled:t[2]},{name:t[4]},{__value:t[6]}],a={};for(let t=0;t<s.length;t+=1)a=n(a,s[t]);return{c(){e=E("input"),N(e,a)},m(n,o){w(n,e,o),e.checked=t[0],r||(i=[k(e,"blur",t[23]),k(e,"change",t[24]),k(e,"focus",t[25]),k(e,"input",t[26]),k(e,"change",t[33])],r=!0)},p(t,n){N(e,a=$t(s,[1024&n[0]&&t[10],256&n[0]&&{class:t[8]},512&n[0]&&{id:t[9]},{type:"checkbox"},4&n[0]&&{disabled:t[2]},16&n[0]&&{name:t[4]},64&n[0]&&{__value:t[6]}])),1&n[0]&&(e.checked=t[0])},d(t){t&&I(e),r=!1,o(i)}}}function Be(t){let e,r,i,s=[t[10],{class:t[8]},{id:t[9]},{type:"radio"},{disabled:t[2]},{name:t[4]},{__value:t[6]}],a={};for(let t=0;t<s.length;t+=1)a=n(a,s[t]);return{c(){e=E("input"),N(e,a),t[32][0].push(e)},m(n,o){w(n,e,o),e.checked=e.__value===t[1],r||(i=[k(e,"blur",t[19]),k(e,"change",t[20]),k(e,"focus",t[21]),k(e,"input",t[22]),k(e,"change",t[31])],r=!0)},p(t,n){N(e,a=$t(s,[1024&n[0]&&t[10],256&n[0]&&{class:t[8]},512&n[0]&&{id:t[9]},{type:"radio"},4&n[0]&&{disabled:t[2]},16&n[0]&&{name:t[4]},64&n[0]&&{__value:t[6]}])),2&n[0]&&(e.checked=e.__value===t[1])},d(n){n&&I(e),t[32][0].splice(t[32][0].indexOf(e),1),r=!1,o(i)}}}function Ke(t){let e,n;const r=t[18].label,i=c(r,t,t[17],Ue),o=i||function(t){let e;return{c(){e=T(t[3])},m(t,n){w(t,e,n)},p(t,n){8&n[0]&&D(e,t[3])},d(t){t&&I(e)}}}(t);return{c(){e=E("label"),o&&o.c(),A(e,"class","form-check-label"),A(e,"for",t[9])},m(t,r){w(t,e,r),o&&o.m(e,null),n=!0},p(t,s){i?i.p&&(!n||131072&s[0])&&h(i,r,t,t[17],s,Ve,Ue):o&&o.p&&8&s[0]&&o.p(t,s),(!n||512&s[0])&&A(e,"for",t[9])},i(t){n||(yt(o,t),n=!0)},o(t){bt(o,t),n=!1},d(t){t&&I(e),o&&o.d(t)}}}function Ge(t){let e,n,r;function i(t,e){return"radio"===t[5]?Be:"switch"===t[5]?qe:je}let o=i(t),s=o(t),a=t[3]&&Ke(t);return{c(){e=E("div"),s.c(),n=_(),a&&a.c(),A(e,"class",t[7])},m(t,i){w(t,e,i),s.m(e,null),b(e,n),a&&a.m(e,null),r=!0},p(t,u){o===(o=i(t))&&s?s.p(t,u):(s.d(1),s=o(t),s&&(s.c(),s.m(e,n))),t[3]?a?(a.p(t,u),8&u[0]&&yt(a,1)):(a=Ke(t),a.c(),yt(a,1),a.m(e,null)):a&&(gt(),bt(a,1,1,(()=>{a=null})),vt()),(!r||128&u[0])&&A(e,"class",t[7])},i(t){r||(yt(a),r=!0)},o(t){bt(a),r=!1},d(t){t&&I(e),s.d(),a&&a.d()}}}function ze(t,e,r){let i,o,s;const a=["class","size","checked","disabled","group","id","inline","invalid","label","name","type","valid","value"];let u=d(e,a),{$$slots:c={},$$scope:l}=e,{class:h=""}=e,{size:p=""}=e,{checked:m=!1}=e,{disabled:g=!1}=e,{group:v}=e,{id:y}=e,{inline:b=!1}=e,{invalid:w=!1}=e,{label:I=""}=e,{name:$=""}=e,{type:E="checkbox"}=e,{valid:T=!1}=e,{value:_}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(10,u=d(e,a)),"class"in t&&r(11,h=t.class),"size"in t&&r(12,p=t.size),"checked"in t&&r(0,m=t.checked),"disabled"in t&&r(2,g=t.disabled),"group"in t&&r(1,v=t.group),"id"in t&&r(13,y=t.id),"inline"in t&&r(14,b=t.inline),"invalid"in t&&r(15,w=t.invalid),"label"in t&&r(3,I=t.label),"name"in t&&r(4,$=t.name),"type"in t&&r(5,E=t.type),"valid"in t&&r(16,T=t.valid),"value"in t&&r(6,_=t.value),"$$scope"in t&&r(17,l=t.$$scope)},t.$$.update=()=>{22560&t.$$.dirty[0]&&r(7,i=Wt(h,"form-check",{"form-switch":"switch"===E,"form-check-inline":b,[`form-control-${p}`]:p})),98304&t.$$.dirty[0]&&r(8,o=Wt("form-check-input",{"is-invalid":w,"is-valid":T})),8200&t.$$.dirty[0]&&r(9,s=y||I)},[m,v,g,I,$,E,_,i,o,s,u,h,p,y,b,w,T,l,c,function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(){v=this.__value,r(1,v)},[[]],function(){m=this.checked,r(0,m)},function(){m=this.checked,r(0,m)}]}class We extends Nt{constructor(t){super(),At(this,t,ze,Ge,a,{class:11,size:12,checked:0,disabled:2,group:1,id:13,inline:14,invalid:15,label:3,name:4,type:5,valid:16,value:6},[-1,-1])}}function He(t){let e,r,i,s;const a=t[23].default,u=c(a,t,t[22],null);let l=[t[18],{class:t[15]},{name:t[10]},{disabled:t[6]},{readonly:t[12]}],f={};for(let t=0;t<l.length;t+=1)f=n(f,l[t]);return{c(){e=E("select"),u&&u.c(),N(e,f),void 0===t[4]&&st((()=>t[155].call(e)))},m(n,o){w(n,e,o),u&&u.m(e,null),f.multiple&&P(e,f.value),R(e,t[4]),r=!0,i||(s=[k(e,"blur",t[127]),k(e,"change",t[128]),k(e,"focus",t[129]),k(e,"input",t[130]),k(e,"change",t[155])],i=!0)},p(t,n){u&&u.p&&(!r||4194304&n[0])&&h(u,a,t,t[22],n,null,null),N(e,f=$t(l,[262144&n[0]&&t[18],(!r||32768&n[0])&&{class:t[15]},(!r||1024&n[0])&&{name:t[10]},(!r||64&n[0])&&{disabled:t[6]},(!r||4096&n[0])&&{readonly:t[12]}])),300096&n[0]&&f.multiple&&P(e,f.value),16&n[0]&&R(e,t[4])},i(t){r||(yt(u,t),r=!0)},o(t){bt(u,t),r=!1},d(t){t&&I(e),u&&u.d(t),i=!1,o(s)}}}function Xe(e){let r,i,s,a=[e[18],{class:e[15]},{disabled:e[6]},{name:e[10]},{placeholder:e[11]},{readOnly:e[12]}],u={};for(let t=0;t<a.length;t+=1)u=n(u,a[t]);return{c(){r=E("textarea"),N(r,u)},m(t,n){w(t,r,n),C(r,e[4]),i||(s=[k(r,"blur",e[120]),k(r,"change",e[121]),k(r,"focus",e[122]),k(r,"input",e[123]),k(r,"keydown",e[124]),k(r,"keypress",e[125]),k(r,"keyup",e[126]),k(r,"input",e[154])],i=!0)},p(t,e){N(r,u=$t(a,[262144&e[0]&&t[18],32768&e[0]&&{class:t[15]},64&e[0]&&{disabled:t[6]},1024&e[0]&&{name:t[10]},2048&e[0]&&{placeholder:t[11]},4096&e[0]&&{readOnly:t[12]}])),16&e[0]&&C(r,t[4])},i:t,o:t,d(t){t&&I(r),i=!1,o(s)}}}function Qe(t){let e,n,r,i;const o=[fn,hn,ln,cn,un,an,sn,on,rn,nn,en,tn,Ze,Je,Ye],s=[];function a(t,e){return"text"===t[13]?0:"password"===t[13]?1:"color"===t[13]?2:"email"===t[13]?3:"file"===t[13]?4:"checkbox"===t[13]||"radio"===t[13]||"switch"===t[13]?5:"url"===t[13]?6:"number"===t[13]?7:"date"===t[13]?8:"time"===t[13]?9:"datetime"===t[13]?10:"color"===t[13]?11:"range"===t[13]?12:"search"===t[13]?13:14}return e=a(t),n=s[e]=o[e](t),{c(){n.c(),r=S()},m(t,n){s[e].m(t,n),w(t,r,n),i=!0},p(t,i){let u=e;e=a(t),e===u?s[e].p(t,i):(gt(),bt(s[u],1,1,(()=>{s[u]=null})),vt(),n=s[e],n?n.p(t,i):(n=s[e]=o[e](t),n.c()),yt(n,1),n.m(r.parentNode,r))},i(t){i||(yt(n),i=!0)},o(t){bt(n),i=!1},d(t){s[e].d(t),t&&I(r)}}}function Ye(e){let r,i,s,a=[e[18],{type:e[13]},{readOnly:e[12]},{class:e[15]},{name:e[10]},{disabled:e[6]},{placeholder:e[11]},{value:e[4]}],u={};for(let t=0;t<a.length;t+=1)u=n(u,a[t]);return{c(){r=E("input"),N(r,u)},m(t,n){w(t,r,n),r.value=u.value,i||(s=[k(r,"blur",e[115]),k(r,"change",e[17]),k(r,"focus",e[116]),k(r,"input",e[17]),k(r,"keydown",e[117]),k(r,"keypress",e[118]),k(r,"keyup",e[119])],i=!0)},p(t,e){N(r,u=$t(a,[262144&e[0]&&t[18],8192&e[0]&&{type:t[13]},4096&e[0]&&{readOnly:t[12]},32768&e[0]&&{class:t[15]},1024&e[0]&&{name:t[10]},64&e[0]&&{disabled:t[6]},2048&e[0]&&{placeholder:t[11]},16&e[0]&&r.value!==t[4]&&{value:t[4]}])),"value"in u&&(r.value=u.value)},i:t,o:t,d(t){t&&I(r),i=!1,o(s)}}}function Je(e){let r,i,s,a=[e[18],{type:"search"},{readOnly:e[12]},{class:e[15]},{name:e[10]},{disabled:e[6]},{placeholder:e[11]}],u={};for(let t=0;t<a.length;t+=1)u=n(u,a[t]);return{c(){r=E("input"),N(r,u)},m(t,n){w(t,r,n),C(r,e[4]),i||(s=[k(r,"blur",e[108]),k(r,"change",e[109]),k(r,"focus",e[110]),k(r,"input",e[111]),k(r,"keydown",e[112]),k(r,"keypress",e[113]),k(r,"keyup",e[114]),k(r,"input",e[153])],i=!0)},p(t,e){N(r,u=$t(a,[262144&e[0]&&t[18],{type:"search"},4096&e[0]&&{readOnly:t[12]},32768&e[0]&&{class:t[15]},1024&e[0]&&{name:t[10]},64&e[0]&&{disabled:t[6]},2048&e[0]&&{placeholder:t[11]}])),16&e[0]&&C(r,t[4])},i:t,o:t,d(t){t&&I(r),i=!1,o(s)}}}function Ze(e){let r,i,s,a=[e[18],{type:"range"},{readOnly:e[12]},{class:e[15]},{name:e[10]},{disabled:e[6]},{placeholder:e[11]}],u={};for(let t=0;t<a.length;t+=1)u=n(u,a[t]);return{c(){r=E("input"),N(r,u)},m(t,n){w(t,r,n),C(r,e[4]),i||(s=[k(r,"blur",e[101]),k(r,"change",e[102]),k(r,"focus",e[103]),k(r,"input",e[104]),k(r,"keydown",e[105]),k(r,"keypress",e[106]),k(r,"keyup",e[107]),k(r,"change",e[152]),k(r,"input",e[152])],i=!0)},p(t,e){N(r,u=$t(a,[262144&e[0]&&t[18],{type:"range"},4096&e[0]&&{readOnly:t[12]},32768&e[0]&&{class:t[15]},1024&e[0]&&{name:t[10]},64&e[0]&&{disabled:t[6]},2048&e[0]&&{placeholder:t[11]}])),16&e[0]&&C(r,t[4])},i:t,o:t,d(t){t&&I(r),i=!1,o(s)}}}function tn(e){let r,i,s,a=[e[18],{type:"color"},{readOnly:e[12]},{class:e[15]},{name:e[10]},{disabled:e[6]},{placeholder:e[11]}],u={};for(let t=0;t<a.length;t+=1)u=n(u,a[t]);return{c(){r=E("input"),N(r,u)},m(t,n){w(t,r,n),C(r,e[4]),i||(s=[k(r,"blur",e[94]),k(r,"change",e[95]),k(r,"focus",e[96]),k(r,"input",e[97]),k(r,"keydown",e[98]),k(r,"keypress",e[99]),k(r,"keyup",e[100]),k(r,"input",e[151])],i=!0)},p(t,e){N(r,u=$t(a,[262144&e[0]&&t[18],{type:"color"},4096&e[0]&&{readOnly:t[12]},32768&e[0]&&{class:t[15]},1024&e[0]&&{name:t[10]},64&e[0]&&{disabled:t[6]},2048&e[0]&&{placeholder:t[11]}])),16&e[0]&&C(r,t[4])},i:t,o:t,d(t){t&&I(r),i=!1,o(s)}}}function en(e){let r,i,s,a=[e[18],{type:"datetime"},{readOnly:e[12]},{class:e[15]},{name:e[10]},{disabled:e[6]},{placeholder:e[11]}],u={};for(let t=0;t<a.length;t+=1)u=n(u,a[t]);return{c(){r=E("input"),N(r,u)},m(t,n){w(t,r,n),C(r,e[4]),i||(s=[k(r,"blur",e[87]),k(r,"change",e[88]),k(r,"focus",e[89]),k(r,"input",e[90]),k(r,"keydown",e[91]),k(r,"keypress",e[92]),k(r,"keyup",e[93]),k(r,"input",e[150])],i=!0)},p(t,e){N(r,u=$t(a,[262144&e[0]&&t[18],{type:"datetime"},4096&e[0]&&{readOnly:t[12]},32768&e[0]&&{class:t[15]},1024&e[0]&&{name:t[10]},64&e[0]&&{disabled:t[6]},2048&e[0]&&{placeholder:t[11]}])),16&e[0]&&C(r,t[4])},i:t,o:t,d(t){t&&I(r),i=!1,o(s)}}}function nn(e){let r,i,s,a=[e[18],{class:e[15]},{type:"time"},{disabled:e[6]},{name:e[10]},{placeholder:e[11]},{readOnly:e[12]}],u={};for(let t=0;t<a.length;t+=1)u=n(u,a[t]);return{c(){r=E("input"),N(r,u)},m(t,n){w(t,r,n),C(r,e[4]),i||(s=[k(r,"blur",e[80]),k(r,"change",e[81]),k(r,"focus",e[82]),k(r,"input",e[83]),k(r,"keydown",e[84]),k(r,"keypress",e[85]),k(r,"keyup",e[86]),k(r,"input",e[149])],i=!0)},p(t,e){N(r,u=$t(a,[262144&e[0]&&t[18],32768&e[0]&&{class:t[15]},{type:"time"},64&e[0]&&{disabled:t[6]},1024&e[0]&&{name:t[10]},2048&e[0]&&{placeholder:t[11]},4096&e[0]&&{readOnly:t[12]}])),16&e[0]&&C(r,t[4])},i:t,o:t,d(t){t&&I(r),i=!1,o(s)}}}function rn(e){let r,i,s,a=[e[18],{class:e[15]},{type:"date"},{disabled:e[6]},{name:e[10]},{placeholder:e[11]},{readOnly:e[12]}],u={};for(let t=0;t<a.length;t+=1)u=n(u,a[t]);return{c(){r=E("input"),N(r,u)},m(t,n){w(t,r,n),C(r,e[4]),i||(s=[k(r,"blur",e[73]),k(r,"change",e[74]),k(r,"focus",e[75]),k(r,"input",e[76]),k(r,"keydown",e[77]),k(r,"keypress",e[78]),k(r,"keyup",e[79]),k(r,"input",e[148])],i=!0)},p(t,e){N(r,u=$t(a,[262144&e[0]&&t[18],32768&e[0]&&{class:t[15]},{type:"date"},64&e[0]&&{disabled:t[6]},1024&e[0]&&{name:t[10]},2048&e[0]&&{placeholder:t[11]},4096&e[0]&&{readOnly:t[12]}])),16&e[0]&&C(r,t[4])},i:t,o:t,d(t){t&&I(r),i=!1,o(s)}}}function on(e){let r,i,s,a=[e[18],{class:e[15]},{type:"number"},{readOnly:e[12]},{name:e[10]},{disabled:e[6]},{placeholder:e[11]}],u={};for(let t=0;t<a.length;t+=1)u=n(u,a[t]);return{c(){r=E("input"),N(r,u)},m(t,n){w(t,r,n),C(r,e[4]),i||(s=[k(r,"blur",e[66]),k(r,"change",e[67]),k(r,"focus",e[68]),k(r,"input",e[69]),k(r,"keydown",e[70]),k(r,"keypress",e[71]),k(r,"keyup",e[72]),k(r,"input",e[147])],i=!0)},p(t,e){N(r,u=$t(a,[262144&e[0]&&t[18],32768&e[0]&&{class:t[15]},{type:"number"},4096&e[0]&&{readOnly:t[12]},1024&e[0]&&{name:t[10]},64&e[0]&&{disabled:t[6]},2048&e[0]&&{placeholder:t[11]}])),16&e[0]&&x(r.value)!==t[4]&&C(r,t[4])},i:t,o:t,d(t){t&&I(r),i=!1,o(s)}}}function sn(e){let r,i,s,a=[e[18],{class:e[15]},{type:"url"},{disabled:e[6]},{name:e[10]},{placeholder:e[11]},{readOnly:e[12]}],u={};for(let t=0;t<a.length;t+=1)u=n(u,a[t]);return{c(){r=E("input"),N(r,u)},m(t,n){w(t,r,n),C(r,e[4]),i||(s=[k(r,"blur",e[59]),k(r,"change",e[60]),k(r,"focus",e[61]),k(r,"input",e[62]),k(r,"keydown",e[63]),k(r,"keypress",e[64]),k(r,"keyup",e[65]),k(r,"input",e[146])],i=!0)},p(t,e){N(r,u=$t(a,[262144&e[0]&&t[18],32768&e[0]&&{class:t[15]},{type:"url"},64&e[0]&&{disabled:t[6]},1024&e[0]&&{name:t[10]},2048&e[0]&&{placeholder:t[11]},4096&e[0]&&{readOnly:t[12]}])),16&e[0]&&C(r,t[4])},i:t,o:t,d(t){t&&I(r),i=!1,o(s)}}}function an(t){let e,r,i,o,s;const a=[t[18],{class:t[5]},{size:t[0]},{type:t[13]},{disabled:t[6]},{invalid:t[7]},{label:t[8]},{name:t[10]},{placeholder:t[11]},{readonly:t[12]},{valid:t[14]}];function u(e){t[136](e)}function c(e){t[137](e)}function l(e){t[138](e)}let h={};for(let t=0;t<a.length;t+=1)h=n(h,a[t]);return void 0!==t[1]&&(h.checked=t[1]),void 0!==t[3]&&(h.group=t[3]),void 0!==t[4]&&(h.value=t[4]),e=new We({props:h}),Z.push((()=>Tt(e,"checked",u))),Z.push((()=>Tt(e,"group",c))),Z.push((()=>Tt(e,"value",l))),e.$on("blur",t[139]),e.$on("change",t[140]),e.$on("focus",t[141]),e.$on("input",t[142]),e.$on("keydown",t[143]),e.$on("keypress",t[144]),e.$on("keyup",t[145]),{c(){_t(e.$$.fragment)},m(t,n){St(e,t,n),s=!0},p(t,n){const s=294369&n[0]?$t(a,[262144&n[0]&&Et(t[18]),32&n[0]&&{class:t[5]},1&n[0]&&{size:t[0]},8192&n[0]&&{type:t[13]},64&n[0]&&{disabled:t[6]},128&n[0]&&{invalid:t[7]},256&n[0]&&{label:t[8]},1024&n[0]&&{name:t[10]},2048&n[0]&&{placeholder:t[11]},4096&n[0]&&{readonly:t[12]},16384&n[0]&&{valid:t[14]}]):{};!r&&2&n[0]&&(r=!0,s.checked=t[1],at((()=>r=!1))),!i&&8&n[0]&&(i=!0,s.group=t[3],at((()=>i=!1))),!o&&16&n[0]&&(o=!0,s.value=t[4],at((()=>o=!1))),e.$set(s)},i(t){s||(yt(e.$$.fragment,t),s=!0)},o(t){bt(e.$$.fragment,t),s=!1},d(t){kt(e,t)}}}function un(e){let r,i,s,a=[e[18],{class:e[15]},{type:"file"},{disabled:e[6]},{invalid:e[7]},{multiple:e[9]},{name:e[10]},{placeholder:e[11]},{readOnly:e[12]},{valid:e[14]}],u={};for(let t=0;t<a.length;t+=1)u=n(u,a[t]);return{c(){r=E("input"),N(r,u)},m(t,n){w(t,r,n),i||(s=[k(r,"blur",e[52]),k(r,"change",e[53]),k(r,"focus",e[54]),k(r,"input",e[55]),k(r,"keydown",e[56]),k(r,"keypress",e[57]),k(r,"keyup",e[58]),k(r,"change",e[135])],i=!0)},p(t,e){N(r,u=$t(a,[262144&e[0]&&t[18],32768&e[0]&&{class:t[15]},{type:"file"},64&e[0]&&{disabled:t[6]},128&e[0]&&{invalid:t[7]},512&e[0]&&{multiple:t[9]},1024&e[0]&&{name:t[10]},2048&e[0]&&{placeholder:t[11]},4096&e[0]&&{readOnly:t[12]},16384&e[0]&&{valid:t[14]}]))},i:t,o:t,d(t){t&&I(r),i=!1,o(s)}}}function cn(e){let r,i,s,a=[e[18],{class:e[15]},{type:"email"},{disabled:e[6]},{name:e[10]},{placeholder:e[11]},{readOnly:e[12]}],u={};for(let t=0;t<a.length;t+=1)u=n(u,a[t]);return{c(){r=E("input"),N(r,u)},m(t,n){w(t,r,n),C(r,e[4]),i||(s=[k(r,"blur",e[45]),k(r,"change",e[46]),k(r,"focus",e[47]),k(r,"input",e[48]),k(r,"keydown",e[49]),k(r,"keypress",e[50]),k(r,"keyup",e[51]),k(r,"input",e[134])],i=!0)},p(t,e){N(r,u=$t(a,[262144&e[0]&&t[18],32768&e[0]&&{class:t[15]},{type:"email"},64&e[0]&&{disabled:t[6]},1024&e[0]&&{name:t[10]},2048&e[0]&&{placeholder:t[11]},4096&e[0]&&{readOnly:t[12]}])),16&e[0]&&r.value!==t[4]&&C(r,t[4])},i:t,o:t,d(t){t&&I(r),i=!1,o(s)}}}function ln(e){let r,i,s,a=[e[18],{class:e[15]},{type:"color"},{disabled:e[6]},{name:e[10]},{placeholder:e[11]},{readOnly:e[12]}],u={};for(let t=0;t<a.length;t+=1)u=n(u,a[t]);return{c(){r=E("input"),N(r,u)},m(t,n){w(t,r,n),C(r,e[4]),i||(s=[k(r,"blur",e[38]),k(r,"change",e[39]),k(r,"focus",e[40]),k(r,"input",e[41]),k(r,"keydown",e[42]),k(r,"keypress",e[43]),k(r,"keyup",e[44]),k(r,"input",e[133])],i=!0)},p(t,e){N(r,u=$t(a,[262144&e[0]&&t[18],32768&e[0]&&{class:t[15]},{type:"color"},64&e[0]&&{disabled:t[6]},1024&e[0]&&{name:t[10]},2048&e[0]&&{placeholder:t[11]},4096&e[0]&&{readOnly:t[12]}])),16&e[0]&&C(r,t[4])},i:t,o:t,d(t){t&&I(r),i=!1,o(s)}}}function hn(e){let r,i,s,a=[e[18],{class:e[15]},{type:"password"},{disabled:e[6]},{name:e[10]},{placeholder:e[11]},{readOnly:e[12]}],u={};for(let t=0;t<a.length;t+=1)u=n(u,a[t]);return{c(){r=E("input"),N(r,u)},m(t,n){w(t,r,n),C(r,e[4]),i||(s=[k(r,"blur",e[31]),k(r,"change",e[32]),k(r,"focus",e[33]),k(r,"input",e[34]),k(r,"keydown",e[35]),k(r,"keypress",e[36]),k(r,"keyup",e[37]),k(r,"input",e[132])],i=!0)},p(t,e){N(r,u=$t(a,[262144&e[0]&&t[18],32768&e[0]&&{class:t[15]},{type:"password"},64&e[0]&&{disabled:t[6]},1024&e[0]&&{name:t[10]},2048&e[0]&&{placeholder:t[11]},4096&e[0]&&{readOnly:t[12]}])),16&e[0]&&r.value!==t[4]&&C(r,t[4])},i:t,o:t,d(t){t&&I(r),i=!1,o(s)}}}function fn(e){let r,i,s,a=[e[18],{class:e[15]},{type:"text"},{disabled:e[6]},{name:e[10]},{placeholder:e[11]},{readOnly:e[12]}],u={};for(let t=0;t<a.length;t+=1)u=n(u,a[t]);return{c(){r=E("input"),N(r,u)},m(t,n){w(t,r,n),C(r,e[4]),i||(s=[k(r,"blur",e[24]),k(r,"change",e[25]),k(r,"focus",e[26]),k(r,"input",e[27]),k(r,"keydown",e[28]),k(r,"keypress",e[29]),k(r,"keyup",e[30]),k(r,"input",e[131])],i=!0)},p(t,e){N(r,u=$t(a,[262144&e[0]&&t[18],32768&e[0]&&{class:t[15]},{type:"text"},64&e[0]&&{disabled:t[6]},1024&e[0]&&{name:t[10]},2048&e[0]&&{placeholder:t[11]},4096&e[0]&&{readOnly:t[12]}])),16&e[0]&&r.value!==t[4]&&C(r,t[4])},i:t,o:t,d(t){t&&I(r),i=!1,o(s)}}}function dn(t){let e,n,r,i;const o=[Qe,Xe,He],s=[];function a(t,e){return"input"===t[16]?0:"textarea"===t[16]?1:"select"!==t[16]||t[9]?-1:2}return~(e=a(t))&&(n=s[e]=o[e](t)),{c(){n&&n.c(),r=S()},m(t,n){~e&&s[e].m(t,n),w(t,r,n),i=!0},p(t,i){let u=e;e=a(t),e===u?~e&&s[e].p(t,i):(n&&(gt(),bt(s[u],1,1,(()=>{s[u]=null})),vt()),~e?(n=s[e],n?n.p(t,i):(n=s[e]=o[e](t),n.c()),yt(n,1),n.m(r.parentNode,r)):n=null)},i(t){i||(yt(n),i=!0)},o(t){bt(n),i=!1},d(t){~e&&s[e].d(t),t&&I(r)}}}function pn(t,e,r){const i=["class","bsSize","checked","color","disabled","files","group","invalid","label","multiple","name","placeholder","plaintext","readonly","size","type","valid","value"];let o,s,a=d(e,i),{$$slots:u={},$$scope:c}=e,{class:l=""}=e,{bsSize:h}=e,{checked:p=!1}=e,{color:m}=e,{disabled:g}=e,{files:v}=e,{group:y}=e,{invalid:b=!1}=e,{label:w}=e,{multiple:I}=e,{name:$=""}=e,{placeholder:E=""}=e,{plaintext:T=!1}=e,{readonly:_}=e,{size:S}=e,{type:k="text"}=e,{valid:A=!1}=e,{value:N=""}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(18,a=d(e,i)),"class"in t&&r(5,l=t.class),"bsSize"in t&&r(0,h=t.bsSize),"checked"in t&&r(1,p=t.checked),"color"in t&&r(20,m=t.color),"disabled"in t&&r(6,g=t.disabled),"files"in t&&r(2,v=t.files),"group"in t&&r(3,y=t.group),"invalid"in t&&r(7,b=t.invalid),"label"in t&&r(8,w=t.label),"multiple"in t&&r(9,I=t.multiple),"name"in t&&r(10,$=t.name),"placeholder"in t&&r(11,E=t.placeholder),"plaintext"in t&&r(21,T=t.plaintext),"readonly"in t&&r(12,_=t.readonly),"size"in t&&r(19,S=t.size),"type"in t&&r(13,k=t.type),"valid"in t&&r(14,A=t.valid),"value"in t&&r(4,N=t.value),"$$scope"in t&&r(22,c=t.$$scope)},t.$$.update=()=>{if(3694753&t.$$.dirty[0]){const t=new RegExp("\\D","g");let e=!1,n="form-control";switch(r(16,s="input"),k){case"color":n="form-control form-control-color";break;case"range":n="form-range";break;case"select":n="form-select",r(16,s="select");break;case"textarea":r(16,s="textarea");break;case"button":case"reset":case"submit":n=`btn btn-${m||"secondary"}`,e=!0;break;case"hidden":case"image":n=void 0;break;default:n="form-control",r(16,s="input")}T&&(n=`${n}-plaintext`,r(16,s="input")),S&&t.test(S)&&(console.warn('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),r(0,h=S),r(19,S=void 0)),r(15,o=Wt(l,n,{"is-invalid":b,"is-valid":A,[`form-control-${h}`]:h&&!e,[`btn-${h}`]:h&&e}))}},[h,p,v,y,N,l,g,b,w,I,$,E,_,k,A,o,s,t=>{r(4,N=t.target.value)},a,S,m,T,c,u,function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(){N=this.value,r(4,N)},function(){N=this.value,r(4,N)},function(){N=this.value,r(4,N)},function(){N=this.value,r(4,N)},function(){v=this.files,N=this.value,r(2,v),r(4,N)},function(t){p=t,r(1,p)},function(t){y=t,r(3,y)},function(t){N=t,r(4,N)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(e){Y(t,e)},function(){N=this.value,r(4,N)},function(){N=x(this.value),r(4,N)},function(){N=this.value,r(4,N)},function(){N=this.value,r(4,N)},function(){N=this.value,r(4,N)},function(){N=this.value,r(4,N)},function(){N=x(this.value),r(4,N)},function(){N=this.value,r(4,N)},function(){N=this.value,r(4,N)},function(){N=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),r(4,N)}]}class mn extends Nt{constructor(t){super(),At(this,t,pn,dn,a,{class:5,bsSize:0,checked:1,color:20,disabled:6,files:2,group:3,invalid:7,label:8,multiple:9,name:10,placeholder:11,plaintext:21,readonly:12,size:19,type:13,valid:14,value:4},[-1,-1,-1,-1,-1,-1])}}function gn(t){let e,r;const i=t[5].default,o=c(i,t,t[4],null);let s=[t[1],{class:t[0]}],a={};for(let t=0;t<s.length;t+=1)a=n(a,s[t]);return{c(){e=E("div"),o&&o.c(),N(e,a)},m(t,n){w(t,e,n),o&&o.m(e,null),r=!0},p(t,[n]){o&&o.p&&(!r||16&n)&&h(o,i,t,t[4],n,null,null),N(e,a=$t(s,[2&n&&t[1],(!r||1&n)&&{class:t[0]}]))},i(t){r||(yt(o,t),r=!0)},o(t){bt(o,t),r=!1},d(t){t&&I(e),o&&o.d(t)}}}function vn(t,e,r){let i;const o=["class","size"];let s=d(e,o),{$$slots:a={},$$scope:u}=e,{class:c=""}=e,{size:l=""}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(1,s=d(e,o)),"class"in t&&r(2,c=t.class),"size"in t&&r(3,l=t.size),"$$scope"in t&&r(4,u=t.$$scope)},t.$$.update=()=>{12&t.$$.dirty&&r(0,i=Wt(c,"input-group",l?`input-group-${l}`:null))},[i,s,c,l,u,a]}class yn extends Nt{constructor(t){super(),At(this,t,vn,gn,a,{class:2,size:3})}}function bn(t){let e,n;const r=t[3].default,i=c(r,t,t[2],null);return{c(){e=E("div"),i&&i.c(),A(e,"class",t[0])},m(t,r){w(t,e,r),i&&i.m(e,null),n=!0},p(t,[o]){i&&i.p&&(!n||4&o)&&h(i,r,t,t[2],o,null,null),(!n||1&o)&&A(e,"class",t[0])},i(t){n||(yt(i,t),n=!0)},o(t){bt(i,t),n=!1},d(t){t&&I(e),i&&i.d(t)}}}function wn(t,e,n){let r,{$$slots:i={},$$scope:o}=e,{class:s=""}=e;return t.$$set=t=>{"class"in t&&n(1,s=t.class),"$$scope"in t&&n(2,o=t.$$scope)},t.$$.update=()=>{2&t.$$.dirty&&n(0,r=Wt(s,"p-5 mb-4 bg-light rounded-3"))},[r,s,o,i]}class In extends Nt{constructor(t){super(),At(this,t,wn,bn,a,{class:1})}}function $n(t){let e,n;const r=t[1].default,i=c(r,t,t[0],null);return{c(){e=E("div"),i&&i.c()},m(t,r){w(t,e,r),i&&i.m(e,null),n=!0},p(t,[e]){i&&i.p&&(!n||1&e)&&h(i,r,t,t[0],e,null,null)},i(t){n||(yt(i,t),n=!0)},o(t){bt(i,t),n=!1},d(t){t&&I(e),i&&i.d(t)}}}function En(t,e,n){let{$$slots:r={},$$scope:i}=e;return t.$$set=t=>{"$$scope"in t&&n(0,i=t.$$scope)},[i,r]}class Tn extends Nt{constructor(t){super(),At(this,t,En,$n,a,{})}}function _n(t){let e,r;const i=t[4].default,o=c(i,t,t[3],null);let s=[t[1],{class:t[0]}],a={};for(let t=0;t<s.length;t+=1)a=n(a,s[t]);return{c(){e=E("div"),o&&o.c(),N(e,a)},m(t,n){w(t,e,n),o&&o.m(e,null),r=!0},p(t,[n]){o&&o.p&&(!r||8&n)&&h(o,i,t,t[3],n,null,null),N(e,a=$t(s,[2&n&&t[1],(!r||1&n)&&{class:t[0]}]))},i(t){r||(yt(o,t),r=!0)},o(t){bt(o,t),r=!1},d(t){t&&I(e),o&&o.d(t)}}}function Sn(t,e,r){let i;const o=["class"];let s=d(e,o),{$$slots:a={},$$scope:u}=e,{class:c=""}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(1,s=d(e,o)),"class"in t&&r(2,c=t.class),"$$scope"in t&&r(3,u=t.$$scope)},t.$$.update=()=>{4&t.$$.dirty&&r(0,i=Wt(c,"modal-body"))},[i,s,c,u,a]}class kn extends Nt{constructor(t){super(),At(this,t,Sn,_n,a,{class:2})}}const An=t=>({}),Nn=t=>({});function xn(t){let e;const n=t[7].default,r=c(n,t,t[6],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||64&i)&&h(r,n,t,t[6],i,null,null)},i(t){e||(yt(r,t),e=!0)},o(t){bt(r,t),e=!1},d(t){r&&r.d(t)}}}function Dn(e){let n;return{c(){n=T(e[2])},m(t,e){w(t,n,e)},p(t,e){4&e&&D(n,t[2])},i:t,o:t,d(t){t&&I(n)}}}function Cn(t){let e,n,r;return{c(){e=E("button"),A(e,"type","button"),A(e,"class","btn-close"),A(e,"aria-label",t[1])},m(i,o){w(i,e,o),n||(r=k(e,"click",(function(){s(t[0])&&t[0].apply(this,arguments)})),n=!0)},p(n,r){t=n,2&r&&A(e,"aria-label",t[1])},d(t){t&&I(e),n=!1,r()}}}function On(t){let e,r,i,o,s,a;const u=[Dn,xn],l=[];function f(t,e){return t[2]?0:1}i=f(t),o=l[i]=u[i](t);const d=t[7].close,p=c(d,t,t[6],Nn),m=p||function(t){let e,n="function"==typeof t[0]&&Cn(t);return{c(){n&&n.c(),e=S()},m(t,r){n&&n.m(t,r),w(t,e,r)},p(t,r){"function"==typeof t[0]?n?n.p(t,r):(n=Cn(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&I(e)}}}(t);let g=[t[4],{class:t[3]}],v={};for(let t=0;t<g.length;t+=1)v=n(v,g[t]);return{c(){e=E("div"),r=E("h5"),o.c(),s=_(),m&&m.c(),A(r,"class","modal-title"),N(e,v)},m(t,n){w(t,e,n),b(e,r),l[i].m(r,null),b(e,s),m&&m.m(e,null),a=!0},p(t,[n]){let s=i;i=f(t),i===s?l[i].p(t,n):(gt(),bt(l[s],1,1,(()=>{l[s]=null})),vt(),o=l[i],o?o.p(t,n):(o=l[i]=u[i](t),o.c()),yt(o,1),o.m(r,null)),p?p.p&&(!a||64&n)&&h(p,d,t,t[6],n,An,Nn):m&&m.p&&3&n&&m.p(t,n),N(e,v=$t(g,[16&n&&t[4],(!a||8&n)&&{class:t[3]}]))},i(t){a||(yt(o),yt(m,t),a=!0)},o(t){bt(o),bt(m,t),a=!1},d(t){t&&I(e),l[i].d(),m&&m.d(t)}}}function Rn(t,e,r){let i;const o=["class","toggle","closeAriaLabel","children"];let s=d(e,o),{$$slots:a={},$$scope:u}=e,{class:c=""}=e,{toggle:l}=e,{closeAriaLabel:h="Close"}=e,{children:p}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(4,s=d(e,o)),"class"in t&&r(5,c=t.class),"toggle"in t&&r(0,l=t.toggle),"closeAriaLabel"in t&&r(1,h=t.closeAriaLabel),"children"in t&&r(2,p=t.children),"$$scope"in t&&r(6,u=t.$$scope)},t.$$.update=()=>{32&t.$$.dirty&&r(3,i=Wt(c,"modal-header"))},[l,h,p,i,s,c,u,a]}class Pn extends Nt{constructor(t){super(),At(this,t,Rn,On,a,{class:5,toggle:0,closeAriaLabel:1,children:2})}}function Ln(t){let e,n;const r=t[2].default,i=c(r,t,t[1],null);return{c(){e=E("div"),i&&i.c()},m(r,o){w(r,e,o),i&&i.m(e,null),t[3](e),n=!0},p(t,[e]){i&&i.p&&(!n||2&e)&&h(i,r,t,t[1],e,null,null)},i(t){n||(yt(i,t),n=!0)},o(t){bt(i,t),n=!1},d(n){n&&I(e),i&&i.d(n),t[3](null)}}}function Mn(t,e,n){let r,i,{$$slots:o={},$$scope:s}=e;return G((()=>{i=document.createElement("div"),document.body.appendChild(i),i.appendChild(r)})),W((()=>{document.body.removeChild(i)})),t.$$set=t=>{"$$scope"in t&&n(1,s=t.$$scope)},[r,s,o,function(t){Z[t?"unshift":"push"]((()=>{r=t,n(0,r)}))}]}class Fn extends Nt{constructor(t){super(),At(this,t,Mn,Ln,a,{})}}const Vn=t=>({}),Un=t=>({});function jn(t){let e,n,r;var i=t[17];function o(t){return{props:{$$slots:{default:[Xn]},$$scope:{ctx:t}}}}return i&&(e=new i(o(t))),{c(){e&&_t(e.$$.fragment),n=S()},m(t,i){e&&St(e,t,i),w(t,n,i),r=!0},p(t,r){const s={};if(8499199&r[0]|128&r[1]&&(s.$$scope={dirty:r,ctx:t}),i!==(i=t[17])){if(e){gt();const t=e;bt(t.$$.fragment,1,0,(()=>{kt(t,1)})),vt()}i?(e=new i(o(t)),_t(e.$$.fragment),yt(e.$$.fragment,1),St(e,n.parentNode,n)):e=null}else i&&e.$set(s)},i(t){r||(e&&yt(e.$$.fragment,t),r=!0)},o(t){e&&bt(e.$$.fragment,t),r=!1},d(t){t&&I(n),e&&kt(e,t)}}}function qn(t){let e,n,r,i,s,a,u,l,f,d,p,m,g,v,y;const $=t[34].external,T=c($,t,t[38],Un);let N=t[3]&&Bn(t);const x=[zn,Gn],D=[];function C(t,e){return t[2]?0:1}a=C(t),u=D[a]=x[a](t);let O=t[6]&&!t[0]&&Hn(t);return{c(){e=E("div"),T&&T.c(),n=_(),r=E("div"),i=E("div"),N&&N.c(),s=_(),u.c(),p=_(),O&&O.c(),m=S(),A(i,"class",l=Wt("modal-content",t[10])),A(r,"class",t[16]),A(r,"role","document"),A(e,"arialabelledby",t[5]),A(e,"class",f=Wt("modal",t[8],{show:t[1],"d-block":t[1],"d-none":!t[1],"position-static":t[0]})),A(e,"role","dialog")},m(o,u){w(o,e,u),T&&T.m(e,null),b(e,n),b(e,r),b(r,i),N&&N.m(i,null),b(i,s),D[a].m(i,null),t[35](r),w(o,p,u),O&&O.m(o,u),w(o,m,u),g=!0,v||(y=[k(e,"introstart",t[36]),k(e,"introend",t[20]),k(e,"outrostart",t[37]),k(e,"outroend",t[21]),k(e,"click",t[19]),k(e,"mousedown",t[22])],v=!0)},p(n,o){t=n,T&&T.p&&(!g||128&o[1])&&h(T,$,t,t[38],o,Vn,Un),t[3]?N?(N.p(t,o),8&o[0]&&yt(N,1)):(N=Bn(t),N.c(),yt(N,1),N.m(i,s)):N&&(gt(),bt(N,1,1,(()=>{N=null})),vt());let c=a;a=C(t),a===c?D[a].p(t,o):(gt(),bt(D[c],1,1,(()=>{D[c]=null})),vt(),u=D[a],u?u.p(t,o):(u=D[a]=x[a](t),u.c()),yt(u,1),u.m(i,null)),(!g||1024&o[0]&&l!==(l=Wt("modal-content",t[10])))&&A(i,"class",l),(!g||65536&o[0])&&A(r,"class",t[16]),(!g||32&o[0])&&A(e,"arialabelledby",t[5]),(!g||259&o[0]&&f!==(f=Wt("modal",t[8],{show:t[1],"d-block":t[1],"d-none":!t[1],"position-static":t[0]})))&&A(e,"class",f),t[6]&&!t[0]?O?(O.p(t,o),65&o[0]&&yt(O,1)):(O=Hn(t),O.c(),yt(O,1),O.m(m.parentNode,m)):O&&(gt(),bt(O,1,1,(()=>{O=null})),vt())},i(n){g||(yt(T,n),yt(N),yt(u),st((()=>{d||(d=It(e,t[12],t[13],!0)),d.run(1)})),yt(O),g=!0)},o(n){bt(T,n),bt(N),bt(u),d||(d=It(e,t[12],t[13],!1)),d.run(0),bt(O),g=!1},d(n){n&&I(e),T&&T.d(n),N&&N.d(),D[a].d(),t[35](null),n&&d&&d.end(),n&&I(p),O&&O.d(n),n&&I(m),v=!1,o(y)}}}function Bn(t){let e,n;return e=new Pn({props:{toggle:t[4],$$slots:{default:[Kn]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(t,n){const r={};16&n[0]&&(r.toggle=t[4]),8&n[0]|128&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function Kn(t){let e;return{c(){e=T(t[3])},m(t,n){w(t,e,n)},p(t,n){8&n[0]&&D(e,t[3])},d(t){t&&I(e)}}}function Gn(t){let e;const n=t[34].default,r=c(n,t,t[38],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||128&i[1])&&h(r,n,t,t[38],i,null,null)},i(t){e||(yt(r,t),e=!0)},o(t){bt(r,t),e=!1},d(t){r&&r.d(t)}}}function zn(t){let e,n;return e=new kn({props:{$$slots:{default:[Wn]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(t,n){const r={};128&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function Wn(t){let e;const n=t[34].default,r=c(n,t,t[38],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||128&i[1])&&h(r,n,t,t[38],i,null,null)},i(t){e||(yt(r,t),e=!0)},o(t){bt(r,t),e=!1},d(t){r&&r.d(t)}}}function Hn(t){let e,n,r,i;return{c(){e=E("div"),A(e,"class",n=Wt("modal-backdrop","show",t[9]))},m(t,n){w(t,e,n),i=!0},p(r,o){t=r,(!i||512&o[0]&&n!==(n=Wt("modal-backdrop","show",t[9])))&&A(e,"class",n)},i(n){i||(st((()=>{r||(r=It(e,Xt,{duration:t[11]},!0)),r.run(1)})),i=!0)},o(n){r||(r=It(e,Xt,{duration:t[11]},!1)),r.run(0),i=!1},d(t){t&&I(e),t&&r&&r.end()}}}function Xn(t){let e,r,i=t[1]&&qn(t),o=[{class:t[7]},{tabindex:"-1"},t[23]],s={};for(let t=0;t<o.length;t+=1)s=n(s,o[t]);return{c(){e=E("div"),i&&i.c(),N(e,s)},m(t,n){w(t,e,n),i&&i.m(e,null),r=!0},p(t,n){t[1]?i?(i.p(t,n),2&n[0]&&yt(i,1)):(i=qn(t),i.c(),yt(i,1),i.m(e,null)):i&&(gt(),bt(i,1,1,(()=>{i=null})),vt()),N(e,s=$t(o,[(!r||128&n[0])&&{class:t[7]},{tabindex:"-1"},8388608&n[0]&&t[23]]))},i(t){r||(yt(i),r=!0)},o(t){bt(i),r=!1},d(t){t&&I(e),i&&i.d()}}}function Qn(t){let e,n,r=t[14]&&jn(t);return{c(){r&&r.c(),e=S()},m(t,i){r&&r.m(t,i),w(t,e,i),n=!0},p(t,n){t[14]?r?(r.p(t,n),16384&n[0]&&yt(r,1)):(r=jn(t),r.c(),yt(r,1),r.m(e.parentNode,e)):r&&(gt(),bt(r,1,1,(()=>{r=null})),vt())},i(t){n||(yt(r),n=!0)},o(t){bt(r),n=!1},d(t){r&&r.d(t),t&&I(e)}}}let Yn=0;const Jn="modal-dialog";function Zn(t,e,r){let i,o;const s=["class","static","isOpen","autoFocus","body","centered","container","fullscreen","header","scrollable","size","toggle","labelledBy","backdrop","wrapClassName","modalClassName","backdropClassName","contentClassName","fade","backdropDuration","unmountOnClose","returnFocusAfterClose","transitionType","transitionOptions"];let a=d(e,s),{$$slots:u={},$$scope:c}=e;const l=H();let h,p,m,g,v,{class:y=""}=e,{static:b=!1}=e,{isOpen:w=!1}=e,{autoFocus:I=!0}=e,{body:$=!1}=e,{centered:E=!1}=e,{container:T}=e,{fullscreen:_=!1}=e,{header:S}=e,{scrollable:k=!1}=e,{size:A=""}=e,{toggle:N}=e,{labelledBy:x=""}=e,{backdrop:D=!0}=e,{wrapClassName:C=""}=e,{modalClassName:O=""}=e,{backdropClassName:R=""}=e,{contentClassName:P=""}=e,{fade:L=!0}=e,{backdropDuration:M=(L?150:0)}=e,{unmountOnClose:F=!0}=e,{returnFocusAfterClose:V=!0}=e,{transitionType:U=Xt}=e,{transitionOptions:j={duration:L?300:0}}=e,q=!1,B=!1,K=w,X=q;function Q(){m&&m.parentNode&&"function"==typeof m.parentNode.focus&&m.parentNode.focus()}function Y(){try{h=document.activeElement}catch(t){h=null}b||(p=function(){const t=window?window.getComputedStyle(document.body,null):{};return parseInt(t&&t.getPropertyValue("padding-right")||0,10)}(),Kt(),0===Yn&&(document.body.className=Wt(document.body.className,"modal-open")),++Yn),r(14,B=!0)}function J(){h&&("function"==typeof h.focus&&V&&h.focus(),h=null)}function tt(){J()}function et(){if(Yn<=1){const t=new RegExp(`(^| )${"modal-open"}( |$)`);document.body.className=document.body.className.replace(t," ").trim()}J(),Yn=Math.max(0,Yn-1),Bt(p)}G((()=>{w&&(Y(),q=!0),q&&I&&Q()})),W((()=>{tt(),q&&et()})),z((()=>{w&&!K&&(Y(),q=!0),I&&q&&!X&&Q(),K=w,X=q}));return t.$$set=t=>{e=n(n({},e),f(t)),r(23,a=d(e,s)),"class"in t&&r(24,y=t.class),"static"in t&&r(0,b=t.static),"isOpen"in t&&r(1,w=t.isOpen),"autoFocus"in t&&r(25,I=t.autoFocus),"body"in t&&r(2,$=t.body),"centered"in t&&r(26,E=t.centered),"container"in t&&r(27,T=t.container),"fullscreen"in t&&r(28,_=t.fullscreen),"header"in t&&r(3,S=t.header),"scrollable"in t&&r(29,k=t.scrollable),"size"in t&&r(30,A=t.size),"toggle"in t&&r(4,N=t.toggle),"labelledBy"in t&&r(5,x=t.labelledBy),"backdrop"in t&&r(6,D=t.backdrop),"wrapClassName"in t&&r(7,C=t.wrapClassName),"modalClassName"in t&&r(8,O=t.modalClassName),"backdropClassName"in t&&r(9,R=t.backdropClassName),"contentClassName"in t&&r(10,P=t.contentClassName),"fade"in t&&r(31,L=t.fade),"backdropDuration"in t&&r(11,M=t.backdropDuration),"unmountOnClose"in t&&r(32,F=t.unmountOnClose),"returnFocusAfterClose"in t&&r(33,V=t.returnFocusAfterClose),"transitionType"in t&&r(12,U=t.transitionType),"transitionOptions"in t&&r(13,j=t.transitionOptions),"$$scope"in t&&r(38,c=t.$$scope)},t.$$.update=()=>{1962934272&t.$$.dirty[0]&&r(16,i=Wt(Jn,y,{[`modal-${A}`]:A,"modal-fullscreen":!0===_,[`modal-fullscreen-${_}-down`]:_&&"string"==typeof _,"modal-dialog-centered":E,"modal-dialog-scrollable":k})),134217729&t.$$.dirty[0]&&r(17,o="inline"===T||b?Tn:Fn)},[b,w,$,S,N,x,D,C,O,R,P,M,U,j,B,m,i,o,l,function(t){if(t.target===g){if(t.stopPropagation(),!w||!D)return;const e=m?m.parentNode:null;e&&t.target===e&&N&&N(t)}},function(){l("open"),v=function(t,...e){return t.addEventListener(...e),()=>t.removeEventListener(...e)}(document,"keydown",(t=>{t.key&&"Escape"===t.key&&N(t)}))},function(){l("close"),v&&v(),F&&tt(),et(),B&&(q=!1),r(14,B=!1)},function(t){g=t.target},a,y,I,E,T,_,k,A,L,F,V,u,function(t){Z[t?"unshift":"push"]((()=>{m=t,r(15,m)}))},()=>l("opening"),()=>l("closing"),c]}class tr extends Nt{constructor(t){super(),At(this,t,Zn,Qn,a,{class:24,static:0,isOpen:1,autoFocus:25,body:2,centered:26,container:27,fullscreen:28,header:3,scrollable:29,size:30,toggle:4,labelledBy:5,backdrop:6,wrapClassName:7,modalClassName:8,backdropClassName:9,contentClassName:10,fade:31,backdropDuration:11,unmountOnClose:32,returnFocusAfterClose:33,transitionType:12,transitionOptions:13},[-1,-1])}}function er(t){let e,r;const i=t[4].default,o=c(i,t,t[3],null);let s=[t[1],{class:t[0]}],a={};for(let t=0;t<s.length;t+=1)a=n(a,s[t]);return{c(){e=E("div"),o&&o.c(),N(e,a)},m(t,n){w(t,e,n),o&&o.m(e,null),r=!0},p(t,[n]){o&&o.p&&(!r||8&n)&&h(o,i,t,t[3],n,null,null),N(e,a=$t(s,[2&n&&t[1],(!r||1&n)&&{class:t[0]}]))},i(t){r||(yt(o,t),r=!0)},o(t){bt(o,t),r=!1},d(t){t&&I(e),o&&o.d(t)}}}function nr(t,e,r){let i;const o=["class"];let s=d(e,o),{$$slots:a={},$$scope:u}=e,{class:c=""}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(1,s=d(e,o)),"class"in t&&r(2,c=t.class),"$$scope"in t&&r(3,u=t.$$scope)},t.$$.update=()=>{4&t.$$.dirty&&r(0,i=Wt(c,"modal-footer"))},[i,s,c,u,a]}class rr extends Nt{constructor(t){super(),At(this,t,nr,er,a,{class:2})}}function ir(t){let e,r;const i=t[12].default,o=c(i,t,t[11],null);let s=[t[1],{class:t[0]}],a={};for(let t=0;t<s.length;t+=1)a=n(a,s[t]);return{c(){e=E("ul"),o&&o.c(),N(e,a)},m(t,n){w(t,e,n),o&&o.m(e,null),r=!0},p(t,[n]){o&&o.p&&(!r||2048&n)&&h(o,i,t,t[11],n,null,null),N(e,a=$t(s,[2&n&&t[1],(!r||1&n)&&{class:t[0]}]))},i(t){r||(yt(o,t),r=!0)},o(t){bt(o,t),r=!1},d(t){t&&I(e),o&&o.d(t)}}}function or(t,e,r){let i;const o=["class","tabs","pills","vertical","horizontal","justified","fill","navbar","card"];let s=d(e,o),{$$slots:a={},$$scope:u}=e,{class:c=""}=e,{tabs:l=!1}=e,{pills:h=!1}=e,{vertical:p=!1}=e,{horizontal:m=""}=e,{justified:g=!1}=e,{fill:v=!1}=e,{navbar:y=!1}=e,{card:b=!1}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(1,s=d(e,o)),"class"in t&&r(2,c=t.class),"tabs"in t&&r(3,l=t.tabs),"pills"in t&&r(4,h=t.pills),"vertical"in t&&r(5,p=t.vertical),"horizontal"in t&&r(6,m=t.horizontal),"justified"in t&&r(7,g=t.justified),"fill"in t&&r(8,v=t.fill),"navbar"in t&&r(9,y=t.navbar),"card"in t&&r(10,b=t.card),"$$scope"in t&&r(11,u=t.$$scope)},t.$$.update=()=>{2044&t.$$.dirty&&r(0,i=Wt(c,y?"navbar-nav":"nav",!!m&&`justify-content-${m}`,function(t){return!1!==t&&(!0===t||"xs"===t?"flex-column":`flex-${t}-column`)}(p),{"nav-tabs":l,"card-header-tabs":b&&l,"nav-pills":h,"card-header-pills":b&&h,"nav-justified":g,"nav-fill":v}))},[i,s,c,l,h,p,m,g,v,y,b,u,a]}class sr extends Nt{constructor(t){super(),At(this,t,or,ir,a,{class:2,tabs:3,pills:4,vertical:5,horizontal:6,justified:7,fill:8,navbar:9,card:10})}}function ar(t){let e;const n=t[10].default,r=c(n,t,t[11],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||2048&i)&&h(r,n,t,t[11],i,null,null)},i(t){e||(yt(r,t),e=!0)},o(t){bt(r,t),e=!1},d(t){r&&r.d(t)}}}function ur(t){let e,n;return e=new Fe({props:{fluid:"fluid"===t[0],$$slots:{default:[cr]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.fluid="fluid"===t[0]),2048&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function cr(t){let e;const n=t[10].default,r=c(n,t,t[11],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||2048&i)&&h(r,n,t,t[11],i,null,null)},i(t){e||(yt(r,t),e=!0)},o(t){bt(r,t),e=!1},d(t){r&&r.d(t)}}}function lr(t){let e,r,i,o;const s=[ur,ar],a=[];function u(t,e){return t[0]?0:1}r=u(t),i=a[r]=s[r](t);let c=[t[2],{class:t[1]}],l={};for(let t=0;t<c.length;t+=1)l=n(l,c[t]);return{c(){e=E("nav"),i.c(),N(e,l)},m(t,n){w(t,e,n),a[r].m(e,null),o=!0},p(t,[n]){let h=r;r=u(t),r===h?a[r].p(t,n):(gt(),bt(a[h],1,1,(()=>{a[h]=null})),vt(),i=a[r],i?i.p(t,n):(i=a[r]=s[r](t),i.c()),yt(i,1),i.m(e,null)),N(e,l=$t(c,[4&n&&t[2],(!o||2&n)&&{class:t[1]}]))},i(t){o||(yt(i),o=!0)},o(t){bt(i),o=!1},d(t){t&&I(e),a[r].d()}}}function hr(t,e,r){let i;const o=["class","container","color","dark","expand","fixed","light","sticky"];let s=d(e,o),{$$slots:a={},$$scope:u}=e,{class:c=""}=e,{container:l="fluid"}=e,{color:h=""}=e,{dark:p=!1}=e,{expand:m=""}=e,{fixed:g=""}=e,{light:v=!1}=e,{sticky:y=""}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(2,s=d(e,o)),"class"in t&&r(3,c=t.class),"container"in t&&r(0,l=t.container),"color"in t&&r(4,h=t.color),"dark"in t&&r(5,p=t.dark),"expand"in t&&r(6,m=t.expand),"fixed"in t&&r(7,g=t.fixed),"light"in t&&r(8,v=t.light),"sticky"in t&&r(9,y=t.sticky),"$$scope"in t&&r(11,u=t.$$scope)},t.$$.update=()=>{1016&t.$$.dirty&&r(1,i=Wt(c,"navbar",function(t){return!1!==t&&(!0===t||"xs"===t?"navbar-expand":`navbar-expand-${t}`)}(m),{"navbar-light":v,"navbar-dark":p,[`bg-${h}`]:h,[`fixed-${g}`]:g,[`sticky-${y}`]:y}))},[l,i,s,c,h,p,m,g,v,y,a,u]}class fr extends Nt{constructor(t){super(),At(this,t,hr,lr,a,{class:3,container:0,color:4,dark:5,expand:6,fixed:7,light:8,sticky:9})}}function dr(t){let e,r;const i=t[5].default,o=c(i,t,t[4],null);let s=[t[1],{class:t[0]}],a={};for(let t=0;t<s.length;t+=1)a=n(a,s[t]);return{c(){e=E("li"),o&&o.c(),N(e,a)},m(t,n){w(t,e,n),o&&o.m(e,null),r=!0},p(t,[n]){o&&o.p&&(!r||16&n)&&h(o,i,t,t[4],n,null,null),N(e,a=$t(s,[2&n&&t[1],(!r||1&n)&&{class:t[0]}]))},i(t){r||(yt(o,t),r=!0)},o(t){bt(o,t),r=!1},d(t){t&&I(e),o&&o.d(t)}}}function pr(t,e,r){let i;const o=["class","active"];let s=d(e,o),{$$slots:a={},$$scope:u}=e,{class:c=""}=e,{active:l=!1}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(1,s=d(e,o)),"class"in t&&r(2,c=t.class),"active"in t&&r(3,l=t.active),"$$scope"in t&&r(4,u=t.$$scope)},t.$$.update=()=>{12&t.$$.dirty&&r(0,i=Wt(c,"nav-item",!!l&&"active"))},[i,s,c,l,u,a]}class mr extends Nt{constructor(t){super(),At(this,t,pr,dr,a,{class:2,active:3})}}function gr(t){let e,r,i,s;const a=t[8].default,u=c(a,t,t[7],null);let l=[t[3],{href:t[0]},{class:t[1]}],f={};for(let t=0;t<l.length;t+=1)f=n(f,l[t]);return{c(){e=E("a"),u&&u.c(),N(e,f)},m(n,o){w(n,e,o),u&&u.m(e,null),r=!0,i||(s=[k(e,"click",t[9]),k(e,"click",t[2])],i=!0)},p(t,[n]){u&&u.p&&(!r||128&n)&&h(u,a,t,t[7],n,null,null),N(e,f=$t(l,[8&n&&t[3],(!r||1&n)&&{href:t[0]},(!r||2&n)&&{class:t[1]}]))},i(t){r||(yt(u,t),r=!0)},o(t){bt(u,t),r=!1},d(t){t&&I(e),u&&u.d(t),i=!1,o(s)}}}function vr(t,e,r){let i;const o=["class","disabled","active","href"];let s=d(e,o),{$$slots:a={},$$scope:u}=e,{class:c=""}=e,{disabled:l=!1}=e,{active:h=!1}=e,{href:p="#"}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(3,s=d(e,o)),"class"in t&&r(4,c=t.class),"disabled"in t&&r(5,l=t.disabled),"active"in t&&r(6,h=t.active),"href"in t&&r(0,p=t.href),"$$scope"in t&&r(7,u=t.$$scope)},t.$$.update=()=>{112&t.$$.dirty&&r(1,i=Wt(c,"nav-link",{disabled:l,active:h}))},[p,i,function(t){if(l)return t.preventDefault(),void t.stopImmediatePropagation();"#"===p&&t.preventDefault()},s,c,l,h,u,a,function(e){Y(t,e)}]}class yr extends Nt{constructor(t){super(),At(this,t,vr,gr,a,{class:4,disabled:5,active:6,href:0})}}function br(t){let e,r,i,o;const s=t[5].default,a=c(s,t,t[4],null);let u=[t[2],{class:t[1]},{href:t[0]}],l={};for(let t=0;t<u.length;t+=1)l=n(l,u[t]);return{c(){e=E("a"),a&&a.c(),N(e,l)},m(n,s){w(n,e,s),a&&a.m(e,null),r=!0,i||(o=k(e,"click",t[6]),i=!0)},p(t,[n]){a&&a.p&&(!r||16&n)&&h(a,s,t,t[4],n,null,null),N(e,l=$t(u,[4&n&&t[2],(!r||2&n)&&{class:t[1]},(!r||1&n)&&{href:t[0]}]))},i(t){r||(yt(a,t),r=!0)},o(t){bt(a,t),r=!1},d(t){t&&I(e),a&&a.d(t),i=!1,o()}}}function wr(t,e,r){let i;const o=["class","href"];let s=d(e,o),{$$slots:a={},$$scope:u}=e,{class:c=""}=e,{href:l="/"}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(2,s=d(e,o)),"class"in t&&r(3,c=t.class),"href"in t&&r(0,l=t.href),"$$scope"in t&&r(4,u=t.$$scope)},t.$$.update=()=>{8&t.$$.dirty&&r(1,i=Wt(c,"navbar-brand"))},[l,i,s,c,u,a,function(e){Y(t,e)}]}class Ir extends Nt{constructor(t){super(),At(this,t,wr,br,a,{class:3,href:0})}}function $r(t){let e;const n=t[3].default,r=c(n,t,t[5],null),i=r||function(t){let e;return{c(){e=E("span"),A(e,"class","navbar-toggler-icon")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}();return{c(){i&&i.c()},m(t,n){i&&i.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||32&i)&&h(r,n,t,t[5],i,null,null)},i(t){e||(yt(i,t),e=!0)},o(t){bt(i,t),e=!1},d(t){i&&i.d(t)}}}function Er(t){let e,r;const i=[t[1],{class:t[0]}];let o={$$slots:{default:[$r]},$$scope:{ctx:t}};for(let t=0;t<i.length;t+=1)o=n(o,i[t]);return e=new le({props:o}),e.$on("click",t[4]),{c(){_t(e.$$.fragment)},m(t,n){St(e,t,n),r=!0},p(t,[n]){const r=3&n?$t(i,[2&n&&Et(t[1]),1&n&&{class:t[0]}]):{};32&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){r||(yt(e.$$.fragment,t),r=!0)},o(t){bt(e.$$.fragment,t),r=!1},d(t){kt(e,t)}}}function Tr(t,e,r){let i;const o=["class"];let s=d(e,o),{$$slots:a={},$$scope:u}=e,{class:c=""}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(1,s=d(e,o)),"class"in t&&r(2,c=t.class),"$$scope"in t&&r(5,u=t.$$scope)},t.$$.update=()=>{4&t.$$.dirty&&r(0,i=Wt(c,"navbar-toggler"))},[i,s,c,a,function(e){Y(t,e)},u]}class _r extends Nt{constructor(t){super(),At(this,t,Tr,Er,a,{class:2})}}function Sr(t){let e,r;const i=t[7].default,o=c(i,t,t[6],null);let s=[t[1],{class:t[0]}],a={};for(let t=0;t<s.length;t+=1)a=n(a,s[t]);return{c(){e=E("div"),o&&o.c(),N(e,a)},m(t,n){w(t,e,n),o&&o.m(e,null),r=!0},p(t,[n]){o&&o.p&&(!r||64&n)&&h(o,i,t,t[6],n,null,null),N(e,a=$t(s,[2&n&&t[1],(!r||1&n)&&{class:t[0]}]))},i(t){r||(yt(o,t),r=!0)},o(t){bt(o,t),r=!1},d(t){t&&I(e),o&&o.d(t)}}}function kr(t,e,r){let i;const o=["class","noGutters","form","cols"];let s=d(e,o),{$$slots:a={},$$scope:u}=e,{class:c=""}=e,{noGutters:l=!1}=e,{form:h=!1}=e,{cols:p=0}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(1,s=d(e,o)),"class"in t&&r(2,c=t.class),"noGutters"in t&&r(3,l=t.noGutters),"form"in t&&r(4,h=t.form),"cols"in t&&r(5,p=t.cols),"$$scope"in t&&r(6,u=t.$$scope)},t.$$.update=()=>{60&t.$$.dirty&&r(0,i=Wt(c,l?"gx-0":null,h?"form-row":"row",...function(t){const e=parseInt(t);if(isNaN(e)){if("object"==typeof t)return["xs","sm","md","lg","xl"].map((e=>{const n="xs"===e?"-":`-${e}-`,r=t[e];return"number"==typeof r&&r>0?`row-cols${n}${r}`:null})).filter((t=>!!t))}else if(e>0)return[`row-cols-${e}`];return[]}(p)))},[i,s,c,l,h,p,u,a]}class Ar extends Nt{constructor(t){super(),At(this,t,kr,Sr,a,{class:2,noGutters:3,form:4,cols:5})}}function Nr(t){let e,n;const r=t[1].default,i=c(r,t,t[0],null);return{c(){e=E("colgroup"),i&&i.c()},m(t,r){w(t,e,r),i&&i.m(e,null),n=!0},p(t,[e]){i&&i.p&&(!n||1&e)&&h(i,r,t,t[0],e,null,null)},i(t){n||(yt(i,t),n=!0)},o(t){bt(i,t),n=!1},d(t){t&&I(e),i&&i.d(t)}}}function xr(t,e,n){let{$$slots:r={},$$scope:i}=e;return X("colgroup",!0),t.$$set=t=>{"$$scope"in t&&n(0,i=t.$$scope)},[i,r]}class Dr extends Nt{constructor(t){super(),At(this,t,xr,Nr,a,{})}}function Cr(t){let e;const n=t[3].default,r=c(n,t,t[2],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||4&i)&&h(r,n,t,t[2],i,null,null)},i(t){e||(yt(r,t),e=!0)},o(t){bt(r,t),e=!1},d(t){r&&r.d(t)}}}function Or(t){let e,n;const r=t[3].default,i=c(r,t,t[2],null);return{c(){e=E("div"),i&&i.c(),A(e,"class",t[1])},m(t,r){w(t,e,r),i&&i.m(e,null),n=!0},p(t,o){i&&i.p&&(!n||4&o)&&h(i,r,t,t[2],o,null,null),(!n||2&o)&&A(e,"class",t[1])},i(t){n||(yt(i,t),n=!0)},o(t){bt(i,t),n=!1},d(t){t&&I(e),i&&i.d(t)}}}function Rr(t){let e,n,r,i;const o=[Or,Cr],s=[];function a(t,e){return t[0]?0:1}return e=a(t),n=s[e]=o[e](t),{c(){n.c(),r=S()},m(t,n){s[e].m(t,n),w(t,r,n),i=!0},p(t,[i]){let u=e;e=a(t),e===u?s[e].p(t,i):(gt(),bt(s[u],1,1,(()=>{s[u]=null})),vt(),n=s[e],n?n.p(t,i):(n=s[e]=o[e](t),n.c()),yt(n,1),n.m(r.parentNode,r))},i(t){i||(yt(n),i=!0)},o(t){bt(n),i=!1},d(t){s[e].d(t),t&&I(r)}}}function Pr(t,e,n){let r,{$$slots:i={},$$scope:o}=e,{responsive:s=!1}=e;return t.$$set=t=>{"responsive"in t&&n(0,s=t.responsive),"$$scope"in t&&n(2,o=t.$$scope)},t.$$.update=()=>{1&t.$$.dirty&&n(1,r=Wt("",{"table-responsive":!0===s,[`table-responsive-${s}`]:"string"==typeof s}))},[s,r,o,i]}class Lr extends Nt{constructor(t){super(),At(this,t,Pr,Rr,a,{responsive:0})}}function Mr(t){let e,r,i;const o=t[2].default,s=c(o,t,t[1],null);let a=[t[0]],u={};for(let t=0;t<a.length;t+=1)u=n(u,a[t]);return{c(){e=E("tfoot"),r=E("tr"),s&&s.c(),N(e,u)},m(t,n){w(t,e,n),b(e,r),s&&s.m(r,null),i=!0},p(t,[n]){s&&s.p&&(!i||2&n)&&h(s,o,t,t[1],n,null,null),N(e,u=$t(a,[1&n&&t[0]]))},i(t){i||(yt(s,t),i=!0)},o(t){bt(s,t),i=!1},d(t){t&&I(e),s&&s.d(t)}}}function Fr(t,e,r){const i=[];let o=d(e,i),{$$slots:s={},$$scope:a}=e;return X("footer",!0),t.$$set=t=>{e=n(n({},e),f(t)),r(0,o=d(e,i)),"$$scope"in t&&r(1,a=t.$$scope)},[o,a,s]}class Vr extends Nt{constructor(t){super(),At(this,t,Fr,Mr,a,{})}}function Ur(t){let e,r,i;const o=t[2].default,s=c(o,t,t[1],null);let a=[t[0]],u={};for(let t=0;t<a.length;t+=1)u=n(u,a[t]);return{c(){e=E("thead"),r=E("tr"),s&&s.c(),N(e,u)},m(t,n){w(t,e,n),b(e,r),s&&s.m(r,null),i=!0},p(t,[n]){s&&s.p&&(!i||2&n)&&h(s,o,t,t[1],n,null,null),N(e,u=$t(a,[1&n&&t[0]]))},i(t){i||(yt(s,t),i=!0)},o(t){bt(s,t),i=!1},d(t){t&&I(e),s&&s.d(t)}}}function jr(t,e,r){const i=[];let o=d(e,i),{$$slots:s={},$$scope:a}=e;return X("header",!0),t.$$set=t=>{e=n(n({},e),f(t)),r(0,o=d(e,i)),"$$scope"in t&&r(1,a=t.$$scope)},[o,a,s]}class qr extends Nt{constructor(t){super(),At(this,t,jr,Ur,a,{})}}function Br(t,e,n){const r=t.slice();return r[13]=e[n],r}const Kr=t=>({row:2&t}),Gr=t=>({row:t[13]}),zr=t=>({row:2&t}),Wr=t=>({row:t[13]});function Hr(t){let e;const n=t[11].default,r=c(n,t,t[12],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||4096&i)&&h(r,n,t,t[12],i,null,null)},i(t){e||(yt(r,t),e=!0)},o(t){bt(r,t),e=!1},d(t){r&&r.d(t)}}}function Xr(t){let e,n,r,i,o,s,a,u;e=new Dr({props:{$$slots:{default:[Qr]},$$scope:{ctx:t}}}),r=new qr({props:{$$slots:{default:[Yr]},$$scope:{ctx:t}}});let c=t[1],l=[];for(let e=0;e<c.length;e+=1)l[e]=Jr(Br(t,c,e));const h=t=>bt(l[t],1,1,(()=>{l[t]=null}));return a=new Vr({props:{$$slots:{default:[Zr]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment),n=_(),_t(r.$$.fragment),i=_(),o=E("tbody");for(let t=0;t<l.length;t+=1)l[t].c();s=_(),_t(a.$$.fragment)},m(t,c){St(e,t,c),w(t,n,c),St(r,t,c),w(t,i,c),w(t,o,c);for(let t=0;t<l.length;t+=1)l[t].m(o,null);w(t,s,c),St(a,t,c),u=!0},p(t,n){const i={};4096&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const s={};if(4098&n&&(s.$$scope={dirty:n,ctx:t}),r.$set(s),4098&n){let e;for(c=t[1],e=0;e<c.length;e+=1){const r=Br(t,c,e);l[e]?(l[e].p(r,n),yt(l[e],1)):(l[e]=Jr(r),l[e].c(),yt(l[e],1),l[e].m(o,null))}for(gt(),e=c.length;e<l.length;e+=1)h(e);vt()}const u={};4096&n&&(u.$$scope={dirty:n,ctx:t}),a.$set(u)},i(t){if(!u){yt(e.$$.fragment,t),yt(r.$$.fragment,t);for(let t=0;t<c.length;t+=1)yt(l[t]);yt(a.$$.fragment,t),u=!0}},o(t){bt(e.$$.fragment,t),bt(r.$$.fragment,t),l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)bt(l[t]);bt(a.$$.fragment,t),u=!1},d(t){kt(e,t),t&&I(n),kt(r,t),t&&I(i),t&&I(o),$(l,t),t&&I(s),kt(a,t)}}}function Qr(t){let e;const n=t[11].default,r=c(n,t,t[12],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||4096&i)&&h(r,n,t,t[12],i,null,null)},i(t){e||(yt(r,t),e=!0)},o(t){bt(r,t),e=!1},d(t){r&&r.d(t)}}}function Yr(t){let e;const n=t[11].default,r=c(n,t,t[12],Wr);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||4098&i)&&h(r,n,t,t[12],i,zr,Wr)},i(t){e||(yt(r,t),e=!0)},o(t){bt(r,t),e=!1},d(t){r&&r.d(t)}}}function Jr(t){let e,n,r;const i=t[11].default,o=c(i,t,t[12],Gr);return{c(){e=E("tr"),o&&o.c(),n=_()},m(t,i){w(t,e,i),o&&o.m(e,null),b(e,n),r=!0},p(t,e){o&&o.p&&(!r||4098&e)&&h(o,i,t,t[12],e,Kr,Gr)},i(t){r||(yt(o,t),r=!0)},o(t){bt(o,t),r=!1},d(t){t&&I(e),o&&o.d(t)}}}function Zr(t){let e;const n=t[11].default,r=c(n,t,t[12],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||4096&i)&&h(r,n,t,t[12],i,null,null)},i(t){e||(yt(r,t),e=!0)},o(t){bt(r,t),e=!1},d(t){r&&r.d(t)}}}function ti(t){let e,r,i,o;const s=[Xr,Hr],a=[];function u(t,e){return t[1]?0:1}r=u(t),i=a[r]=s[r](t);let c=[t[3],{class:t[2]}],l={};for(let t=0;t<c.length;t+=1)l=n(l,c[t]);return{c(){e=E("table"),i.c(),N(e,l)},m(t,n){w(t,e,n),a[r].m(e,null),o=!0},p(t,n){let h=r;r=u(t),r===h?a[r].p(t,n):(gt(),bt(a[h],1,1,(()=>{a[h]=null})),vt(),i=a[r],i?i.p(t,n):(i=a[r]=s[r](t),i.c()),yt(i,1),i.m(e,null)),N(e,l=$t(c,[8&n&&t[3],(!o||4&n)&&{class:t[2]}]))},i(t){o||(yt(i),o=!0)},o(t){bt(i),o=!1},d(t){t&&I(e),a[r].d()}}}function ei(t){let e,n;return e=new Lr({props:{responsive:t[0],$$slots:{default:[ti]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.responsive=t[0]),4110&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function ni(t,e,r){let i;const o=["class","size","bordered","borderless","striped","dark","hover","responsive","rows"];let s=d(e,o),{$$slots:a={},$$scope:u}=e,{class:c=""}=e,{size:l=""}=e,{bordered:h=!1}=e,{borderless:p=!1}=e,{striped:m=!1}=e,{dark:g=!1}=e,{hover:v=!1}=e,{responsive:y=!1}=e,{rows:b}=e;return t.$$set=t=>{e=n(n({},e),f(t)),r(3,s=d(e,o)),"class"in t&&r(4,c=t.class),"size"in t&&r(5,l=t.size),"bordered"in t&&r(6,h=t.bordered),"borderless"in t&&r(7,p=t.borderless),"striped"in t&&r(8,m=t.striped),"dark"in t&&r(9,g=t.dark),"hover"in t&&r(10,v=t.hover),"responsive"in t&&r(0,y=t.responsive),"rows"in t&&r(1,b=t.rows),"$$scope"in t&&r(12,u=t.$$scope)},t.$$.update=()=>{2032&t.$$.dirty&&r(2,i=Wt(c,"table",!!l&&"table-"+l,!!h&&"table-bordered",!!p&&"table-borderless",!!m&&"table-striped",!!g&&"table-dark",!!v&&"table-hover"))},[y,b,i,s,c,l,h,p,m,g,v,a,u]}class ri extends Nt{constructor(t){super(),At(this,t,ni,ei,a,{class:4,size:5,bordered:6,borderless:7,striped:8,dark:9,hover:10,responsive:0,rows:1})}}var ii="Nepean Chat",oi={title:ii,home:"Home",chatNow:"Chat Now",aboutUs:"About Us",login:"Helper Zone"},si={jumbo:"Welcome to Nepean Chat!",jumboSub:"Peers helping peers.<br><i>By students, for students.</i>",chatNow:"Chat now"},ai={warning:"<h1>Are you ready to chat with someone?</h1><h2>Before you start, here are some things to take into consideration</h2><ul><li>Be nice. No swearing or demeaning language.</li><li>Do not reveal personal information such as names, addresses, etc.</li></ul>",matchMeNow:"Match me now!"},ui={header:"<h1>One of our devs made a booboo.</h1><h1>Page not found. 404</h1>"};function ci(t){let e,n;return{c(){e=E("img"),e.src!==(n="./chat-animate.svg")&&A(e,"src","./chat-animate.svg"),A(e,"alt","People chatting")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function li(e){let n,r=si.chatNow+"";return{c(){n=T(r)},m(t,e){w(t,n,e)},p:t,d(t){t&&I(n)}}}function hi(t){let e,n,r,i,o,s,a=si.jumboSub+"";return o=new le({props:{color:"primary",$$slots:{default:[li]},$$scope:{ctx:t}}}),o.$on("click",t[0]),{c(){e=E("h1"),e.textContent=`${si.jumbo}`,n=_(),r=E("h3"),i=_(),_t(o.$$.fragment)},m(t,u){w(t,e,u),w(t,n,u),w(t,r,u),r.innerHTML=a,w(t,i,u),St(o,t,u),s=!0},p(t,e){const n={};2&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n)},i(t){s||(yt(o.$$.fragment,t),s=!0)},o(t){bt(o.$$.fragment,t),s=!1},d(t){t&&I(e),t&&I(n),t&&I(r),t&&I(i),kt(o,t)}}}function fi(t){let e,n;return e=new In({props:{$$slots:{default:[hi]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function di(t){let e,n,r,i;return e=new $e({props:{class:"d-none d-md-block",$$slots:{default:[ci]},$$scope:{ctx:t}}}),r=new $e({props:{$$slots:{default:[fi]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment),n=_(),_t(r.$$.fragment)},m(t,o){St(e,t,o),w(t,n,o),St(r,t,o),i=!0},p(t,n){const i={};2&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const o={};2&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(t){i||(yt(e.$$.fragment,t),yt(r.$$.fragment,t),i=!0)},o(t){bt(e.$$.fragment,t),bt(r.$$.fragment,t),i=!1},d(t){kt(e,t),t&&I(n),kt(r,t)}}}function pi(t){let e,n;return e=new Ar({props:{$$slots:{default:[di]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(t,[n]){const r={};2&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function mi(t){return[()=>location.href="#/chat"]}class gi extends Nt{constructor(t){super(),At(this,t,mi,pi,a,{})}}function vi(t){let e;const n=t[5].default,r=c(n,t,t[4],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||16&i)&&h(r,n,t,t[4],i,null,null)},i(t){e||(yt(r,t),e=!0)},o(t){bt(r,t),e=!1},d(t){r&&r.d(t)}}}function yi(t){let e,n,r=t[0]&&vi(t);return{c(){r&&r.c(),e=S()},m(t,i){r&&r.m(t,i),w(t,e,i),n=!0},p(t,[n]){t[0]?r?(r.p(t,n),1&n&&yt(r,1)):(r=vi(t),r.c(),yt(r,1),r.m(e.parentNode,e)):r&&(gt(),bt(r,1,1,(()=>{r=null})),vt())},i(t){n||(yt(r),n=!0)},o(t){bt(r),n=!1},d(t){r&&r.d(t),t&&I(e)}}}function bi(t,e,n){let{$$slots:r={},$$scope:i}=e,{firebase:o}=e,{perf:s=!1}=e,{analytics:a=!1}=e,u=!1;const c=H();return X("firebase",{getFirebase:()=>o}),G((()=>{if(n(1,o=o||window&&window.firebase),!o)throw Error("No firebase app was provided. You must provide an initialized Firebase app or make it available globally.");s&&o.performance(),a&&o.analytics(),c("initializeApp",{firebase:o}),n(0,u=!0)})),t.$$set=t=>{"firebase"in t&&n(1,o=t.firebase),"perf"in t&&n(2,s=t.perf),"analytics"in t&&n(3,a=t.analytics),"$$scope"in t&&n(4,i=t.$$scope)},[u,o,s,a,i,r]}class wi extends Nt{constructor(t){super(),At(this,t,bi,yi,a,{firebase:1,perf:2,analytics:3})}}function Ii(t){const e=function(){const{getFirebase:t}=Q("firebase");return t()}();if(!e)throw new Error("Missing Firebase app in context. Are you inside a 'FirebaseApp' component?");if(t){const n=e[t];if(n&&n())return n();throw new Error(`Firebase ${t} not found. You may be missing "import 'firebase/${t}'" `)}return e}const $i=t=>({user:1&t}),Ei=t=>({user:t[0],auth:t[1].auth}),Ti=t=>({user:1&t}),_i=t=>({user:t[0],auth:t[1].auth}),Si=t=>({user:1&t}),ki=t=>({user:t[0],auth:t[1].auth}),Ai=t=>({user:1&t}),Ni=t=>({user:t[0],auth:t[1].auth});function xi(t){let e;const n=t[4]["signed-out"],r=c(n,t,t[3],_i);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||9&i)&&h(r,n,t,t[3],i,Ti,_i)},i(t){e||(yt(r,t),e=!0)},o(t){bt(r,t),e=!1},d(t){r&&r.d(t)}}}function Di(t){let e;const n=t[4].default,r=c(n,t,t[3],ki);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||9&i)&&h(r,n,t,t[3],i,Si,ki)},i(t){e||(yt(r,t),e=!0)},o(t){bt(r,t),e=!1},d(t){r&&r.d(t)}}}function Ci(t){let e,n,r,i,o;const s=t[4].before,a=c(s,t,t[3],Ni),u=[Di,xi],l=[];function f(t,e){return t[0]?0:1}n=f(t),r=l[n]=u[n](t);const d=t[4].after,p=c(d,t,t[3],Ei);return{c(){a&&a.c(),e=_(),r.c(),i=_(),p&&p.c()},m(t,r){a&&a.m(t,r),w(t,e,r),l[n].m(t,r),w(t,i,r),p&&p.m(t,r),o=!0},p(t,[e]){a&&a.p&&(!o||9&e)&&h(a,s,t,t[3],e,Ai,Ni);let c=n;n=f(t),n===c?l[n].p(t,e):(gt(),bt(l[c],1,1,(()=>{l[c]=null})),vt(),r=l[n],r?r.p(t,e):(r=l[n]=u[n](t),r.c()),yt(r,1),r.m(i.parentNode,i)),p&&p.p&&(!o||9&e)&&h(p,d,t,t[3],e,$i,Ei)},i(t){o||(yt(a,t),yt(r),yt(p,t),o=!0)},o(t){bt(a,t),bt(r),bt(p,t),o=!1},d(t){a&&a.d(t),t&&I(e),l[n].d(t),t&&I(i),p&&p.d(t)}}}function Oi(t,e,n){let r,{$$slots:i={},$$scope:o}=e,{persist:s=null}=e,a=function(t={persist:null}){const e=Ii("auth"),n="sveltefire_user";let r=null;const{persist:i}=t;i&&(r=JSON.parse(t.persist.getItem(n)));const o=Ct(r,(()=>{const r=e.onAuthStateChanged((e=>{a(e),i&&t.persist.setItem(n,JSON.stringify(e))}));return()=>r})),{subscribe:s,set:a}=o;return{subscribe:s,auth:e}}({persist:s});!function(t,e,n){t.$$.on_destroy.push(u(e,n))}(t,a,(t=>n(0,r=t)));const c=H();let l;return G((()=>{l=a.subscribe((t=>{c("user",{user:t})}))})),W((()=>l())),t.$$set=t=>{"persist"in t&&n(2,s=t.persist),"$$scope"in t&&n(3,o=t.$$scope)},[r,a,s,o,i]}class Ri extends Nt{constructor(t){super(),At(this,t,Oi,Ci,a,{persist:2})}}function Pi(t){const e=Ii("performance").trace(t);return e.start(),e}async function Li(t){return 2===t.state&&t.stop(),null}function Mi(t,e){const n=Ii("firestore"),{startWith:r,log:i,traceId:o,maxWait:s,once:a}={maxWait:1e4,...e},u="string"==typeof t?n.doc(t):t,c=o&&Pi(o);let l,h,f=void 0!==typeof r,d=!0,p=null;const m=(t,e)=>{f=!1,d=!1,h&&clearTimeout(h),p=e||null,y(t),c&&Li(c)},g=Ct(r,(()=>(h=s&&setTimeout((()=>f&&m(null,new Error(`Timeout at ${s}. Using fallback slot.`))),s),l=u.onSnapshot((t=>{const e=t.data()||d&&r||null;i&&(console.groupCollapsed(`Doc ${t.id}`),console.log(`Path: ${u.path}`),console.log("Snapshot:",t),console.groupEnd()),m(e),a&&l()}),(t=>{console.error(t),m(null,t)})),()=>l()))),{subscribe:v,set:y}=g;return{subscribe:v,firestore:n,ref:u,get loading(){return f},get error(){return p}}}function Fi(t,e,n){const r=Ii("firestore"),{startWith:i,log:o,traceId:s,maxWait:a,once:u,idField:c,refField:l}={idField:"id",refField:"ref",maxWait:1e4,...n},h="string"==typeof t?r.collection(t):t,f=e&&e(h),d=s&&Pi(s);let p,m,g=void 0!==typeof i,v=null,y={};const b=(t,e)=>{g=!1,m&&clearTimeout(m),v=e||null,y=(t=>t&&t.length?{first:t[0],last:t[t.length-1]}:{})(t),$(t),d&&Li(d)},w=Ct(i,(()=>(m=a&&setTimeout((()=>g&&b(null,new Error(`Timeout at ${a}. Using fallback slot.`))),a),p=(f||h).onSnapshot((t=>{const e=t.docs.map((t=>({...t.data(),...c?{[c]:t.id}:null,...l?{[l]:t.ref}:null})));if(o){const n=g?"New Query":"Updated Query";console.groupCollapsed(`${n} ${h.id} | ${e.length} hits`),console.log(`${h.path}`),console.log("Snapshot: ",t),console.groupEnd()}b(e),u&&p()}),(t=>{console.error(t),b(null,t)})),()=>p()))),{subscribe:I,set:$}=w;return{subscribe:I,firestore:r,ref:h,get loading(){return g},get error(){return v},get meta(){return y}}}const Vi=t=>({data:2&t,ref:1&t,error:1&t}),Ui=t=>({data:t[1],ref:t[0].ref,error:t[0].error}),ji=t=>({data:2&t,ref:1&t,error:1&t}),qi=t=>({data:t[1],ref:t[0].ref,error:t[0].error}),Bi=t=>({data:2&t,ref:1&t,error:1&t}),Ki=t=>({data:t[1],ref:t[0].ref,error:t[0].error}),Gi=t=>({data:2&t,ref:1&t,error:1&t}),zi=t=>({data:t[1],ref:t[0].ref,error:t[0].error}),Wi=t=>({data:2&t,ref:1&t,error:1&t}),Hi=t=>({data:t[1],ref:t[0].ref,error:t[0].error});function Xi(t){let e;const n=t[10].fallback,r=c(n,t,t[9],qi);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||515&i)&&h(r,n,t,t[9],i,ji,qi)},i(t){e||(yt(r,t),e=!0)},o(t){bt(r,t),e=!1},d(t){r&&r.d(t)}}}function Qi(t){let e;const n=t[10].loading,r=c(n,t,t[9],Ki);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||515&i)&&h(r,n,t,t[9],i,Bi,Ki)},i(t){e||(yt(r,t),e=!0)},o(t){bt(r,t),e=!1},d(t){r&&r.d(t)}}}function Yi(t){let e;const n=t[10].default,r=c(n,t,t[9],zi);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||515&i)&&h(r,n,t,t[9],i,Gi,zi)},i(t){e||(yt(r,t),e=!0)},o(t){bt(r,t),e=!1},d(t){r&&r.d(t)}}}function Ji(t){let e,n,r,i,o;const s=t[10].before,a=c(s,t,t[9],Hi),u=[Yi,Qi,Xi],l=[];function f(t,e){return t[1]?0:t[0].loading?1:2}n=f(t),r=l[n]=u[n](t);const d=t[10].after,p=c(d,t,t[9],Ui);return{c(){a&&a.c(),e=_(),r.c(),i=_(),p&&p.c()},m(t,r){a&&a.m(t,r),w(t,e,r),l[n].m(t,r),w(t,i,r),p&&p.m(t,r),o=!0},p(t,[e]){a&&a.p&&(!o||515&e)&&h(a,s,t,t[9],e,Wi,Hi);let c=n;n=f(t),n===c?l[n].p(t,e):(gt(),bt(l[c],1,1,(()=>{l[c]=null})),vt(),r=l[n],r?r.p(t,e):(r=l[n]=u[n](t),r.c()),yt(r,1),r.m(i.parentNode,i)),p&&p.p&&(!o||515&e)&&h(p,d,t,t[9],e,Vi,Ui)},i(t){o||(yt(a,t),yt(r),yt(p,t),o=!0)},o(t){bt(a,t),bt(r),bt(p,t),o=!1},d(t){a&&a.d(t),t&&I(e),l[n].d(t),t&&I(i),p&&p.d(t)}}}function Zi(e,n,r){let i,o=t,s=()=>(o(),o=u(v,(t=>r(1,i=t))),v);e.$$.on_destroy.push((()=>o()));let{$$slots:a={},$$scope:c}=n,{path:l}=n,{log:h=!1}=n,{traceId:f=""}=n,{startWith:d}=n,{maxWait:p=1e4}=n,{once:m=!1}=n;const g={startWith:d,traceId:f,log:h,maxWait:p,once:m};let v=Mi(l,g);s();const y=H();let b;return G((()=>y("ref",{ref:v.ref}))),W((()=>b())),e.$$set=t=>{"path"in t&&r(2,l=t.path),"log"in t&&r(3,h=t.log),"traceId"in t&&r(4,f=t.traceId),"startWith"in t&&r(5,d=t.startWith),"maxWait"in t&&r(6,p=t.maxWait),"once"in t&&r(7,m=t.once),"$$scope"in t&&r(9,c=t.$$scope)},e.$$.update=()=>{261&e.$$.dirty&&(b&&(b(),s(r(0,v=Mi(l,g))),y("ref",{ref:v.ref})),r(8,b=v.subscribe((t=>{y("data",{data:t})}))))},[v,i,l,h,f,d,p,m,b,c,a]}class to extends Nt{constructor(t){super(),At(this,t,Zi,Ji,a,{path:2,log:3,traceId:4,startWith:5,maxWait:6,once:7})}}const eo=t=>({data:2&t,ref:1&t,error:1&t,first:1&t,last:1&t}),no=t=>({data:t[1],ref:t[0].ref,error:t[0].error,first:t[0].meta.first,last:t[0].meta.last}),ro=t=>({data:2&t,ref:1&t,error:1&t,first:1&t,last:1&t}),io=t=>({data:t[1],ref:t[0].ref,error:t[0].error,first:t[0].meta.first,last:t[0].meta.last}),oo=t=>({data:2&t,ref:1&t,error:1&t,first:1&t,last:1&t}),so=t=>({data:t[1],ref:t[0].ref,error:t[0].error,first:t[0].meta.first,last:t[0].meta.last}),ao=t=>({data:2&t,ref:1&t,error:1&t,first:1&t,last:1&t}),uo=t=>({data:t[1],ref:t[0].ref,error:t[0].error,first:t[0].meta.first,last:t[0].meta.last}),co=t=>({data:2&t,ref:1&t,error:1&t,first:1&t,last:1&t}),lo=t=>({data:t[1],ref:t[0].ref,error:t[0].error,first:t[0].meta.first,last:t[0].meta.last});function ho(t){let e;const n=t[11].fallback,r=c(n,t,t[10],io);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||1027&i)&&h(r,n,t,t[10],i,ro,io)},i(t){e||(yt(r,t),e=!0)},o(t){bt(r,t),e=!1},d(t){r&&r.d(t)}}}function fo(t){let e;const n=t[11].loading,r=c(n,t,t[10],so);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||1027&i)&&h(r,n,t,t[10],i,oo,so)},i(t){e||(yt(r,t),e=!0)},o(t){bt(r,t),e=!1},d(t){r&&r.d(t)}}}function po(t){let e;const n=t[11].default,r=c(n,t,t[10],uo);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||1027&i)&&h(r,n,t,t[10],i,ao,uo)},i(t){e||(yt(r,t),e=!0)},o(t){bt(r,t),e=!1},d(t){r&&r.d(t)}}}function mo(t){let e,n,r,i,o;const s=t[11].before,a=c(s,t,t[10],lo),u=[po,fo,ho],l=[];function f(t,e){return t[1]?0:t[0].loading?1:2}n=f(t),r=l[n]=u[n](t);const d=t[11].after,p=c(d,t,t[10],no);return{c(){a&&a.c(),e=_(),r.c(),i=_(),p&&p.c()},m(t,r){a&&a.m(t,r),w(t,e,r),l[n].m(t,r),w(t,i,r),p&&p.m(t,r),o=!0},p(t,[e]){a&&a.p&&(!o||1027&e)&&h(a,s,t,t[10],e,co,lo);let c=n;n=f(t),n===c?l[n].p(t,e):(gt(),bt(l[c],1,1,(()=>{l[c]=null})),vt(),r=l[n],r?r.p(t,e):(r=l[n]=u[n](t),r.c()),yt(r,1),r.m(i.parentNode,i)),p&&p.p&&(!o||1027&e)&&h(p,d,t,t[10],e,eo,no)},i(t){o||(yt(a,t),yt(r),yt(p,t),o=!0)},o(t){bt(a,t),bt(r),bt(p,t),o=!1},d(t){a&&a.d(t),t&&I(e),l[n].d(t),t&&I(i),p&&p.d(t)}}}function go(e,n,r){let i,o=t,s=()=>(o(),o=u(y,(t=>r(1,i=t))),y);e.$$.on_destroy.push((()=>o()));let{$$slots:a={},$$scope:c}=n,{path:l}=n,{query:h=null}=n,{traceId:f=""}=n,{log:d=!1}=n,{startWith:p}=n,{maxWait:m=1e4}=n,{once:g=!1}=n;const v={startWith:p,traceId:f,log:d,maxWait:m,once:g};let y=Fi(l,h,v);s();const b=H();let w;return G((()=>b("ref",{ref:y.ref}))),W((()=>w())),e.$$set=t=>{"path"in t&&r(2,l=t.path),"query"in t&&r(3,h=t.query),"traceId"in t&&r(4,f=t.traceId),"log"in t&&r(5,d=t.log),"startWith"in t&&r(6,p=t.startWith),"maxWait"in t&&r(7,m=t.maxWait),"once"in t&&r(8,g=t.once),"$$scope"in t&&r(10,c=t.$$scope)},e.$$.update=()=>{525&e.$$.dirty&&(w&&(w(),s(r(0,y=Fi(l,h,v))),b("ref",{ref:y.ref})),r(9,w=y.subscribe((t=>{b("data",{data:t})}))))},[y,i,l,h,f,d,p,m,g,w,c,a]}class vo extends Nt{constructor(t){super(),At(this,t,go,mo,a,{path:2,query:3,traceId:4,log:5,startWith:6,maxWait:7,once:8})}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var yo=function(t,e){return(yo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function bo(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}yo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var wo=function(){return(wo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Io(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function $o(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function Eo(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function To(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function _o(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var So={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|a>>4,f=(15&a)<<2|c>>6,d=63&c;u||(d=64,s||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var c=o<<2|s>>4;if(r.push(c),64!==a){var l=s<<4&240|a>>2;if(r.push(l),64!==u){var h=a<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function ko(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=ko(t[n],e[n]));return t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Ao=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function No(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function xo(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Do=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Co.prototype.create),o}return bo(e,t),e}(Error),Co=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?Oo(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new Do(i,a,r);return u},t}();function Oo(t,e){return t.replace(Ro,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var Ro=/\{\$([^}]+)}/g;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Po(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Lo(t,e){var n=new Mo(t,e);return n.subscribe.bind(n)}var Mo=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=Fo),void 0===r.error&&(r.error=Fo),void 0===r.complete&&(r.complete=Fo);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function Fo(){}
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Vo(t){return t&&t._delegate?t._delegate:t}var Uo=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),jo="[DEFAULT]",qo=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t=jo);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new Ao;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=wo({identifier:jo,optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t))try{this.getOrInitializeService({instanceIdentifier:jo})}catch(t){}try{for(var r=Eo(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=To(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService({instanceIdentifier:u});a.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=jo),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Io(this,void 0,void 0,(function(){var t;return $o(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(_o(_o([],To(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),To(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=jo),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.instanceIdentifier,i=void 0===r?jo:r,o=t.options,s=void 0===o?{}:o,a=this.normalizeInstanceIdentifier(i);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var c=Eo(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var h=To(l.value,2),f=h[0],d=h[1];a===this.normalizeInstanceIdentifier(f)&&d.resolve(u)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(u,a),u},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r;try{for(var i=Eo(this.onInitCallbacks),o=i.next();!o.done;o=i.next()){var s=o.value;try{s(t,e)}catch(t){}}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===jo?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(t){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:jo:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Bo,Ko=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new qo(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function Go(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var zo,Wo=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(zo||(zo={}));var Ho,Xo={debug:zo.DEBUG,verbose:zo.VERBOSE,info:zo.INFO,warn:zo.WARN,error:zo.ERROR,silent:zo.SILENT},Qo=zo.INFO,Yo=((Bo={})[zo.DEBUG]="log",Bo[zo.VERBOSE]="log",Bo[zo.INFO]="info",Bo[zo.WARN]="warn",Bo[zo.ERROR]="error",Bo),Jo=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=Yo[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,Go(["["+i+"]  "+t.name+":"],n))}},Zo=function(){function t(t){this.name=t,this._logLevel=Qo,this._logHandler=Jo,this._userLogHandler=null,Wo.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in zo))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?Xo[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Go([this,zo.DEBUG],t)),this._logHandler.apply(this,Go([this,zo.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Go([this,zo.VERBOSE],t)),this._logHandler.apply(this,Go([this,zo.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Go([this,zo.INFO],t)),this._logHandler.apply(this,Go([this,zo.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Go([this,zo.WARN],t)),this._logHandler.apply(this,Go([this,zo.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Go([this,zo.ERROR],t)),this._logHandler.apply(this,Go([this,zo.ERROR],t))},t}();function ts(t){Wo.forEach((function(e){e.setLogLevel(t)}))}var es,ns=((Ho={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Ho["bad-app-name"]="Illegal App name: '{$appName}",Ho["duplicate-app"]="Firebase App named '{$appName}' already exists",Ho["app-deleted"]="Firebase App named '{$appName}' already deleted",Ho["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Ho["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Ho),rs=new Co("app","Firebase",ns),is="@firebase/app",os="[DEFAULT]",ss=((es={})[is]="fire-core",es["@firebase/analytics"]="fire-analytics",es["@firebase/app-check"]="fire-app-check",es["@firebase/auth"]="fire-auth",es["@firebase/database"]="fire-rtdb",es["@firebase/functions"]="fire-fn",es["@firebase/installations"]="fire-iid",es["@firebase/messaging"]="fire-fcm",es["@firebase/performance"]="fire-perf",es["@firebase/remote-config"]="fire-rc",es["@firebase/storage"]="fire-gcs",es["@firebase/firestore"]="fire-fst",es["fire-js"]="fire-js",es["firebase-wrapper"]="fire-js-all",es),as=new Zo("@firebase/app"),us=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=ko(void 0,t),this.container=new Ko(e.name),this._addComponent(new Uo("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e=os),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=os),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){as.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw rs.create("app-deleted",{appName:this.name_})},t}();us.prototype.name&&us.prototype.options||us.prototype.delete||console.log("dc");
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function cs(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=os);var s=o.name;if("string"!=typeof s||!s)throw rs.create("bad-app-name",{appName:String(s)});if(Po(e,s))throw rs.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=ss[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void as.warn(u.join(" "))}o(new Uo(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:ts,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw rs.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=Xo[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:zo[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=Wo;r<i.length;r++)n(i[r])}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t,e)},apps:null,SDK_VERSION:"8.6.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!Po(e,t=t||os))throw rs.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return as.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var a=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw rs.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&ko(a,o.serviceProps),r[s]=a,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,s);return n.apply(this,o.multipleInstances?t:[])}}for(var u=0,c=Object.keys(e);u<c.length;u++){var l=c[u];e[l]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ls=function t(){var e=cs(us);return e.INTERNAL=wo(wo({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){ko(e,t)},createSubscribe:Lo,ErrorFactory:Co,deepExtend:ko}),e}(),hs=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){as.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var fs=self.firebase.SDK_VERSION;fs&&fs.indexOf("LITE")>=0&&as.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ds=ls.initializeApp;ls.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return xo()&&as.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),ds.apply(void 0,t)};var ps=ls;!function(t,e){t.INTERNAL.registerComponent(new Uo("platform-logger",(function(t){return new hs(t)}),"PRIVATE")),t.registerVersion(is,"0.6.22",e),t.registerVersion("fire-js","")}(ps);
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
ps.registerVersion("firebase","8.6.1","app");
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var ms=function(t,e){return(ms=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function gs(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var vs,ys="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},bs=bs||{},ws=ys||self;function Is(){}function $s(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Es(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ts="closure_uid_"+(1e9*Math.random()>>>0),_s=0;function Ss(t,e,n){return t.call.apply(t.bind,arguments)}function ks(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function As(t,e,n){return(As=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ss:ks).apply(null,arguments)}function Ns(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function xs(){return Date.now()}function Ds(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Cs(){this.j=this.j,this.i=this.i}Cs.prototype.j=!1,Cs.prototype.ja=function(){var t;!this.j&&(this.j=!0,this.G(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,Ts)&&t[Ts]||(t[Ts]=++_s))},Cs.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Os=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Rs=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Ps(t){return Array.prototype.concat.apply([],arguments)}function Ls(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ms(t){return/^[\s\xa0]*$/.test(t)}var Fs,Vs=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Us(t,e){return-1!=t.indexOf(e)}function js(t,e){return t<e?-1:t>e?1:0}t:{var qs=ws.navigator;if(qs){var Bs=qs.userAgent;if(Bs){Fs=Bs;break t}}Fs=""}function Ks(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Gs(t){var e={};for(var n in t)e[n]=t[n];return e}var zs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ws(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<zs.length;o++)n=zs[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Hs(t){return Hs[" "](t),t}Hs[" "]=Is;var Xs,Qs,Ys=Us(Fs,"Opera"),Js=Us(Fs,"Trident")||Us(Fs,"MSIE"),Zs=Us(Fs,"Edge"),ta=Zs||Js,ea=Us(Fs,"Gecko")&&!(Us(Fs.toLowerCase(),"webkit")&&!Us(Fs,"Edge"))&&!(Us(Fs,"Trident")||Us(Fs,"MSIE"))&&!Us(Fs,"Edge"),na=Us(Fs.toLowerCase(),"webkit")&&!Us(Fs,"Edge");function ra(){var t=ws.document;return t?t.documentMode:void 0}t:{var ia="",oa=(Qs=Fs,ea?/rv:([^\);]+)(\)|;)/.exec(Qs):Zs?/Edge\/([\d\.]+)/.exec(Qs):Js?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Qs):na?/WebKit\/(\S+)/.exec(Qs):Ys?/(?:Version)[ \/]?(\S+)/.exec(Qs):void 0);if(oa&&(ia=oa?oa[1]:""),Js){var sa=ra();if(null!=sa&&sa>parseFloat(ia)){Xs=String(sa);break t}}Xs=ia}var aa,ua={};function ca(t){return function(t,e){var n=ua;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Vs(String(Xs)).split("."),r=Vs(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=js(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||js(0==s[2].length,0==a[2].length)||js(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(ws.document&&Js){var la=ra();aa=la||(parseInt(Xs,10)||void 0)}else aa=void 0;var ha=aa,fa=!Js||9<=Number(ha),da=Js&&!ca("9"),pa=function(){if(!ws.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ws.addEventListener("test",Is,e),ws.removeEventListener("test",Is,e)}catch(t){}return t}();function ma(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ga(t,e){if(ma.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ea){t:{try{Hs(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:va[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ma.prototype.b=function(){this.defaultPrevented=!0},Ds(ga,ma);var va={2:"touch",3:"pen",4:"mouse"};ga.prototype.b=function(){ga.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,da)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var ya="closure_listenable_"+(1e6*Math.random()|0),ba=0;function wa(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++ba,this.Y=this.Z=!1}function Ia(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function $a(t){this.src=t,this.a={},this.b=0}function Ea(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Os(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ia(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Ta(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}$a.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Ta(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new wa(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var _a="closure_lm_"+(1e6*Math.random()|0),Sa={};function ka(t,e,n,r,i){if(r&&r.once)return Na(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ka(t,e[o],n,r,i);return null}return n=Ma(n),t&&t[ya]?t.va(e,n,Es(r)?!!r.capture:!!r,i):Aa(t,e,n,!1,r,i)}function Aa(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Es(i)?!!i.capture:!!i;if(s&&!fa)return null;var a=Pa(t);if(a||(t[_a]=a=new $a(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Ra,e=fa?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)pa||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ca(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Na(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Na(t,e[o],n,r,i);return null}return n=Ma(n),t&&t[ya]?t.wa(e,n,Es(r)?!!r.capture:!!r,i):Aa(t,e,n,!0,r,i)}function xa(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)xa(t,e[o],n,r,i);else r=Es(r)?!!r.capture:!!r,n=Ma(n),t&&t[ya]?(t=t.c,(e=String(e).toString())in t.a&&(-1<(n=Ta(o=t.a[e],n,r,i))&&(Ia(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Pa(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Ta(e,n,r,i)),(n=-1<t?e[t]:null)&&Da(n))}function Da(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ya])Ea(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ca(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Pa(e))?(Ea(n,t),0==n.b&&(n.src=null,e[_a]=null)):Ia(t)}}}function Ca(t){return t in Sa?Sa[t]:Sa[t]="on"+t}function Oa(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Da(t),n.call(r,e)}function Ra(t,e){if(t.Y)return!0;if(!fa){if(!e)t:{e=["window","event"];for(var n=ws,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Oa(t,e=new ga(e,this))}return Oa(t,new ga(e,this))}function Pa(t){return(t=t[_a])instanceof $a?t:null}var La="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ma(t){return"function"==typeof t?t:(t[La]||(t[La]=function(e){return t.handleEvent(e)}),t[La])}function Fa(){Cs.call(this),this.c=new $a(this),this.J=this,this.C=null}function Va(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new ma(e,t);else if(e instanceof ma)e.target=e.target||t;else{var i=e;Ws(e=new ma(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Ua(s,r,!0,e)&&i}if(i=Ua(s=e.a=t,r,!0,e)&&i,i=Ua(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Ua(s=e.a=n[o],r,!1,e)&&i}function Ua(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&Ea(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Ds(Fa,Cs),Fa.prototype[ya]=!0,(vs=Fa.prototype).addEventListener=function(t,e,n,r){ka(this,t,e,n,r)},vs.removeEventListener=function(t,e,n,r){xa(this,t,e,n,r)},vs.G=function(){if(Fa.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ia(n[r]);delete e.a[t],e.b--}}this.C=null},vs.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},vs.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var ja=ws.JSON.stringify;function qa(){this.b=this.a=null}var Ba,Ka=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new za}),(function(t){t.reset()}));function Ga(){var t=Qa,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function za(){this.next=this.b=this.a=null}function Wa(t){ws.setTimeout((function(){throw t}),0)}function Ha(t,e){Ba||function(){var t=ws.Promise.resolve(void 0);Ba=function(){t.then(Ya)}}(),Xa||(Ba(),Xa=!0),Qa.add(t,e)}qa.prototype.add=function(t,e){var n=Ka.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},za.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},za.prototype.reset=function(){this.next=this.b=this.a=null};var Xa=!1,Qa=new qa;function Ya(){for(var t;t=Ga();){try{t.a.call(t.b)}catch(t){Wa(t)}var e=Ka;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Xa=!1}function Ja(t,e){Fa.call(this),this.b=t||1,this.a=e||ws,this.f=As(this.Za,this),this.g=xs()}function Za(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function tu(t,e,n){if("function"==typeof t)n&&(t=As(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=As(t.handleEvent,t)}return 2147483647<Number(e)?-1:ws.setTimeout(t,e||0)}function eu(t){t.a=tu((function(){t.a=null,t.c&&(t.c=!1,eu(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Ds(Ja,Fa),(vs=Ja.prototype).aa=!1,vs.M=null,vs.Za=function(){if(this.aa){var t=xs()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Va(this,"tick"),this.aa&&(Za(this),this.start()))}},vs.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=xs())},vs.G=function(){Ja.X.G.call(this),Za(this),delete this.a};var nu=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}ms(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:eu(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(ws.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Cs);function ru(t){Cs.call(this),this.b=t,this.a={}}Ds(ru,Cs);var iu=[];function ou(t,e,n,r){Array.isArray(n)||(n&&(iu[0]=n.toString()),n=iu);for(var i=0;i<n.length;i++){var o=ka(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function su(t){Ks(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Da(t)}),t),t.a={}}function au(){this.a=!0}function uu(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return ja(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}ru.prototype.G=function(){ru.X.G.call(this),su(this)},ru.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},au.prototype.info=function(){};var cu={},lu=null;function hu(){return lu=lu||new Fa}function fu(t){ma.call(this,cu.Fa,t)}function du(t){var e=hu();Va(e,new fu(e,t))}function pu(t,e){ma.call(this,cu.STAT_EVENT,t),this.stat=e}function mu(t){var e=hu();Va(e,new pu(e,t))}function gu(t){ma.call(this,cu.Ga,t)}function vu(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ws.setTimeout((function(){t()}),e)}cu.Fa="serverreachability",Ds(fu,ma),cu.STAT_EVENT="statevent",Ds(pu,ma),cu.Ga="timingevent",Ds(gu,ma);var yu={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},bu={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function wu(){}function Iu(t){var e;return(e=t.a)||(e=t.a={}),e}function $u(){}wu.prototype.a=null;var Eu,Tu={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function _u(){ma.call(this,"d")}function Su(){ma.call(this,"c")}function ku(){}function Au(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new ru(this),this.P=Nu,t=ta?125:void 0,this.R=new Ja(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Ds(_u,ma),Ds(Su,ma),Ds(ku,wu),Eu=new ku;var Nu=45e3,xu={},Du={};function Cu(t,e,n){t.H=1,t.i=tc(Hu(e)),t.j=n,t.I=!0,Ou(t,null)}function Ou(t,e){t.u=xs(),Lu(t),t.l=Hu(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),dc(n.b,"t",r),t.D=0,t.a=al(t.g,t.g.C?e:null),0<t.O&&(t.F=new nu(As(t.Ca,t,t.a),t.O)),ou(t.J,t.a,"readystatechange",t.Xa),e=t.B?Gs(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),du(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Ru(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Pu(t,n);if(i==Du){4==e&&(t.h=4,mu(14),r=!1),uu(t.c,t.f,null,"[Incomplete Response]");break}if(i==xu){t.h=4,mu(15),uu(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}uu(t.c,t.f,i,null),ju(t,i)}4==e&&0==n.length&&(t.h=1,mu(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zc(e),e.F=!0,mu(11))):(uu(t.c,t.f,n,"[Invalid Chunked Response]"),Uu(t),Vu(t))}function Pu(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Du:(n=Number(e.substring(n,r)),isNaN(n)?xu:(r+=1)+n>e.length?Du:(e=e.substr(r,n),t.D=r+n,e))}function Lu(t){t.T=xs()+t.P,Mu(t,t.P)}function Mu(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=vu(As(t.Va,t),e)}function Fu(t){t.o&&(ws.clearTimeout(t.o),t.o=null)}function Vu(t){0==t.g.v||t.A||nl(t.g,t)}function Uu(t){Fu(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Za(t.R),su(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ju(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||wc(n.b,t)))if(n.I=t.N,!t.C&&wc(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;el(n),Kc(n)}Jc(n),mu(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=vu(As(n.Sa,n),6e3));if(1>=bc(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else il(n,11)}else if((t.C||n.a==t)&&el(n),!Ms(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Us(l,"spdy")||Us(l,"quic")||Us(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Ic(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Zu(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=xs()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=sl(u,u.C?u.ga:null,u.fa),d.C){$c(u.b,d);var p=d,m=u.D;m&&p.setTimeout(m),p.o&&(Fu(p),Lu(p)),u.a=d}else Yc(u);0<n.g.length&&Wc(n)}else"stop"!=i[0]&&"close"!=i[0]||il(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?il(n,7):Bc(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);du(4)}catch(t){}}function qu(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if($s(t)||"string"==typeof t)Rs(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if($s(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if($s(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Bu(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Bu)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ku(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Gu(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Gu(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Gu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(vs=Au.prototype).setTimeout=function(t){this.P=t},vs.Xa=function(t){t=t.target;var e=this.F;e&&3==Vc(t)?e.f():this.Ca(t)},vs.Ca=function(t){try{if(t==this.a)t:{var e=Vc(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!ta&&!this.a.$())){this.A||4!=e||7==n||du(8==n||0>=r?3:2),Fu(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ms(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,mu(12),Uu(this),Vu(this);break t}uu(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ju(this,u)}this.I?(Ru(this,e,o),ta&&this.b&&3==e&&(ou(this.J,this.R,"tick",this.Wa),this.R.start())):(uu(this.c,this.f,o,null),ju(this,o)),4==e&&Uu(this),this.b&&!this.A&&(4==e?nl(this.g,this):(this.b=!1,Lu(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,mu(12)):(this.h=0,mu(13)),Uu(this),Vu(this)}}}catch(t){}},vs.Wa=function(){if(this.a){var t=Vc(this.a),e=this.a.$();this.D<e.length&&(Fu(this),Ru(this,t,e),this.b&&4!=t&&Lu(this))}},vs.cancel=function(){this.A=!0,Uu(this)},vs.Va=function(){this.o=null;var t=xs();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(du(3),mu(17)),Uu(this),this.h=2,Vu(this)):Mu(this,this.T-t)},(vs=Bu.prototype).K=function(){Ku(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},vs.L=function(){return Ku(this),this.a.concat()},vs.get=function(t,e){return Gu(this.b,t)?this.b[t]:e},vs.set=function(t,e){Gu(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},vs.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var zu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Wu(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Wu){this.a=void 0!==e?e:t.a,Xu(this,t.f),this.j=t.j,Qu(this,t.c),Yu(this,t.h),this.g=t.g,e=t.b;var n=new cc;n.c=e.c,e.a&&(n.a=new Bu(e.a),n.b=e.b),Ju(this,n),this.i=t.i}else t&&(n=String(t).match(zu))?(this.a=!!e,Xu(this,n[1]||"",!0),this.j=ec(n[2]||""),Qu(this,n[3]||"",!0),Yu(this,n[4]),this.g=ec(n[5]||"",!0),Ju(this,n[6]||"",!0),this.i=ec(n[7]||"")):(this.a=!!e,this.b=new cc(null,this.a))}function Hu(t){return new Wu(t)}function Xu(t,e,n){t.f=n?ec(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Qu(t,e,n){t.c=n?ec(e,!0):e}function Yu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ju(t,e,n){e instanceof cc?(t.b=e,function(t,e){e&&!t.f&&(lc(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(hc(this,e),dc(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=nc(e,ac)),t.b=new cc(e,t.a))}function Zu(t,e,n){t.b.set(e,n)}function tc(t){return Zu(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^xs()).toString(36)),t}function ec(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function nc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,rc),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function rc(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Wu.prototype.toString=function(){var t=[],e=this.f;e&&t.push(nc(e,ic,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(nc(e,ic,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(nc(n,"/"==n.charAt(0)?sc:oc,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",nc(n,uc)),t.join("")};var ic=/[#\/\?@]/g,oc=/[#\?:]/g,sc=/[#\?]/g,ac=/[#\?@]/g,uc=/#/g;function cc(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function lc(t){t.a||(t.a=new Bu,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function hc(t,e){lc(t),e=pc(t,e),Gu(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Gu((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ku(t)))}function fc(t,e){return lc(t),e=pc(t,e),Gu(t.a.b,e)}function dc(t,e,n){hc(t,e),0<n.length&&(t.c=null,t.a.set(pc(t,e),Ls(n)),t.b+=n.length)}function pc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(vs=cc.prototype).add=function(t,e){lc(this),this.c=null,t=pc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},vs.forEach=function(t,e){lc(this),this.a.forEach((function(n,r){Rs(n,(function(n){t.call(e,n,r,this)}),this)}),this)},vs.L=function(){lc(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},vs.K=function(t){lc(this);var e=[];if("string"==typeof t)fc(this,t)&&(e=Ps(e,this.a.get(pc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Ps(e,t[n])}return e},vs.set=function(t,e){return lc(this),this.c=null,fc(this,t=pc(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},vs.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},vs.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var mc=function(t,e){this.b=t,this.a=e};function gc(t){this.g=t||vc,ws.PerformanceNavigationTiming?t=0<(t=ws.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(ws.ia&&ws.ia.ya&&ws.ia.ya()&&ws.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var vc=10;function yc(t){return!!t.b||!!t.a&&t.a.size>=t.f}function bc(t){return t.b?1:t.a?t.a.size:0}function wc(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Ic(t,e){t.a?t.a.add(e):t.b=e}function $c(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Ec(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=gs(t.a.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Ls(t.c)}function Tc(){}function _c(){this.a=new Tc}function Sc(t,e,n){var r=n||"";try{qu(t,(function(t,n){var i=t;Es(t)&&(i=ja(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function kc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}gc.prototype.cancel=function(){var t,e;if(this.c=Ec(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=gs(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Tc.prototype.stringify=function(t){return ws.JSON.stringify(t,void 0)},Tc.prototype.parse=function(t){return ws.JSON.parse(t,void 0)};var Ac=ws.JSON.parse;function Nc(t){Fa.call(this),this.headers=new Bu,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=xc,this.D=this.F=!1}Ds(Nc,Fa);var xc="",Dc=/^https?$/i,Cc=["POST","PUT"];function Oc(t){return"content-type"==t.toLowerCase()}function Rc(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Pc(t),Mc(t)}function Pc(t){t.u||(t.u=!0,Va(t,"complete"),Va(t,"error"))}function Lc(t){if(t.b&&void 0!==bs&&(!t.s[1]||4!=Vc(t)||2!=t.W()))if(t.l&&4==Vc(t))tu(t.za,0,t);else if(Va(t,"readystatechange"),4==Vc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(zu)[1]||null;if(!o&&ws.self&&ws.self.location){var s=ws.self.location.protocol;o=s.substr(0,s.length-1)}i=!Dc.test(o?o.toLowerCase():"")}e=i}if(e)Va(t,"complete"),Va(t,"success");else{t.h=6;try{var a=2<Vc(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Pc(t)}}finally{Mc(t)}}}function Mc(t,e){if(t.a){Fc(t);var n=t.a,r=t.s[0]?Is:null;t.a=null,t.s=null,e||Va(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function Fc(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(ws.clearTimeout(t.m),t.m=null)}function Vc(t){return t.a?t.a.readyState:0}function Uc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Ks(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Zu(t,e,n))}function jc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function qc(t){this.pa=0,this.g=[],this.c=new au,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=jc("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=jc("baseRetryDelayMs",5e3,t),this.Ra=jc("retryDelaySeedMs",1e4,t),this.Ma=jc("forwardChannelMaxRetries",2,t),this.ma=jc("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new gc(t&&t.concurrentRequestLimit),this.ka=new _c,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Bc(t){if(Gc(t),3==t.v){var e=t.R++,n=Hu(t.B);Zu(n,"SID",t.J),Zu(n,"RID",e),Zu(n,"TYPE","terminate"),Xc(t,n),(e=new Au(t,t.c,e,void 0)).H=2,e.i=tc(Hu(n)),n=!1,ws.navigator&&ws.navigator.sendBeacon&&(n=ws.navigator.sendBeacon(e.i.toString(),"")),!n&&ws.Image&&((new Image).src=e.i,n=!0),n||(e.a=al(e.g,null),e.a.ba(e.i)),e.u=xs(),Lu(e)}ol(t)}function Kc(t){t.a&&(Zc(t),t.a.cancel(),t.a=null)}function Gc(t){Kc(t),t.j&&(ws.clearTimeout(t.j),t.j=null),el(t),t.b.cancel(),t.h&&("number"==typeof t.h&&ws.clearTimeout(t.h),t.h=null)}function zc(t,e){t.g.push(new mc(t.Oa++,e)),3==t.v&&Wc(t)}function Wc(t){yc(t.b)||t.h||(t.h=!0,Ha(t.Ba,t),t.u=0)}function Hc(t,e){var n;n=e?e.f:t.R++;var r=Hu(t.B);Zu(r,"SID",t.J),Zu(r,"RID",n),Zu(r,"AID",t.P),Xc(t,r),t.i&&t.l&&Uc(r,t.i,t.l),n=new Au(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Qc(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Ic(t.b,n),Cu(n,r,e)}function Xc(t,e){t.f&&qu({},(function(t,n){Zu(e,n,t)}))}function Qc(t,e,n){n=Math.min(t.g.length,n);var r=t.f?As(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Sc(l,s,"req"+c+"_")}catch(t){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Yc(t){t.a||t.j||(t.T=1,Ha(t.Aa,t),t.o=0)}function Jc(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=vu(As(t.Aa,t),rl(t,t.o)),t.o++,!0)}function Zc(t){null!=t.s&&(ws.clearTimeout(t.s),t.s=null)}function tl(t){t.a=new Au(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Hu(t.la);Zu(e,"RID","rpc"),Zu(e,"SID",t.J),Zu(e,"CI",t.H?"0":"1"),Zu(e,"AID",t.P),Xc(t,e),Zu(e,"TYPE","xmlhttp"),t.i&&t.l&&Uc(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=tc(Hu(e)),n.j=null,n.I=!0,Ou(n,t)}function el(t){null!=t.m&&(ws.clearTimeout(t.m),t.m=null)}function nl(t,e){var n=null;if(t.a==e){el(t),Zc(t),t.a=null;var r=2}else{if(!wc(t.b,e))return;n=e.s,$c(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=xs()-e.u;var i=t.u;Va(r=hu(),new gu(r,n,e,i)),Wc(t)}else Yc(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(bc(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=vu(As(t.Ba,t,e),rl(t,t.u)),t.u++,0)))}(t,e)||2==r&&Jc(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:il(t,5);break;case 4:il(t,10);break;case 3:il(t,6);break;default:il(t,2)}}function rl(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function il(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=As(t.Ya,t);n||(n=new Wu("//www.google.com/images/cleardot.gif"),ws.location&&"http"==ws.location.protocol||Xu(n,"https"),tc(n)),function(t,e){var n=new au;if(ws.Image){var r=new Image;r.onload=Ns(kc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ns(kc,n,r,"TestLoadImage: error",!1,e),r.onabort=Ns(kc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ns(kc,n,r,"TestLoadImage: timeout",!1,e),ws.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else mu(2);t.v=0,t.f&&t.f.ra(e),ol(t),Gc(t)}function ol(t){t.v=0,t.I=-1,t.f&&(0==Ec(t.b).length&&0==t.g.length||(t.b.c.length=0,Ls(t.g),t.g.length=0),t.f.qa())}function sl(t,e,n){var r=function(t){return t instanceof Wu?Hu(t):new Wu(t,void 0)}(n);if(""!=r.c)e&&Qu(r,e+"."+r.c),Yu(r,r.h);else{var i=ws.location;r=function(t,e,n,r){var i=new Wu(null,void 0);return t&&Xu(i,t),e&&Qu(i,e),n&&Yu(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Ks(t.V,(function(t,e){Zu(r,e,t)})),e=t.A,n=t.na,e&&n&&Zu(r,e,n),Zu(r,"VER",t.ha),Xc(t,r),r}function al(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Nc(t.Na)).F=t.C,e}function ul(){}function cl(){if(Js&&!(10<=Number(ha)))throw Error("Environmental error: no available transport.")}function ll(t,e){Fa.call(this),this.a=new qc(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ms(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ms(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new dl(this)}function hl(t){_u.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function fl(){Su.call(this),this.status=1}function dl(t){this.a=t}(vs=Nc.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Iu(this.H):Iu(Eu),this.a.onreadystatechange=As(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void Rc(this,t)}t=n||"";var i=new Bu(this.headers);r&&qu(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Oc,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=ws.FormData&&t instanceof ws.FormData,!(0<=Os(Cc,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Fc(this),0<this.o&&((this.D=function(t){return Js&&ca(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=As(this.xa,this)):this.m=tu(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Rc(this,t)}},vs.xa=function(){void 0!==bs&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Va(this,"timeout"),this.abort(8))},vs.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Va(this,"complete"),Va(this,"abort"),Mc(this))},vs.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Mc(this,!0)),Nc.X.G.call(this)},vs.za=function(){this.j||(this.A||this.l||this.g?Lc(this):this.Ua())},vs.Ua=function(){Lc(this)},vs.W=function(){try{return 2<Vc(this)?this.a.status:-1}catch(t){return-1}},vs.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},vs.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ac(e)}},vs.ua=function(){return this.h},vs.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(vs=qc.prototype).ha=8,vs.v=1,vs.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Au(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Ws(r=Gs(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Qc(this,n,e),Zu(i=Hu(this.B),"RID",t),Zu(i,"CVER",22),this.A&&Zu(i,"X-HTTP-Session-Id",this.A),Xc(this,i),this.i&&r&&Uc(i,this.i,r),Ic(this.b,n),this.Ia&&Zu(i,"TYPE","init"),this.da?(Zu(i,"$req",e),Zu(i,"SID","null"),n.U=!0,Cu(n,i,null)):Cu(n,i,e),this.v=2}}else 3==this.v&&(t?Hc(this,t):0==this.g.length||yc(this.b)||Hc(this))},vs.Aa=function(){if(this.j=null,tl(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=vu(As(this.Ta,this),t)}},vs.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,mu(10),Kc(this),tl(this))},vs.Sa=function(){null!=this.m&&(this.m=null,Kc(this),Jc(this),mu(19))},vs.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),mu(2)):(this.c.info("Failed to ping google.com"),mu(1))},(vs=ul.prototype).ta=function(){},vs.sa=function(){},vs.ra=function(){},vs.qa=function(){},vs.Ja=function(){},cl.prototype.a=function(t,e){return new ll(t,e)},Ds(ll,Fa),ll.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;mu(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=sl(t,null,t.fa),Wc(t)},ll.prototype.close=function(){Bc(this.a)},ll.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,zc(this.a,e)}else this.l?((e={}).__data__=ja(t),zc(this.a,e)):zc(this.a,t)},ll.prototype.G=function(){this.a.f=null,delete this.f,Bc(this.a),delete this.a,ll.X.G.call(this)},Ds(hl,_u),Ds(fl,Su),Ds(dl,ul),dl.prototype.ta=function(){Va(this.a,"a")},dl.prototype.sa=function(t){Va(this.a,new hl(t))},dl.prototype.ra=function(t){Va(this.a,new fl(t))},dl.prototype.qa=function(){Va(this.a,"b")},cl.prototype.createWebChannel=cl.prototype.a,ll.prototype.send=ll.prototype.h,ll.prototype.open=ll.prototype.g,ll.prototype.close=ll.prototype.close,yu.NO_ERROR=0,yu.TIMEOUT=8,yu.HTTP_ERROR=6,bu.COMPLETE="complete",$u.EventType=Tu,Tu.OPEN="a",Tu.CLOSE="b",Tu.ERROR="c",Tu.MESSAGE="d",Fa.prototype.listen=Fa.prototype.va,Nc.prototype.listenOnce=Nc.prototype.wa,Nc.prototype.getLastError=Nc.prototype.Qa,Nc.prototype.getLastErrorCode=Nc.prototype.ua,Nc.prototype.getStatus=Nc.prototype.W,Nc.prototype.getResponseJson=Nc.prototype.Pa,Nc.prototype.getResponseText=Nc.prototype.$,Nc.prototype.send=Nc.prototype.ba;var pl=yu,ml=bu,gl=cu,vl=10,yl=11,bl=$u,wl=Nc,Il=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Il.o=-1;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var $l={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},El=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return bo(e,t),e}(Error),Tl=new Zo("@firebase/firestore");function _l(){return Tl.logLevel}function Sl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Tl.logLevel<=zo.DEBUG){var r=e.map(Nl);Tl.debug.apply(Tl,_o(["Firestore (8.5.0): "+t],r))}}function kl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Tl.logLevel<=zo.ERROR){var r=e.map(Nl);Tl.error.apply(Tl,_o(["Firestore (8.5.0): "+t],r))}}function Al(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Tl.logLevel<=zo.WARN){var r=e.map(Nl);Tl.warn.apply(Tl,_o(["Firestore (8.5.0): "+t],r))}}function Nl(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function xl(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.5.0) INTERNAL ASSERTION FAILED: "+t;throw kl(e),new Error(e)}function Dl(t,e){t||xl()}function Cl(t,e){return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ol(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Rl=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Ol(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Pl(t,e){return t<e?-1:t>e?1:0}function Ll(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Ml(t){return t+"\0"}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Fl=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new El($l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new El($l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new El($l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new El($l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Pl(this.nanoseconds,t.nanoseconds):Pl(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Vl=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Fl(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ul(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function jl(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ql(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Bl=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&xl(),void 0===n?n=t.length-e:n>t.length-e&&xl(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Kl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bo(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new El($l.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Bl),Gl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bo(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Gl.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new El($l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new El($l.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new El($l.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new El($l.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Bl),Wl=function(){function t(t){this.fields=t,t.sort(zl.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Ll(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Hl=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Pl(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Hl.EMPTY_BYTE_STRING=new Hl("");var Xl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ql(t){if(Dl(!!t),"string"==typeof t){var e=0,n=Xl.exec(t);if(Dl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Yl(t.seconds),nanos:Yl(t.nanos)}}function Yl(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Jl(t){return"string"==typeof t?Hl.fromBase64String(t):Hl.fromUint8Array(t)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Zl(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function th(t){var e=t.mapValue.fields.__previous_value__;return Zl(e)?th(e):e}function eh(t){var e=Ql(t.mapValue.fields.__local_write_time__.timestampValue);return new Fl(e.seconds,e.nanos)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function nh(t){return null==t}function rh(t){return 0===t&&1/t==-1/0}function ih(t){return"number"==typeof t&&Number.isInteger(t)&&!rh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var oh=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Kl.fromString(e))},t.fromName=function(e){return new t(Kl.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Kl.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Kl.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Kl(e.slice()))},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function sh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zl(t)?4:10:xl()}function ah(t,e){var n=sh(t);if(n!==sh(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eh(t).isEqual(eh(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Ql(t.timestampValue),r=Ql(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Jl(t.bytesValue).isEqual(Jl(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Yl(t.geoPointValue.latitude)===Yl(e.geoPointValue.latitude)&&Yl(t.geoPointValue.longitude)===Yl(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Yl(t.integerValue)===Yl(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Yl(t.doubleValue),r=Yl(e.doubleValue);return n===r?rh(n)===rh(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Ll(t.arrayValue.values||[],e.arrayValue.values||[],ah);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Ul(n)!==Ul(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ah(n[i],r[i])))return!1;return!0}(t,e);default:return xl()}}function uh(t,e){return void 0!==(t.values||[]).find((function(t){return ah(t,e)}))}function ch(t,e){var n=sh(t),r=sh(e);if(n!==r)return Pl(n,r);switch(n){case 0:return 0;case 1:return Pl(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Yl(t.integerValue||t.doubleValue),r=Yl(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return lh(t.timestampValue,e.timestampValue);case 4:return lh(eh(t),eh(e));case 5:return Pl(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Jl(t),r=Jl(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Pl(n[i],r[i]);if(0!==o)return o}return Pl(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Pl(Yl(t.latitude),Yl(e.latitude));return 0!==n?n:Pl(Yl(t.longitude),Yl(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=ch(n[i],r[i]);if(o)return o}return Pl(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Pl(r[s],o[s]);if(0!==a)return a;var u=ch(n[r[s]],i[o[s]]);if(0!==u)return u}return Pl(r.length,o.length)}(t.mapValue,e.mapValue);default:throw xl()}}function lh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Pl(t,e);var n=Ql(t),r=Ql(e),i=Pl(n.seconds,r.seconds);return 0!==i?i:Pl(n.nanos,r.nanos)}function hh(t){return fh(t)}function fh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Ql(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Jl(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,oh.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=fh(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+fh(t.fields[o])}return e+"}"}(t.mapValue):xl();var e,n}function dh(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function ph(t){return!!t&&"integerValue"in t}function mh(t){return!!t&&"arrayValue"in t}function gh(t){return!!t&&"nullValue"in t}function vh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yh(t){return!!t&&"mapValue"in t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var bh=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(zl.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach((function(t,n){t?e.set(n,t):e.delete(n)}))},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return ah(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===sh(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),s=yh(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(s[n]=o,i=!0)}else null!==t?(s[n]=t,i=!0):s.hasOwnProperty(n)&&(delete s[n],i=!0)})),i?{mapValue:{fields:s}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(zl.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!yh(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function wh(t){var e=[];return jl(t.fields||{},(function(t,n){var r=new zl([t]);if(yh(n)){var i=wh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new Wl(e)
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var Ih=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Vl.min(),bh.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,bh.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,bh.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=bh.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=bh.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),$h=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Eh(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new $h(t,e,n,r,i,o,s)}function Th(t){var e=Cl(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+hh(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),nh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Mh(e.startAt)),e.endAt&&(n+="|ub:",n+=Mh(e.endAt)),e.h=n}return e.h}function _h(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Vh(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!ah(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jh(t.startAt,e.startAt)&&jh(t.endAt,e.endAt)}function Sh(t){return oh.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var kh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return bo(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Ah(t,n,r):"array-contains"===n?new Ch(t,r):"in"===n?new Oh(t,r):"not-in"===n?new Rh(t,r):"array-contains-any"===n?new Ph(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Nh(t,n):new xh(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(ch(e,this.value)):null!==e&&sh(this.value)===sh(e)&&this.m(ch(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return xl()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Ah=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=oh.fromName(r.referenceValue),i}return bo(e,t),e.prototype.matches=function(t){var e=oh.comparator(t.key,this.key);return this.m(e)},e}(kh),Nh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Dh("in",n),r}return bo(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(kh),xh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Dh("not-in",n),r}return bo(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(kh);function Dh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return oh.fromName(t.referenceValue)}))}var Ch=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return bo(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return mh(e)&&uh(e.arrayValue,this.value)},e}(kh),Oh=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return bo(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&uh(this.value.arrayValue,e)},e}(kh),Rh=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return bo(e,t),e.prototype.matches=function(t){if(uh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!uh(this.value.arrayValue,e)},e}(kh),Ph=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return bo(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!mh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return uh(e.value.arrayValue,t)}))},e}(kh),Lh=function(t,e){this.position=t,this.before=e};function Mh(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return hh(t)})).join(",")}var Fh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Vh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Uh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?oh.comparator(oh.fromName(s.referenceValue),n.key):ch(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function jh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ah(t.position[n],e.position[n]))return!1;return!0}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var qh=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt};function Bh(t,e,n,r,i,o,s,a){return new qh(t,e,n,r,i,o,s,a)}function Kh(t){return new qh(t)}function Gh(t){return!nh(t.limit)&&"F"===t.limitType}function zh(t){return!nh(t.limit)&&"L"===t.limitType}function Wh(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Hh(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Xh(t){return null!==t.collectionGroup}function Qh(t){var e=Cl(t);if(null===e.p){e.p=[];var n=Hh(e),r=Wh(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Fh(n)),e.p.push(new Fh(zl.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Fh(zl.keyField(),u))}}}return e.p}function Yh(t){var e=Cl(t);if(!e.T)if("F"===e.limitType)e.T=Eh(e.path,e.collectionGroup,Qh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Qh(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new Fh(o.field,s))}var a=e.endAt?new Lh(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Lh(e.startAt.position,!e.startAt.before):null;e.T=Eh(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}return e.T}function Jh(t,e,n){return new qh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Zh(t,e){return _h(Yh(t),Yh(e))&&t.limitType===e.limitType}function tf(t){return Th(Yh(t))+"|lt:"+t.limitType}function ef(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+hh(e.value);var e})).join(", ")+"]"),nh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Mh(t.startAt)),t.endAt&&(e+=", endAt: "+Mh(t.endAt)),"Target("+e+")"}(Yh(t))+"; limitType="+t.limitType+")"}function nf(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):oh.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Uh(t.startAt,Qh(t),e)||t.endAt&&Uh(t.endAt,Qh(t),e))}(t,e)}function rf(t){return function(e,n){for(var r=!1,i=0,o=Qh(t);i<o.length;i++){var s=o[i],a=of(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function of(t,e,n){var r=t.field.isKeyField()?oh.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?ch(r,i):xl()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xl()}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function sf(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(e)?"-0":e}}function af(t){return{integerValue:""+t}}function uf(t,e){return ih(e)?af(e):sf(t,e)}
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var cf=function(){this._=void 0};function lf(t,e,n){return t instanceof df?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof pf?mf(t,e):t instanceof gf?vf(t,e):function(t,e){var n=ff(t,e),r=bf(n)+bf(t.A);return ph(n)&&ph(t.A)?af(r):sf(t.R,r)}(t,e)}function hf(t,e,n){return t instanceof pf?mf(t,e):t instanceof gf?vf(t,e):n}function ff(t,e){return t instanceof yf?ph(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var df=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bo(e,t),e}(cf),pf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return bo(e,t),e}(cf);function mf(t,e){for(var n=wf(e),r=function(t){n.some((function(e){return ah(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var gf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return bo(e,t),e}(cf);function vf(t,e){for(var n=wf(e),r=function(t){n=n.filter((function(e){return!ah(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var yf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return bo(e,t),e}(cf);function bf(t){return Yl(t.integerValue||t.doubleValue)}function wf(t){return mh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var If=function(t,e){this.field=t,this.transform=e},$f=function(t,e){this.version=t,this.transformResults=e},Ef=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Tf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var _f=function(){};function Sf(t,e,n){t instanceof Df?function(t,e,n){var r=t.value.clone(),i=Rf(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Cf?function(t,e,n){if(Tf(t.precondition,e)){var r=Rf(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Of(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function kf(t,e,n){t instanceof Df?function(t,e,n){if(Tf(t.precondition,e)){var r=t.value.clone(),i=Pf(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(xf(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Cf?function(t,e,n){if(Tf(t.precondition,e)){var r=Pf(t.fieldTransforms,n,e),i=e.data;i.setAll(Of(t)),i.setAll(r),e.convertToFoundDocument(xf(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Tf(t.precondition,e)&&e.convertToNoDocument(Vl.min())}(t,e)}function Af(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=ff(o.transform,s||null);null!=a&&(null==n&&(n=bh.empty()),n.set(o.field,a))}return n||null}function Nf(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Ll(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof pf&&e instanceof pf||t instanceof gf&&e instanceof gf?Ll(t.elements,e.elements,ah):t instanceof yf&&e instanceof yf?ah(t.A,e.A):t instanceof df&&e instanceof df}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function xf(t){return t.isFoundDocument()?t.version:Vl.min()}var Df=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return bo(e,t),e}(_f),Cf=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return bo(e,t),e}(_f);function Of(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function Rf(t,e,n){var r=new Map;Dl(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,hf(s,a,n[i]))}return r}function Pf(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,lf(a,u,e))}return r}var Lf,Mf,Ff=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return bo(e,t),e}(_f),Vf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return bo(e,t),e}(_f),Uf=function(t){this.count=t};function jf(t){switch(t){case $l.OK:return xl();case $l.CANCELLED:case $l.UNKNOWN:case $l.DEADLINE_EXCEEDED:case $l.RESOURCE_EXHAUSTED:case $l.INTERNAL:case $l.UNAVAILABLE:case $l.UNAUTHENTICATED:return!1;case $l.INVALID_ARGUMENT:case $l.NOT_FOUND:case $l.ALREADY_EXISTS:case $l.PERMISSION_DENIED:case $l.FAILED_PRECONDITION:case $l.ABORTED:case $l.OUT_OF_RANGE:case $l.UNIMPLEMENTED:case $l.DATA_LOSS:return!0;default:return xl()}}function qf(t){if(void 0===t)return kl("GRPC error has no .code"),$l.UNKNOWN;switch(t){case Lf.OK:return $l.OK;case Lf.CANCELLED:return $l.CANCELLED;case Lf.UNKNOWN:return $l.UNKNOWN;case Lf.DEADLINE_EXCEEDED:return $l.DEADLINE_EXCEEDED;case Lf.RESOURCE_EXHAUSTED:return $l.RESOURCE_EXHAUSTED;case Lf.INTERNAL:return $l.INTERNAL;case Lf.UNAVAILABLE:return $l.UNAVAILABLE;case Lf.UNAUTHENTICATED:return $l.UNAUTHENTICATED;case Lf.INVALID_ARGUMENT:return $l.INVALID_ARGUMENT;case Lf.NOT_FOUND:return $l.NOT_FOUND;case Lf.ALREADY_EXISTS:return $l.ALREADY_EXISTS;case Lf.PERMISSION_DENIED:return $l.PERMISSION_DENIED;case Lf.FAILED_PRECONDITION:return $l.FAILED_PRECONDITION;case Lf.ABORTED:return $l.ABORTED;case Lf.OUT_OF_RANGE:return $l.OUT_OF_RANGE;case Lf.UNIMPLEMENTED:return $l.UNIMPLEMENTED;case Lf.DATA_LOSS:return $l.DATA_LOSS;default:return xl()}}(Mf=Lf||(Lf={}))[Mf.OK=0]="OK",Mf[Mf.CANCELLED=1]="CANCELLED",Mf[Mf.UNKNOWN=2]="UNKNOWN",Mf[Mf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mf[Mf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mf[Mf.NOT_FOUND=5]="NOT_FOUND",Mf[Mf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mf[Mf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mf[Mf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mf[Mf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mf[Mf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mf[Mf.ABORTED=10]="ABORTED",Mf[Mf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mf[Mf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mf[Mf.INTERNAL=13]="INTERNAL",Mf[Mf.UNAVAILABLE=14]="UNAVAILABLE",Mf[Mf.DATA_LOSS=15]="DATA_LOSS";
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Bf=function(){function t(t,e){this.comparator=t,this.root=e||Gf.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gf.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gf.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Kf(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Kf(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Kf(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Kf(this.root,t,this.comparator,!0)},t}(),Kf=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Gf=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw xl();if(this.right.isRed())throw xl();var t=this.left.check();if(t!==this.right.check())throw xl();return t+(this.isRed()?0:1)},t}();Gf.EMPTY=null,Gf.RED=!0,Gf.BLACK=!1,Gf.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw xl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw xl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw xl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw xl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw xl()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Gf(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var zf=function(){function t(t){this.comparator=t,this.data=new Bf(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Wf(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Wf(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Wf=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Hf=new Bf(oh.comparator);function Xf(){return Hf}var Qf=new Bf(oh.comparator);function Yf(){return Qf}var Jf=new Bf(oh.comparator);var Zf=new zf(oh.comparator);function td(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Zf,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ed=new zf(Pl);function nd(){return ed}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var rd=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,id.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Vl.min(),r,nd(),Xf(),td())},t}(),id=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Hl.EMPTY_BYTE_STRING,n,td(),td(),td())},t}(),od=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},sd=function(t,e){this.targetId=t,this.V=e},ad=function(t,e,n,r){void 0===n&&(n=Hl.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},ud=function(){function t(){this.S=0,this.D=hd(),this.C=Hl.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=td(),e=td(),n=td();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:xl()}})),new id(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=hd()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),cd=function(){function t(t){this.W=t,this.G=new Map,this.H=Xf(),this.J=ld(),this.Y=new zf(Pl)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:xl()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Sh(i))if(0===n){var o=new oh(i.path);this.tt(e,o,Ih.newNoDocument(o,Vl.min()))}else Dl(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&Sh(o.target)){var s=new oh(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,Ih.newNoDocument(s,t))}r.O&&(n.set(i,r.M()),r.L())}}));var r=td();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new rd(t,n,this.Y,this.H,r);return this.H=Xf(),this.J=ld(),this.Y=new zf(Pl),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new ud,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new zf(Pl),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Sl("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new ud),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function ld(){return new Bf(oh.comparator)}function hd(){return new Bf(oh.comparator)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var fd={asc:"ASCENDING",desc:"DESCENDING"},dd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pd=function(t,e){this.databaseId=t,this.I=e};function md(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function gd(t,e){return t.I?e.toBase64():e.toUint8Array()}function vd(t,e){return md(t,e.toTimestamp())}function yd(t){return Dl(!!t),Vl.fromTimestamp(function(t){var e=Ql(t);return new Fl(e.seconds,e.nanos)}(t))}function bd(t,e){return function(t){return new Kl(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function wd(t){var e=Kl.fromString(t);return Dl(Bd(e)),e}function Id(t,e){return bd(t.databaseId,e.path)}function $d(t,e){var n=wd(e);if(n.get(1)!==t.databaseId.projectId)throw new El($l.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new El($l.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oh(Sd(n))}function Ed(t,e){return bd(t.databaseId,e)}function Td(t){var e=wd(t);return 4===e.length?Kl.emptyPath():Sd(e)}function _d(t){return new Kl(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Sd(t){return Dl(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function kd(t,e,n){return{name:Id(t,e),fields:n.toProto().mapValue.fields}}function Ad(t,e){var n;if(e instanceof Df)n={update:kd(t,e.key,e.value)};else if(e instanceof Ff)n={delete:Id(t,e.key)};else if(e instanceof Cf)n={update:kd(t,e.key,e.data),updateMask:qd(e.fieldMask)};else{if(!(e instanceof Vf))return xl();n={verify:Id(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof df)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof pf)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof gf)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof yf)return{fieldPath:e.field.canonicalString(),increment:n.A};throw xl()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:vd(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:xl()}(t,e.precondition)),n}function Nd(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ef.updateTime(yd(t.updateTime)):void 0!==t.exists?Ef.exists(t.exists):Ef.none()}(e.currentDocument):Ef.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)Dl("REQUEST_TIME"===e.setToServerValue),n=new df;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new pf(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new gf(i)}else"increment"in e?n=new yf(t,e.increment):xl();var o=zl.fromServerFormat(e.fieldPath);return new If(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=$d(t,e.update.name),o=new bh({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){var e=t.fieldPaths||[];return new Wl(e.map((function(t){return zl.fromServerFormat(t)})))}(e.updateMask);return new Cf(i,o,s,n,r)}return new Df(i,o,n,r)}if(e.delete){var a=$d(t,e.delete);return new Ff(a,n)}if(e.verify){var u=$d(t,e.verify);return new Vf(u,n)}return xl()}function xd(t,e){return{documents:[Ed(t,e.path)]}}function Dd(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Ed(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ed(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(vh(t.value))return{unaryFilter:{field:Fd(t.field),op:"IS_NAN"}};if(gh(t.value))return{unaryFilter:{field:Fd(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(vh(t.value))return{unaryFilter:{field:Fd(t.field),op:"IS_NOT_NAN"}};if(gh(t.value))return{unaryFilter:{field:Fd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fd(t.field),op:Md(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Fd(t.field),direction:Ld(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||nh(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Rd(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Rd(e.endAt)),n}function Cd(t){var e=Td(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Dl(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Od(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Fh(Vd(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return nh(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Pd(n.startAt));var l=null;return n.endAt&&(l=Pd(n.endAt)),Bh(e,i,a,s,u,"F",c,l)}function Od(t){return t?void 0!==t.unaryFilter?[jd(t)]:void 0!==t.fieldFilter?[Ud(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return Od(t)})).reduce((function(t,e){return t.concat(e)})):xl():[]}function Rd(t){return{before:t.before,values:t.position}}function Pd(t){var e=!!t.before,n=t.values||[];return new Lh(n,e)}function Ld(t){return fd[t]}function Md(t){return dd[t]}function Fd(t){return{fieldPath:t.canonicalString()}}function Vd(t){return zl.fromServerFormat(t.fieldPath)}function Ud(t){return kh.create(Vd(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return xl()}}(t.fieldFilter.op),t.fieldFilter.value)}function jd(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Vd(t.unaryFilter.field);return kh.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Vd(t.unaryFilter.field);return kh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Vd(t.unaryFilter.field);return kh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Vd(t.unaryFilter.field);return kh.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return xl()}}function qd(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Bd(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Kd(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=zd(e)),e=Gd(t.get(n),e);return zd(e)}function Gd(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function zd(t){return t+""}function Wd(t){var e=t.length;if(Dl(e>=2),2===e)return Dl(""===t.charAt(0)&&""===t.charAt(1)),Kl.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&xl(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:xl()}o=s+2}return new Kl(r)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Hd=function(t,e){this.seconds=t,this.nanoseconds=e},Xd=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Xd.store="owner",Xd.key="owner";var Qd=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Qd.store="mutationQueues",Qd.keyPath="userId";var Yd=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Yd.store="mutations",Yd.keyPath="batchId",Yd.userMutationsIndex="userMutationsIndex",Yd.userMutationsKeyPath=["userId","batchId"];var Jd=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Kd(e)]},t.key=function(t,e,n){return[t,Kd(e),n]},t}();Jd.store="documentMutations",Jd.PLACEHOLDER=new Jd;var Zd=function(t,e){this.path=t,this.readTime=e},tp=function(t,e){this.path=t,this.version=e},ep=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};ep.store="remoteDocuments",ep.readTimeIndex="readTimeIndex",ep.readTimeIndexPath="readTime",ep.collectionReadTimeIndex="collectionReadTimeIndex",ep.collectionReadTimeIndexPath=["parentPath","readTime"];var np=function(t){this.byteSize=t};np.store="remoteDocumentGlobal",np.key="remoteDocumentGlobalKey";var rp=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};rp.store="targets",rp.keyPath="targetId",rp.queryTargetsIndexName="queryTargetsIndex",rp.queryTargetsKeyPath=["canonicalId","targetId"];var ip=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ip.store="targetDocuments",ip.keyPath=["targetId","path"],ip.documentTargetsIndex="documentTargetsIndex",ip.documentTargetsKeyPath=["path","targetId"];var op=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};op.key="targetGlobalKey",op.store="targetGlobal";var sp=function(t,e){this.collectionId=t,this.parent=e};sp.store="collectionParents",sp.keyPath=["collectionId","parent"];var ap=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};ap.store="clientMetadata",ap.keyPath="clientId";var up=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};up.store="bundles",up.keyPath="bundleId";var cp=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};cp.store="namedQueries",cp.keyPath="name";var lp=_o(_o([],_o(_o([],_o(_o([],_o(_o([],[Qd.store,Yd.store,Jd.store,ep.store,rp.store,Xd.store,op.store,ip.store]),[ap.store])),[np.store])),[sp.store])),[up.store,cp.store]),hp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",fp=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),dp=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},pp=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&xl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),mp=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new dp,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new yp(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Ep(e.target.error);n.ft.reject(new yp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new yp(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Sl("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new wp(e)},t}(),gp=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(No())&&kl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Sl("SimpleDb","Removing database:",t),Ip(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=No(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Io(this,void 0,void 0,(function(){var e,n=this;return $o(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Sl("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new yp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new El($l.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new yp(t,n))},i.onupgradeneeded=function(t){Sl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next((function(){Sl("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Io(this,void 0,void 0,(function(){var i,o,s,a,u;return $o(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return $o(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=mp.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),pp.reject(t)})).toPromise(),u={},s.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,Sl("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),vp=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Ip(this.Pt.delete())},t}(),yp=function(t){function e(e,n){var r=this;return(r=t.call(this,$l.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return bo(e,t),e}(El);function bp(t){return"IndexedDbTransactionError"===t.name}var wp=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Sl("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Sl("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ip(n)},t.prototype.add=function(t){return Sl("SimpleDb","ADD",this.store.name,t,t),Ip(this.store.add(t))},t.prototype.get=function(t){var e=this;return Ip(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Sl("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Sl("SimpleDb","DELETE",this.store.name,t),Ip(this.store.delete(t))},t.prototype.count=function(){return Sl("SimpleDb","COUNT",this.store.name),Ip(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){Sl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new pp((function(n,r){e.onerror=function(t){var e=Ep(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new pp((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new vp(i),s=e(i.primaryKey,i.value,o);if(s instanceof pp){var a=s.catch((function(t){return o.done(),pp.reject(t)}));n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return pp.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Ip(t){return new pp((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Ep(t.target.error);n(e)}}))}var $p=!1;function Ep(t){var e=gp._t(No());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new El("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return $p||($p=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Tp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return bo(e,t),e}(fp);function _p(t,e){var n=Cl(t);return gp.It(n.Mt,e)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Sp=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Sf(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&kf(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&kf(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Vl.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),td())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ll(this.mutations,t.mutations,(function(t,e){return Nf(t,e)}))&&Ll(this.baseMutations,t.baseMutations,(function(t,e){return Nf(t,e)}))},t}(),kp=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Dl(e.mutations.length===r.length);for(var i=Jf,o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Ap=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Vl.min()),void 0===o&&(o=Vl.min()),void 0===s&&(s=Hl.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Np=function(t){this.Lt=t};function xp(t,e){if(e.document)return function(t,e,n){var r=$d(t,e.name),i=yd(e.updateTime),o=new bh({mapValue:{fields:e.fields}}),s=Ih.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=oh.fromSegments(e.noDocument.path),r=Pp(e.noDocument.readTime),i=Ih.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=oh.fromSegments(e.unknownDocument.path);return r=Pp(e.unknownDocument.version),Ih.newUnknownDocument(o,r)}return xl()}function Dp(t,e,n){var r=Cp(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Id(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:md(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new ep(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Rp(e.version);return s=e.hasCommittedMutations,new ep(null,new Zd(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Rp(e.version);return new ep(new tp(c,l),null,null,!0,r,i)}return xl()}function Cp(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Op(t){var e=new Fl(t[0],t[1]);return Vl.fromTimestamp(e)}function Rp(t){var e=t.toTimestamp();return new Hd(e.seconds,e.nanoseconds)}function Pp(t){var e=new Fl(t.seconds,t.nanoseconds);return Vl.fromTimestamp(e)}function Lp(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Nd(t.Lt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var s=e.mutations.map((function(e){return Nd(t.Lt,e)})),a=Fl.fromMillis(e.localWriteTimeMs);return new Sp(e.batchId,a,n,s)}function Mp(t){var e,n,r=Pp(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Pp(t.lastLimboFreeSnapshotVersion):Vl.min();return void 0!==t.query.documents?(Dl(1===(n=t.query).documents.length),e=Yh(Kh(Td(n.documents[0])))):e=function(t){return Yh(Cd(t))}(t.query),new Ap(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Hl.fromBase64String(t.resumeToken))}function Fp(t,e){var n,r=Rp(e.snapshotVersion),i=Rp(e.lastLimboFreeSnapshotVersion);n=Sh(e.target)?xd(t.Lt,e.target):Dd(t.Lt,e.target);var o=e.resumeToken.toBase64();return new rp(e.targetId,Th(e.target),r,o,e.sequenceNumber,i,n)}function Vp(t){var e=Cd({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Jh(e,e.limit,"L"):e}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Up=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return jp(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Pp(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return jp(t).put({bundleId:(n=e).id,createTime:Rp(yd(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return qp(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Vp(e.bundledQuery),readTime:Pp(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return qp(t).put(function(t){return{name:t.name,readTime:Rp(yd(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function jp(t){return _p(t,up.store)}function qp(t){return _p(t,cp.store)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Bp=function(){function t(){this.Bt=new Kp}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),pp.resolve()},t.prototype.getCollectionParents=function(t,e){return pp.resolve(this.Bt.getEntries(e))},t}(),Kp=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new zf(Kl.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new zf(Kl.comparator)).toArray()},t}(),Gp=function(){function t(){this.qt=new Kp}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:Kd(i)};return zp(t).put(o)}return pp.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Ml(e),""],!1,!0);return zp(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Wd(o.parent))}return n}))},t}();function zp(t){return _p(t,sp.store)}
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Wp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Hp=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Xp(t,e,n){var r=t.store(Yd.store),i=t.store(Jd.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Ot({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){Dl(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Jd.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return pp.waitFor(o).next((function(){return c}))}function Qp(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw xl();e=t.noDocument}return JSON.stringify(e).length}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */Hp.DEFAULT_COLLECTION_PERCENTILE=10,Hp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hp.DEFAULT=new Hp(41943040,Hp.DEFAULT_COLLECTION_PERCENTILE,Hp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hp.DISABLED=new Hp(-1,0,0);var Yp=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Dl(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zp(t).Ot({index:Yd.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=tm(t),s=Zp(t);return s.add({}).next((function(a){Dl("number"==typeof a);for(var u=new Sp(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Ad(t.Lt,e)})),i=n.mutations.map((function(e){return Ad(t.Lt,e)}));return new Yd(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new zf((function(t,e){return Pl(t.canonicalString(),e.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],m=Jd.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(m,Jd.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Qt[a]=u.keys()})),pp.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Zp(t).get(e).next((function(t){return t?(Dl(t.userId===n.userId),Lp(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?pp.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Zp(t).Ot({index:Yd.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Dl(e.batchId>=r),o=Lp(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Zp(t).Ot({index:Yd.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zp(t).Nt(Yd.userMutationsIndex,n).next((function(t){return t.map((function(t){return Lp(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Jd.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return tm(t).Ot({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],l=Wd(u);if(a===n.userId&&e.path.isEqual(l))return Zp(t).get(c).next((function(t){if(!t)throw xl();Dl(t.userId===n.userId),o.push(Lp(n.R,t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new zf(Pl),i=[];return e.forEach((function(e){var o=Jd.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=tm(t).Ot({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=Wd(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),pp.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Jd.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new zf(Pl);return tm(t).Ot({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],l=Wd(u);s===n.userId&&r.isPrefixOf(l)?l.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Wt(t,a)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Zp(t).get(e).next((function(t){if(null===t)throw xl();Dl(t.userId===n.userId),r.push(Lp(n.R,t))})))})),pp.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return Xp(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),pp.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return pp.resolve();var r=IDBKeyRange.lowerBound(Jd.prefixForUser(e.userId)),i=[];return tm(t).Ot({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Wd(t[1]);i.push(o)}else r.done()})).next((function(){Dl(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return Jp(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return em(t).get(this.userId).next((function(t){return t||new Qd(e.userId,-1,"")}))},t}();function Jp(t,e,n){var r=Jd.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return tm(t).Ot({range:o,kt:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function Zp(t){return _p(t,Yd.store)}function tm(t){return _p(t,Jd.store)}function em(t){return _p(t,Qd.store)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var nm=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),rm=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new nm(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return Vl.fromTimestamp(new Fl(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return im(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return Dl(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return im(t).Ot((function(s,a){var u=Mp(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return pp.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return im(t).Ot((function(t,n){var r=Mp(n);e(r)}))},t.prototype.Xt=function(t){return om(t).get(op.key).next((function(t){return Dl(null!==t),t}))},t.prototype.Zt=function(t,e){return om(t).put(op.key,e)},t.prototype.te=function(t,e){return im(t).put(Fp(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=Th(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return im(t).Ot({range:r,index:rp.queryTargetsIndexName},(function(t,n,r){var o=Mp(n);_h(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=sm(t);return e.forEach((function(e){var s=Kd(e.path);i.push(o.put(new ip(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))})),pp.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=sm(t);return pp.forEach(e,(function(e){var o=Kd(e.path);return pp.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=sm(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=sm(t),i=td();return r.Ot({range:n,kt:!0},(function(t,e,n){var r=Wd(t[1]),o=new oh(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=Kd(e.path),r=IDBKeyRange.bound([n],[Ml(n)],!1,!0),i=0;return sm(t).Ot({index:ip.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return im(t).get(e).next((function(t){return t?Mp(t):null}))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function im(t){return _p(t,rp.store)}function om(t){return _p(t,op.store)}function sm(t){return _p(t,ip.store)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function am(t){return Io(this,void 0,void 0,(function(){return $o(this,(function(e){if(t.code!==$l.FAILED_PRECONDITION||t.message!==hp)throw t;return Sl("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function um(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=Pl(n,i);return 0===s?Pl(r,o):s}var cm=function(){function t(t){this.ne=t,this.buffer=new zf(um),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();um(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),lm=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Sl("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Io(e,void 0,void 0,(function(){var e;return $o(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return bp(e=n.sent())?(Sl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,am(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),hm=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return pp.resolve(Il.o);var r=new cm(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Sl("LruGarbageCollector","Garbage collection skipped; disabled"),pp.resolve(Wp)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Sl("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Wp):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(Sl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),_l()<=zo.DEBUG&&Sl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),pp.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),fm=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new hm(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return dm(t,n)},t.prototype.removeReference=function(t,e,n){return dm(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return dm(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return em(t).$t((function(r){return Jp(t,r,e).next((function(t){return t&&(n=!0),pp.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(s,a){if(a<=e){var u=n._e(t,s).next((function(e){if(!e)return o++,r.getEntry(t,s).next((function(){return r.removeEntry(s),sm(t).delete([0,Kd(s.path)])}))}));i.push(u)}})).next((function(){return pp.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return dm(t,e)},t.prototype.we=function(t,e){var n,r=sm(t),i=Il.o;return r.Ot({index:ip.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==Il.o&&e(new oh(Wd(n)),i),i=a,n=s):i=Il.o})).next((function(){i!==Il.o&&e(new oh(Wd(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function dm(t,e){return sm(t).put(function(t,e){return new ip(0,Kd(t.path),e)}(e,t.currentSequenceNumber))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var pm=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.equalsFn(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){jl(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype.isEmpty=function(){return ql(this.inner)},t}(),mm=function(){function t(){this.changes=new pm((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Vl.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Ih.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?pp.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),gm=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return bm(t).put(wm(e),n)},t.prototype.removeEntry=function(t,e){var n=bm(t),r=wm(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return bm(t).get(wm(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return bm(t).get(wm(e)).next((function(t){return{document:n.ye(e,t),size:Qp(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=Xf();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=Xf(),i=new Bf(oh.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Qp(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return pp.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return bm(t).Ot({range:r},(function(t,e,r){for(var s=oh.fromSegments(t);o&&oh.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Xf(),o=e.path.length+1,s={};if(n.isEqual(Vl.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=Cp(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=ep.collectionReadTimeIndex}return bm(t).Ot(s,(function(t,n,s){if(t.length===o){var a=xp(r.R,n);e.path.isPrefixOf(a.key.path)?nf(e,a)&&(i=i.insert(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new vm(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return ym(t).get(np.key).next((function(t){return Dl(!!t),t}))},t.prototype.me=function(t,e){return ym(t).put(np.key,e)},t.prototype.ye=function(t,e){if(e){var n=xp(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Vl.min()))return n}return Ih.newInvalidDocument(t)},t}(),vm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new pm((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return bo(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new zf((function(t,e){return Pl(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=Dp(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Qp(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=Dp(e.Ie.R,Ih.newNoDocument(o,Vl.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),pp.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(mm);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ym(t){return _p(t,np.store)}function bm(t){return _p(t,ep.store)}function wm(t){return t.path.toArray()}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Im=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Dl(n<r&&n>=0&&r<=11);var o=new mp("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Xd.store)}(t),function(t){t.createObjectStore(Qd.store,{keyPath:Qd.keyPath}),t.createObjectStore(Yd.store,{keyPath:Yd.keyPath,autoIncrement:!0}).createIndex(Yd.userMutationsIndex,Yd.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Jd.store)}(t),$m(t),function(t){t.createObjectStore(ep.store)}(t));var s=pp.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ip.store),t.deleteObjectStore(rp.store),t.deleteObjectStore(op.store)}(t),$m(t)),s=s.next((function(){return function(t){var e=t.store(op.store),n=new op(0,0,Vl.min().toTimestamp(),0);return e.put(op.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Yd.store).Nt().next((function(n){t.deleteObjectStore(Yd.store),t.createObjectStore(Yd.store,{keyPath:Yd.keyPath,autoIncrement:!0}).createIndex(Yd.userMutationsIndex,Yd.userMutationsKeyPath,{unique:!0});var r=e.store(Yd.store),i=n.map((function(t){return r.put(t)}));return pp.waitFor(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(ap.store,{keyPath:ap.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Re(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(np.store)}(t),i.be(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ve(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(ep.store);e.createIndex(ep.readTimeIndex,ep.readTimeIndexPath,{unique:!1}),e.createIndex(ep.collectionReadTimeIndex,ep.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(up.store,{keyPath:up.keyPath})}(t),function(t){t.createObjectStore(cp.store,{keyPath:cp.keyPath})}(t)}))),s},t.prototype.be=function(t){var e=0;return t.store(ep.store).Ot((function(t,n){e+=Qp(n)})).next((function(){var n=new np(e);return t.store(np.store).put(np.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(Qd.store),r=t.store(Yd.store);return n.Nt().next((function(n){return pp.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Yd.userMutationsIndex,i).next((function(r){return pp.forEach(r,(function(r){Dl(r.userId===n.userId);var i=Lp(e.R,r);return Xp(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(ip.store),n=t.store(ep.store);return t.store(op.store).get(op.key).next((function(t){var r=[];return n.Ot((function(n,i){var o=new Kl(n),s=function(t){return[0,Kd(t)]}(o);r.push(e.get(s).next((function(n){return n?pp.resolve():function(n){return e.put(new ip(0,Kd(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return pp.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(sp.store,{keyPath:sp.keyPath});var n=e.store(sp.store),r=new Kp,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Kd(i)})}};return e.store(ep.store).Ot({kt:!0},(function(t,e){var n=new Kl(t);return i(n.popLast())})).next((function(){return e.store(Jd.store).Ot({kt:!0},(function(t,e){t[0];var n=t[1],r=(t[2],Wd(n));return i(r.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(rp.store);return n.Ot((function(t,r){var i=Mp(r),o=Fp(e.R,i);return n.put(o)}))},t}();function $m(t){t.createObjectStore(ip.store,{keyPath:ip.keyPath}).createIndex(ip.documentTargetsIndex,ip.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(rp.store,{keyPath:rp.keyPath}).createIndex(rp.queryTargetsIndexName,rp.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(op.store)}var Em="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Tm=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new El($l.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fm(this,i),this.Le=n+"main",this.R=new Np(u),this.Be=new gp(this.Le,11,new Im(this.R)),this.qe=new rm(this.referenceDelegate,this.R),this.Ut=new Gp,this.Ue=function(t,e){return new gm(t,e)}(this.R,this.Ut),this.Qe=new Up,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&kl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new El($l.FAILED_PRECONDITION,Em);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new Il(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Io(e,void 0,void 0,(function(){return $o(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return Io(e,void 0,void 0,(function(){return $o(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return Io(e,void 0,void 0,(function(){return $o(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Sm(e).put(new ap(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(bp(e))return Sl("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Sl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return _m(t).get(Xd.key).next((function(t){return pp.resolve(e.tn(t))}))},t.prototype.en=function(t){return Sm(t).delete(this.clientId)},t.prototype.nn=function(){return Io(this,void 0,void 0,(function(){var t,e,n,r,i=this;return $o(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=_p(t,ap.store);return e.Nt().next((function(t){var n=i.rn(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return pp.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)r=n[e],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?pp.resolve(!0):_m(t).get(Xd.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new El($l.FAILED_PRECONDITION,Em);return!1}}return!(!e.networkEnabled||!e.inForeground)||Sm(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Sl("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return Io(this,void 0,void 0,(function(){var t=this;return $o(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Xd.store,ap.store],(function(e){var n=new Tp(e,Il.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Sm(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Yp.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Sl("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,lp,(function(o){return i=new Tp(o,r.Ne?r.Ne.next():Il.o),"readwrite-primary"===e?r.Je(i).next((function(t){return!!t||r.Ye(i)})).next((function(e){if(!e)throw kl("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new El($l.FAILED_PRECONDITION,hp);return n(i)})).next((function(t){return r.Ze(i).next((function(){return t}))})):r.dn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return _m(t).get(Xd.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new El($l.FAILED_PRECONDITION,Em)}))},t.prototype.Ze=function(t){var e=new Xd(this.clientId,this.allowTabSynchronization,Date.now());return _m(t).put(Xd.key,e)},t.yt=function(){return gp.yt()},t.prototype.Xe=function(t){var e=this,n=_m(t);return n.get(Xd.key).next((function(t){return e.tn(t)?(Sl("IndexedDbPersistence","Releasing primary lease."),n.delete(Xd.key)):pp.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(kl("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Sl("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return kl("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){kl("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function _m(t){return _p(t,Xd.store)}function Sm(t){return _p(t,ap.store)}function km(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var Am=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return oh.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Xh(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new oh(e)).next((function(t){var e=Yf();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Yf();return this.Ut.getCollectionParents(t,i).next((function(s){return pp.forEach(s,(function(s){var a=function(t,e){return new qh(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Rn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=Ih.newInvalidDocument(c),r=r.insert(c,l)),kf(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){nf(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=td(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Cf&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),Nm=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=td(),i=td(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),xm=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Vl.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var s=i.Cn(e,o);return(Gh(e)||zh(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(_l()<=zo.DEBUG&&Sl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ef(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return s.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new zf(rf(t));return e.forEach((function(e,r){nf(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return _l()<=zo.DEBUG&&Sl("QueryEngine","Using full collection scan to execute query:",ef(e)),this.Sn.getDocumentsMatchingQuery(t,e,Vl.min())},t}(),Dm=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Bf(Pl),this.kn=new pm((function(t){return Th(t)}),_h),this.On=Vl.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Am(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Cm(t,e,n,r){return new Dm(t,e,n,r)}function Om(t,e){return Io(this,void 0,void 0,(function(){var n,r,i,o;return $o(this,(function(s){switch(s.label){case 0:return n=Cl(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Am(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],s=td(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];s=s.add(f.key)}}for(var d=0,p=e;d<p.length;d++){var m=p[d];r.push(m.batchId);for(var g=0,v=m.mutations;g<v.length;g++){var y=v[g];s=s.add(y.key)}}return i.pn(t,s).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Rm(t,e){var n=Cl(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=pp.resolve();return o.forEach((function(t){s=s.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);Dl(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),s.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function Pm(t){var e=Cl(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function Lm(t,e){var n=Cl(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Dl(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}}));var a=Xf();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(function(t,e,n,r,i){var o=td();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Xf();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Vl.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):Sl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}(t,o,e.documentUpdates,r,void 0).next((function(t){a=t}))),!r.isEqual(Vl.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));s.push(u)}return pp.waitFor(s).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,a)})).next((function(){return a}))})).then((function(t){return n.Fn=i,t}))}function Mm(t,e){var n=Cl(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function Fm(t,e){var n=Cl(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?(r=i,pp.resolve(r)):n.qe.allocateTargetId(t).next((function(i){return r=new Ap(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function Vm(t,e,n){return Io(this,void 0,void 0,(function(){var r,i,o,s;return $o(this,(function(a){switch(a.label){case 0:r=Cl(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!bp(s=a.sent()))throw s;return Sl("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function Um(t,e,n){var r=Cl(t),i=Vl.min(),o=td();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Cl(t),i=r.kn.get(n);return void 0!==i?pp.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Yh(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Vl.min(),n?o:td())})).next((function(t){return{documents:t,Bn:o}}))}))}function jm(t,e){var n=Cl(t),r=Cl(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function qm(t){var e=Cl(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Cl(t),i=Xf(),o=Cp(n),s=bm(e),a=IDBKeyRange.lowerBound(o,!0);return s.Ot({index:ep.readTimeIndex,range:a},(function(t,e){var n=xp(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:Op(o)}}))}(e.$n,t,e.On)})).then((function(t){var n=t.wn,r=t.readTime;return e.On=r,n}))}function Bm(t){return Io(this,void 0,void 0,(function(){var e;return $o(this,(function(n){return[2,(e=Cl(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=bm(t),n=Vl.min();return e.Ot({index:ep.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Op(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.On=t}))]}))}))}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Km=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return pp.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:yd(n.createTime)}),pp.resolve()},t.prototype.getNamedQuery=function(t,e){return pp.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Vp(t.bundledQuery),readTime:yd(t.readTime)}}(e)),pp.resolve()},t}(),Gm=function(){function t(){this.Wn=new zf(zm.Gn),this.zn=new zf(zm.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new zm(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new zm(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new oh(new Kl([])),r=new zm(n,t),i=new zm(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new oh(new Kl([])),n=new zm(e,t),r=new zm(e,t+1),i=td();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new zm(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),zm=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return oh.comparator(t.key,e.key)||Pl(t.ns,e.ns)},t.Hn=function(t,e){return Pl(t.ns,e.ns)||oh.comparator(t.key,e.key)},t}(),Wm=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new zf(zm.Gn)}return t.prototype.checkEmpty=function(t){return pp.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Sp(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new zm(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return pp.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return pp.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return pp.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return pp.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return pp.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new zm(e,0),i=new zm(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),pp.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new zf(Pl);return e.forEach((function(t){var e=new zm(t,0),i=new zm(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),pp.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;oh.isDocumentKey(i)||(i=i.child(""));var o=new zm(new oh(i),0),s=new zf(Pl);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)}),o),pp.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Dl(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return pp.forEach(e.mutations,(function(i){var o=new zm(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new zm(e,0),r=this.rs.firstAfterOrEqual(n);return pp.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,pp.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Hm=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Bf(oh.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return pp.resolve(n?n.document.clone():Ih.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Xf();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Ih.newInvalidDocument(t))})),pp.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Xf(),i=new oh(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.key,u=s.value,c=u.document,l=u.readTime;if(!e.path.isPrefixOf(a.path))break;l.compareTo(n)<=0||nf(e,c)&&(r=r.insert(c.key,c.clone()))}return pp.resolve(r)},t.prototype.fs=function(t,e){return pp.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new Xm(this)},t.prototype.getSize=function(t){return pp.resolve(this.size)},t}(),Xm=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return bo(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),pp.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(mm),Qm=function(){function t(t){this.persistence=t,this.ds=new pm((function(t){return Th(t)}),_h),this.lastRemoteSnapshotVersion=Vl.min(),this.highestTargetId=0,this.ws=0,this._s=new Gm,this.targetCount=0,this.ys=nm.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),pp.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return pp.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return pp.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),pp.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),pp.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new nm(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,pp.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),pp.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,pp.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),pp.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return pp.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return pp.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),pp.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),pp.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),pp.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return pp.resolve(n)},t.prototype.containsKey=function(t,e){return pp.resolve(this._s.containsKey(e))},t}(),Ym=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Il(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Qm(this),this.Ut=new Bp,this.Ue=function(t,e){return new Hm(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new Np(e),this.Qe=new Km(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Wm(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Sl("MemoryPersistence","Starting transaction:",t);var i=new Jm(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return pp.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),Jm=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return bo(e,t),e}(fp),Zm=function(){function t(t){this.persistence=t,this.As=new Gm,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw xl()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),pp.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),pp.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),pp.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pp.forEach(this.vs,(function(r){var i=oh.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return pp.or([function(){return pp.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),tg=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function eg(t,e){return"firestore_clients_"+t+"_"+e}function ng(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function rg(t,e){return"firestore_targets_"+t+"_"+e}tg.UNAUTHENTICATED=new tg(null),tg.GOOGLE_CREDENTIALS=new tg("google-credentials-uid"),tg.FIRST_PARTY=new tg("first-party-uid");var ig=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new El(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(kl("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),og=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new El(i.error.code,i.error.message)),o?new t(e,i.state,r):(kl("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),sg=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=nd(),s=0;i&&s<r.activeTargetIds.length;++s)i=ih(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(kl("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),ag=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(kl("SharedClientState","Failed to parse online state: "+e),null)},t}(),ug=function(){function t(){this.activeTargetIds=nd()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),cg=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Bf(Pl),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=eg(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new ug),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Io(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,l,h=this;return $o(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(eg(this.persistenceKey,r)))&&(o=sg.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.Os;u<c.length;u++)l=c[u],this.Fs(l);return this.Os=[],this.window.addEventListener("unload",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(rg(this.persistenceKey,t));if(n){var r=og.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(rg(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Sl("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Sl("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Sl("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Sl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void kl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Io(e,void 0,void 0,(function(){var t,e,r,i,o,s;return $o(this,(function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Il.o;if(null!=t)try{var n=JSON.parse(t);Dl("number"==typeof n),e=n}catch(t){kl("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Il.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new ig(this.currentUser,t,e,n),i=ng(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=ng(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=rg(this.persistenceKey,t),i=new og(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return sg.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return ig.Vs(new tg(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return og.Vs(r,e)},t.prototype.js=function(t){return ag.Vs(t)},t.prototype.ii=function(t){return Io(this,void 0,void 0,(function(){return $o(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Sl("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.syncEngine.hi(s,a).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=nd();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),lg=function(){function t(){this.li=new ug,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new ug,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),hg=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),fg=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Sl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Sl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),dg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},pg=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),mg=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return bo(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var s=new wl;s.listenOnce(ml.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case pl.NO_ERROR:var e=s.getResponseJson();Sl("Connection","XHR received:",JSON.stringify(e)),i(e);break;case pl.TIMEOUT:Sl("Connection",'RPC "'+t+'" timed out'),o(new El($l.DEADLINE_EXCEEDED,"Request time out"));break;case pl.HTTP_ERROR:var n=s.getStatus();if(Sl("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values($l).indexOf(e)>=0?e:$l.UNKNOWN}(r.status);o(new El(a,r.message))}else o(new El($l.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new El($l.UNAVAILABLE,"Connection failed."));break;default:xl()}}finally{Sl("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.$i=function(t,e){var n,r=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new cl,o=hu(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(s.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(No())||"object"==typeof navigator&&"ReactNative"===navigator.product||No().indexOf("Electron/")>=0||function(){var t=No();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||No().indexOf("MSAppHost/")>=0||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(s.httpHeadersOverwriteParam="$httpHeaders");var a=r.join("");Sl("Connection","Creating WebChannel: "+a,s);var u=i.createWebChannel(a,s),c=!1,l=!1,h=new pg({Ei:function(t){l?Sl("Connection","Not sending because WebChannel is closed:",t):(c||(Sl("Connection","Opening WebChannel transport."),u.open(),c=!0),Sl("Connection","WebChannel sending:",t),u.send(t))},Ti:function(){return u.close()}}),f=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(u,bl.EventType.OPEN,(function(){l||Sl("Connection","WebChannel transport opened.")})),f(u,bl.EventType.CLOSE,(function(){l||(l=!0,Sl("Connection","WebChannel transport closed"),h.Vi())})),f(u,bl.EventType.ERROR,(function(t){l||(l=!0,Al("Connection","WebChannel transport errored:",t),h.Vi(new El($l.UNAVAILABLE,"The operation could not be completed")))})),f(u,bl.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];Dl(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){Sl("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=Lf[t];if(void 0!==e)return qf(e)}(o),a=i.message;void 0===s&&(s=$l.INTERNAL,a="Unknown error status: "+o+" with message "+i.message),l=!0,h.Vi(new El(s,a)),u.close()}else Sl("Connection","WebChannel received:",n),h.Si(n)}})),f(o,gl.STAT_EVENT,(function(t){t.stat===vl?Sl("Connection","Detected buffering proxy"):t.stat===yl&&Sl("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Pi()}),0),h},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Sl("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return Sl("RestConnection","Received: ",t),t}),(function(e){throw Al("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.5.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=dg[t];return this.Di+"/v1/"+e+":"+n},t}());
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function gg(){return"undefined"!=typeof window?window:null}function vg(){return"undefined"!=typeof document?document:null}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function yg(t){return new pd(t,!0)}var bg=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Sl("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Qi=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),wg=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new bg(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Io(this,void 0,void 0,(function(){return $o(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Io(this,void 0,void 0,(function(){return $o(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Io(this,void 0,void 0,(function(){return $o(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===$l.RESOURCE_EXHAUSTED?(kl(e.toString()),kl("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===$l.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new El($l.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return Io(t,void 0,void 0,(function(){return $o(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return Sl("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(Sl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Ig=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return bo(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:xl()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Dl(void 0===e||"string"==typeof e),Hl.fromBase64String(e||"")):(Dl(void 0===e||e instanceof Uint8Array),Hl.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?$l.UNKNOWN:qf(t.code);return new El(e,t.message||"")}(a);n=new ad(r,i,o,s||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=$d(t,r.document.name),o=yd(r.document.updateTime);var a=new bh({mapValue:{fields:r.document.fields}}),u=(s=Ih.newFoundDocument(i,o,a),r.targetIds||[]),c=r.removedTargetIds||[];n=new od(u,c,s.key,s)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=$d(t,r.document),o=r.readTime?yd(r.readTime):Vl.min(),a=Ih.newNoDocument(i,o),s=r.removedTargetIds||[],n=new od([],s,a.key,a);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=$d(t,r.document),o=r.removedTargetIds||[],n=new od([],o,i,null);else{if(!("filter"in e))return xl();e.filter;var l=e.filter;l.targetId,r=l.count||0,i=new Uf(r),o=l.targetId,n=new sd(o,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Vl.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Vl.min():e.readTime?yd(e.readTime):Vl.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=_d(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Sh(r)?{documents:xd(t,r)}:{query:Dd(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=gd(t,e.resumeToken):e.snapshotVersion.compareTo(Vl.min())>0&&(n.readTime=md(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return xl()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=_d(this.R),e.removeTarget=t,this.cr(e)},e}(wg),$g=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return bo(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(Dl(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Dl(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?yd(t.updateTime):yd(e);return n.isEqual(Vl.min())&&(n=yd(e)),new $f(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=yd(t.commitTime);return this.listener.Tr(n,e)}return Dl(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=_d(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Ad(e.R,t)}))};this.cr(n)},e}(wg),Eg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return bo(e,t),e.prototype.br=function(){if(this.Rr)throw new El($l.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===$l.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new El($l.UNKNOWN,t.toString())}))},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===$l.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new El($l.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),Tg=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(kl(e),this.Vr=!1):Sl("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),_g=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return Io(o,void 0,void 0,(function(){return $o(this,(function(t){switch(t.label){case 0:return Rg(this)?(Sl("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Io(this,void 0,void 0,(function(){var e;return $o(this,(function(n){switch(n.label){case 0:return(e=Cl(t)).$r.add(4),[4,kg(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,Sg(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new Tg(n,r)};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Sg(t){return Io(this,void 0,void 0,(function(){var e,n;return $o(this,(function(r){switch(r.label){case 0:if(!Rg(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function kg(t){return Io(this,void 0,void 0,(function(){var e,n;return $o(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Ag(t,e){var n=Cl(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),Og(n)?Cg(n):Xg(n).er()&&xg(n,e))}function Ng(t,e){var n=Cl(t),r=Xg(n);n.Or.delete(e),r.er()&&Dg(n,e),0===n.Or.size&&(r.er()?r.ir():Rg(n)&&n.Br.set("Unknown"))}function xg(t,e){t.qr.U(e.targetId),Xg(t).mr(e)}function Dg(t,e){t.qr.U(e),Xg(t).yr(e)}function Cg(t){t.qr=new cd({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),Xg(t).start(),t.Br.Sr()}function Og(t){return Rg(t)&&!Xg(t).tr()&&t.Or.size>0}function Rg(t){return 0===Cl(t).$r.size}function Pg(t){t.qr=void 0}function Lg(t){return Io(this,void 0,void 0,(function(){return $o(this,(function(e){return t.Or.forEach((function(e,n){xg(t,e)})),[2]}))}))}function Mg(t,e){return Io(this,void 0,void 0,(function(){return $o(this,(function(n){return Pg(t),Og(t)?(t.Br.Nr(e),Cg(t)):t.Br.set("Unknown"),[2]}))}))}function Fg(t,e,n){return Io(this,void 0,void 0,(function(){var r,i,o;return $o(this,(function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof ad&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Io(this,void 0,void 0,(function(){var n,r,i,o;return $o(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?(o=i[r],t.Or.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:s.sent(),t.Or.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Sl("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Vg(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof od?t.qr.X(e):e instanceof sd?t.qr.rt(e):t.qr.et(e),n.isEqual(Vl.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Pm(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(Hl.EMPTY_BYTE_STRING,n.snapshotVersion)),Dg(t,e);var r=new Ap(n.target,e,1,n.sequenceNumber);xg(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Sl("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Vg(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function Vg(t,e,n){return Io(this,void 0,void 0,(function(){var r=this;return $o(this,(function(i){switch(i.label){case 0:if(!bp(e))throw e;return t.$r.add(1),[4,kg(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Pm(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return Io(r,void 0,void 0,(function(){return $o(this,(function(e){switch(e.label){case 0:return Sl("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,Sg(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Ug(t,e){return e().catch((function(n){return Vg(t,n,e)}))}function jg(t){return Io(this,void 0,void 0,(function(){var e,n,r,i,o;return $o(this,(function(s){switch(s.label){case 0:e=Cl(t),n=Qg(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Rg(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Mm(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Qg(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Vg(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return qg(e)&&Bg(e),[2]}}))}))}function qg(t){return Rg(t)&&!Qg(t).tr()&&t.kr.length>0}function Bg(t){Qg(t).start()}function Kg(t){return Io(this,void 0,void 0,(function(){return $o(this,(function(e){return Qg(t).Ar(),[2]}))}))}function Gg(t){return Io(this,void 0,void 0,(function(){var e,n,r,i;return $o(this,(function(o){for(e=Qg(t),n=0,r=t.kr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]}))}))}function zg(t,e,n){return Io(this,void 0,void 0,(function(){var r,i;return $o(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=kp.from(r,e,n),[4,Ug(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,jg(t)];case 2:return o.sent(),[2]}}))}))}function Wg(t,e){return Io(this,void 0,void 0,(function(){return $o(this,(function(n){switch(n.label){case 0:return e&&Qg(t).pr?[4,function(t,e){return Io(this,void 0,void 0,(function(){var n,r;return $o(this,(function(i){switch(i.label){case 0:return jf(r=e.code)&&r!==$l.ABORTED?(n=t.kr.shift(),Qg(t).sr(),[4,Ug(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,jg(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return qg(t)&&Bg(t),[2]}}))}))}function Hg(t,e){return Io(this,void 0,void 0,(function(){var n;return $o(this,(function(r){switch(r.label){case 0:return n=Cl(t),e?(n.$r.delete(2),[4,Sg(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,kg(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Xg(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Cl(t);return r.br(),new Ig(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Lg.bind(null,t),Ri:Mg.bind(null,t),_r:Fg.bind(null,t)}),t.Mr.push((function(n){return Io(e,void 0,void 0,(function(){return $o(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Og(t)?Cg(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Pg(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function Qg(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Cl(t);return r.br(),new $g(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Kg.bind(null,t),Ri:Wg.bind(null,t),Ir:Gg.bind(null,t),Tr:zg.bind(null,t)}),t.Mr.push((function(n){return Io(e,void 0,void 0,(function(){return $o(this,(function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,jg(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(Sl("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Qr
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var Yg=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new dp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new El($l.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Jg(t,e){if(kl("AsyncQueue",e+": "+t),bp(t))return new El($l.UNAVAILABLE,e+": "+t);throw t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Zg=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||oh.comparator(e.key,n.key)}:function(t,e){return oh.comparator(t.key,e.key)},this.keyedMap=Yf(),this.sortedSet=new Bf(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),tv=function(){function t(){this.Kr=new Bf(oh.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):xl():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),ev=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Zg.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Zh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),nv=function(){this.Wr=void 0,this.listeners=[]},rv=function(){this.queries=new pm((function(t){return tf(t)}),Zh),this.onlineState="Unknown",this.Gr=new Set};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function iv(t,e){return Io(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return $o(this,(function(c){switch(c.label){case 0:if(n=Cl(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new nv),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=Jg(a,"Initialization of query '"+ef(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&uv(n),[2]}}))}))}function ov(t,e){return Io(this,void 0,void 0,(function(){var n,r,i,o,s;return $o(this,(function(a){return n=Cl(t),r=e.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function sv(t,e){for(var n=Cl(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,u=n.queries.get(a);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(s)&&(r=!0);u.Wr=s}}r&&uv(n)}function av(t,e,n){var r=Cl(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function uv(t){t.Gr.forEach((function(t){t.next()}))}var cv=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ev(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=ev.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),lv=function(t){this.key=t},hv=function(t){this.key=t},fv=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=td(),this.mutatedKeys=td(),this.lo=rf(t),this.fo=new Zg(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new tv,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=Gh(this.query)&&i.size===this.query.limit?i.last():null,c=zh(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=nf(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Gh(this.query)||zh(this.query))for(;s.size>this.query.limit;){var l=Gh(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xl()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new ev(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new tv,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=td(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new hv(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new lv(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=td();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return ev.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),dv=function(t,e,n){this.query=t,this.targetId=e,this.view=n},pv=function(t){this.key=t,this.bo=!1},mv=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new pm((function(t){return tf(t)}),Zh),this.Vo=new Map,this.So=new Set,this.Do=new Bf(oh.comparator),this.Co=new Map,this.No=new Gm,this.xo={},this.Fo=new Map,this.ko=nm.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function gv(t,e){return Io(this,void 0,void 0,(function(){var n,r,i,o,s,a;return $o(this,(function(u){switch(u.label){case 0:return n=Gv(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Fm(n.localStore,Yh(e))];case 2:return s=u.sent(),a=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,vv(n,e,r,"current"===a)];case 3:i=u.sent(),n.isPrimaryClient&&Ag(n.remoteStore,s),u.label=4;case 4:return[2,i]}}))}))}function vv(t,e,n,r){return Io(this,void 0,void 0,(function(){var i,o,s,a,u,c;return $o(this,(function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Io(this,void 0,void 0,(function(){var i,o,s;return $o(this,(function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,Um(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(xv(t,e.targetId,s.To),s.snapshot)]}}))}))}(t,e,n,r)},[4,Um(t.localStore,e,!0)];case 1:return i=l.sent(),o=new fv(e,i.Bn),s=o._o(i.documents),a=id.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),xv(t,n,u.To),c=new dv(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function yv(t,e){return Io(this,void 0,void 0,(function(){var n,r,i;return $o(this,(function(o){switch(o.label){case 0:return n=Cl(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!Zh(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Vm(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Ng(n.remoteStore,r.targetId),Av(n,r.targetId)})).catch(am)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Av(n,r.targetId),[4,Vm(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function bv(t,e,n){return Io(this,void 0,void 0,(function(){var r,i,o,s;return $o(this,(function(a){switch(a.label){case 0:r=zv(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Cl(t),i=Fl.now(),o=e.reduce((function(t,e){return t.add(e.key)}),td());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Af(c,n.get(c.key));null!=l&&s.push(new Cf(c.key,l,wh(l.toProto().mapValue),Ef.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Bf(Pl)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Ov(r,i.changes)];case 3:return a.sent(),[4,jg(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Jg(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function wv(t,e){return Io(this,void 0,void 0,(function(){var n,r;return $o(this,(function(i){switch(i.label){case 0:n=Cl(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Lm(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(Dl(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Dl(r.bo):t.removedDocuments.size>0&&(Dl(r.bo),r.bo=!1))})),[4,Ov(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,am(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Iv(t,e,n){var r=Cl(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Cl(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&uv(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function $v(t,e,n){return Io(this,void 0,void 0,(function(){var r,i,o,s,a,u;return $o(this,(function(c){switch(c.label){case 0:return(r=Cl(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new Bf(oh.comparator)).insert(o,Ih.newNoDocument(o,Vl.min())),a=td().add(o),u=new rd(Vl.min(),new Map,new zf(Pl),s,a),[4,wv(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Cv(r),[3,4];case 2:return[4,Vm(r.localStore,e,!1).then((function(){return Av(r,e,n)})).catch(am)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Ev(t,e){return Io(this,void 0,void 0,(function(){var n,r,i;return $o(this,(function(o){switch(o.label){case 0:n=Cl(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Rm(n.localStore,e)];case 2:return i=o.sent(),kv(n,r,null),Sv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Ov(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,am(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Tv(t,e,n){return Io(this,void 0,void 0,(function(){var r,i;return $o(this,(function(o){switch(o.label){case 0:r=Cl(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Cl(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return Dl(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),kv(r,e,n),Sv(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Ov(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,am(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function _v(t,e){return Io(this,void 0,void 0,(function(){var n,r,i,o,s;return $o(this,(function(a){switch(a.label){case 0:Rg((n=Cl(t)).remoteStore)||Sl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Cl(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=Jg(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function Sv(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function kv(t,e,n){var r=Cl(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Av(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||Nv(t,e)}))}function Nv(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Ng(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Cv(t))}function xv(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof lv?(t.No.addReference(o.key,e),Dv(t,o)):o instanceof hv?(Sl("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Nv(t,o.key)):xl()}}function Dv(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Sl("SyncEngine","New document in limbo: "+n),t.So.add(r),Cv(t))}function Cv(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new oh(Kl.fromString(e)),r=t.ko.next();t.Co.set(r,new pv(n)),t.Do=t.Do.insert(n,r),Ag(t.remoteStore,new Ap(Yh(Kh(n.path)),r,2,Il.o))}}function Ov(t,e,n){return Io(this,void 0,void 0,(function(){var r,i,o,s;return $o(this,(function(a){switch(a.label){case 0:return r=Cl(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,a){s.push(r.$o(a,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Nm.Pn(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Io(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return $o(this,(function(h){switch(h.label){case 0:n=Cl(t),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return pp.forEach(e,(function(e){return pp.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return pp.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!bp(r=h.sent()))throw r;return Sl("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=o[i],a=s.targetId,s.fromCache||(u=n.Fn.get(a),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(a,l));return[2]}}))}))}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Rv(t,e){return Io(this,void 0,void 0,(function(){var n,r;return $o(this,(function(i){switch(i.label){case 0:return(n=Cl(t)).currentUser.isEqual(e)?[3,3]:(Sl("SyncEngine","User change. New user:",e.toKey()),[4,Om(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach((function(t){t.forEach((function(t){t.reject(new El($l.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Ov(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Pv(t,e){var n=Cl(t),r=n.Co.get(e);if(r&&r.bo)return td().add(r.key);var i=td(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function Lv(t,e){return Io(this,void 0,void 0,(function(){var n,r,i;return $o(this,(function(o){switch(o.label){case 0:return[4,Um((n=Cl(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&xv(n,e.targetId,i.To),i)]}}))}))}function Mv(t){return Io(this,void 0,void 0,(function(){var e;return $o(this,(function(n){return[2,qm((e=Cl(t)).localStore).then((function(t){return Ov(e,t)}))]}))}))}function Fv(t,e,n,r){return Io(this,void 0,void 0,(function(){var i,o;return $o(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=Cl(t),r=Cl(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):pp.resolve(null)}))}))}((i=Cl(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,jg(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(kv(i,e,r||null),Sv(i,e),function(t,e){Cl(Cl(t)._n).Gt(e)}(i.localStore,e)):xl(),s.label=4;case 4:return[4,Ov(i,o)];case 5:return s.sent(),[3,7];case 6:Sl("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function Vv(t,e){return Io(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return $o(this,(function(l){switch(l.label){case 0:return Gv(n=Cl(t)),zv(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Uv(n,r.toArray())]);case 1:return i=l.sent(),n.Oo=!0,[4,Hg(n.remoteStore,!0)];case 2:for(l.sent(),o=0,s=i;o<s.length;o++)a=s[o],Ag(n.remoteStore,a);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then((function(){return Av(n,e),Vm(n.localStore,e,!0)})),Ng(n.remoteStore,e)})),[4,c]);case 4:return l.sent(),[4,Uv(n,u)];case 5:return l.sent(),function(t){var e=Cl(t);e.Co.forEach((function(t,n){Ng(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new Bf(oh.comparator)}(n),n.Oo=!1,[4,Hg(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function Uv(t,e,n){return Io(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,f,d,p,m;return $o(this,(function(g){switch(g.label){case 0:n=Cl(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(a=s[o],u=void 0,(c=n.Vo.get(a))&&0!==c.length?[4,Fm(n.localStore,Yh(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=h[l],d=n.Po.get(f),[4,Lv(n,d)]):[3,6];case 4:(p=g.sent()).snapshot&&i.push(p.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,jm(n.localStore,a)];case 8:return m=g.sent(),[4,Fm(n.localStore,m)];case 9:return u=g.sent(),[4,vv(n,jv(m),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function jv(t){return Bh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function qv(t){var e=Cl(t);return Cl(Cl(e.localStore).persistence).fn()}function Bv(t,e,n,r){return Io(this,void 0,void 0,(function(){var i,o,s;return $o(this,(function(a){switch(a.label){case 0:return(i=Cl(t)).Oo?(Sl("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,qm(i.localStore)];case 3:return o=a.sent(),s=rd.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Ov(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Vm(i.localStore,e,!0)];case 6:return a.sent(),Av(i,e,r),[3,8];case 7:xl(),a.label=8;case 8:return[2]}}))}))}function Kv(t,e,n){return Io(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h,f;return $o(this,(function(d){switch(d.label){case 0:if(!(r=Gv(t)).Oo)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?(s=o[i],r.Vo.has(s)?(Sl("SyncEngine","Adding an already active target "+s),[3,5]):[4,jm(r.localStore,s)]):[3,6];case 2:return a=d.sent(),[4,Fm(r.localStore,a)];case 3:return u=d.sent(),[4,vv(r,jv(a),u.targetId,!1)];case 4:d.sent(),Ag(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return $o(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Vm(r.localStore,t,!1).then((function(){Ng(r.remoteStore,t),Av(r,t)})).catch(am)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Gv(t){var e=Cl(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$v.bind(null,e),e.vo._r=sv.bind(null,e.eventManager),e.vo.Mo=av.bind(null,e.eventManager),e}function zv(t){var e=Cl(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ev.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Tv.bind(null,e),e}var Wv=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Io(this,void 0,void 0,(function(){return $o(this,(function(e){switch(e.label){case 0:return this.R=yg(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return Cm(this.persistence,new xm,t.initialUser,this.R)},t.prototype.qo=function(t){return new Ym(Zm.bs,this.R)},t.prototype.Bo=function(t){return new lg},t.prototype.terminate=function(){return Io(this,void 0,void 0,(function(){return $o(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),Hv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return bo(e,t),e.prototype.initialize=function(e){return Io(this,void 0,void 0,(function(){return $o(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Bm(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,zv(this.Ko.syncEngine)];case 4:return n.sent(),[4,jg(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Qo=function(t){return Cm(this.persistence,new xm,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new lm(e,t.asyncQueue)},e.prototype.qo=function(t){var e=km(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Hp.withCacheSize(this.cacheSizeBytes):Hp.DEFAULT;return new Tm(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,gg(),vg(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new lg},e}(Wv),Xv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return bo(e,t),e.prototype.initialize=function(e){return Io(this,void 0,void 0,(function(){var n,r=this;return $o(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof cg?(this.sharedClientState.syncEngine={ui:Fv.bind(null,n),ai:Bv.bind(null,n),hi:Kv.bind(null,n),fn:qv.bind(null,n),ci:Mv.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return Io(r,void 0,void 0,(function(){return $o(this,(function(e){switch(e.label){case 0:return[4,Vv(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=gg();if(!cg.yt(e))throw new El($l.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=km(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new cg(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Hv),Qv=function(){function t(){}return t.prototype.initialize=function(t,e){return Io(this,void 0,void 0,(function(){var n=this;return $o(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Iv(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Rv.bind(null,this.syncEngine),[4,Hg(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new rv},t.prototype.createDatastore=function(t){var e,n=yg(t.databaseInfo.databaseId),r=(e=t.databaseInfo,new mg(e));return function(t,e,n){return new Eg(t,e,n)}(t.credentials,r,n)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Iv(s.syncEngine,t,0)},o=fg.yt()?new fg:new hg,new _g(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new mv(t,e,n,r,i,o);return s&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Io(this,void 0,void 0,(function(){var e;return $o(this,(function(n){switch(n.label){case 0:return e=Cl(t),Sl("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,kg(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),Yv=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Jv=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Io(this,void 0,void 0,(function(){var e,n=this;return $o(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new El($l.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Io(this,void 0,void 0,(function(){var n,r,i,o,s,a;return $o(this,(function(u){switch(u.label){case 0:return n=Cl(t),r=_d(n.R)+"/documents",i={documents:e.map((function(t){return Id(n.R,t)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Dl(!!e.found),e.found.name,e.found.updateTime;var n=$d(t,e.found.name),r=yd(e.found.updateTime),i=new bh({mapValue:{fields:e.found.fields}});return Ih.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Dl(!!e.missing),Dl(!!e.readTime);var n=$d(t,e.missing),r=yd(e.readTime);return Ih.newNoDocument(n,r)}(t,e):xl()}(n.R,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());Dl(!!e),a.push(e)})),a)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Ff(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Io(this,void 0,void 0,(function(){var t,e=this;return $o(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=oh.fromPath(n);e.mutations.push(new Vf(r,e.precondition(r)))})),[4,function(t,e){return Io(this,void 0,void 0,(function(){var n,r,i;return $o(this,(function(o){switch(o.label){case 0:return n=Cl(t),r=_d(n.R)+"/documents",i={writes:e.map((function(t){return Ad(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw xl();e=Vl.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new El($l.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Ef.updateTime(e):Ef.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Vl.min()))throw new El($l.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ef.updateTime(e)}return Ef.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),Zv=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new bg(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return Io(t,void 0,void 0,(function(){var t,e,n=this;return $o(this,(function(r){return t=new Jv(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!nh(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!jf(e)}return!1},t}(),ty=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=tg.UNAUTHENTICATED,this.clientId=Rl.u(),this.credentialListener=function(){},this.receivedInitialUser=new dp,this.credentials.setChangeListener((function(t){Sl("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()}))}return t.prototype.getConfiguration=function(){return Io(this,void 0,void 0,(function(){return $o(this,(function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then((function(){return e.credentialListener(e.user)}))},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new El($l.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new dp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Io(t,void 0,void 0,(function(){var t,n;return $o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Jg(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function ey(t,e){return Io(this,void 0,void 0,(function(){var n,r,i=this;return $o(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Sl("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable((function(){return Io(i,void 0,void 0,(function(){return $o(this,(function(t){switch(t.label){case 0:return[4,Om(e.localStore,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function ny(t,e){return Io(this,void 0,void 0,(function(){var n,r;return $o(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,ry(t)];case 1:return n=i.sent(),Sl("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(n){return t.asyncQueue.enqueueRetryable((function(){return function(t,e){return Io(this,void 0,void 0,(function(){var n,r;return $o(this,(function(i){switch(i.label){case 0:return(n=Cl(t)).asyncQueue.verifyOperationInProgress(),Sl("RemoteStore","RemoteStore received new credentials"),r=Rg(n),n.$r.add(3),[4,kg(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,Sg(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,n)}))})),t.onlineComponents=e,[2]}}))}))}function ry(t){return Io(this,void 0,void 0,(function(){return $o(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Sl("FirestoreClient","Using default OfflineComponentProvider"),[4,ey(t,new Wv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function iy(t){return Io(this,void 0,void 0,(function(){return $o(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Sl("FirestoreClient","Using default OnlineComponentProvider"),[4,ny(t,new Qv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function oy(t){return ry(t).then((function(t){return t.persistence}))}function sy(t){return ry(t).then((function(t){return t.localStore}))}function ay(t){return iy(t).then((function(t){return t.remoteStore}))}function uy(t){return iy(t).then((function(t){return t.syncEngine}))}function cy(t){return Io(this,void 0,void 0,(function(){var e,n;return $o(this,(function(r){switch(r.label){case 0:return[4,iy(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=gv.bind(null,e.syncEngine),n.onUnlisten=yv.bind(null,e.syncEngine),n)]}}))}))}function ly(t,e,n){var r=this;void 0===n&&(n={});var i=new dp;return t.asyncQueue.enqueueAndForget((function(){return Io(r,void 0,void 0,(function(){var r;return $o(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Yv({next:function(o){e.enqueueAndForget((function(){return ov(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new El($l.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new El($l.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new cv(Kh(n.path),o,{includeMetadataChanges:!0,so:!0});return iv(t,s)},[4,cy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function hy(t,e,n){var r=this;void 0===n&&(n={});var i=new dp;return t.asyncQueue.enqueueAndForget((function(){return Io(r,void 0,void 0,(function(){var r;return $o(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Yv({next:function(n){e.enqueueAndForget((function(){return ov(t,s)})),n.fromCache&&"server"===r.source?i.reject(new El($l.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new cv(n,o,{includeMetadataChanges:!0,so:!0});return iv(t,s)},[4,cy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var fy=function(t,e,n,r,i,o,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},dy=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),py=new Map,my=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},gy=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(tg.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),vy=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(this.token.user)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),yy=function(){function t(t){var e=this;this.oc=null,this.currentUser=tg.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then((function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(Sl("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Dl("string"==typeof n.accessToken),new my(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return Dl(null===t||"string"==typeof t),new tg(t)},t}(),by=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=tg.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),wy=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new by(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(tg.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Iy(t,e,n){if(!n)throw new El($l.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function $y(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new El($l.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ey(t,e,n,r){if(!0===e&&!0===r)throw new El($l.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Ty(t){if(!oh.isDocumentKey(t))throw new El($l.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function _y(t){if(oh.isDocumentKey(t))throw new El($l.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Sy(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":xl()}function ky(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new El($l.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Sy(t);throw new El($l.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Ay(t,e){if(e<=0)throw new El($l.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ny=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new El($l.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new El($l.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Ey("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),xy=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ny({}),this._settingsFrozen=!1,t instanceof dy?(this._databaseId=t,this._credentials=new gy):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new El($l.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dy(t.options.projectId)}(t),this._credentials=new yy(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new El($l.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new El($l.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ny(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new gy;switch(t.type){case"gapi":var e=t.client;return Dl(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new wy(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new El($l.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return this,(t=py.get(this))&&(Sl("ComponentProvider","Removing Datastore"),py.delete(this),t.terminate()),Promise.resolve();var t},t}(),Dy=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Oy(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Cy=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Oy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Kh(r))||this)._path=r,i.type="collection",i}return bo(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Dy(this.firestore,null,new oh(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Cy);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ry(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Vo(t),Iy("collection","path",e),t instanceof xy)return _y(n=Kl.fromString.apply(Kl,_o([e],r))),new Oy(t,null,n);if(!(t instanceof Dy||t instanceof Oy))throw new El($l.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return _y(n=Kl.fromString.apply(Kl,_o([t.path],r)).child(Kl.fromString(e))),new Oy(t.firestore,null,n)}function Py(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Vo(t),1===arguments.length&&(e=Rl.u()),Iy("doc","path",e),t instanceof xy)return Ty(n=Kl.fromString.apply(Kl,_o([e],r))),new Dy(t,null,new oh(n));if(!(t instanceof Dy||t instanceof Oy))throw new El($l.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ty(n=t._path.child(Kl.fromString.apply(Kl,_o([e],r)))),new Dy(t.firestore,t instanceof Oy?t.converter:null,new oh(n))}function Ly(t,e){return t=Vo(t),e=Vo(e),(t instanceof Dy||t instanceof Oy)&&(e instanceof Dy||e instanceof Oy)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function My(t,e){return t=Vo(t),e=Vo(e),t instanceof Cy&&e instanceof Cy&&t.firestore===e.firestore&&Zh(t._query,e._query)&&t.converter===e.converter
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var Fy=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new bg(this,"async_queue_retry"),this.Ec=function(){var e=vg();e&&Sl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=vg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=vg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise((function(t){})):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.dc.push(t),e.Ac()}))},t.prototype.Ac=function(){return Io(this,void 0,void 0,(function(){var t,e=this;return $o(this,(function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!bp(t=n.sent()))throw t;return Sl("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji((function(){return e.Ac()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ic=function(t){var e=this,n=this.fc.then((function(){return e.yc=!0,t().catch((function(t){throw e.mc=t,e.yc=!1,kl("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.yc=!1,t}))}));return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=Yg.createAndSchedule(this,t,e,n,(function(t){return r.Rc(t)}));return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&xl()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Io(this,void 0,void 0,(function(){var t;return $o(this,(function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then((function(){e._c.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()}))},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function Vy(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Uy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Fy,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return bo(e,t),e.prototype._terminate=function(){return this._firestoreClient||qy(this),this._firestoreClient.terminate()},e}(xy);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function jy(t){return t._firestoreClient||qy(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function qy(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new fy(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new ty(t._credentials,t._queue,r)}function By(t,e,n){var r=this,i=new dp;return t.asyncQueue.enqueue((function(){return Io(r,void 0,void 0,(function(){var r;return $o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,ey(t,n)];case 1:return o.sent(),[4,ny(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===$l.FAILED_PRECONDITION||t.code===$l.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Ky(t){if(t._initialized||t._terminated)throw new El($l.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Gy=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new El($l.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zl(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),zy=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Hl.fromBase64String(e))}catch(e){throw new El($l.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Hl.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Wy=function(t){this._methodName=t},Hy=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new El($l.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new El($l.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Pl(this._lat,t._lat)||Pl(this._long,t._long)},t}(),Xy=/^__.*__$/,Qy=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Cf(t,this.data,this.fieldMask,e,this.fieldTransforms):new Df(t,this.data,e,this.fieldTransforms)},t}(),Yy=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Cf(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Jy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xl()}}var Zy=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return bb(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(Jy(this.Dc)&&Xy.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),tb=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||yg(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new Zy({Dc:t,methodName:e,Lc:n,path:zl.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function eb(t){var e=t._freezeSettings(),n=yg(t._databaseId);return new tb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nb(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);mb("Data must be an object, but it was:",s,r);var a,u,c=db(r,s);if(o.merge)a=new Wl(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=gb(e,f[h],n);if(!s.contains(d))throw new El($l.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");wb(l,d)||l.push(d)}a=new Wl(l),u=s.fieldTransforms.filter((function(t){return a.covers(t.field)}))}else a=null,u=s.fieldTransforms;return new Qy(new bh(c),a,u)}var rb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bo(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw 1===t.Dc?t.$c(this._methodName+"() can only appear at the top level of your update data"):t.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Wy);function ib(t,e,n){return new Zy({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var ob=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bo(e,t),e.prototype._toFieldTransform=function(t){return new If(t.path,new df)},e.prototype.isEqual=function(t){return t instanceof e},e}(Wy),sb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return bo(e,t),e.prototype._toFieldTransform=function(t){var e=ib(this,t,!0),n=this.qc.map((function(t){return fb(t,e)})),r=new pf(n);return new If(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Wy),ab=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return bo(e,t),e.prototype._toFieldTransform=function(t){var e=ib(this,t,!0),n=this.qc.map((function(t){return fb(t,e)})),r=new gf(n);return new If(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Wy),ub=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return bo(e,t),e.prototype._toFieldTransform=function(t){var e=new yf(t.R,uf(t.R,this.Uc));return new If(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Wy);function cb(t,e,n,r){var i=t.Bc(1,e,n);mb("Data must be an object, but it was:",i,r);var o=[],s=bh.empty();jl(r,(function(t,r){var a=yb(e,t,n);r=Vo(r);var u=i.kc(a);if(r instanceof rb)o.push(a);else{var c=fb(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new Wl(o);return new Yy(s,a,i.fieldTransforms)}function lb(t,e,n,r,i,o){var s=t.Bc(1,e,n),a=[gb(e,r,n)],u=[i];if(o.length%2!=0)throw new El($l.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(gb(e,o[c])),u.push(o[c+1]);for(var l=[],h=bh.empty(),f=a.length-1;f>=0;--f)if(!wb(l,a[f])){var d=a[f],p=u[f];p=Vo(p);var m=s.kc(d);if(p instanceof rb)l.push(d);else{var g=fb(p,m);null!=g&&(l.push(d),h.set(d,g))}}var v=new Wl(l);return new Yy(h,v,s.fieldTransforms)}function hb(t,e,n,r){return void 0===r&&(r=!1),fb(n,t.Bc(r?4:3,e))}function fb(t,e){if(pb(t=Vo(t)))return mb("Unsupported field value:",e,t),db(t,e);if(t instanceof Wy)return function(t,e){if(!Jy(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=fb(o[i],e.Oc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Vo(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return uf(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Fl.fromDate(t);return{timestampValue:md(e.R,n)}}if(t instanceof Fl)return n=new Fl(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:md(e.R,n)};if(t instanceof Hy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof zy)return{bytesValue:gd(e.R,t._byteString)};if(t instanceof Dy){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:bd(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+Sy(t))}(t,e)}function db(t,e){var n={};return ql(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jl(t,(function(t,r){var i=fb(r,e.Nc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function pb(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Fl||t instanceof Hy||t instanceof zy||t instanceof Dy||t instanceof Wy)}function mb(t,e,n){if(!pb(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Sy(n);throw"an object"===r?e.$c(t+" a custom object"):e.$c(t+" "+r)}}function gb(t,e,n){if((e=Vo(e))instanceof Gy)return e._internalPath;if("string"==typeof e)return yb(t,e);throw bb("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var vb=new RegExp("[~\\*/\\[\\]]");function yb(t,e,n){if(e.search(vb)>=0)throw bb("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Gy.bind.apply(Gy,_o([void 0],e.split(".")))))._internalPath}catch(r){throw bb("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function bb(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new El($l.INVALID_ARGUMENT,(a+=". ")+t+u)}function wb(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ib=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Dy(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new $b(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Eb("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),$b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bo(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Ib);function Eb(t,e){return"string"==typeof e?yb(t,e):e instanceof Gy?e._internalPath:e._delegate._internalPath}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Tb=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),_b=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return bo(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Sb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Eb("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Ib),Sb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bo(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(_b),kb=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Tb(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new Sb(n._firestore,n._userDataWriter,r.key,r,new Tb(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new El($l.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){var r=new Sb(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Tb(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Sb(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Tb(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Ab(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Ab(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xl()}}function Nb(t,e){return t instanceof _b&&e instanceof _b?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof kb&&e instanceof kb&&t._firestore===e._firestore&&My(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function xb(t){if(zh(t)&&0===t.explicitOrderBy.length)throw new El($l.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Db=function(){};function Cb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Ob=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return bo(e,t),e.prototype._apply=function(t){var e=eb(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new El($l.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Ub(s,o);for(var u=[],c=0,l=s;c<l.length;c++){var h=l[c];u.push(Vb(r,t,h))}a={arrayValue:{values:u}}}else a=Vb(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Ub(s,o),a=hb(n,"where",s,"in"===o||"not-in"===o);var f=kh.create(i,o,a);return function(t,e){if(e.g()){var n=Hh(t);if(null!==n&&!n.isEqual(e.field))throw new El($l.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Wh(t);null!==r&&jb(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new El($l.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new El($l.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Cy(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new qh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Db),Rb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return bo(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new El($l.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new El($l.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Fh(e,n);return function(t,e){if(null===Wh(t)){var n=Hh(t);null!==n&&jb(t,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new Cy(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new qh(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Db),Pb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return bo(e,t),e.prototype._apply=function(t){return new Cy(t.firestore,t.converter,Jh(t._query,this.Gc,this.zc))},e}(Db),Lb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return bo(e,t),e.prototype._apply=function(t){var e=Fb(t,this.type,this.Hc,this.Jc);return new Cy(t.firestore,t.converter,function(t,e){return new qh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Db),Mb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return bo(e,t),e.prototype._apply=function(t){var e=Fb(t,this.type,this.Hc,this.Jc);return new Cy(t.firestore,t.converter,function(t,e){return new qh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Db);function Fb(t,e,n,r){if(n[0]=Vo(n[0]),n[0]instanceof Ib)return function(t,e,n,r,i){if(!r)throw new El($l.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Qh(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(dh(e,r.key));else{var c=r.data.field(u.field);if(Zl(c))throw new El($l.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new El($l.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Lh(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=eb(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new El($l.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new El($l.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Xh(t)&&-1!==c.indexOf("/"))throw new El($l.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Kl.fromString(c));if(!oh.isDocumentKey(l))throw new El($l.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new oh(l);a.push(dh(e,h))}else{var f=hb(n,r,c);a.push(f)}}return new Lh(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Vb(t,e,n){if("string"==typeof(n=Vo(n))){if(""===n)throw new El($l.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xh(e)&&-1!==n.indexOf("/"))throw new El($l.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Kl.fromString(n));if(!oh.isDocumentKey(r))throw new El($l.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return dh(t,new oh(r))}if(n instanceof Dy)return dh(t,n._key);throw new El($l.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Sy(n)+".")}function Ub(t,e){if(!Array.isArray(t)||0===t.length)throw new El($l.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new El($l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function jb(t,e,n){if(!n.isEqual(e))throw new El($l.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var qb=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),sh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Yl(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Jl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw xl()}},t.prototype.convertObject=function(t,e){var n=this,r={};return jl(t.fields||{},(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new Hy(Yl(t.latitude),Yl(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=th(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(eh(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Ql(t);return new Fl(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Kl.fromString(t);Dl(Bd(n));var r=new dy(n.get(1),n.get(3)),i=new oh(n.popFirst(5));return r.isEqual(e)||kl("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Bb(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Kb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return bo(e,t),e.prototype.convertBytes=function(t){return new zy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Dy(this.firestore,null,e)},e}(qb),Gb=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=eb(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=zb(t,this._firestore),i=Bb(r.converter,e,n),o=nb(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Ef.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=zb(t,this._firestore);return o="string"==typeof(e=Vo(e))||e instanceof Gy?lb(this._dataReader,"WriteBatch.update",s._key,e,n,r):cb(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Ef.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=zb(t,this._firestore);return this._mutations=this._mutations.concat(new Ff(e._key,Ef.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new El($l.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function zb(t,e){if((t=Vo(t)).firestore!==e)throw new El($l.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Wb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return bo(e,t),e.prototype.convertBytes=function(t){return new zy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Dy(this.firestore,null,e)},e}(qb);function Hb(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=ky(t,Dy);var o=ky(t.firestore,Uy),s=eb(o);return Qb(o,[("string"==typeof(e=Vo(e))||e instanceof Gy?lb(s,"updateDoc",t._key,e,n,r):cb(s,"updateDoc",t._key,e)).toMutation(t._key,Ef.exists(!0))])}function Xb(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Vo(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Vy(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Vy(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Dy)c=ky(t.firestore,Uy),l=Kh(t._key.path),u={next:function(e){i[a]&&i[a](Yb(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=ky(t,Cy);c=ky(d.firestore,Uy),l=d._query;var p=new Wb(c);u={next:function(t){i[a]&&i[a](new kb(c,p,d,t))},error:i[a+1],complete:i[a+2]},xb(t._query)}return function(t,e,n,r){var i=this,o=new Yv(r),s=new cv(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return Io(i,void 0,void 0,(function(){var e;return $o(this,(function(n){switch(n.label){case 0:return e=iv,[4,cy(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return Io(i,void 0,void 0,(function(){var e;return $o(this,(function(n){switch(n.label){case 0:return e=ov,[4,cy(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(jy(c),l,h,u)}function Qb(t,e){return function(t,e){var n=this,r=new dp;return t.asyncQueue.enqueueAndForget((function(){return Io(n,void 0,void 0,(function(){var n;return $o(this,(function(i){switch(i.label){case 0:return n=bv,[4,uy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(jy(t),e)}function Yb(t,e,n){var r=n.docs.get(e._key),i=new Wb(t);return new _b(t,i,e._key,r,new Tb(n.hasPendingWrites,n.fromCache),e.converter)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Jb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return bo(e,t),e.prototype.get=function(e){var n=this,r=zb(e,this._firestore),i=new Wb(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new _b(n._firestore,i,r._key,t._document,new Tb(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=eb(t)}return t.prototype.get=function(t){var e=this,n=zb(t,this._firestore),r=new Kb(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return xl();var i=t[0];if(i.isFoundDocument())return new Ib(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Ib(e._firestore,r,n._key,null,n.converter);throw xl()}))},t.prototype.set=function(t,e,n){var r=zb(t,this._firestore),i=Bb(r.converter,e,n),o=nb(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=zb(t,this._firestore);return o="string"==typeof(e=Vo(e))||e instanceof Gy?lb(this._dataReader,"Transaction.update",s._key,e,n,r):cb(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=zb(t,this._firestore);return this._transaction.delete(e._key),this},t}());
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Zb(){if("undefined"==typeof Uint8Array)throw new El($l.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function tw(){if("undefined"==typeof atob)throw new El($l.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ew=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return tw(),new t(zy.fromBase64String(e))},t.fromUint8Array=function(e){return Zb(),new t(zy.fromUint8Array(e))},t.prototype.toBase64=function(){return tw(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Zb(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),nw=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Ky(t=ky(t,Uy));var n=jy(t),r=t._freezeSettings(),i=new Qv;return By(n,i,new Hv(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Ky(t=ky(t,Uy));var e=jy(t),n=t._freezeSettings(),r=new Qv;return By(e,r,new Xv(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new El($l.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new dp;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return Io(e,void 0,void 0,(function(){var e;return $o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Io(this,void 0,void 0,(function(){var e;return $o(this,(function(n){switch(n.label){case 0:return gp.yt()?(e=t+"main",[4,gp.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(km(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),rw=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof dy||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=ky(t,xy))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&Al("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=wo({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[So.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),So.encodeString(JSON.stringify(o),!1),""].join(".")}(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new El($l.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new vy(new my(o,new tg(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Io(e,void 0,void 0,(function(){var e,n;return $o(this,(function(r){switch(r.label){case 0:return[4,oy(t)];case 1:return e=r.sent(),[4,ay(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Cl(t);return e.$r.delete(0),Sg(e)}(n))]}}))}))}))}(jy(ky(this._delegate,Uy)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Io(e,void 0,void 0,(function(){var e,n;return $o(this,(function(r){switch(r.label){case 0:return[4,oy(t)];case 1:return e=r.sent(),[4,ay(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Io(this,void 0,void 0,(function(){var e;return $o(this,(function(n){switch(n.label){case 0:return(e=Cl(t)).$r.add(0),[4,kg(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(jy(ky(this._delegate,Uy)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Ey("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new dp;return t.asyncQueue.enqueueAndForget((function(){return Io(e,void 0,void 0,(function(){var e;return $o(this,(function(r){switch(r.label){case 0:return e=_v,[4,uy(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(jy(ky(this._delegate,Uy)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Yv(e);return t.asyncQueue.enqueueAndForget((function(){return Io(n,void 0,void 0,(function(){var e;return $o(this,(function(n){switch(n.label){case 0:return e=function(t,e){Cl(t).Gr.add(e),e.next()},[4,cy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return Io(n,void 0,void 0,(function(){var e;return $o(this,(function(n){switch(n.label){case 0:return e=function(t,e){Cl(t).Gr.delete(e)},[4,cy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(jy(t=ky(t,Uy)),Vy(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new El($l.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new vw(this,Ry(this._delegate,t))}catch(t){throw cw(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new uw(this,Py(this._delegate,t))}catch(t){throw cw(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new pw(this,function(t,e){if(t=ky(t,xy),Iy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new El($l.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Cy(t,null,function(t){return new qh(Kl.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw cw(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new dp;return t.asyncQueue.enqueueAndForget((function(){return Io(n,void 0,void 0,(function(){var n;return $o(this,(function(i){switch(i.label){case 0:return[4,function(t){return iy(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new Zv(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(jy(t),(function(n){return e(new Jb(t,n))}))}(this._delegate,(function(n){return t(new ow(e,n))}))},t.prototype.batch=function(){var t=this;return jy(this._delegate),new sw(new Gb(this._delegate,(function(e){return Qb(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new El($l.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new El($l.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),iw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return bo(e,t),e.prototype.convertBytes=function(t){return new ew(new zy(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return uw.Zc(e,this.firestore,null)},e}(qb);var ow=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new iw(t)}return t.prototype.get=function(t){var e=this,n=yw(t);return this._delegate.get(n).then((function(t){return new fw(e._firestore,new _b(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=yw(t);return n?($y("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=yw(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,_o([s,e,n],i)),this},t.prototype.delete=function(t){var e=yw(t);return this._delegate.delete(e),this},t}(),sw=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=yw(t);return n?($y("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=yw(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,_o([s,e,n],i)),this},t.prototype.delete=function(t){var e=yw(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),aw=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Sb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new dw(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new iw(e),n),i.set(n,o)),o},t}();aw.eu=new WeakMap;var uw=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new iw(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new El($l.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Dy(n._delegate,r,new oh(e)))},t.Zc=function(e,n,r){return new t(n,new Dy(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new vw(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new vw(this.firestore,Ry(this._delegate,t))}catch(t){throw cw(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Vo(t))instanceof Dy&&Ly(this._delegate,t)},t.prototype.set=function(t,e){e=$y("DocumentReference.set",e);try{return function(t,e,n){t=ky(t,Dy);var r=ky(t.firestore,Uy),i=Bb(t.converter,e,n);return Qb(r,[nb(eb(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Ef.none())])}(this._delegate,t,e)}catch(t){throw cw(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Hb(this._delegate,t):Hb.apply(void 0,_o([this._delegate,t,e],n))}catch(t){throw cw(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Qb(ky((t=this._delegate).firestore,Uy),[new Ff(t._key,Ef.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=lw(e),i=hw(e,(function(e){return new fw(t.firestore,new _b(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return Xb(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=ky(t,Dy);var e=ky(t.firestore,Uy),n=jy(e),r=new Wb(e);return function(t,e){var n=this,r=new dp;return t.asyncQueue.enqueueAndForget((function(){return Io(n,void 0,void 0,(function(){var n;return $o(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Io(this,void 0,void 0,(function(){var r,i;return $o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Cl(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new El($l.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Jg(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,sy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new _b(e,r,t._key,n,new Tb(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=ky(t,Dy);var e=ky(t.firestore,Uy);return ly(jy(e),t._key,{source:"server"}).then((function(n){return Yb(e,t,n)}))}(this._delegate):function(t){t=ky(t,Dy);var e=ky(t.firestore,Uy);return ly(jy(e),t._key).then((function(n){return Yb(e,t,n)}))}(this._delegate)).then((function(t){return new fw(e.firestore,new _b(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(aw.tu(this.firestore,e)):this._delegate.withConverter(null))},t}();function cw(t,e,n){return t.message=t.message.replace(e,n),t}function lw(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Vy(r))return r}return{}}function hw(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Vy(t[0])?t[0]:Vy(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var fw=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new uw(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Nb(this._delegate,t._delegate)},t}(),dw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bo(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(fw),pw=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new iw(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Cb(this._delegate,function(t,e,n){var r=e,i=Eb("where",t);return new Ob(i,r,n)}(e,n,r)))}catch(e){throw cw(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Cb(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Eb("orderBy",t);return new Rb(r,n)}(e,n)))}catch(e){throw cw(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Cb(this._delegate,function(t){return Ay("limit",t),new Pb("limit",t,"F")}(e)))}catch(e){throw cw(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Cb(this._delegate,function(t){return Ay("limitToLast",t),new Pb("limitToLast",t,"L")}(e)))}catch(e){throw cw(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Cb(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Lb("startAt",t,!0)}.apply(void 0,e)))}catch(e){throw cw(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Cb(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Lb("startAfter",t,!1)}.apply(void 0,e)))}catch(e){throw cw(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Cb(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Mb("endBefore",t,!0)}.apply(void 0,e)))}catch(e){throw cw(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Cb(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Mb("endAt",t,!1)}.apply(void 0,e)))}catch(e){throw cw(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return My(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=ky(t,Cy);var e=ky(t.firestore,Uy),n=jy(e),r=new Wb(e);return function(t,e){var n=this,r=new dp;return t.asyncQueue.enqueueAndForget((function(){return Io(n,void 0,void 0,(function(){var n;return $o(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Io(this,void 0,void 0,(function(){var r,i,o,s,a;return $o(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Um(t,e,!0)];case 1:return a=u.sent(),r=new fv(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Jg(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,sy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new kb(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=ky(t,Cy);var e=ky(t.firestore,Uy),n=jy(e),r=new Wb(e);return hy(n,t._query,{source:"server"}).then((function(n){return new kb(e,r,t,n)}))}(this._delegate):function(t){t=ky(t,Cy);var e=ky(t.firestore,Uy),n=jy(e),r=new Wb(e);return xb(t._query),hy(n,t._query).then((function(n){return new kb(e,r,t,n)}))}(this._delegate)).then((function(t){return new gw(e.firestore,new kb(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=lw(e),i=hw(e,(function(e){return new gw(t.firestore,new kb(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return Xb(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(aw.tu(this.firestore,e)):this._delegate.withConverter(null))},t}(),mw=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new dw(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),gw=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new pw(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new dw(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new mw(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new dw(n._firestore,r))}))},t.prototype.isEqual=function(t){return Nb(this._delegate,t._delegate)},t}(),vw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return bo(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new uw(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new uw(this.firestore,void 0===t?Py(this._delegate):Py(this._delegate,t))}catch(t){throw cw(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=ky(t.firestore,Uy),r=Py(t),i=Bb(t.converter,e);return Qb(n,[nb(eb(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ef.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new uw(e.firestore,t)}))},e.prototype.isEqual=function(t){return Ly(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(aw.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(pw);function yw(t){return ky(t,Dy)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var bw,ww=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Gy.bind.apply(Gy,_o([void 0],t)))}return t.documentId=function(){return new t(zl.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Vo(t))instanceof Gy&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Iw=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new ob("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new rb("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sb("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ab("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new ub("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),$w={Firestore:rw,GeoPoint:Hy,Timestamp:Fl,Blob:ew,Transaction:ow,WriteBatch:sw,DocumentReference:uw,DocumentSnapshot:fw,Query:pw,QueryDocumentSnapshot:dw,QuerySnapshot:gw,CollectionReference:vw,FieldPath:ww,FieldValue:Iw,setLogLevel:function(t){var e;e=t,Tl.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};function Ew(t,e,n){const r=t.slice();return r[24]=e[n],r}function Tw(t){let e,n;return e=new tr({props:{isOpen:!0,$$slots:{default:[Dw]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(t,n){const r={};134217728&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function _w(t){let e,n;return e=new to({props:{path:t[0].t?`users/${t[0].t}`:`users/${t[18].uid}`,log:!0,$$slots:{fallback:[Zw,({data:t,ref:e})=>({20:t,21:e}),({data:t,ref:e})=>(t?1048576:0)|(e?2097152:0)],loading:[Jw,({data:t,ref:e})=>({20:t,21:e}),({data:t,ref:e})=>(t?1048576:0)|(e?2097152:0)],default:[Yw,({data:t,ref:e})=>({20:t,21:e}),({data:t,ref:e})=>(t?1048576:0)|(e?2097152:0)]},$$scope:{ctx:t}}}),e.$on("data",(function(...e){return t[16](t[18],t[19],...e)})),{c(){_t(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(n,r){t=n;const i={};262145&r&&(i.path=t[0].t?`users/${t[0].t}`:`users/${t[18].uid}`),137625615&r&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function Sw(t){let e;return{c(){e=T("Warning!")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function kw(t){let e;return{c(){e=T("You are currently signed in as a helper.")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function Aw(t){let e;return{c(){e=T("Sign me out")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function Nw(t){let e;return{c(){e=T("Go back")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function xw(t){let e,n,r,i;return e=new le({props:{color:"danger",$$slots:{default:[Aw]},$$scope:{ctx:t}}}),e.$on("click",(function(){return t[17](t[19])})),r=new le({props:{color:"secondary",$$slots:{default:[Nw]},$$scope:{ctx:t}}}),r.$on("click",Ut),{c(){_t(e.$$.fragment),n=_(),_t(r.$$.fragment)},m(t,o){St(e,t,o),w(t,n,o),St(r,t,o),i=!0},p(n,i){t=n;const o={};134217728&i&&(o.$$scope={dirty:i,ctx:t}),e.$set(o);const s={};134217728&i&&(s.$$scope={dirty:i,ctx:t}),r.$set(s)},i(t){i||(yt(e.$$.fragment,t),yt(r.$$.fragment,t),i=!0)},o(t){bt(e.$$.fragment,t),bt(r.$$.fragment,t),i=!1},d(t){kt(e,t),t&&I(n),kt(r,t)}}}function Dw(t){let e,n,r,i,o,s;return e=new Pn({props:{$$slots:{default:[Sw]},$$scope:{ctx:t}}}),r=new kn({props:{$$slots:{default:[kw]},$$scope:{ctx:t}}}),o=new rr({props:{$$slots:{default:[xw]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment),n=_(),_t(r.$$.fragment),i=_(),_t(o.$$.fragment)},m(t,a){St(e,t,a),w(t,n,a),St(r,t,a),w(t,i,a),St(o,t,a),s=!0},p(t,n){const i={};134217728&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const s={};134217728&n&&(s.$$scope={dirty:n,ctx:t}),r.$set(s);const a={};134217728&n&&(a.$$scope={dirty:n,ctx:t}),o.$set(a)},i(t){s||(yt(e.$$.fragment,t),yt(r.$$.fragment,t),yt(o.$$.fragment,t),s=!0)},o(t){bt(e.$$.fragment,t),bt(r.$$.fragment,t),bt(o.$$.fragment,t),s=!1},d(t){kt(e,t),t&&I(n),kt(r,t),t&&I(i),kt(o,t)}}}function Cw(t){let e;return{c(){e=T("Warning!")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function Ow(t){let e,n,r=t[18].isAnonymous?"You are being redirected back.":"";return{c(){e=T("This chat is finished. "),n=T(r)},m(t,r){w(t,e,r),w(t,n,r)},p(t,e){262144&e&&r!==(r=t[18].isAnonymous?"You are being redirected back.":"")&&D(n,r)},d(t){t&&I(e),t&&I(n)}}}function Rw(t){let e;return{c(){e=T("Ok")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function Pw(t){let e,n;return e=new le({props:{color:"primary",$$slots:{default:[Rw]},$$scope:{ctx:t}}}),e.$on("click",t[4]),{c(){_t(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(t,n){const r={};134217728&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function Lw(t){let e,n,r,i,o,s;return e=new Pn({props:{$$slots:{default:[Cw]},$$scope:{ctx:t}}}),r=new kn({props:{$$slots:{default:[Ow]},$$scope:{ctx:t}}}),o=new rr({props:{$$slots:{default:[Pw]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment),n=_(),_t(r.$$.fragment),i=_(),_t(o.$$.fragment)},m(t,a){St(e,t,a),w(t,n,a),St(r,t,a),w(t,i,a),St(o,t,a),s=!0},p(t,n){const i={};134217728&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const s={};134479872&n&&(s.$$scope={dirty:n,ctx:t}),r.$set(s);const a={};134217728&n&&(a.$$scope={dirty:n,ctx:t}),o.$set(a)},i(t){s||(yt(e.$$.fragment,t),yt(r.$$.fragment,t),yt(o.$$.fragment,t),s=!0)},o(t){bt(e.$$.fragment,t),bt(r.$$.fragment,t),bt(o.$$.fragment,t),s=!1},d(t){kt(e,t),t&&I(n),kt(r,t),t&&I(i),kt(o,t)}}}function Mw(t){let e;return{c(){e=T("Leave Chat")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function Fw(t){let e,n;return e=new le({props:{color:"danger",$$slots:{default:[Vw]},$$scope:{ctx:t}}}),e.$on("click",(function(){return t[11](t[21])})),{c(){_t(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(n,r){t=n;const i={};134217728&r&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function Vw(t){let e;return{c(){e=T("End Chat")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function Uw(t){let e,n,r,i;e=new le({props:{color:"danger",$$slots:{default:[Mw]},$$scope:{ctx:t}}}),e.$on("click",(function(){return t[10](t[19])}));let o=1==t[0].u&&!t[20].isFinished&&Fw(t);return{c(){_t(e.$$.fragment),n=_(),o&&o.c(),r=S()},m(t,s){St(e,t,s),w(t,n,s),o&&o.m(t,s),w(t,r,s),i=!0},p(n,i){t=n;const s={};134217728&i&&(s.$$scope={dirty:i,ctx:t}),e.$set(s),1!=t[0].u||t[20].isFinished?o&&(gt(),bt(o,1,1,(()=>{o=null})),vt()):o?(o.p(t,i),1048577&i&&yt(o,1)):(o=Fw(t),o.c(),yt(o,1),o.m(r.parentNode,r))},i(t){i||(yt(e.$$.fragment,t),yt(o),i=!0)},o(t){bt(e.$$.fragment,t),bt(o),i=!1},d(t){kt(e,t),t&&I(n),o&&o.d(t),t&&I(r)}}}function jw(t){let e,n=t[24].text+"";return{c(){e=T(n)},m(t,n){w(t,e,n)},p(t,r){4194304&r&&n!==(n=t[24].text+"")&&D(e,n)},d(t){t&&I(e)}}}function qw(t){let e,n=(t[24].time?t[24].time.toDate().toLocaleTimeString():"...")+"";return{c(){e=T(n)},m(t,n){w(t,e,n)},p(t,r){4194304&r&&n!==(n=(t[24].time?t[24].time.toDate().toLocaleTimeString():"...")+"")&&D(e,n)},d(t){t&&I(e)}}}function Bw(t){let e,n,r,i,o;return e=new ge({props:{$$slots:{default:[jw]},$$scope:{ctx:t}}}),r=new be({props:{$$slots:{default:[qw]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment),n=_(),_t(r.$$.fragment),i=_()},m(t,s){St(e,t,s),w(t,n,s),St(r,t,s),w(t,i,s),o=!0},p(t,n){const i={};138412032&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const o={};138412032&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(t){o||(yt(e.$$.fragment,t),yt(r.$$.fragment,t),o=!0)},o(t){bt(e.$$.fragment,t),bt(r.$$.fragment,t),o=!1},d(t){kt(e,t),t&&I(n),kt(r,t),t&&I(i)}}}function Kw(t){let e,n;return e=new de({props:{style:"\n                  border-bottom-"+(t[24].person==t[18].isAnonymous?"left":"right")+"-radius: 0rem !important;\n                  margin-left: "+(t[24].person==t[18].isAnonymous?"0":"auto")+";\n                ",color:t[24].person==t[18].isAnonymous?"primary":"secondary",inverse:!0,class:"msg",$$slots:{default:[Bw]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(t,n){const r={};4456448&n&&(r.style="\n                  border-bottom-"+(t[24].person==t[18].isAnonymous?"left":"right")+"-radius: 0rem !important;\n                  margin-left: "+(t[24].person==t[18].isAnonymous?"0":"auto")+";\n                "),4456448&n&&(r.color=t[24].person==t[18].isAnonymous?"primary":"secondary"),138412032&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function Gw(t){let e;return{c(){e=T("Send")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function zw(t){let e,n,r,i,o,s;function a(e){t[13](e)}let u={placeholder:"Message"};return void 0!==t[1]&&(u.value=t[1]),e=new mn({props:u}),Z.push((()=>Tt(e,"value",a))),e.$on("keyup",(function(...e){return t[14](t[23],t[18],t[20],t[21],...e)})),o=new le({props:{$$slots:{default:[Gw]},$$scope:{ctx:t}}}),o.$on("click",(function(){return t[15](t[23],t[18],t[20],t[21])})),{c(){_t(e.$$.fragment),r=_(),i=E("div"),_t(o.$$.fragment),A(i,"class","input-group-append")},m(t,n){St(e,t,n),w(t,r,n),w(t,i,n),St(o,i,null),s=!0},p(r,i){t=r;const s={};!n&&2&i&&(n=!0,s.value=t[1],at((()=>n=!1))),e.$set(s);const a={};134217728&i&&(a.$$scope={dirty:i,ctx:t}),o.$set(a)},i(t){s||(yt(e.$$.fragment,t),yt(o.$$.fragment,t),s=!0)},o(t){bt(e.$$.fragment,t),bt(o.$$.fragment,t),s=!1},d(t){kt(e,t),t&&I(r),t&&I(i),kt(o)}}}function Ww(t){let e,n;return e=new yn({props:{$$slots:{default:[zw]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(t,n){const r={};134217730&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function Hw(t){let e,n,r,i,o,s,a;n=new Fe({props:{class:"text-center",$$slots:{default:[Uw]},$$scope:{ctx:t}}});let u=t[22],c=[];for(let e=0;e<u.length;e+=1)c[e]=Kw(Ew(t,u,e));const l=t=>bt(c[t],1,1,(()=>{c[t]=null}));return s=new Fe({props:{id:"sendbox",$$slots:{default:[Ww]},$$scope:{ctx:t}}}),{c(){e=E("div"),_t(n.$$.fragment),r=_(),i=E("div");for(let t=0;t<c.length;t+=1)c[t].c();o=_(),_t(s.$$.fragment),A(i,"id","messages"),A(i,"class","svelte-t0dahc"),A(e,"id","chat"),A(e,"class","svelte-t0dahc")},m(u,l){w(u,e,l),St(n,e,null),b(e,r),b(e,i);for(let t=0;t<c.length;t+=1)c[t].m(i,null);t[12](i),b(e,o),St(s,e,null),a=!0},p(t,e){const r={};if(135266305&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r),4456448&e){let n;for(u=t[22],n=0;n<u.length;n+=1){const r=Ew(t,u,n);c[n]?(c[n].p(r,e),yt(c[n],1)):(c[n]=Kw(r),c[n].c(),yt(c[n],1),c[n].m(i,null))}for(gt(),n=u.length;n<c.length;n+=1)l(n);vt()}const o={};134217730&e&&(o.$$scope={dirty:e,ctx:t}),s.$set(o)},i(t){if(!a){yt(n.$$.fragment,t);for(let t=0;t<u.length;t+=1)yt(c[t]);yt(s.$$.fragment,t),a=!0}},o(t){bt(n.$$.fragment,t),c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)bt(c[t]);bt(s.$$.fragment,t),a=!1},d(r){r&&I(e),kt(n),$(c,r),t[12](null),kt(s)}}}function Xw(t){let e;return{c(){e=E("div"),e.textContent="Loading...",A(e,"slot","loading")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function Qw(t){let e;return{c(){e=E("div"),e.textContent="There was an error getting messages. Try refreshing.",A(e,"slot","fallback")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function Yw(t){let e,n,r,i;return e=new tr({props:{fade:!1,isOpen:t[3],toggle:t[4],$$slots:{default:[Lw]},$$scope:{ctx:t}}}),r=new vo({props:{path:t[21].collection("messages"),query:cI,log:!0,$$slots:{fallback:[Qw,({data:t,ref:e})=>({22:t,23:e}),({data:t,ref:e})=>(t?4194304:0)|(e?8388608:0)],loading:[Xw,({data:t,ref:e})=>({22:t,23:e}),({data:t,ref:e})=>(t?4194304:0)|(e?8388608:0)],default:[Hw,({data:t,ref:e})=>({22:t,23:e}),({data:t,ref:e})=>(t?4194304:0)|(e?8388608:0)]},$$scope:{ctx:t}}}),r.$on("data",t[6]),{c(){_t(e.$$.fragment),n=_(),_t(r.$$.fragment)},m(t,o){St(e,t,o),w(t,n,o),St(r,t,o),i=!0},p(t,n){const i={};8&n&&(i.isOpen=t[3]),134479872&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const o={};2097152&n&&(o.path=t[21].collection("messages")),139722759&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(t){i||(yt(e.$$.fragment,t),yt(r.$$.fragment,t),i=!0)},o(t){bt(e.$$.fragment,t),bt(r.$$.fragment,t),i=!1},d(t){kt(e,t),t&&I(n),kt(r,t)}}}function Jw(t){let e;return{c(){e=E("div"),e.textContent="Loading...",A(e,"slot","loading")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function Zw(t){let e,n,r,i=t[21].set({isFinished:!1,isChatting:!1,timeCreated:ps.firestore.FieldValue.serverTimestamp()})+"";return{c(){e=E("div"),n=T("Creating account...\n          "),r=T(i),A(e,"slot","fallback")},m(t,i){w(t,e,i),b(e,n),b(e,r)},p(t,e){2097152&e&&i!==(i=t[21].set({isFinished:!1,isChatting:!1,timeCreated:ps.firestore.FieldValue.serverTimestamp()})+"")&&D(r,i)},d(t){t&&I(e)}}}function tI(t){let e,n,r,i;const o=[_w,Tw],s=[];function a(t,e){return t[18].isAnonymous||1==t[0].u?0:1}return e=a(t),n=s[e]=o[e](t),{c(){n.c(),r=S()},m(t,n){s[e].m(t,n),w(t,r,n),i=!0},p(t,i){let u=e;e=a(t),e===u?s[e].p(t,i):(gt(),bt(s[u],1,1,(()=>{s[u]=null})),vt(),n=s[e],n?n.p(t,i):(n=s[e]=o[e](t),n.c()),yt(n,1),n.m(r.parentNode,r))},i(t){i||(yt(n),i=!0)},o(t){bt(n),i=!1},d(t){s[e].d(t),t&&I(r)}}}function eI(e){let n,r,i=ai.warning+"";return{c(){r=S(),n=new M(r)},m(t,e){n.m(i,t,e),w(t,r,e)},p:t,d(t){t&&I(r),t&&n.d()}}}function nI(e){let n,r,i=ai.matchMeNow+"";return{c(){r=S(),n=new M(r)},m(t,e){n.m(i,t,e),w(t,r,e)},p:t,d(t){t&&I(r),t&&n.d()}}}function rI(t){let e,n;return e=new le({props:{$$slots:{default:[nI]},$$scope:{ctx:t}}}),e.$on("click",(function(){return t[9](t[19])})),{c(){_t(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(n,r){t=n;const i={};134217728&r&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function iI(t){let e,n,r,i;return e=new Ar({props:{$$slots:{default:[eI]},$$scope:{ctx:t}}}),r=new Ar({props:{class:"d-block text-center",$$slots:{default:[rI]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment),n=_(),_t(r.$$.fragment)},m(t,o){St(e,t,o),w(t,n,o),St(r,t,o),i=!0},p(t,n){const i={};134217728&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const o={};134217728&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(t){i||(yt(e.$$.fragment,t),yt(r.$$.fragment,t),i=!0)},o(t){bt(e.$$.fragment,t),bt(r.$$.fragment,t),i=!1},d(t){kt(e,t),t&&I(n),kt(r,t)}}}function oI(t){let e,n,r;return n=new In({props:{$$slots:{default:[iI]},$$scope:{ctx:t}}}),{c(){e=E("div"),_t(n.$$.fragment),A(e,"slot","signed-out")},m(t,i){w(t,e,i),St(n,e,null),r=!0},p(t,e){const r={};134217728&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(yt(n.$$.fragment,t),r=!0)},o(t){bt(n.$$.fragment,t),r=!1},d(t){t&&I(e),kt(n)}}}function sI(t){let e,n;return e=new Ri({props:{$$slots:{"signed-out":[oI,({user:t,auth:e})=>({18:t,19:e}),({user:t,auth:e})=>(t?262144:0)|(e?524288:0)],default:[tI,({user:t,auth:e})=>({18:t,19:e}),({user:t,auth:e})=>(t?262144:0)|(e?524288:0)]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(t,n){const r={};134479887&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function aI(t){let e,n;return e=new wi({props:{firebase:ps,$$slots:{default:[sI]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(t,[n]){const r={};134217743&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}async function uI(t){await t.signOut()}(function(t,e){t.INTERNAL.registerComponent(new Uo("firestore",(function(t){return function(t,e){return new rw(t,new Uy(t,e),new nw)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},$w)))})(bw=ps),bw.registerVersion("@firebase/firestore","2.3.0"),function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Qa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),s=r.next();!s.done;s=r.next())o(s.value).Qa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,o(r.value).Qa(i(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},s=this||self,a=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&a.test(t)?t:""}function l(){}function h(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==h(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function I(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function $(t){return t}function E(t,e,n){this.code=S+t,this.message=e||k[t]||"",this.a=n||null}function T(t){var e=t&&t.code;return e?new E(e.substring(S.length),t.message,t.serverResponse):null}I(E,Error),E.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},E.prototype.toJSON=function(){return this.w()};var _,S="auth/",k={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},A={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function N(t){for(var e in A)if(A[e].id===t)return{firebaseEndpoint:(t=A[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function x(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function D(t){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function C(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");D.call(this,n+t[r])}function O(t,e){throw new C("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function R(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function P(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function L(){this.b=this.a=null}_=N("__EID__")?"__EID__":void 0,I(D,Error),D.prototype.name="CustomError",I(C,D),C.prototype.name="AssertionError",R.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var M=new R((function(){return new V}),(function(t){t.reset()}));function F(){var t=ge,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function V(){this.next=this.b=this.a=null}L.prototype.add=function(t,e){var n=M.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},V.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},V.prototype.reset=function(){this.next=this.b=this.a=null};var U=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},j=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var q=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},B=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},K=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function G(t,e){return 0<=U(t,e)}function z(t,e){var n;return(n=0<=(e=U(t,e)))&&Array.prototype.splice.call(t,e,1),n}function W(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function H(t){return Array.prototype.concat.apply([],arguments)}function X(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Q,Y=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},J=/&/g,Z=/</g,tt=/>/g,et=/"/g,nt=/'/g,rt=/\x00/g,it=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function st(t,e){return t<e?-1:t>e?1:0}t:{var at=s.navigator;if(at){var ut=at.userAgent;if(ut){Q=ut;break t}}Q=""}function ct(t){return ot(Q,t)}function lt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ht(t){for(var e in t)return!1;return!0}function ft(t){var e,n={};for(e in t)n[e]=t[e];return n}var dt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<dt.length;o++)n=dt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function mt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;O("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function gt(t,e){this.a=t===wt&&e||"",this.b=bt}function vt(t){return t instanceof gt&&t.constructor===gt&&t.b===bt?t.a:(O("expected object of type Const, got '"+t+"'"),"type_error:Const")}gt.prototype.sa=!0,gt.prototype.ra=function(){return this.a},gt.prototype.toString=function(){return"Const{"+this.a+"}"};var yt,bt={},wt={};function It(){if(void 0===yt){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:$,createScript:$,createScriptURL:$})}catch(t){s.console&&s.console.error(t.message)}yt=t}else yt=t}return yt}function $t(t,e){this.a=e===kt?t:""}function Et(t){return t instanceof $t&&t.constructor===$t?t.a:(O("expected object of type TrustedResourceUrl, got '"+t+"' of type "+h(t)),"type_error:TrustedResourceUrl")}function Tt(t,e){var n=vt(t);if(!St.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=It();return new $t(t=e?e.createScriptURL(t):t,kt)}(t=n.replace(_t,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof gt?vt(t):encodeURIComponent(String(t))})))}$t.prototype.sa=!0,$t.prototype.ra=function(){return this.a.toString()},$t.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var _t=/%{(\w+)}/g,St=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,kt={};function At(t,e){this.a=e===Pt?t:""}function Nt(t){return t instanceof At&&t.constructor===At?t.a:(O("expected object of type SafeUrl, got '"+t+"' of type "+h(t)),"type_error:SafeUrl")}At.prototype.sa=!0,At.prototype.ra=function(){return this.a.toString()},At.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var xt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Dt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Ct=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ot(t){if(t instanceof At)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Ct.test(t))t=new At(t,Pt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Dt);t=e&&xt.test(e[1])?new At(t,Pt):null}return t}function Rt(t){return t instanceof At?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Ct.test(t)||(t="about:invalid#zClosurez"),new At(t,Pt))}var Pt={},Lt=new At("about:invalid#zClosurez",Pt);function Mt(t,e,n){this.a=n===Ft?t:""}Mt.prototype.sa=!0,Mt.prototype.ra=function(){return this.a.toString()},Mt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ft={};function Vt(t,e,n,r){return t=t instanceof At?t:Rt(t),e=e||s,n=n instanceof gt?vt(n):n||"",e.open(Nt(t),n,r,void 0)}function Ut(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function jt(t){return it.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(J,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(et,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function qt(t){return qt[" "](t),t}qt[" "]=l;var Bt,Kt=ct("Opera"),Gt=ct("Trident")||ct("MSIE"),zt=ct("Edge"),Wt=zt||Gt,Ht=ct("Gecko")&&!(ot(Q.toLowerCase(),"webkit")&&!ct("Edge"))&&!(ct("Trident")||ct("MSIE"))&&!ct("Edge"),Xt=ot(Q.toLowerCase(),"webkit")&&!ct("Edge");function Qt(){var t=s.document;return t?t.documentMode:void 0}t:{var Yt="",Jt=function(){var t=Q;return Ht?/rv:([^\);]+)(\)|;)/.exec(t):zt?/Edge\/([\d\.]+)/.exec(t):Gt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Xt?/WebKit\/(\S+)/.exec(t):Kt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Jt&&(Yt=Jt?Jt[1]:""),Gt){var Zt=Qt();if(null!=Zt&&Zt>parseFloat(Yt)){Bt=String(Zt);break t}}Bt=Yt}var te,ee={};function ne(t){return function(t,e){var n=ee;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Y(String(Bt)).split("."),r=Y(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=st(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||st(0==s[2].length,0==a[2].length)||st(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(s.document&&Gt){var re=Qt();te=re||(parseInt(Bt,10)||void 0)}else te=void 0;var ie=te;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(t){}var oe=!Gt||9<=Number(ie);function se(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ae(t,e){lt(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:le.hasOwnProperty(n)?t.setAttribute(le[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ue,ce,le={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function he(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||p(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(p(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(d(o)){s="function"==typeof o.item;break t}}s=!1}j(s?X(o):o,r)}}}function fe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function de(t){s.setTimeout((function(){throw t}),0)}function pe(t,e){ce||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);ce=function(){t.then(ve)}}else ce=function(){var t=ve;!d(s.setImmediate)||s.Window&&s.Window.prototype&&!ct("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ue||(ue=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ct("Presto")&&(t=function(){var t=fe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ct("Trident")&&!ct("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),ue(t)):s.setImmediate(t)}}(),me||(ce(),me=!0),ge.add(t,e)}var me=!1,ge=new L;function ve(){for(var t;t=F();){try{t.a.call(t.b)}catch(t){de(t)}P(M,t)}me=!1}function ye(t,e){if(this.a=be,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=l)try{var n=this;t.call(e,(function(t){Ce(n,we,t)}),(function(t){if(!(t instanceof Ve))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Ce(n,Ie,t)}))}catch(t){Ce(this,Ie,t)}}var be=0,we=2,Ie=3;function $e(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}$e.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ee=new R((function(){return new $e}),(function(t){t.reset()}));function Te(t,e,n){var r=Ee.get();return r.g=t,r.b=e,r.f=n,r}function _e(t){if(t instanceof ye)return t;var e=new ye(l);return Ce(e,we,t),e}function Se(t){return new ye((function(e,n){n(t)}))}function ke(t,e,n){Oe(t,e,n,null)||pe(w(e,t))}function Ae(t){return new ye((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)ke(t[o],w(i,o,!0),w(i,o,!1));else e(r)}))}function Ne(t,e){if(t.a==be)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==be&&1==r?Ne(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Pe(n),Le(n,i,Ie,e)))}t.c=null}else Ce(t,Ie,e)}function xe(t,e){t.b||t.a!=we&&t.a!=Ie||Re(t),t.f?t.f.next=e:t.b=e,t.f=e}function De(t,e,n,r){var i=Te(null,null,null);return i.a=new ye((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ve?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,xe(t,i),i.a}function Ce(t,e,n){t.a==be&&(t===n&&(e=Ie,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Oe(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Re(t),e!=Ie||n instanceof Ve||function(t,e){t.g=!0,pe((function(){t.g&&Fe.call(null,e)}))}(t,n)))}function Oe(t,e,n,r){if(t instanceof ye)return xe(t,Te(e||l,n||null,r)),!0;if(x(t))return t.then(e,n,r),!0;if(p(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}function s(t){a||(a=!0,n.call(i,t))}var a=!1;try{e.call(t,s,o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Re(t){t.h||(t.h=!0,pe(t.gc,t))}function Pe(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Le(t,e,n,r){if(n==Ie&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Me(e,n,r);else try{e.c?e.g.call(e.f):Me(e,n,r)}catch(t){Fe.call(null,t)}P(Ee,e)}function Me(t,e,n){e==we?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ye.prototype.then=function(t,e,n){return De(this,d(t)?t:null,d(e)?e:null,n)},ye.prototype.$goog_Thenable=!0,(t=ye.prototype).oa=function(t,e){return(t=Te(t,t,e)).c=!0,xe(this,t),this},t.o=function(t,e){return De(this,null,t,e)},t.cancel=function(t){if(this.a==be){var e=new Ve(t);pe((function(){Ne(this,e)}),this)}},t.$c=function(t){this.a=be,Ce(this,we,t)},t.ad=function(t){this.a=be,Ce(this,Ie,t)},t.gc=function(){for(var t;t=Pe(this);)Le(this,t,this.a,this.i);this.h=!1};var Fe=de;function Ve(t){D.call(this,t)}function Ue(){this.xa=this.xa,this.pa=this.pa}I(Ve,D),Ve.prototype.name="cancel";function je(t){!t.xa&&(t.xa=!0,t.Da(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++g)}(t)}Ue.prototype.xa=!1,Ue.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var qe=Object.freeze||function(t){return t},Be=!Gt||9<=Number(ie),Ke=Gt&&!ne("9"),Ge=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",l,e),s.removeEventListener("test",l,e)}catch(t){}return t}();function ze(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function We(t,e){if(ze.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Ht){t:{try{qt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:He[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}ze.prototype.preventDefault=function(){this.defaultPrevented=!0},I(We,ze);var He=qe({2:"touch",3:"pen",4:"mouse"});We.prototype.preventDefault=function(){We.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ke)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},We.prototype.g=function(){return this.a};var Xe="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function Ye(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++Qe,this.va=this.Pa=!1}function Je(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function Ze(t){this.src=t,this.a={},this.b=0}function tn(t,e){var n=e.type;n in t.a&&z(t.a[n],e)&&(Je(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function en(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}Ze.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=en(t,e,r,i);return-1<s?(e=t[s],n||(e.Pa=!1)):((e=new Ye(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var nn="closure_lm_"+(1e6*Math.random()|0),rn={};function on(t,e,n,r,i){if(r&&r.once)an(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)on(t,e[o],n,r,i);else n=gn(n),t&&t[Xe]?yn(t,e,n,p(r)?!!r.capture:!!r,i):sn(t,e,n,!1,r,i)}function sn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i,a=pn(t);if(a||(t[nn]=a=new Ze(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=dn,e=Be?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ge||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ln(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function an(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)an(t,e[o],n,r,i);else n=gn(n),t&&t[Xe]?bn(t,e,n,p(r)?!!r.capture:!!r,i):sn(t,e,n,!0,r,i)}function un(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=gn(n),t&&t[Xe]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=en(o=t.a[e],n,r,i))&&(Je(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=pn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=en(e,n,r,i)),(n=-1<t?e[t]:null)&&cn(n))}function cn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Xe])tn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ln(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=pn(e))?(tn(n,t),0==n.b&&(n.src=null,e[nn]=null)):Je(t)}}}function ln(t){return t in rn?rn[t]:rn[t]="on"+t}function hn(t,e,n,r){var i=!0;if((t=pn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=fn(o,r),i=i&&!1!==o)}return i}function fn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&cn(t),n.call(r,e)}function dn(t,e){if(t.va)return!0;if(!Be){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new We(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=hn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=hn(r[i],t,!1,e),n=n&&o}return n}return fn(t,new We(e,this))}function pn(t){return(t=t[nn])instanceof Ze?t:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function gn(t){return d(t)?t:(t[mn]||(t[mn]=function(e){return t.handleEvent(e)}),t[mn])}function vn(){Ue.call(this),this.v=new Ze(this),this.ac=this,this.gb=null}function yn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function bn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function wn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,u=s.Va||s.src;s.Pa&&tn(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function In(t,e,n){if(d(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function $n(t){var e=null;return new ye((function(n,r){-1==(e=In((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function En(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Tn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function _n(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof _n)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Sn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];kn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)kn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function kn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}I(vn,Ue),vn.prototype[Xe]=!0,vn.prototype.addEventListener=function(t,e,n,r){on(this,t,e,n,r)},vn.prototype.removeEventListener=function(t,e,n,r){un(this,t,e,n,r)},vn.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"==typeof t)t=new ze(t,n);else if(t instanceof ze)t.target=t.target||n;else{var i=t;pt(t=new ze(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=wn(s,r,!0,t)&&i}if(i=wn(s=t.b=n,r,!0,t)&&i,i=wn(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=wn(s=t.b=e[o],r,!1,t)&&i;return i},vn.prototype.Da=function(){if(vn.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Je(n[r]);delete e.a[t],e.b--}}this.gb=null},(t=_n.prototype).W=function(){Sn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Sn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return kn(this.b,t)?this.b[t]:e},t.set=function(t,e){kn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var An=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Nn?(this.i=void 0!==e?e:t.i,xn(this,t.c),this.l=t.l,this.a=t.a,Dn(this,t.g),this.f=t.f,Cn(this,Yn(t.b)),this.h=t.h):t&&(n=String(t).match(An))?(this.i=!!e,xn(this,n[1]||"",!0),this.l=Mn(n[2]||""),this.a=Mn(n[3]||"",!0),Dn(this,n[4]),this.f=Mn(n[5]||"",!0),Cn(this,n[6]||"",!0),this.h=Mn(n[7]||"")):(this.i=!!e,this.b=new Gn(null,this.i))}function xn(t,e,n){t.c=n?Mn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Dn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Cn(t,e,n){e instanceof Gn?(t.b=e,function(t,e){e&&!t.f&&(zn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Hn(this,e),Qn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Fn(e,Bn)),t.b=new Gn(e,t.i))}function On(t,e,n){t.b.set(e,n)}function Rn(t,e){return t.b.get(e)}function Pn(t){return t instanceof Nn?new Nn(t):new Nn(t,void 0)}function Ln(t,e,n,r){var i=new Nn(null,void 0);return t&&xn(i,t),e&&(i.a=e),n&&Dn(i,n),r&&(i.f=r),i}function Mn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Vn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Vn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Nn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Fn(e,Un,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Fn(e,Un,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Fn(n,"/"==n.charAt(0)?qn:jn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Fn(n,Kn)),t.join("")},Nn.prototype.resolve=function(t){var e=new Nn(this),n=!!t.c;n?xn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Dn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ot(i,"./")||ot(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Cn(e,Yn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Un=/[#\/\?@]/g,jn=/[#\?:]/g,qn=/[#\?]/g,Bn=/[#\?@]/g,Kn=/#/g;function Gn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function zn(t){t.a||(t.a=new _n,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Wn(t){var e=Tn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Gn(null,void 0);t=En(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Qn(n,i,o):n.add(i,o)}return n}function Hn(t,e){zn(t),e=Jn(t,e),kn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,kn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Sn(t)))}function Xn(t,e){return zn(t),e=Jn(t,e),kn(t.a.b,e)}function Qn(t,e,n){Hn(t,e),0<n.length&&(t.c=null,t.a.set(Jn(t,e),X(n)),t.b+=n.length)}function Yn(t){var e=new Gn;return e.c=t.c,t.a&&(e.a=new _n(t.a),e.b=t.b),e}function Jn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Zn(t){var e=[];return er(new tr,t,e),e.join("")}function tr(){}function er(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),er(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),ir(r,n),n.push(":"),er(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":ir(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Gn.prototype).add=function(t,e){zn(this),this.c=null,t=Jn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){zn(this),this.a.forEach((function(n,r){j(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){zn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){zn(this);var e=[];if("string"==typeof t)Xn(this,t)&&(e=H(e,this.a.get(Jn(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=H(e,t[n])}return e},t.set=function(t,e){return zn(this),this.c=null,Xn(this,t=Jn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var nr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},rr=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ir(t,e){e.push('"',t.replace(rr,(function(t){var e=nr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),nr[t]=e),e})),'"')}function or(){var t=_r();return Gt&&!!ie&&11==ie||/Edge\/\d+/.test(t)}function sr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function ar(t,e){e=e||s.window;var n="about:blank";t&&(n=Nt(Ot(t)||Lt)),e.location.href=n}function ur(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<ur(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function cr(t){return!!((t=(t||_r()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function lr(t){t=t||s.window;try{t.close()}catch(t){}}function hr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=_r().toLowerCase(),r&&(e.target=r,ot(n,"crios/")&&(e.target="_blank")),$r(_r())==wr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof At?n:Ot(void 0!==n.href?n.href:String(n))||Lt,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ct("iPhone")&&!ct("iPod")&&!ct("iPad")||ct("iPad")||ct("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(mt(s=fe(document,"A"),"HTMLAnchorElement"),e=e instanceof At?e:Rt(e),s.href=Nt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Vt("",r,n,s),t=Nt(e),s&&(Wt&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+jt(t)+'">',t=new Mt(t=(r=It())?r.createHTML(t):t,null,Ft),r=s.document)&&(r.write(function(t){return t instanceof Mt&&t.constructor===Mt?t.a:(O("expected object of type SafeHtml, got '"+t+"' of type "+h(t)),"type_error:SafeHtml")}(t)),r.close())):(s=Vt(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(t){}return s}var fr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dr=/^[^@]+@[^@]+$/;function pr(){var t=null;return new ye((function(e){"complete"==s.document.readyState?e():(t=function(){e()},an(window,"load",t))})).o((function(e){throw un(window,"load",t),e}))}function mr(t){return t=t||_r(),!("file:"!==xr()&&"ionic:"!==xr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function gr(){var t=s.window;try{return!(!t||t==t.top)}catch(t){return!1}}function vr(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function yr(){return ps.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":ps.INTERNAL.hasOwnProperty("node")?"Node":vr()?"Worker":"Browser"}function br(){var t=yr();return"ReactNative"===t||"Node"===t}var wr="Firefox",Ir="Chrome";function $r(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?wr:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Ir:"Safari"}var Er={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Tr(t,e){e=e||[];var n,r=[],i={};for(n in Er)i[Er[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=yr())?r=$r(i=_r()):"Worker"===r&&(r=$r(i=_r())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function _r(){return s.navigator&&s.navigator.userAgent||""}function Sr(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function kr(){try{var t=s.localStorage,e=Pr();if(t)return t.setItem(e,"1"),t.removeItem(e),!or()||!!s.indexedDB}catch(t){return vr()&&!!s.indexedDB}return!1}function Ar(){return(Nr()||"chrome-extension:"===xr()||mr())&&!br()&&kr()&&!vr()}function Nr(){return"http:"===xr()||"https:"===xr()}function xr(){return s.location&&s.location.protocol||null}function Dr(t){return!cr(t=t||_r())&&$r(t)!=wr}function Cr(t){return void 0===t?null:Zn(t)}function Or(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Rr(t){if(null!==t)return JSON.parse(t)}function Pr(t){return t||Math.floor(1e9*Math.random()).toString()}function Lr(t){return"Safari"!=$r(t=t||_r())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Mr(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Fr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=_r(),e=yr(),this.b=cr(t)||"ReactNative"===e}function Vr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Ur(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function jr(){return!(!Sr("fireauth.oauthhelper",s)&&!Sr("fireauth.iframe",s))}Fr.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Nr()&&"chrome-extension:"!==xr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var qr,Br={};function Kr(t){Br[t]||(Br[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Gr={};Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:2}),qr=2==Gr.abcd}catch(t){qr=!1}function zr(t,e,n){qr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Wr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&zr(t,n,e[n])}function Hr(t){var e={};return Wr(e,t),e}function Xr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)zr(e,n,Xr(t[n]));return e}function Qr(t){var e=t&&(t[ei]?"phone":null);if(!(e&&t&&t[ti]))throw new E("internal-error","Internal assert: invalid MultiFactorInfo object");zr(this,"uid",t[ti]),zr(this,"displayName",t[Jr]||null);var n=null;t[Zr]&&(n=new Date(t[Zr]).toUTCString()),zr(this,"enrollmentTime",n),zr(this,"factorId",e)}function Yr(t){try{var e=new ni(t)}catch(t){e=null}return e}Qr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Jr="displayName",Zr="enrolledAt",ti="mfaEnrollmentId",ei="phoneInfo";function ni(t){Qr.call(this,t),zr(this,"phoneNumber",t[ei])}function ri(t){var e={},n=t[ai],r=t[ci],i=t[li];if(t=Yr(t[ui]),!i||i!=oi&&i!=si&&!n||i==si&&!r||i==ii&&!t)throw Error("Invalid checkActionCode response!");i==si?(e[fi]=n||null,e[pi]=n||null,e[hi]=r):(e[fi]=r||null,e[pi]=r||null,e[hi]=n||null),e[di]=t||null,zr(this,gi,i),zr(this,mi,Xr(e))}I(ni,Qr),ni.prototype.w=function(){var t=ni.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ii="REVERT_SECOND_FACTOR_ADDITION",oi="EMAIL_SIGNIN",si="VERIFY_AND_CHANGE_EMAIL",ai="email",ui="mfaInfo",ci="newEmail",li="requestType",hi="email",fi="fromEmail",di="multiFactorInfo",pi="previousEmail",mi="data",gi="operation";function vi(t){var e=Rn(t=Pn(t),yi)||null,n=Rn(t,bi)||null,r=Rn(t,$i)||null;if(r=r&&Ti[r]||null,!e||!n||!r)throw new E("argument-error",yi+", "+bi+"and "+$i+" are required in a valid action code URL.");Wr(this,{apiKey:e,operation:r,code:n,continueUrl:Rn(t,wi)||null,languageCode:Rn(t,Ii)||null,tenantId:Rn(t,Ei)||null})}var yi="apiKey",bi="oobCode",wi="continueUrl",Ii="languageCode",$i="mode",Ei="tenantId",Ti={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ii,signIn:oi,verifyAndChangeEmail:si,verifyEmail:"VERIFY_EMAIL"};function _i(t){try{return new vi(t)}catch(t){return null}}function Si(t){var e=t[Di];if(void 0===e)throw new E("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new E("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[ki];if(n&&"object"==typeof n){e=n[Ri];var r=n[Ci];if(n=n[Oi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new E("argument-error",Ci+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new E("argument-error",Oi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new E("argument-error",Ri+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new E("missing-android-pkg-name")}}else if(void 0!==n)throw new E("argument-error",ki+" property must be a non null object when specified.");if(this.f=null,(e=t[xi])&&"object"==typeof e){if("string"==typeof(e=e[Pi])&&e.length)this.f=e;else if(void 0!==e)throw new E("argument-error",Pi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new E("argument-error",xi+" property must be a non null object when specified.");if(void 0!==(e=t[Ni])&&"boolean"!=typeof e)throw new E("argument-error",Ni+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ai])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new E("argument-error",Ai+" property must be a non empty string when specified.");this.i=t||null}var ki="android",Ai="dynamicLinkDomain",Ni="handleCodeInApp",xi="iOS",Di="url",Ci="installApp",Oi="minimumVersion",Ri="packageName",Pi="bundleId";function Li(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Mi=null;function Fi(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Mi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Mi){Mi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Mi[o]&&(Mi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e.push(t)})),e}function Vi(t){var e=ji(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Ui(t){try{return new Vi(t)}catch(t){return null}}function ji(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=Fi(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(t){}return null}Vi.prototype.T=function(){return this.f},Vi.prototype.l=function(){return this.c},Vi.prototype.toString=function(){return this.h};var qi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Bi=["client_id","response_type","scope","redirect_uri","state"],Ki={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Bi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Bi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Bi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:qi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Gi(t){for(var e in Ki)if(Ki[e].fa==t)return Ki[e];return null}function zi(t){var e={};e["facebook.com"]=Yi,e["google.com"]=Zi,e["github.com"]=Ji,e["twitter.com"]=to;var n=t&&t[Hi];try{if(n)return e[n]?new e[n](t):new Qi(t);if(void 0!==t[Wi])return new Xi(t)}catch(t){}return null}var Wi="idToken",Hi="providerId";function Xi(t){var e=t[Hi];if(!e&&t[Wi]){var n=Ui(t[Wi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),zr(this,"providerId",e),zr(this,"isNewUser",n)}function Qi(t){Xi.call(this,t),zr(this,"profile",Xr((t=Rr(t.rawUserInfo||"{}"))||{}))}function Yi(t){if(Qi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ji(t){if(Qi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");zr(this,"username",this.profile&&this.profile.login||null)}function Zi(t){if(Qi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(t){if(Qi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");zr(this,"username",t.screenName||null)}function eo(t){var e=Pn(t),n=Rn(e,"link"),r=Rn(Pn(n),"link");return e=Rn(e,"deep_link_id"),Rn(Pn(e),"link")||e||r||n||t}function no(t,e){if(!t&&!e)throw new E("internal-error","Internal assert: no raw session string available");if(t&&e)throw new E("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?ro:io}I(Qi,Xi),I(Yi,Qi),I(Ji,Qi),I(Zi,Qi),I(to,Qi);var ro="enroll",io="signin";function oo(){}function so(t,e){return t.then((function(t){if(t[Qs]){var n=Ui(t[Qs]);if(!n||e!=n.i)throw new E("user-mismatch");return t}throw new E("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==S+"user-not-found"?new E("user-mismatch"):t}))}function ao(t,e){if(!e)throw new E("internal-error","failed to construct a credential");this.a=e,zr(this,"providerId",t),zr(this,"signInMethod",t)}function uo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function co(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new ao(t.providerId,t.pendingToken)}catch(t){}return null}function lo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&zr(this,"idToken",e.idToken),e.accessToken&&zr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&zr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new E("internal-error","failed to construct a credential");zr(this,"accessToken",e.oauthToken),zr(this,"secret",e.oauthTokenSecret)}zr(this,"providerId",t),zr(this,"signInMethod",n)}function ho(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Wn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function fo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new lo(t.providerId,e,t.signInMethod)}catch(t){}}return null}function po(t,e){this.Qc=e||[],Wr(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Gi(t)||{}).Ja||null,this.ob=null}function mo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new E("argument-error",'SAML provider IDs must be prefixed with "saml."');po.call(this,t,[])}function go(t){po.call(this,t,Bi),this.a=[]}function vo(){go.call(this,"facebook.com")}function yo(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new vo).credential({accessToken:e})}function bo(){go.call(this,"github.com")}function wo(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new bo).credential({accessToken:e})}function Io(){go.call(this,"google.com"),this.Ca("profile")}function $o(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new Io).credential({idToken:n,accessToken:e})}function Eo(){po.call(this,"twitter.com",qi)}function To(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new E("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new lo("twitter.com",n,"twitter.com")}function _o(t,e,n){this.a=t,this.f=e,zr(this,"providerId","password"),zr(this,"signInMethod",n===ko.EMAIL_LINK_SIGN_IN_METHOD?ko.EMAIL_LINK_SIGN_IN_METHOD:ko.EMAIL_PASSWORD_SIGN_IN_METHOD)}function So(t){return t&&t.email&&t.password?new _o(t.email,t.password,t.signInMethod):null}function ko(){Wr(this,{providerId:"password",isOAuthProvider:!1})}function Ao(t,e){if(!(e=No(e)))throw new E("argument-error","Invalid email link!");return new _o(t,e.code,ko.EMAIL_LINK_SIGN_IN_METHOD)}function No(t){return(t=_i(t=eo(t)))&&t.operation===oi?t:null}function xo(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new E("internal-error");this.a=t,zr(this,"providerId","phone"),this.fa="phone",zr(this,"signInMethod","phone")}function Do(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return j(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new xo(e)}return null}function Co(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Oo(t){try{this.a=t||ps.auth()}catch(t){throw new E("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Wr(this,{providerId:"phone",isOAuthProvider:!1})}function Ro(t,e){if(!t)throw new E("missing-verification-id");if(!e)throw new E("missing-verification-code");return new xo({eb:t,cb:e})}function Po(t){if(t.temporaryProof&&t.phoneNumber)return new xo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return $o(o,n);case"facebook.com":return yo(n);case"github.com":return wo(n);case"twitter.com":return To(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new ao(e,s):new lo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new go(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Lo(t){if(!t.isOAuthProvider)throw new E("invalid-oauth-provider")}function Mo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new E("invalid-auth-event");if(this.g&&this.a)throw new E("invalid-auth-event");if(this.g&&!this.f)throw new E("invalid-auth-event")}function Fo(t){return(t=t||{}).type?new Mo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&T(t.error),t.postBody,t.tenantId):null}function Vo(){this.b=null,this.a=[]}no.prototype.Ha=function(){return this.a?_e(this.a):_e(this.b)},no.prototype.w=function(){return this.type==ro?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},oo.prototype.ka=function(){},oo.prototype.b=function(){},oo.prototype.c=function(){},oo.prototype.w=function(){},ao.prototype.ka=function(t){return ya(t,uo(this))},ao.prototype.b=function(t,e){var n=uo(this);return n.idToken=e,ba(t,n)},ao.prototype.c=function(t,e){return so(wa(t,uo(this)),e)},ao.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},lo.prototype.ka=function(t){return ya(t,ho(this))},lo.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,ba(t,n)},lo.prototype.c=function(t,e){return so(wa(t,ho(this)),e)},lo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},po.prototype.Ka=function(t){return this.Ib=ft(t),this},I(mo,po),I(go,po),go.prototype.Ca=function(t){return G(this.a,t)||this.a.push(t),this},go.prototype.Qb=function(){return X(this.a)},go.prototype.credential=function(t,e){var n;if(!(n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new E("argument-error","credential failed: must provide the ID token and/or the access token.");return new lo(this.providerId,n,this.providerId)},I(vo,go),zr(vo,"PROVIDER_ID","facebook.com"),zr(vo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(bo,go),zr(bo,"PROVIDER_ID","github.com"),zr(bo,"GITHUB_SIGN_IN_METHOD","github.com"),I(Io,go),zr(Io,"PROVIDER_ID","google.com"),zr(Io,"GOOGLE_SIGN_IN_METHOD","google.com"),I(Eo,po),zr(Eo,"PROVIDER_ID","twitter.com"),zr(Eo,"TWITTER_SIGN_IN_METHOD","twitter.com"),_o.prototype.ka=function(t){return this.signInMethod==ko.EMAIL_LINK_SIGN_IN_METHOD?eu(t,Aa,{email:this.a,oobCode:this.f}):eu(t,Qa,{email:this.a,password:this.f})},_o.prototype.b=function(t,e){return this.signInMethod==ko.EMAIL_LINK_SIGN_IN_METHOD?eu(t,Na,{idToken:e,email:this.a,oobCode:this.f}):eu(t,qa,{idToken:e,email:this.a,password:this.f})},_o.prototype.c=function(t,e){return so(this.ka(t),e)},_o.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Wr(ko,{PROVIDER_ID:"password"}),Wr(ko,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Wr(ko,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),xo.prototype.ka=function(t){return t.fb(Co(this))},xo.prototype.b=function(t,e){var n=Co(this);return n.idToken=e,eu(t,Ja,n)},xo.prototype.c=function(t,e){var n=Co(this);return n.operation="REAUTH",so(t=eu(t,Za,n),e)},xo.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Oo.prototype.fb=function(t,e){var n=this.a.a;return _e(e.verify()).then((function(r){if("string"!=typeof r)throw new E("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(i&&i.type==ro?i.Ha().then((function(t){return function(t,e){return eu(t,Ka,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==io?i.Ha().then((function(e){return function(t,e){return eu(t,Ga,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return eu(t,Ua,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new E("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Wr(Oo,{PROVIDER_ID:"phone"}),Wr(Oo,{PHONE_SIGN_IN_METHOD:"phone"}),Mo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Mo.prototype.T=function(){return this.h},Mo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Uo,jo=null;function qo(t){var e="unauthorized-domain",n=void 0,r=Pn(t);t=r.a,"chrome-extension"==(r=r.c)?n=Ut("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ut("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",E.call(this,e,n)}function Bo(t,e,n){E.call(this,t,n),(t=e||{}).Jb&&zr(this,"email",t.Jb),t.ea&&zr(this,"phoneNumber",t.ea),t.credential&&zr(this,"credential",t.credential),t.Zb&&zr(this,"tenantId",t.Zb)}function Ko(t){if(t.code){var e=t.code||"";0==e.indexOf(S)&&(e=e.substring(S.length));var n={credential:Po(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new E(e,t.message||void 0);return new Bo(e,n,t.message)}return null}function Go(){}function zo(t){return t.c||(t.c=t.b())}function Wo(){}function Ho(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Xo(){}function Qo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Sb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function Yo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Jo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Zo(t){this.f=t,this.b=this.c=this.a=null}function ts(t,e){this.name=t,this.value=e}I(qo,E),I(Bo,E),Bo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&pt(t,e),t},Bo.prototype.toJSON=function(){return this.w()},Go.prototype.c=null,I(Wo,Go),Wo.prototype.a=function(){var t=Ho(this);return t?new ActiveXObject(t):new XMLHttpRequest},Wo.prototype.b=function(){var t={};return Ho(this)&&(t[0]=!0,t[1]=!0),t},Uo=new Wo,I(Xo,Go),Xo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Qo;throw Error("Unsupported browser")},Xo.prototype.b=function(){return{}},(t=Qo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Yo(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",Yo(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,Yo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Jo.prototype.a=null,Jo.prototype.reset=function(t,e,n,r,i){delete this.a},ts.prototype.toString=function(){return this.name};var es=new ts("SEVERE",1e3),ns=new ts("WARNING",900),rs=new ts("CONFIG",700),is=new ts("FINE",500);function os(t){return t.c?t.c:t.a?os(t.a):(O("Root logger has no level set."),null)}Zo.prototype.log=function(t,e,n){if(t.value>=os(this).value)for(d(e)&&(e=e()),t=new Jo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ss={},as=null;function us(t){var e;if(as||(as=new Zo(""),ss[""]=as,as.c=rs),!(e=ss[t])){e=new Zo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=us(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ss[t]=e}return e}function cs(t,e){t&&t.log(is,e,void 0)}function ls(t){this.f=t}function hs(t){vn.call(this),this.u=t,this.h=void 0,this.readyState=fs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=us("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}I(ls,Go),ls.prototype.a=function(){return new hs(this.f)},ls.prototype.b=function(t){return function(){return t}}({}),I(hs,vn);var fs=0;function ds(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function ms(t){t.readyState=4,t.g=null,t.c=null,t.m=null,gs(t)}function gs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function vs(t){vn.call(this),this.headers=new _n,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ys,this.u=this.S=!1}(t=hs.prototype).open=function(t,e){if(this.readyState!=fs)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,gs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ms(this)),this.readyState=fs},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,gs(this)),this.a&&(this.readyState=3,gs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ds(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ms(this):gs(this),3==this.readyState&&ds(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,ms(this))},t.sc=function(t){this.a&&(this.response=t,ms(this))},t.Ua=function(t){var e=this.i;e&&e.log(ns,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ms(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(ns,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(ns,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(hs.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),I(vs,vn);var ys="";vs.prototype.b=us("goog.net.XhrIo");var bs=/^https?$/i,ws=["POST","PUT"];function Is(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Uo.a(),t.C=t.D?zo(t.D):zo(Uo),t.a.onreadystatechange=b(t.Vb,t);try{cs(t.b,xs(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(e){return cs(t.b,xs(t,"Error opening Xhr: "+e.message)),void Es(t,e)}e=r||"";var o=new _n(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)j(t,e,void 0);else for(var n=Tn(t),r=En(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=$s,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!G(ws,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{ks(t),0<t.g&&(t.u=function(t){return Gt&&ne(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),cs(t.b,xs(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ma,t)):t.s=In(t.Ma,t.g,t)),cs(t.b,xs(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){cs(t.b,xs(t,"Send error: "+e.message)),Es(t,e)}}function $s(t){return"content-type"==t.toLowerCase()}function Es(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ts(t),Ss(t)}function Ts(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function _s(t){if(t.c&&void 0!==o)if(t.C[1]&&4==As(t)&&2==Ns(t))cs(t.b,xs(t,"Local request error detected and ignored"));else if(t.i&&4==As(t))In(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==As(t)){cs(t.b,xs(t,"Request complete")),t.c=!1;try{var e,n=Ns(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.l).match(An)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!bs.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<As(t)?t.a.statusText:""}catch(e){cs(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+Ns(t)+"]",Ts(t)}}finally{Ss(t)}}}function Ss(t,e){if(t.a){ks(t);var n=t.a,r=t.C[0]?l:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(es,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function ks(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function As(t){return t.a?t.a.readyState:0}function Ns(t){try{return 2<As(t)?t.a.status:-1}catch(t){return-1}}function xs(t,e){return e+" ["+t.R+" "+t.l+" "+Ns(t)+"]"}function Ds(t){var e=qs;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Cs(t,e,n){t.a=!0,t.c=n,t.f=!e,Ls(t)}function Os(t){if(t.a){if(!t.v)throw new Ms(t);t.v=!1}}function Rs(t,e,n,r){t.g.push([e,n,r]),t.a&&Ls(t)}function Ps(t){return K(t.g,(function(t){return d(t[1])}))}function Ls(t){if(t.h&&t.a&&Ps(t)){var e=t.h,n=Us[e];n&&(s.clearTimeout(n.a),delete Us[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(x(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,Ps(t)||(n=!0)}}t.c=e,r&&(u=b(t.m,t,!0),r=b(t.m,t,!1),e instanceof Ds?(Rs(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new Vs(e),Us[e.a]=e,t.h=e.a)}function Ms(){D.call(this)}function Fs(){D.call(this)}function Vs(t){this.a=s.setTimeout(b(this.c,this),0),this.b=t}(t=vs.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",cs(this.b,xs(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(cs(this.b,xs(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ss(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ss(this,!0)),vs.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?_s(this):this.Jc())},t.Jc=function(){_s(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ys:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(es,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return cs(this.b,"Can not get response: "+t.message),null}},Ds.prototype.cancel=function(t){if(this.a)this.c instanceof Ds&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Fs(this),Os(this),Cs(this,!1,t))}},Ds.prototype.m=function(t,e){this.i=!1,Cs(this,t,e)},Ds.prototype.then=function(t,e,n){var r,i,o=new ye((function(t,e){r=t,i=e}));return Rs(this,r,(function(t){t instanceof Fs?o.cancel():i(t)})),o.then(t,e,n)},Ds.prototype.$goog_Thenable=!0,I(Ms,D),Ms.prototype.message="Deferred has already fired",Ms.prototype.name="AlreadyCalledError",I(Fs,D),Fs.prototype.message="Deferred was canceled",Fs.prototype.name="CanceledError",Vs.prototype.c=function(){throw delete Us[this.a],this.b};var Us={};function js(t){var e,n=document,r=Et(t).toString(),i=fe(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new Ds(o);return e=window.setTimeout((function(){Bs(i,!0);var t=new zs(Gs,"Timeout reached for loading script "+r);Os(a),Cs(a,!1,t)}),5e3),o.Ma=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Bs(i,!1,e),Os(a),Cs(a,!0,null))},i.onerror=function(){Bs(i,!0,e);var t=new zs(Ks,"Error while loading script "+r);Os(a),Cs(a,!1,t)},pt(o={},{type:"text/javascript",charset:"UTF-8"}),ae(i,o),function(t,e){mt(t,"HTMLScriptElement"),t.src=Et(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=c(e.document):(null===u&&(u=c(s.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function qs(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&Bs(t,!0,this.Ma)}}function Bs(t,e,n){null!=n&&s.clearTimeout(n),t.onload=l,t.onerror=l,t.onreadystatechange=l,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ks=0,Gs=1;function zs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),D.call(this,n),this.code=t}function Ws(t){this.f=t}function Hs(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Ys,this.g=ft(t.secureTokenHeaders||Js),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Zs,this.a=ft(t.firebaseHeaders||ta),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==yr(),!(n=s.XMLHttpRequest||n&&ps.INTERNAL.node&&ps.INTERNAL.node.XMLHttpRequest)&&!vr())throw new E("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,vr()?this.f=new ls(self):br()?this.f=new Ws(n):this.f=new Xo,this.b=null}I(zs,D),I(Ws,Go),Ws.prototype.a=function(){return new this.f},Ws.prototype.b=function(){return{}};var Xs,Qs="idToken",Ys=new Fr(3e4,6e4),Js={"Content-Type":"application/x-www-form-urlencoded"},Zs=new Fr(3e4,6e4),ta={"Content-Type":"application/json"};function ea(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function na(t,e){e&&(t.l=ra("https://securetoken.googleapis.com/v1/token",e),t.h=ra("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=ra("https://identitytoolkit.googleapis.com/v2/",e))}function ra(t,e){return t=Pn(t),e=Pn(e.url),t.f=t.a+t.f,xn(t,e.c),t.a=e.a,Dn(t,e.g),t.toString()}function ia(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function oa(t,e,n,r,i,o,a){(function(){var t=_r();return!((t=$r(t)!=Ir?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Gt&&ie&&!(9<ie))})()||vr()?t=b(t.u,t):(Xs||(Xs=new ye((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{s[aa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Rs(t,null,e,void 0)}(js(Tt(sa,{onload:aa})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=b(t.s,t)),t(e,n,r,i,o,a)}Hs.prototype.T=function(){return this.b},Hs.prototype.u=function(t,e,n,r,i,o){if(vr()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new E("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new vs(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}yn(a,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return cs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),bn(a,"ready",(function(){u&&clearTimeout(u),je(this)})),bn(a,"timeout",(function(){u&&clearTimeout(u),je(this),e&&e(null)})),Is(a,t,n,r,i)};var sa=new gt(wt,"https://apis.google.com/js/client.js?onload=%{onload}"),aa="__fcb"+Math.floor(1e6*Math.random()).toString();function ua(t,e,n,r,i,o,s){var a=Pn(e+n);On(a,"key",t.c),s&&On(a,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&On(a,c,i[c]);return new ye((function(e,n){oa(t,a.toString(),(function(t){t?t.error?n(ru(t,o||{})):e(t):n(new E("network-request-failed"))}),r,u?void 0:Zn(Or(i)),t.a,t.v.get())}))}function ca(t){if("string"!=typeof(t=t.email)||!dr.test(t))throw new E("invalid-email")}function la(t){"email"in t&&ca(t)}function ha(t){if(!t[Qs]){if(t.mfaPendingCredential)throw new E("multi-factor-auth-required",null,ft(t));throw new E("internal-error")}}function fa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new E("internal-error")}else{if(!t.sessionInfo)throw new E("missing-verification-id");if(!t.code)throw new E("missing-verification-code")}}Hs.prototype.s=function(t,e,n,r,i){var o=this;Xs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Hs.prototype.zb=function(){return eu(this,Ba,{})},Hs.prototype.Bb=function(t,e){return eu(this,ja,{idToken:t,email:e})},Hs.prototype.Cb=function(t,e){return eu(this,qa,{idToken:t,password:e})};var da={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function pa(t){if(!t.phoneVerificationInfo)throw new E("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new E("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new E("missing-verification-code")}function ma(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new E("internal-error")}function ga(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Xn(t=new Gn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function va(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Ko(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Ko(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Ko(t)):t.errorMessage&&(e=nu(t.errorMessage)),e)throw e;ha(t)}function ya(t,e){return e.returnIdpCredential=!0,eu(t,za,e)}function ba(t,e){return e.returnIdpCredential=!0,eu(t,Ha,e)}function wa(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,eu(t,Wa,e)}function Ia(t){if(!t.oobCode)throw new E("invalid-action-code")}(t=Hs.prototype).Db=function(t,e){var n={idToken:t},r=[];return lt(da,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),eu(this,ja,n)},t.vb=function(t,e){return pt(t={requestType:"PASSWORD_RESET",email:t},e),eu(this,La,t)},t.wb=function(t,e){return pt(t={requestType:"EMAIL_SIGNIN",email:t},e),eu(this,Oa,t)},t.ub=function(t,e){return pt(t={requestType:"VERIFY_EMAIL",idToken:t},e),eu(this,Ra,t)},t.Eb=function(t,e,n){return pt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),eu(this,Pa,t)},t.fb=function(t){return eu(this,Ya,t)},t.nb=function(t,e){return eu(this,Va,{oobCode:t,newPassword:e})},t.Ra=function(t){return eu(this,Ea,{oobCode:t})},t.jb=function(t){return eu(this,$a,{oobCode:t})};var $a={endpoint:"setAccountInfo",A:Ia,Z:"email",B:!0},Ea={endpoint:"resetPassword",A:Ia,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new E("internal-error")},B:!0},Ta={endpoint:"signupNewUser",A:function(t){if(ca(t),!t.password)throw new E("weak-password")},G:ha,V:!0,B:!0},_a={endpoint:"createAuthUri",B:!0},Sa={endpoint:"deleteAccount",N:["idToken"]},ka={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new E("internal-error")}},Aa={endpoint:"emailLinkSignin",N:["email","oobCode"],A:ca,G:ha,V:!0,B:!0},Na={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:ca,G:ha,V:!0},xa={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:pa,G:ha,B:!0,Na:!0},Da={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:pa,G:ha,B:!0,Na:!0},Ca={endpoint:"getAccountInfo"},Oa={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new E("internal-error");ca(t)},Z:"email",B:!0},Ra={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new E("internal-error")},Z:"email",B:!0},Pa={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new E("internal-error")},Z:"email",B:!0},La={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new E("internal-error");ca(t)},Z:"email",B:!0},Ma={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Fa={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new E("internal-error")}},Va={endpoint:"resetPassword",A:Ia,Z:"email",B:!0},Ua={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},ja={endpoint:"setAccountInfo",N:["idToken"],A:la,V:!0},qa={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(la(t),!t.password)throw new E("weak-password")},G:ha,V:!0},Ba={endpoint:"signupNewUser",G:ha,V:!0,B:!0},Ka={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new E("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new E("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new E("internal-error")},B:!0,Na:!0},Ga={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new E("internal-error")},B:!0,Na:!0},za={endpoint:"verifyAssertion",A:ma,Ya:ga,G:va,V:!0,B:!0},Wa={endpoint:"verifyAssertion",A:ma,Ya:ga,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new E("user-not-found");if(t.errorMessage)throw nu(t.errorMessage);ha(t)},V:!0,B:!0},Ha={endpoint:"verifyAssertion",A:function(t){if(ma(t),!t.idToken)throw new E("internal-error")},Ya:ga,G:va,V:!0},Xa={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new E("invalid-custom-token")},G:ha,V:!0,B:!0},Qa={endpoint:"verifyPassword",A:function(t){if(ca(t),!t.password)throw new E("wrong-password")},G:ha,V:!0,B:!0},Ya={endpoint:"verifyPhoneNumber",A:fa,G:ha,B:!0},Ja={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new E("internal-error");fa(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Ko(t);ha(t)}},Za={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:fa,G:ha,B:!0},tu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Qs]^!!t.refreshToken)throw new E("internal-error")},B:!0,Na:!0};function eu(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.N))return Se(new E("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return _e(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),ua(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)})).then((function(t){return r=t,e.Ya?e.Ya(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new E("internal-error");return r[e.Z]}))}function nu(t){return ru({error:{errors:[{message:t}],code:400,message:t}})}function ru(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new E(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",pt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new E(r[i],e);return!e&&t&&(e=Cr(t)),new E("internal-error",e)}function iu(t){this.b=t,this.a=null,this.rb=function(t){return(uu||(uu=new ye((function(t,e){function n(){Mr(),Sr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Mr(),e(Error("Network Error"))},timeout:su.get()})}if(Sr("gapi.iframes.Iframe"))t();else if(Sr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Sr("gapi.load")?n():e(Error("Network Error"))},_e(js(r=Tt(ou,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw uu=null,t})))).then((function(){return new ye((function(e,n){Sr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),au.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var ou=new gt(wt,"https://apis.google.com/js/api.js?onload=%{onload}"),su=new Fr(3e4,6e4),au=new Fr(5e3,15e3),uu=null;function cu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=Ln((t=Pn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=Ln("https",this.l,null,"/__/auth/iframe"),this.a=t,On(this.a,"apiKey",this.h),On(this.a,"appName",this.i),this.b=null,this.c=[]}function lu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function hu(t){try{return ps.app(t).auth().Ga()}catch(t){return[]}}function fu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function du(t){var e=sr();return function(t){return eu(t,Ma,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Pn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Pn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:fr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new qo(sr())}))}function pu(t){return t.m||(t.m=pr().then((function(){if(!t.u){var e=t.c,n=t.i,r=hu(t.b),i=new cu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=X(r||[]),t.u=i.toString()}t.v=new iu(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then((function(){t.a.register("authEvent",e,Sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Fo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",_e(n)}return n.status="ERROR",_e(n)}))}(t)}))),t.m}function mu(t){return t.l||(t.C=t.c?Tr(t.c,hu(t.b)):null,t.l=new Hs(t.g,N(t.i),t.C),t.f&&na(t.l,t.f)),t.l}function gu(t,e,n,r,i,o,s,a,u,c,l,h){return(t=new lu(t,e,n,r,i,h)).l=o,t.g=s,t.i=a,t.b=ft(u||null),t.f=c,t.yb(l).toString()}function vu(t){if(this.a=t||ps.INTERNAL.reactNative&&ps.INTERNAL.reactNative.AsyncStorage,!this.a)throw new E("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function yu(t){this.b=t,this.a={},this.f=b(this.c,this)}cu.prototype.toString=function(){return this.f?On(this.a,"v",this.f):Hn(this.a.b,"v"),this.b?On(this.a,"eid",this.b):Hn(this.a.b,"eid"),this.c.length?On(this.a,"fw",this.c.join(",")):Hn(this.a.b,"fw"),this.a.toString()},lu.prototype.yb=function(t){return this.h=t,this},lu.prototype.toString=function(){if(this.v){var t=Pn(this.v.url);t=Ln(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Ln("https",this.u,null,"/__/auth/handler");if(On(t,"apiKey",this.s),On(t,"appName",this.c),On(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=ps.app(this.c).auth().la()}catch(t){n=null}for(var r in e.ob=n,On(t,"providerId",this.a.providerId),e=Or((n=this.a).Ib))e[r]=e[r].toString();r=n.Qc,e=ft(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),ht(e)||On(t,"customParameters",Cr(e))}if("function"==typeof this.a.Qb&&((n=this.a.Qb()).length&&On(t,"scopes",n.join(","))),this.l?On(t,"redirectUrl",this.l):Hn(t.b,"redirectUrl"),this.g?On(t,"eventId",this.g):Hn(t.b,"eventId"),this.i?On(t,"v",this.i):Hn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Rn(t,s)&&On(t,s,this.b[s]);return this.h?On(t,"tid",this.h):Hn(t.b,"tid"),this.f?On(t,"eid",this.f):Hn(t.b,"eid"),(s=hu(this.c)).length&&On(t,"fw",s.join(",")),t.toString()},(t=fu.prototype).Ob=function(t,e,n){var r=new E("popup-closed-by-user"),i=new E("web-storage-unsupported"),o=this,s=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return pu(t).then((function(){return function(t,e){return t.rb.then((function(){return new ye((function(n){t.a.send(e.type,e,n,Sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&lr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new ye((function(e){return function n(){$n(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return $n(n).then((function(){e(r)}))}))},t.Xb=function(){var t=_r();return!Dr(t)&&!Lr(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,s,a){if(!t)return Se(new E("popup-blocked"));if(s&&!Dr())return this.ma().o((function(e){lr(t),i(e)})),r(),_e();this.a||(this.a=du(mu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw lr(t),i(e),e}));return r(),e})).then((function(){(Lo(n),s)||ar(gu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Nb=function(t,e,n,r){this.a||(this.a=du(mu(this)));var i=this;return this.a.then((function(){Lo(e),ar(gu(i.s,i.g,i.b,t,e,sr(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return pu(this).then((function(){return t.v.rb})).o((function(){throw t.a=null,new E("network-request-failed")}))},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){W(this.h,(function(e){return e==t}))},(t=vu.prototype).get=function(t){return _e(this.a.getItem(t)).then((function(t){return t&&Rr(t)}))},t.set=function(t,e){return _e(this.a.setItem(t,Cr(e)))},t.U=function(t){return _e(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var bu,wu=[];function Iu(t,e,n){ht(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function $u(t){this.a=t}function Eu(t){this.c=t,this.b=!1,this.a=[]}function Tu(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Se(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ye((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return _u(t,c),e})).o((function(e){throw _u(t,c),e}))}function _u(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),W(t.a,(function(t){return t==e}))}}function Su(){if(!xu())throw new E("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;vr()&&self?(this.v=function(){var t=vr()?self:null;if(j(wu,(function(n){n.b==t&&(e=n)})),!e){var e=new yu(t);wu.push(e)}return e}(),Iu(this.v,"keyChanged",(function(e,n){return Pu(t).then((function(e){return 0<e.length&&j(t.a,(function(t){t(e)})),{keyProcessed:G(e,n.key)}}))})),Iu(this.v,"ping",(function(){return _e(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?_e().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):_e(null)}().then((function(e){(t.h=e)&&(t.g=new Eu(new $u(e)),Tu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&G(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function ku(t){return new ye((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new ye((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return ku(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Au(t){return t.i||(t.i=ku(t)),t.i}function Nu(t,e){var n=0;return new ye((function r(i,o){Au(t).then(e).then(i).o((function(e){if(!(3<++n))return Au(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function xu(){try{return!!s.indexedDB}catch(t){return!1}}function Du(t){return t.objectStore("firebaseLocalStorage")}function Cu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Ou(t){return new ye((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Ru(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Tu(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):_e()}function Pu(t){return Au(t).then((function(t){var e=Du(Cu(t,!1));return e.getAll?Ou(e.getAll()):new ye((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=ur(t.c,n),t.c=n}return r}))}function Lu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Mu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=_e().then((function(){if(xu()){var t=Pr(),r="__sak"+t;return bu||(bu=new Su),(n=bu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){j(e.a,(function(e){e(t)}))})),t}))}function Fu(){this.a={},this.type="inMemory"}function Vu(){if(!function(){var t="Node"==yr();if(!(t=Uu()||t&&ps.INTERNAL.node&&ps.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==yr())throw new E("internal-error","The LocalStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Uu()||ps.INTERNAL.node.localStorage,this.type="localStorage"}function Uu(){try{var t=s.localStorage,e=Pr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function ju(){this.type="nullStorage"}function qu(){if(!function(){var t="Node"==yr();if(!(t=Bu()||t&&ps.INTERNAL.node&&ps.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==yr())throw new E("internal-error","The SessionStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Bu()||ps.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Bu(){try{var t=s.sessionStorage,e=Pr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Ku(){var t={};t.Browser=Wu,t.Node=Hu,t.ReactNative=Xu,t.Worker=Qu,this.a=t[yr()]}yu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];j(r,(function(e){i.push(_e().then((function(){return e(t.origin,t.data.data)})))})),Ae(i).then((function(r){var i=[];j(r,(function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})})),j(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},$u.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Eu.prototype.close=function(){for(;0<this.a.length;)_u(this,this.a[0]);this.b=!0},(t=Su.prototype).set=function(t,e){var n=this,r=!1;return Nu(this,(function(e){return Ou((e=Du(Cu(e,!0))).get(t))})).then((function(i){return Nu(n,(function(o){if(o=Du(Cu(o,!0)),i)return i.value=e,Ou(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Ou(o.add(s))}))})).then((function(){return n.c[t]=e,Ru(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return Nu(this,(function(e){return Ou(Du(Cu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return Nu(this,(function(r){return n=!0,e.b++,Ou(Du(Cu(r,!0)).delete(t))})).then((function(){return delete e.c[t],Ru(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=Pu(t).then((function(e){0<e.length&&j(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Lu(t),e()}(this),this.a.push(t)},t.ia=function(t){W(this.a,(function(e){return e==t})),0==this.a.length&&Lu(this)},(t=Mu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){W(this.a,(function(e){return e==t}))},(t=Fu.prototype).get=function(t){return _e(this.a[t])},t.set=function(t,e){return this.a[t]=e,_e()},t.U=function(t){return delete this.a[t],_e()},t.ca=function(){},t.ia=function(){},(t=Vu.prototype).get=function(t){var e=this;return _e().then((function(){return Rr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return _e().then((function(){var r=Cr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return _e().then((function(){e.a.removeItem(t)}))},t.ca=function(t){s.window&&on(s.window,"storage",t)},t.ia=function(t){s.window&&un(s.window,"storage",t)},(t=ju.prototype).get=function(){return _e(null)},t.set=function(){return _e()},t.U=function(){return _e()},t.ca=function(){},t.ia=function(){},(t=qu.prototype).get=function(t){var e=this;return _e().then((function(){return Rr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return _e().then((function(){var r=Cr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return _e().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Gu,zu,Wu={F:Vu,bb:qu},Hu={F:Vu,bb:qu},Xu={F:vu,bb:ju},Qu={F:Vu,bb:ju},Yu={rd:"local",NONE:"none",td:"session"};function Ju(){var t=!(Lr(_r())||!gr()),e=Dr(),n=kr();this.m=t,this.h=e,this.l=n,this.a={},Gu||(Gu=new Ku),t=Gu;try{this.g=!or()&&jr()||!s.indexedDB?new t.a.F:new Mu(vr()?new Fu:new t.a.F)}catch(t){this.g=new Fu,this.h=!0}try{this.i=new t.a.bb}catch(t){this.i=new Fu}this.v=new Fu,this.f=b(this.Yb,this),this.b={}}function Zu(){return zu||(zu=new Ju),zu}function tc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function ec(t,e){return"firebase:"+t.name+(e?":"+e:"")}function nc(t,e,n){return n=ec(e,n),"local"==e.F&&(t.b[n]=null),tc(t,e.F).U(n)}function rc(t){t.c&&(clearInterval(t.c),t.c=null)}function ic(t){this.a=t,this.b=Zu()}(t=Ju.prototype).get=function(t,e){return tc(this,t.F).get(ec(t,e))},t.set=function(t,e,n){var r=ec(t,n),i=this,o=tc(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=ec(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),ht(this.a)&&(tc(this,"local").ca(this.f),this.h||(or()||!jr())&&s.indexedDB||!this.l||function(t){rc(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new We({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=ec(t,e),this.a[t]&&(W(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ht(this.a)&&(tc(this,"local").ia(this.f),rc(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?tc(this,"local").ia(this.f):rc(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.mb(e))},Gt&&ie&&10==ie&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else j(t,b(this.mb,this))},t.mb=function(t){this.a[t]&&j(this.a[t],(function(t){t()}))};var oc,sc={name:"authEvent",F:"local"};function ac(){this.a=Zu()}function uc(t,e){this.b=cc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===oc&&(oc=s.Int32Array?new Int32Array(gc):gc),this.reset()}I(uc,(function(){this.b=-1}));for(var cc=64,lc=cc-1,hc=[],fc=0;fc<lc;fc++)hc[fc]=0;var dc=H(128,hc);function pc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|oc[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function mc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(pc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(pc(t),i=0)}}t.c=i,t.g+=n}uc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):X(this.h)};var gc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function vc(){uc.call(this,8,yc)}I(vc,uc);var yc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function bc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new ac,this.g=new ic(this.h),this.f=null,this.b=[],this.a=this.c=null}function wc(t){return new E("invalid-cordova-configuration",t)}function Ic(t){var e=new vc;mc(e,t),t=[];var n=8*e.g;56>e.c?mc(e,dc,56-e.c):mc(e,dc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(pc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return B(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function $c(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Ec(t){return t.f||(t.f=t.ma().then((function(){return new ye((function(e){t.Ea((function n(r){return e(r),t.Sa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Tc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=eo(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Rr(Rn(o=Pn(i),"firebaseError")||null))?T(o):null)?new Mo(r.c,r.b,null,null,o,null,r.T()):new Mo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}$c(t,i)}))}var n=new Mo("unknown",null,null,null,new E("no-auth-event")),r=!1,i=$n(500).then((function(){return Tc(t).then((function(){r||$c(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Sr("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},jo||(jo=new Vo),function(t){var e=jo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Sr("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Tc(t){var e=null;return function(t){return t.b.get(sc,t.a).then((function(t){return Fo(t)}))}(t.g).then((function(n){return e=n,nc((n=t.g).b,sc,n.a)})).then((function(){return e}))}function _c(t){this.a=t,this.b=Zu()}(t=bc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(mr(void 0)?pr().then((function(){return new ye((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Se(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Sr("universalLinks.subscribe",s))throw wc("cordova-universal-links-plugin-fix is not installed");if(void 0===Sr("BuildInfo.packageName",s))throw wc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Sr("cordova.plugins.browsertab.openUrl",s))throw wc("cordova-plugin-browsertab is not installed");if("function"!=typeof Sr("cordova.InAppBrowser.open",s))throw wc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new E("cordova-not-ready")}))},t.Ob=function(t,e){return e(new E("operation-not-supported-in-this-environment")),_e()},t.Mb=function(){return Se(new E("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return Se(new E("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=_e().then((function(){return Lo(e),Ec(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Mo(e,r,null,o,new E("no-auth-event"),null,i),u=Sr("BuildInfo.packageName",s);if("string"!=typeof u)throw new E("invalid-cordova-configuration");var c=Sr("BuildInfo.displayName",s),l={};if(_r().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!_r().toLowerCase().match(/android/))return Se(new E("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=Ic(o),l.sessionId=o;var h=gu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(sc,a.w(),e)})).then((function(){var e=Sr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new E("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Sr("cordova.plugins.browsertab.openUrl",s)))throw new E("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Sr("cordova.InAppBrowser.open",s)))throw new E("invalid-cordova-configuration");e=_r(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new ye((function(t,e){u=function(){var e=Sr("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=$n(2e3).then((function(){e(new E("redirect-cancelled-by-user"))})))},l=function(){Vr()&&c()},o.addEventListener("resume",c,!1),_r().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return Tc(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Sa(u),i.c=null}))},t.Ea=function(t){this.b.push(t),Ec(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Mo("unknown",null,null,null,new E("no-auth-event")),t(e))}))},t.Sa=function(t){W(this.b,(function(e){return e==t}))};var Sc={name:"pendingRedirect",F:"session"};function kc(t){return nc(t.b,Sc,t.a)}function Ac(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Bc,this.C=new Hc,this.g=new _c(jc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Nc(this.D,this.v,this.m,_,this.J)}function Nc(t,e,n,r,i){var o=ps.SDK_VERSION||null;return mr()?new bc(t,e,n,o,r,i):new fu(t,e,n,o,r,i)}function xc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Dc(t){t.a.Xb()&&xc(t).o((function(e){var n=new Mo("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Mc(e)&&t.s(n)})),t.a.Tb()||Kc(t.b)}function Cc(t,e){G(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Sc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?kc(t.g).then((function(){xc(t).o((function(e){var n=new Mo("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Mc(e)&&t.s(n)}))})):Dc(t)})).o((function(){Dc(t)}))}function Oc(t,e){W(t.h,(function(t){return t==e}))}Ac.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Nc(this.D,this.v,this.m,null,this.J),this.i={}},Ac.prototype.s=function(t){if(!t)throw new E("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Kc(this.b),e};var Rc=new Fr(2e3,1e4),Pc=new Fr(3e4,6e4);function Lc(t,e,n,r,i,o,s){return t.a.Mb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function Mc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Fc(t,e,n,r,i){var o;return function(t){return t.b.set(Sc,"pending",t.a)}(t.g).then((function(){return t.a.Nb(e,n,r,i).o((function(e){if(Mc(e))throw new E("operation-not-supported-in-this-environment");return o=e,kc(t.g).then((function(){throw o}))})).then((function(){return t.a.$b()?new ye((function(){})):kc(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function Vc(t,e,n,r,i){return t.a.Ob(r,(function(t){e.na(n,null,t,i)}),Rc.get())}Ac.prototype.qa=function(){return this.b.qa()};var Uc={};function jc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function qc(t,e,n,r){var i=jc(e,n,r);return Uc[i]||(Uc[i]=new Ac(t,e,n,r)),Uc[i]}function Bc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Kc(t){t.g||(t.g=!0,Wc(t,!1,null,null))}function Gc(t){t.g&&!t.i&&Wc(t,!1,null,null)}function zc(t,e){if(t.b=function(){return _e(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Wc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Se(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):zc(t,n):zc(t,{user:null}),t.f=[],t.c=[]}function Hc(){}function Xc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function Qc(t,e){this.a=e,zr(this,"verificationId",t)}function Yc(t,e,n,r){return new Oo(t).fb(e,n).then((function(t){return new Qc(t,r)}))}function Jc(t){var e=ji(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new E("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Wr(this,{token:t,expirationTime:Ur(1e3*e.exp),authTime:Ur(1e3*e.auth_time),issuedAtTime:Ur(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Zc(t,e,n){var r=e&&e[el];if(!r)throw new E("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ft(e),this.g=n,this.c=new no(null,r),this.b=[];var i=this;j(e[tl]||[],(function(t){(t=Yr(t))&&i.b.push(t)})),zr(this,"auth",this.a),zr(this,"session",this.c),zr(this,"hints",this.b)}Bc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Bc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Wc(this,!0,null,t.a),_e()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Wc(t,a,e,null)})).o((function(e){Wc(t,a,null,e)}))}(this,t,e):Se(new E("invalid-auth-event")):(Wc(this,!1,null,null),_e())}else Se(new E("invalid-auth-event"))},Bc.prototype.qa=function(){var t=this;return new ye((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new E("timeout");t.a&&t.a.cancel(),t.a=$n(Pc.get()).then((function(){t.b||(t.g=!0,Wc(t,!0,null,e))}))}(t))}))},Hc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),_e()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):Se(new E("invalid-auth-event"))}else Se(new E("invalid-auth-event"))},Qc.prototype.confirm=function(t){return t=Ro(this.verificationId,t),this.a(t)};var tl="mfaInfo",el="mfaPendingCredential";function nl(t,e,n,r){E.call(this,"multi-factor-auth-required",r,e),this.b=new Zc(t,e,n),zr(this,"resolver",this.b)}function rl(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new nl(e,t.serverResponse,n,t.message)}catch(t){}return null}function il(){}function ol(t){zr(this,"factorId",t.fa),this.a=t}function sl(t){if(ol.call(this,t),this.a.fa!=Oo.PROVIDER_ID)throw new E("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function al(t,e){for(var n in ze.call(this,t),e)this[n]=e[n]}function ul(t,e){this.a=t,this.b=[],this.c=b(this.yc,this),on(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&j(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ti]=t.uid),t.displayName&&(r[Jr]=t.displayName),t.enrollmentTime&&(r[Zr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ei]=t.phoneNumber);try{e=new ni(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),cl(this,n)}function cl(t,e){t.b=e,zr(t,"enrolledFactors",e)}function ll(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function hl(t,e){t.stop(),t.b=$n(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=s.document,e=null;return Vr()||!t?_e():new ye((function(n){e=function(){Vr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){hl(t,!0)})).o((function(e){t.i(e)&&hl(t,!1)}))}function fl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function dl(t,e){void 0===e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function pl(t,e){t.b=Ui(e[Qs]||""),t.a=e.refreshToken,dl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function ml(t,e){return function(t,e){return new ye((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?oa(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(ru(t)):t.access_token&&t.refresh_token?n(t):r(new E("internal-error")):r(new E("network-request-failed"))}),"POST",Wn(e).toString(),t.g,t.m.get()):r(new E("internal-error"))}))}(t.f,e).then((function(e){return t.b=Ui(e.access_token),t.a=e.refresh_token,dl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function gl(t,e){this.a=t||null,this.b=e||null,Wr(this,{lastSignInTime:Ur(e||null),creationTime:Ur(t||null)})}function vl(t,e,n,r,i,o){Wr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function yl(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=ps.SDK_VERSION?Tr(ps.SDK_VERSION):null;this.a=new Hs(this.l,N(_),r),t.emulatorConfig&&na(this.a,t.emulatorConfig),this.b=new fl(this.a),Sl(this,e[Qs]),pl(this.b,e),zr(this,"refreshToken",this.b.a),Nl(this,n||{}),vn.call(this),this.R=!1,this.s&&Ar()&&(this.i=qc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new ll((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.aa=b(this.hb,this);var i=this;this.ya=null,this.Oa=function(t){i.wa(t.h)},this.ja=null,this.Aa=function(t){na(i.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){Il(i,t.f)},this.ba=null,this.O=new ul(this,n),zr(this,"multiFactor",this.O)}function bl(t,e){t.ja&&un(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&on(e,"languageCodeChanged",t.Oa)}function wl(t,e){t.X&&un(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&on(e,"emulatorConfigChanged",t.Aa)}function Il(t,e){t.$=e,ia(t.a,ps.SDK_VERSION?Tr(ps.SDK_VERSION,t.$):null)}function $l(t,e){t.ba&&un(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&on(e,"frameworkChanged",t.Ba)}function El(t){try{return ps.app(t.m).auth()}catch(e){throw new E("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Tl(t){t.D||t.u.b||(t.u.start(),un(t,"tokenChanged",t.aa),on(t,"tokenChanged",t.aa))}function _l(t){un(t,"tokenChanged",t.aa),t.u.stop()}function Sl(t,e){t.za=e,zr(t,"_lat",e)}function kl(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return Ae(e).then((function(){return t}))}function Al(t){t.i&&!t.R&&(t.R=!0,Cc(t.i,t))}function Nl(t,e){Wr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new gl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function xl(){}function Dl(t){return _e().then((function(){if(t.D)throw new E("app-deleted")}))}function Cl(t){return B(t.providerData,(function(t){return t.providerId}))}function Ol(t,e){e&&(Rl(t,e.providerId),t.providerData.push(e))}function Rl(t,e){W(t.providerData,(function(t){return t.providerId==e}))}function Pl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&zr(t,e,n)}function Ll(t,e){t!=e&&(Wr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?zr(t,"metadata",function(t){return new gl(t.a,t.b)}(e.metadata)):zr(t,"metadata",new gl),j(e.providerData,(function(e){Ol(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),zr(t,"refreshToken",t.b.a),cl(t.O,e.O.b))}function Ml(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return eu(t.a,Ca,{idToken:e}).then(b(t.Kc,t))}(t,e).then((function(){return n||Pl(t,"isAnonymous",!1),e}))}))}function Fl(t,e){e[Qs]&&t.za!=e[Qs]&&(pl(t.b,e),t.dispatchEvent(new al("tokenChanged")),Sl(t,e[Qs]),Pl(t,"refreshToken",t.b.a))}function Vl(t,e){return Ml(t).then((function(){if(G(Cl(t),e))return kl(t).then((function(){throw new E("provider-already-linked")}))}))}function Ul(t,e,n){return Hr({user:t,credential:Po(e),additionalUserInfo:e=zi(e),operationType:n})}function jl(t,e){return Fl(t,e),t.reload().then((function(){return t}))}function ql(t,e,n,r,i){if(!Ar())return Se(new E("operation-not-supported-in-this-environment"));if(t.h&&!i)return Se(t.h);var o=Gi(n.providerId),s=Pr(t.uid+":::"),a=null;(!Dr()||gr())&&t.s&&n.isOAuthProvider&&(a=gu(t.s,t.l,t.m,e,n,null,s,ps.SDK_VERSION||null,null,null,t.tenantId));var u=hr(a,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Kl(t),!i)return t.I().then((function(){}))})).then((function(){return Lc(t.i,u,e,n,s,!!a,t.tenantId)})).then((function(){return new ye((function(n,r){t.na(e,null,new E("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=Vc(t.i,t,e,u,s)}))})).then((function(t){return u&&lr(u),t?Hr(t):null})).o((function(t){throw u&&lr(u),t})),Gl(t,r,i)}function Bl(t,e,n,r,i){if(!Ar())return Se(new E("operation-not-supported-in-this-environment"));if(t.h&&!i)return Se(t.h);var o=null,s=Pr(t.uid+":::");return r=r().then((function(){if(Kl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,kl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Hl,t.w(),e.a)),e})).then((function(){return Fc(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ha)return Xl(t.ha);throw o})).then((function(){if(o)throw o})),Gl(t,r,i)}function Kl(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new E("internal-error");throw new E("auth-domain-config-required")}}function Gl(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Se(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new al("userInvalidated")),t.h=e),e}))}(t,e,n);return t.J.push(r),r.oa((function(){z(t.J,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=rl(e.w(),El(t),b(t.jc,t))),n||e}))}function zl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Qs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new yl(e,n,t);return t.providerData&&j(t.providerData,(function(t){t&&Ol(i,Hr(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Wl(t){this.a=t,this.b=Zu()}Zc.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then((function(t){var n=ft(e.f);return delete n[tl],delete n[el],pt(n,t),e.g(n)}))},I(nl,E),il.prototype.sb=function(t,e,n){return e.type==ro?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),pt(n,{phoneVerificationInfo:Co(t.a)}),eu(e,xa,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return pt(n={mfaPendingCredential:n},{phoneVerificationInfo:Co(t.a)}),eu(e,Da,n)}))}(this,t,e)},I(ol,il),I(sl,ol),I(al,ze),(t=ul.prototype).yc=function(t){cl(this,function(t){var e=[];return j(t.mfaInfo||[],(function(t){(t=Yr(t))&&e.push(t)})),e}(t.hd))},t.Rb=function(){return this.a.I().then((function(t){return new no(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then((function(n){return t.sb(r,n,e)})).then((function(t){return Fl(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return eu(r,tu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=q(e.b,(function(t){return t.uid!=n}));return cl(e,r),Fl(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:B(this.b,(function(t){return t.w()}))}}},ll.prototype.start=function(){this.a=this.c,hl(this,!0)},ll.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},fl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},fl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Se(new E("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?ml(this,{grant_type:"refresh_token",refresh_token:this.a}):_e(null):_e({accessToken:this.b.toString(),refreshToken:this.a})},gl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(yl,vn),yl.prototype.wa=function(t){this.ya=t,ea(this.a,t)},yl.prototype.la=function(){return this.ya},yl.prototype.Ga=function(){return X(this.$)},yl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},zr(yl.prototype,"providerId","firebase"),(t=yl.prototype).reload=function(){var t=this;return Gl(this,Dl(this).then((function(){return Ml(t).then((function(){return kl(t)})).then(xl)})))},t.oc=function(t){return this.I(t).then((function(t){return new Jc(t)}))},t.I=function(t){var e=this;return Gl(this,Dl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new E("internal-error");return t.accessToken!=e.za&&(Sl(e,t.accessToken),e.dispatchEvent(new al("tokenChanged"))),Pl(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new E("internal-error");Nl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?B(t,(function(t){return new vl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Ol(this,e[n]);Pl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new al("userReloaded",{hd:t}))},t.Lc=function(t){return Kr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return Gl(this,t.c(this.a,this.uid).then((function(t){return Fl(e,t),n=Ul(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Kr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return Gl(this,Vl(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Ul(e,t,"link"),jl(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Gl(this,Vl(this,"phone").then((function(){return Yc(El(n),t,e,b(n.qb,n))})))},t.Mc=function(t,e){var n=this;return Gl(this,_e().then((function(){return Yc(El(n),t,e,b(n.tb,n))})),!0)},t.Bb=function(t){var e=this;return Gl(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Fl(e,t),e.reload()})))},t.ed=function(t){var e=this;return Gl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Fl(e,t),e.reload()})))},t.Cb=function(t){var e=this;return Gl(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Fl(e,t),e.reload()})))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Dl(this);var e=this;return Gl(this,this.I().then((function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Fl(e,t),Pl(e,"displayName",t.displayName||null),Pl(e,"photoURL",t.photoUrl||null),j(e.providerData,(function(t){"password"===t.providerId&&(zr(t,"displayName",e.displayName),zr(t,"photoURL",e.photoURL))})),kl(e)})).then(xl))},t.cd=function(t){var e=this;return Gl(this,Ml(this).then((function(n){return G(Cl(e),t)?function(t,e,n){return eu(t,ka,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return j(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),j(Cl(e),(function(t){n[t]||Rl(e,t)})),n[Oo.PROVIDER_ID]||zr(e,"phoneNumber",null),kl(e)})):kl(e).then((function(){throw new E("no-such-provider")}))})))},t.delete=function(){var t=this;return Gl(this,this.I().then((function(e){return eu(t.a,Sa,{idToken:e})})).then((function(){t.dispatchEvent(new al("userDeleted"))}))).then((function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");bl(t,null),wl(t,null),$l(t,null),t.J=[],t.D=!0,_l(t),zr(t,"refreshToken",null),t.i&&Oc(t.i,t)}))},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?b(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?b(this.Lb,this):null},t.Ec=function(t){var e=this;return ql(this,"linkViaPopup",t,(function(){return Vl(e,t.providerId).then((function(){return kl(e)}))}),!1)},t.Nc=function(t){return ql(this,"reauthViaPopup",t,(function(){return _e()}),!0)},t.Fc=function(t){var e=this;return Bl(this,"linkViaRedirect",t,(function(){return Vl(e,t.providerId)}),!1)},t.Oc=function(t){return Bl(this,"reauthViaRedirect",t,(function(){return _e()}),!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Gl(this,this.I().then((function(n){return ba(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Ul(i,t,"link"),jl(i,t)})).then((function(){return o})))},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Gl(this,_e().then((function(){return so(wa(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Ul(i,t,"reauthenticate"),Fl(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.ub=function(t){var e=this,n=null;return Gl(this,this.I().then((function(e){return n=e,void 0===t||ht(t)?{}:Li(new Si(t))})).then((function(t){return e.a.ub(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Eb=function(t,e){var n=this,r=null;return Gl(this,this.I().then((function(t){return r=t,void 0===e||ht(e)?{}:Li(new Si(e))})).then((function(e){return n.a.Eb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Gl(this,t=so(_e(t),n.uid).then((function(t){return e=Ul(n,t,"reauthenticate"),Fl(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&pt(t,this.metadata.w()),j(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),pt(t,this.O.w()),t};var Hl={name:"redirectUser",F:"session"};function Xl(t){return nc(t.b,Hl,t.a)}function Ql(t){this.a=t,this.b=Zu(),this.c=null,this.f=function(t){var e=Zl("local"),n=Zl("session"),r=Zl("none");return function(t,e,n){var r=ec(e,n),i=tc(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Rr(s.localStorage.getItem(r))}catch(t){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Jl,t.a).then((function(t){return t?Zl(t):e}))}))}))})).then((function(e){return t.c=e,Yl(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Zl("local"),this.a,b(this.g,this))}function Yl(t,e){var n,r=[];for(n in Yu)Yu[n]!==e&&r.push(nc(t.b,Zl(Yu[n]),t.a));return r.push(nc(t.b,Jl,t.a)),function(t){return new ye((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)ke(t[a],w(o,a),s);else e(i)}))}(r)}Ql.prototype.g=function(){var t=this,e=Zl("local");rh(this,(function(){return _e().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Yl(t,"local").then((function(){t.c=e}))}))}))};var Jl={name:"persistence",F:"session"};function Zl(t){return{name:"authUser",F:t}}function th(t,e){return rh(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function eh(t){return rh(t,(function(){return nc(t.b,t.c,t.a)}))}function nh(t,e,n){return rh(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),zl(t||{})}))}))}function rh(t,e){return t.f=t.f.then(e,e),t.f}function ih(t){if(this.l=!1,zr(this,"settings",new Xc),zr(this,"app",t),!dh(this).options||!dh(this).options.apiKey)throw new E("invalid-api-key");t=ps.SDK_VERSION?Tr(ps.SDK_VERSION):null,this.a=new Hs(dh(this).options&&dh(this).options.apiKey,N(_),t),this.R=[],this.s=[],this.O=[],this.hb=ps.INTERNAL.createSubscribe(b(this.zc,this)),this.X=void 0,this.bc=ps.INTERNAL.createSubscribe(b(this.Ac,this)),hh(this,null),this.i=new Ql(dh(this).options.apiKey+":"+dh(this).name),this.D=new Wl(dh(this).options.apiKey+":"+dh(this).name),this.$=vh(this,function(t){var e=dh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Hl,t.a).then((function(t){return t&&e&&(t.authDomain=e),zl(t||{})}))}(t.D,dh(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Xl(t.D)}));return vh(t,e)}(t).then((function(){return nh(t.i,e,t.P)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return th(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:eh(t.i)}))):null})).then((function(e){hh(t,e||null)}));return vh(t,n)}(this)),this.h=vh(this,function(t){return t.$.then((function(){return ch(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Zl("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.ya=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,function(t){var e=dh(t).options.authDomain,n=dh(t).options.apiKey;e&&Ar()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=qc(e,n,dh(t).name,t.P),Cc(t.b,t),ph(t)&&Al(ph(t)),t.m){Al(t.m);var r=t.m;r.wa(t.la()),bl(r,t),Il(r=t.m,t.J),$l(r,t),na((r=t.m).a,t.P),wl(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,vn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Pn(this.P.url);t=Hr({protocol:t.c,host:t.a,port:t.g,options:Hr({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function oh(t){ze.call(this,"languageCodeChanged"),this.h=t}function sh(t){ze.call(this,"emulatorConfigChanged"),this.c=t}function ah(t){ze.call(this,"frameworkChanged"),this.f=t}function uh(t){return t.Oa||Se(new E("auth-domain-config-required"))}function ch(t){if(!Ar())return Se(new E("operation-not-supported-in-this-environment"));var e=uh(t).then((function(){return t.b.qa()})).then((function(t){return t?Hr(t):null}));return vh(t,e)}function lh(t,e){var n={};return n.apiKey=dh(t).options.apiKey,n.authDomain=dh(t).options.authDomain,n.appName=dh(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then((function(){return function(t,e,n,r){var i=new yl(t,e);return n&&(i.ha=n),r&&Il(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return ph(t)&&e.uid==ph(t).uid?(Ll(ph(t),e),t.da(e)):(hh(t,e),Al(e),t.da(e))})).then((function(){gh(t)}))}function hh(t,e){ph(t)&&(function(t,e){W(t.S,(function(t){return t==e}))}(ph(t),t.Ba),un(ph(t),"tokenChanged",t.ya),un(ph(t),"userDeleted",t.za),un(ph(t),"userInvalidated",t.Aa),_l(ph(t))),e&&(e.S.push(t.Ba),on(e,"tokenChanged",t.ya),on(e,"userDeleted",t.za),on(e,"userInvalidated",t.Aa),0<t.u&&Tl(e)),zr(t,"currentUser",e),e&&(e.wa(t.la()),bl(e,t),Il(e,t.J),$l(e,t),na(e.a,t.P),wl(e,t))}function fh(t,e){var n=null,r=null;return vh(t,e.then((function(e){return n=Po(e),r=zi(e),lh(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=rl(e.w(),t,b(t.kc,t))),n||e})).then((function(){return Hr({user:ph(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function dh(t){return t.app}function ph(t){return t.currentUser}function mh(t){return ph(t)&&ph(t)._lat||null}function gh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](mh(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](mh(t))}}function vh(t,e){return t.R.push(e),e.oa((function(){z(t.R,e)})),e}function yh(){}function bh(){this.a={},this.b=1e12}Ql.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new E("invalid-persistence-type"),n=new E("unsupported-persistence-type");t:{for(r in Yu)if(Yu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(yr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!xu()&&"none"!==t)throw n;break;default:if(!kr()&&"none"!==t)throw n}}(t),rh(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Yl(n,t)})).then((function(){if(n.c=Zl(t),e)return n.b.set(n.c,e,n.a)})):_e()}))},I(ih,vn),I(oh,ze),I(sh,ze),I(ah,ze),(t=ih.prototype).xb=function(t){return vh(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,ea(this.a,this.aa),this.dispatchEvent(new oh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=s.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new E("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&pr().then((function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,na(this.a,this.P),this.dispatchEvent(new sh(this.P))}},t.Gc=function(t){this.J.push(t),ia(this.a,ps.SDK_VERSION?Tr(ps.SDK_VERSION,this.J):null),this.dispatchEvent(new ah(this.J))},t.Ga=function(){return X(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:dh(this).options.apiKey,authDomain:dh(this).options.authDomain,appName:dh(this).name,currentUser:ph(this)&&ph(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return fh(i,ya(i.a,o))}))},t.Xc=function(t){if(!Ar())return Se(new E("operation-not-supported-in-this-environment"));var e=this,n=Gi(t.providerId),r=Pr(),i=null;(!Dr()||gr())&&dh(this).options.authDomain&&t.isOAuthProvider&&(i=gu(dh(this).options.authDomain,dh(this).options.apiKey,dh(this).name,"signInViaPopup",t,null,r,ps.SDK_VERSION||null,null,null,this.T(),this.P));var o=hr(i,n&&n.ua,n&&n.ta);return vh(this,n=uh(this).then((function(n){return Lc(n,o,"signInViaPopup",t,r,!!i,e.T())})).then((function(){return new ye((function(t,n){e.na("signInViaPopup",null,new E("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=Vc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&lr(o),t?Hr(t):null})).o((function(t){throw o&&lr(o),t})))},t.Yc=function(t){if(!Ar())return Se(new E("operation-not-supported-in-this-environment"));var e=this;return vh(this,uh(this).then((function(){return function(t){return rh(t,(function(){return t.b.set(Jl,t.c.F,t.a)}))}(e.i)})).then((function(){return Fc(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.qa=function(){var t=this;return ch(this).then((function(e){return t.b&&Gc(t.b.b),e})).o((function(e){throw t.b&&Gc(t.b.b),e}))},t.dd=function(t){if(!t)return Se(new E("null-user"));if(this.S!=t.tenantId)return Se(new E("tenant-id-mismatch"));var e=this,n={};n.apiKey=dh(this).options.apiKey,n.authDomain=dh(this).options.authDomain,n.appName=dh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Qs]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new yl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Il(e,r),Ll(e,t),e}(t,n,e.D,e.Ga());return vh(this,this.h.then((function(){if(dh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return ph(e)&&t.uid==ph(e).uid?(Ll(ph(e),t),e.da(t)):(hh(e,r),Al(r),e.da(r))})).then((function(){gh(e)})))},t.Ab=function(){var t=this;return vh(this,this.h.then((function(){return t.b&&Gc(t.b.b),ph(t)?(hh(t,null),eh(t.i).then((function(){gh(t)}))):_e()})))},t.Zc=function(){var t=this;return nh(this.i,dh(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=ph(t)&&e){n=ph(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Ll(ph(t),e),ph(t).I();(ph(t)||e)&&(hh(t,e),e&&(Al(e),e.ha=t.D),t.b&&Cc(t.b,t),gh(t))}}))},t.da=function(t){return th(this.i,t)},t.mc=function(){gh(this),this.da(ph(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then((function(){return fh(e,_e(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(ph(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),vh(t,t.h.then((function(){!t.l&&G(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(mh(t)))})))}(this,(function(){t.next(ph(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(ph(r)):"function"==typeof t.next&&t.next(ph(r))})),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(ph(r)):"function"==typeof t.next&&t.next(ph(r))})),this.bc(t,e,n)},t.nc=function(t){var e=this;return vh(this,this.h.then((function(){return ph(e)?ph(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return fh(e,eu(e.a,Xa,{token:t}))})).then((function(t){var n=t.user;return Pl(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return fh(n,eu(n.a,Qa,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return fh(n,eu(n.a,Ta,{email:t,password:e}))}))},t.$a=function(t){var e=this;return this.h.then((function(){return fh(e,t.ka(e.a))}))},t.Sc=function(t){return Kr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then((function(){var e=ph(t);if(e&&e.isAnonymous){var n=Hr({providerId:null,isNewUser:!1});return Hr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return fh(t,t.a.zb()).then((function(e){var n=e.user;return Pl(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return ph(this)&&ph(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&ph(this)&&Tl(ph(this))},t.Pc=function(t){var e=this;j(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&ph(this)&&_l(ph(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),vh(this,this.h.then((function(){e.l||G(e.s,t)&&t(mh(e))})))},t.removeAuthTokenListener=function(t){W(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(Zl("local"),t.a,this.ja),this.b&&(Oc(this.b,this),Gc(this.b.b)),Promise.resolve()},t.hc=function(t){return vh(this,function(t,e){return eu(t,_a,{identifier:e,continueUri:Nr()?sr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!No(t)},t.wb=function(t,e){var n=this;return vh(this,_e().then((function(){var t=new Si(e);if(!t.c)throw new E("argument-error",Ni+" must be true when sending sign in link to email");return Li(t)})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.jd=function(t){return this.Ra(t).then((function(t){return t.data.email}))},t.nb=function(t,e){return vh(this,this.a.nb(t,e).then((function(){})))},t.Ra=function(t){return vh(this,this.a.Ra(t).then((function(t){return new ri(t)})))},t.jb=function(t){return vh(this,this.a.jb(t).then((function(){})))},t.vb=function(t,e){var n=this;return vh(this,_e().then((function(){return void 0===e||ht(e)?{}:Li(new Si(e))})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.Wc=function(t,e){return vh(this,Yc(this,t,e,b(this.$a,this)))},t.Vc=function(t,e){var n=this;return vh(this,_e().then((function(){var r=e||sr(),i=Ao(t,r);if(!(r=No(r)))throw new E("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new E("tenant-id-mismatch");return n.$a(i)})))},yh.prototype.render=function(){},yh.prototype.reset=function(){},yh.prototype.getResponse=function(){},yh.prototype.execute=function(){};var wh=null;function Ih(t,e){return(e=$h(e))&&t.a[e]||null}function $h(t){return(t=void 0===t?1e12:t)?t.toString():null}function Eh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=se(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():on(this.f,"click",this.i)}function Th(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function _h(){}function Sh(){}bh.prototype.render=function(t,e){return this.a[this.b.toString()]=new Eh(t,e),this.b++},bh.prototype.reset=function(t){var e=Ih(this,t);t=$h(t),e&&t&&(e.delete(),delete this.a[t])},bh.prototype.getResponse=function(t){return(t=Ih(this,t))?t.getResponse():null},bh.prototype.execute=function(t){(t=Ih(this,t))&&t.execute()},Eh.prototype.getResponse=function(){return Th(this),this.b},Eh.prototype.execute=function(){Th(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},Eh.prototype.delete=function(){Th(this),this.g=!0,clearTimeout(this.a),this.a=null,un(this.f,"click",this.i)},zr(_h,"FACTOR_ID","phone"),Sh.prototype.g=function(){return wh||(wh=new bh),_e(wh)},Sh.prototype.c=function(){};var kh=null;function Ah(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Nh=new gt(wt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),xh=new Fr(3e4,6e4);Ah.prototype.g=function(t){var e=this;return new ye((function(n,r){var i=setTimeout((function(){r(new E("network-request-failed"))}),xh.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new E("internal-error"));delete s[e.a]},_e(js(Tt(Nh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new E("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Ah.prototype.c=function(){this.b--};var Dh=null;function Ch(t,e,n,r,i,o,a){if(zr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,a?(kh||(kh=new Sh),a=kh):(Dh||(Dh=new Ah),a=Dh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ph])throw new E("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Lh],!s.document)throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!se(e)||!this.i&&se(e).hasChildNodes())throw new E("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Hs(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Oh];this.a[Oh]=function(t){if(Mh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Sr(c,s);"function"==typeof e&&e(t)}};var l=this.a[Rh];this.a[Rh]=function(){if(Mh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=Sr(l,s);"function"==typeof t&&t()}}}var Oh="callback",Rh="expired-callback",Ph="sitekey",Lh="size";function Mh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Fh(t,e){return t.h.push(e),e.oa((function(){z(t.h,e)})),e}function Vh(t){if(t.D)throw new E("internal-error","RecaptchaVerifier instance has been destroyed.")}function Uh(t,e,n){var r=!1;try{this.b=n||ps.app()}catch(t){throw new E("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new E("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=ps.SDK_VERSION?Tr(ps.SDK_VERSION,o):null,Ch.call(this,n,t,e,(function(){try{var t=i.b.auth().la()}catch(e){t=null}return t}),o,N(_),r)}function jh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new E("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=qh.length)throw new E("internal-error","Argument validator received an unsupported number of arguments.");n=qh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new E("argument-error",t+" failed: "+r)}(t=Ch.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Fh(this,_e().then((function(){if(Nr()&&!vr())return pr();throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,eu(t.s,Fa,{})})).then((function(e){t.a[Ph]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Vh(this);var t=this;return Fh(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=se(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!oe&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',jt(s.name),'"'),s.type){o.push(' type="',jt(s.type),'"');var a={};pt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=fe(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ae(o,s)),2<r.length&&he(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Vh(this);var t=this;return Fh(this,this.render().then((function(e){return new ye((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){W(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Vh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Vh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=se(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},I(Uh,Ch);var qh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Bh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Kh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Gh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:p}}function zh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Wh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Hh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function Xh(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Qh(t){return p(t)&&"string"==typeof t.uid}function Yh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Jh(t,e){for(var n in e){var r=e[n].name;t[r]=ef(r,t[n],e[n].j)}}function Zh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w((function(t){return this[t]}),n),set:w((function(t,e,n,r){jh(t,[n],[r],!0),this[e]=r}),r,n,e[n].kb),enumerable:!0})}}function tf(t,e,n,r){t[e]=ef(e,n,r)}function ef(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return jh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Jh(ih.prototype,{jb:{name:"applyActionCode",j:[Bh("code")]},Ra:{name:"checkActionCode",j:[Bh("code")]},nb:{name:"confirmPasswordReset",j:[Bh("code"),Bh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Bh("email"),Bh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Bh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Bh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Yh(Gh(),zh(),"nextOrObserver"),zh("opt_error",!0),zh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Yh(Gh(),zh(),"nextOrObserver"),zh("opt_error",!0),zh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Bh("email"),Yh(Gh("opt_actionCodeSettings",!0),Wh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Bh("email"),Gh("actionCodeSettings")]},xb:{name:"setPersistence",j:[Bh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Hh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Hh()]},Tc:{name:"signInWithCustomToken",j:[Bh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Bh("email"),Bh("password")]},Vc:{name:"signInWithEmailLink",j:[Bh("email"),Bh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Bh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Yh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof yl)}},Wh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Bh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Bh("url"),Gh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Bh("code")]}}),Zh(ih.prototype,{lc:{name:"languageCode",kb:Yh(Bh(),Wh(),"languageCode")},ti:{name:"tenantId",kb:Yh(Bh(),Wh(),"tenantId")}}),ih.Persistence=Yu,ih.Persistence.LOCAL="local",ih.Persistence.SESSION="session",ih.Persistence.NONE="none",Jh(yl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Kh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Kh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Hh()]},qb:{name:"linkWithCredential",j:[Hh()]},Dc:{name:"linkWithPhoneNumber",j:[Bh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Hh()]},tb:{name:"reauthenticateWithCredential",j:[Hh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Bh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Yh(Gh("opt_actionCodeSettings",!0),Wh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Bh(null,!0)]},cd:{name:"unlink",j:[Bh("provider")]},Bb:{name:"updateEmail",j:[Bh("email")]},Cb:{name:"updatePassword",j:[Bh("password")]},ed:{name:"updatePhoneNumber",j:[Hh("phone")]},Db:{name:"updateProfile",j:[Gh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Bh("email"),Yh(Gh("opt_actionCodeSettings",!0),Wh(null,!0),"opt_actionCodeSettings",!0)]}}),Jh(bh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Jh(yh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Jh(ye.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Zh(Xc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Kh("appVerificationDisabledForTesting")}}),Jh(Qc.prototype,{confirm:{name:"confirm",j:[Bh("verificationCode")]}}),tf(oo,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[fo,So,Do,co],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Yh(Bh(),Gh(),"json")]),tf(ko,"credential",(function(t,e){return new _o(t,e)}),[Bh("email"),Bh("password")]),Jh(_o.prototype,{w:{name:"toJSON",j:[Bh(null,!0)]}}),Jh(vo.prototype,{Ca:{name:"addScope",j:[Bh("scope")]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),tf(vo,"credential",yo,[Yh(Bh(),Gh(),"token")]),tf(ko,"credentialWithLink",Ao,[Bh("email"),Bh("emailLink")]),Jh(bo.prototype,{Ca:{name:"addScope",j:[Bh("scope")]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),tf(bo,"credential",wo,[Yh(Bh(),Gh(),"token")]),Jh(Io.prototype,{Ca:{name:"addScope",j:[Bh("scope")]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),tf(Io,"credential",$o,[Yh(Bh(),Yh(Gh(),Wh()),"idToken"),Yh(Bh(),Wh(),"accessToken",!0)]),Jh(Eo.prototype,{Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),tf(Eo,"credential",To,[Yh(Bh(),Gh(),"token"),Bh("secret",!0)]),Jh(go.prototype,{Ca:{name:"addScope",j:[Bh("scope")]},credential:{name:"credential",j:[Yh(Bh(),Yh(Gh(),Wh()),"optionsOrIdToken"),Yh(Bh(),Wh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),Jh(lo.prototype,{w:{name:"toJSON",j:[Bh(null,!0)]}}),Jh(ao.prototype,{w:{name:"toJSON",j:[Bh(null,!0)]}}),tf(Oo,"credential",Ro,[Bh("verificationId"),Bh("verificationCode")]),Jh(Oo.prototype,{fb:{name:"verifyPhoneNumber",j:[Yh(Bh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Xh(t.session,ro)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Xh(t.session,io)&&Qh(t.multiFactorHint):t.session&&t.multiFactorUid?Xh(t.session,io)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Jh(xo.prototype,{w:{name:"toJSON",j:[Bh(null,!0)]}}),Jh(E.prototype,{toJSON:{name:"toJSON",j:[Bh(null,!0)]}}),Jh(Bo.prototype,{toJSON:{name:"toJSON",j:[Bh(null,!0)]}}),Jh(qo.prototype,{toJSON:{name:"toJSON",j:[Bh(null,!0)]}}),Jh(nl.prototype,{toJSON:{name:"toJSON",j:[Bh(null,!0)]}}),Jh(Zc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),Jh(ul.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},Bh("displayName",!0)]},bd:{name:"unenroll",j:[Yh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Qh},Bh(),"multiFactorInfoIdentifier")]}}),Jh(Uh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),tf(vi,"parseLink",_i,[Bh("link")]),tf(_h,"assertion",(function(t){return new sl(t)}),[Hh("phone")]),function(){if(void 0===ps||!ps.INTERNAL||!ps.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:oi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ii,VERIFY_AND_CHANGE_EMAIL:si,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ih,AuthCredential:oo,Error:E};tf(t,"EmailAuthProvider",ko,[]),tf(t,"FacebookAuthProvider",vo,[]),tf(t,"GithubAuthProvider",bo,[]),tf(t,"GoogleAuthProvider",Io,[]),tf(t,"TwitterAuthProvider",Eo,[]),tf(t,"OAuthProvider",go,[Bh("providerId")]),tf(t,"SAMLAuthProvider",mo,[Bh("providerId")]),tf(t,"PhoneAuthProvider",Oo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof ih)}}]),tf(t,"RecaptchaVerifier",Uh,[Yh(Bh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Gh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof ps.app.App)}}]),tf(t,"ActionCodeURL",vi,[]),tf(t,"PhoneMultiFactorGenerator",_h,[]),ps.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new ih(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),ps.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.nc,t),addAuthTokenListener:b(t.cc,t),removeAuthTokenListener:b(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),ps.registerVersion("@firebase/auth","0.16.5"),ps.INTERNAL.extendNamespace({User:yl})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const cI=t=>t.orderBy("time");function lI(t,e,n){let r,i,{params:o}=e;console.log(o);let s=!1;const a=()=>n(3,s=!s);async function u(t,e,i,o,s){""!==t&&(o.isChatting||i||await s.update({isChatting:!0}),e.doc().set({person:i?0:1,text:t,time:ps.firestore.FieldValue.serverTimestamp()}),n(1,r=""))}function c(t){console.log("Leaving chat as anon"),setTimeout((async()=>{await uI(t),await Vt("/"),console.log("Leaving")}),3e3)}function l(t,e,n){t?.isFinished&&(a(),e&&c(n))}return t.$$set=t=>{"params"in t&&n(0,o=t.params)},[o,r,i,s,a,u,async function(){await ot(),i&&i.scrollTo({top:i.scrollHeight,left:0,behavior:"smooth"}),console.log("Scrolling")},c,l,t=>t.signInAnonymously(),t=>o.u?Ut():a()&&c(t),t=>async function(t){await t.update({isFinished:!0})}(t),function(t){Z[t?"unshift":"push"]((()=>{i=t,n(2,i)}))},function(t){r=t,n(1,r)},(t,e,n,i,o)=>"Enter"===o.key&&u(r,t,e.isAnonymous,n,i),(t,e,n,i)=>u(r,t,e.isAnonymous,n,i),(t,e,n)=>l(n.detail.data,t.isAnonymous,e),t=>uI(t)]}class hI extends Nt{constructor(t){super(),At(this,t,lI,aI,a,{params:0})}}function fI(e){let n;return{c(){n=E("h1"),n.textContent="About Page"},m(t,e){w(t,n,e)},p:t,i:t,o:t,d(t){t&&I(n)}}}class dI extends Nt{constructor(t){super(),At(this,t,null,fI,a,{})}}function pI(e){let n,r=oi.title+"";return{c(){n=T(r)},m(t,e){w(t,n,e)},p:t,d(t){t&&I(n)}}}function mI(e){let n,r=oi.home+"";return{c(){n=T(r)},m(t,e){w(t,n,e)},p:t,d(t){t&&I(n)}}}function gI(t){let e,n;return e=new yr({props:{href:"#/",$$slots:{default:[mI]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function vI(e){let n,r=oi.chatNow+"";return{c(){n=T(r)},m(t,e){w(t,n,e)},p:t,d(t){t&&I(n)}}}function yI(t){let e,n;return e=new yr({props:{href:"#/chat",$$slots:{default:[vI]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function bI(e){let n,r=oi.aboutUs+"";return{c(){n=T(r)},m(t,e){w(t,n,e)},p:t,d(t){t&&I(n)}}}function wI(t){let e,n;return e=new yr({props:{href:"#/about",$$slots:{default:[bI]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function II(e){let n,r=oi.login+"";return{c(){n=T(r)},m(t,e){w(t,n,e)},p:t,d(t){t&&I(n)}}}function $I(t){let e,n;return e=new yr({props:{href:"#/login",$$slots:{default:[II]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function EI(t){let e,n,r,i,o,s,a,u;return e=new mr({props:{$$slots:{default:[gI]},$$scope:{ctx:t}}}),r=new mr({props:{$$slots:{default:[yI]},$$scope:{ctx:t}}}),o=new mr({props:{$$slots:{default:[wI]},$$scope:{ctx:t}}}),a=new mr({props:{$$slots:{default:[$I]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment),n=_(),_t(r.$$.fragment),i=_(),_t(o.$$.fragment),s=_(),_t(a.$$.fragment)},m(t,c){St(e,t,c),w(t,n,c),St(r,t,c),w(t,i,c),St(o,t,c),w(t,s,c),St(a,t,c),u=!0},p(t,n){const i={};8&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const s={};8&n&&(s.$$scope={dirty:n,ctx:t}),r.$set(s);const u={};8&n&&(u.$$scope={dirty:n,ctx:t}),o.$set(u);const c={};8&n&&(c.$$scope={dirty:n,ctx:t}),a.$set(c)},i(t){u||(yt(e.$$.fragment,t),yt(r.$$.fragment,t),yt(o.$$.fragment,t),yt(a.$$.fragment,t),u=!0)},o(t){bt(e.$$.fragment,t),bt(r.$$.fragment,t),bt(o.$$.fragment,t),bt(a.$$.fragment,t),u=!1},d(t){kt(e,t),t&&I(n),kt(r,t),t&&I(i),kt(o,t),t&&I(s),kt(a,t)}}}function TI(t){let e,n;return e=new sr({props:{class:"ml-auto",navbar:!0,$$slots:{default:[EI]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function _I(t){let e,n,r,i,o,s;return e=new Ir({props:{href:"/",$$slots:{default:[pI]},$$scope:{ctx:t}}}),r=new _r({}),r.$on("click",t[2]),o=new ee({props:{isOpen:t[0],navbar:!0,expand:"md",$$slots:{default:[TI]},$$scope:{ctx:t}}}),o.$on("update",t[1]),{c(){_t(e.$$.fragment),n=_(),_t(r.$$.fragment),i=_(),_t(o.$$.fragment)},m(t,a){St(e,t,a),w(t,n,a),St(r,t,a),w(t,i,a),St(o,t,a),s=!0},p(t,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const i={};1&n&&(i.isOpen=t[0]),8&n&&(i.$$scope={dirty:n,ctx:t}),o.$set(i)},i(t){s||(yt(e.$$.fragment,t),yt(r.$$.fragment,t),yt(o.$$.fragment,t),s=!0)},o(t){bt(e.$$.fragment,t),bt(r.$$.fragment,t),bt(o.$$.fragment,t),s=!1},d(t){kt(e,t),t&&I(n),kt(r,t),t&&I(i),kt(o,t)}}}function SI(t){let e,n;return e=new fr({props:{color:"primary",dark:!0,expand:"md",class:"fixed-top",$$slots:{default:[_I]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(t,[n]){const r={};9&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function kI(t,e,n){let r=!1;return[r,function(t){n(0,r=t.detail.isOpen)},()=>n(0,r=!r)]}class AI extends Nt{constructor(t){super(),At(this,t,kI,SI,a,{})}}function NI(e){let n,r=Vt("/dash")+"";return{c(){n=T(r)},m(t,e){w(t,n,e)},p:t,i:t,o:t,d(t){t&&I(n)}}}function xI(t){let e,n;return e=new tr({props:{isOpen:!0,$$slots:{default:[LI]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(t,n){const r={};4096&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function DI(t){let e;return{c(){e=T("Warning!")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function CI(t){let e;return{c(){e=T("You are currently signed in to an anonymous chat session.")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function OI(t){let e;return{c(){e=T("Sign me out")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function RI(t){let e;return{c(){e=T("Go back")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function PI(t){let e,n,r,i;return e=new le({props:{color:"danger",$$slots:{default:[OI]},$$scope:{ctx:t}}}),e.$on("click",(function(){return t[9](t[11])})),r=new le({props:{color:"secondary",$$slots:{default:[RI]},$$scope:{ctx:t}}}),r.$on("click",Ut),{c(){_t(e.$$.fragment),n=_(),_t(r.$$.fragment)},m(t,o){St(e,t,o),w(t,n,o),St(r,t,o),i=!0},p(n,i){t=n;const o={};4096&i&&(o.$$scope={dirty:i,ctx:t}),e.$set(o);const s={};4096&i&&(s.$$scope={dirty:i,ctx:t}),r.$set(s)},i(t){i||(yt(e.$$.fragment,t),yt(r.$$.fragment,t),i=!0)},o(t){bt(e.$$.fragment,t),bt(r.$$.fragment,t),i=!1},d(t){kt(e,t),t&&I(n),kt(r,t)}}}function LI(t){let e,n,r,i,o,s;return e=new Pn({props:{$$slots:{default:[DI]},$$scope:{ctx:t}}}),r=new kn({props:{$$slots:{default:[CI]},$$scope:{ctx:t}}}),o=new rr({props:{$$slots:{default:[PI]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment),n=_(),_t(r.$$.fragment),i=_(),_t(o.$$.fragment)},m(t,a){St(e,t,a),w(t,n,a),St(r,t,a),w(t,i,a),St(o,t,a),s=!0},p(t,n){const i={};4096&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const s={};4096&n&&(s.$$scope={dirty:n,ctx:t}),r.$set(s);const a={};4096&n&&(a.$$scope={dirty:n,ctx:t}),o.$set(a)},i(t){s||(yt(e.$$.fragment,t),yt(r.$$.fragment,t),yt(o.$$.fragment,t),s=!0)},o(t){bt(e.$$.fragment,t),bt(r.$$.fragment,t),bt(o.$$.fragment,t),s=!1},d(t){kt(e,t),t&&I(n),kt(r,t),t&&I(i),kt(o,t)}}}function MI(t){let e,n,r,i;const o=[xI,NI],s=[];function a(t,e){return t[10].isAnonymous?0:1}return e=a(t),n=s[e]=o[e](t),{c(){n.c(),r=S()},m(t,n){s[e].m(t,n),w(t,r,n),i=!0},p(t,i){let u=e;e=a(t),e===u?s[e].p(t,i):(gt(),bt(s[u],1,1,(()=>{s[u]=null})),vt(),n=s[e],n?n.p(t,i):(n=s[e]=o[e](t),n.c()),yt(n,1),n.m(r.parentNode,r))},i(t){i||(yt(n),i=!0)},o(t){bt(n),i=!1},d(t){s[e].d(t),t&&I(r)}}}function FI(t){let e;return{c(){e=T("Warning!")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function VI(t){let e;return{c(){e=T(t[3])},m(t,n){w(t,e,n)},p(t,n){8&n&&D(e,t[3])},d(t){t&&I(e)}}}function UI(t){let e;return{c(){e=T("Ok")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function jI(t){let e;return{c(){e=T("Close")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function qI(t){let e,n,r,i;return e=new le({props:{color:"primary",$$slots:{default:[UI]},$$scope:{ctx:t}}}),e.$on("click",t[4]),r=new le({props:{color:"secondary",$$slots:{default:[jI]},$$scope:{ctx:t}}}),r.$on("click",t[4]),{c(){_t(e.$$.fragment),n=_(),_t(r.$$.fragment)},m(t,o){St(e,t,o),w(t,n,o),St(r,t,o),i=!0},p(t,n){const i={};4096&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const o={};4096&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(t){i||(yt(e.$$.fragment,t),yt(r.$$.fragment,t),i=!0)},o(t){bt(e.$$.fragment,t),bt(r.$$.fragment,t),i=!1},d(t){kt(e,t),t&&I(n),kt(r,t)}}}function BI(t){let e,n,r,i,o,s;return e=new Pn({props:{$$slots:{default:[FI]},$$scope:{ctx:t}}}),r=new kn({props:{$$slots:{default:[VI]},$$scope:{ctx:t}}}),o=new rr({props:{$$slots:{default:[qI]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment),n=_(),_t(r.$$.fragment),i=_(),_t(o.$$.fragment)},m(t,a){St(e,t,a),w(t,n,a),St(r,t,a),w(t,i,a),St(o,t,a),s=!0},p(t,n){const i={};4096&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const s={};4104&n&&(s.$$scope={dirty:n,ctx:t}),r.$set(s);const a={};4096&n&&(a.$$scope={dirty:n,ctx:t}),o.$set(a)},i(t){s||(yt(e.$$.fragment,t),yt(r.$$.fragment,t),yt(o.$$.fragment,t),s=!0)},o(t){bt(e.$$.fragment,t),bt(r.$$.fragment,t),bt(o.$$.fragment,t),s=!1},d(t){kt(e,t),t&&I(n),kt(r,t),t&&I(i),kt(o,t)}}}function KI(t){let e;return{c(){e=T("Sign In")},m(t,n){w(t,e,n)},d(t){t&&I(e)}}}function GI(t){let e,n,r,i,o,s,a,u,c,l,h,f,d,p,m,g,v;function y(e){t[6](e)}n=new tr({props:{isOpen:t[2],toggle:t[4],$$slots:{default:[BI]},$$scope:{ctx:t}}});let $={style:"border-bottom-left-radius: 0; border-bottom-right-radius: 0; margin-bottom: -1px;",type:"email",name:"email",placeholder:"Email "};function T(e){t[7](e)}void 0!==t[0]&&($.value=t[0]),l=new mn({props:$}),Z.push((()=>Tt(l,"value",y)));let S={style:"border-top-left-radius: 0; border-top-right-radius: 0; margin-bottom: 15px;",type:"password",name:"pass",placeholder:"Password "};return void 0!==t[1]&&(S.value=t[1]),d=new mn({props:S}),Z.push((()=>Tt(d,"value",T))),g=new le({props:{style:"width: 100%",color:"primary",$$slots:{default:[KI]},$$scope:{ctx:t}}}),g.$on("click",(function(){return t[8](t[11])})),{c(){e=E("div"),_t(n.$$.fragment),r=_(),i=E("div"),o=E("img"),a=_(),u=E("h3"),u.textContent="Please Sign In",c=_(),_t(l.$$.fragment),f=_(),_t(d.$$.fragment),m=_(),_t(g.$$.fragment),o.src!==(s="./favicon.png")&&A(o,"src","./favicon.png"),A(o,"alt","School Icon"),A(i,"id","form"),A(i,"class","svelte-12q354r"),A(e,"slot","signed-out"),A(e,"class","text-center"),O(e,"display","flex"),O(e,"height","100%")},m(t,s){w(t,e,s),St(n,e,null),b(e,r),b(e,i),b(i,o),b(i,a),b(i,u),b(i,c),St(l,i,null),b(i,f),St(d,i,null),b(i,m),St(g,i,null),v=!0},p(e,r){t=e;const i={};4&r&&(i.isOpen=t[2]),4104&r&&(i.$$scope={dirty:r,ctx:t}),n.$set(i);const o={};!h&&1&r&&(h=!0,o.value=t[0],at((()=>h=!1))),l.$set(o);const s={};!p&&2&r&&(p=!0,s.value=t[1],at((()=>p=!1))),d.$set(s);const a={};4096&r&&(a.$$scope={dirty:r,ctx:t}),g.$set(a)},i(t){v||(yt(n.$$.fragment,t),yt(l.$$.fragment,t),yt(d.$$.fragment,t),yt(g.$$.fragment,t),v=!0)},o(t){bt(n.$$.fragment,t),bt(l.$$.fragment,t),bt(d.$$.fragment,t),bt(g.$$.fragment,t),v=!1},d(t){t&&I(e),kt(n),kt(l),kt(d),kt(g)}}}function zI(t){let e,n;return e=new Ri({props:{$$slots:{"signed-out":[GI,({user:t,auth:e})=>({10:t,11:e}),({user:t,auth:e})=>(t?1024:0)|(e?2048:0)],default:[MI,({user:t,auth:e})=>({10:t,11:e}),({user:t,auth:e})=>(t?1024:0)|(e?2048:0)]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(t,n){const r={};5135&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function WI(t){let e,n;return e=new wi({props:{firebase:ps,$$slots:{default:[zI]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(t,[n]){const r={};4111&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function HI(t,e,n){let r,i,o,s=!1;async function a(t){try{await t.signInWithEmailAndPassword(r,i)}catch(t){n(3,o=t),n(2,s=!0)}}return[r,i,s,o,()=>n(2,s=!s),a,function(t){r=t,n(0,r)},function(t){i=t,n(1,i)},t=>a(t),t=>function(t){t.signOut()}(t)]}class XI extends Nt{constructor(t){super(),At(this,t,HI,WI,a,{})}}function QI(t){let e,n=(t[4].timeCreated?t[4].timeCreated.toDate().toLocaleString():"...")+"";return{c(){e=T(n)},m(t,n){w(t,e,n)},p(t,r){16&r&&n!==(n=(t[4].timeCreated?t[4].timeCreated.toDate().toLocaleString():"...")+"")&&D(e,n)},d(t){t&&I(e)}}}function YI(t){let e,n=t[4].isChatting?"":"";return{c(){e=T(n)},m(t,n){w(t,e,n)},p(t,r){16&r&&n!==(n=t[4].isChatting?"":"")&&D(e,n)},d(t){t&&I(e)}}}function JI(t){let e,n=t[4].isFinished?"":"";return{c(){e=T(n)},m(t,n){w(t,e,n)},p(t,r){16&r&&n!==(n=t[4].isFinished?"":"")&&D(e,n)},d(t){t&&I(e)}}}function ZI(t){let e,n,r;return{c(){e=E("a"),n=T("Link"),A(e,"href",r="#/chat/1/"+t[4].id),A(e,"class","svelte-1r5h7sm")},m(t,r){w(t,e,r),b(e,n)},p(t,n){16&n&&r!==(r="#/chat/1/"+t[4].id)&&A(e,"href",r)},d(t){t&&I(e)}}}function t$(t){let e,n,r,i,o,s,a,u;return e=new Pe({props:{header:"Time Created",width:"8rem",$$slots:{default:[QI]},$$scope:{ctx:t}}}),r=new Pe({props:{header:"Is Chatting",width:"8rem",$$slots:{default:[YI]},$$scope:{ctx:t}}}),o=new Pe({props:{header:"Is Finished",width:"8rem",$$slots:{default:[JI]},$$scope:{ctx:t}}}),a=new Pe({props:{header:"Link",width:"8rem",$$slots:{default:[ZI]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment),n=_(),_t(r.$$.fragment),i=_(),_t(o.$$.fragment),s=_(),_t(a.$$.fragment)},m(t,c){St(e,t,c),w(t,n,c),St(r,t,c),w(t,i,c),St(o,t,c),w(t,s,c),St(a,t,c),u=!0},p(t,n){const i={};48&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const s={};48&n&&(s.$$scope={dirty:n,ctx:t}),r.$set(s);const u={};48&n&&(u.$$scope={dirty:n,ctx:t}),o.$set(u);const c={};48&n&&(c.$$scope={dirty:n,ctx:t}),a.$set(c)},i(t){u||(yt(e.$$.fragment,t),yt(r.$$.fragment,t),yt(o.$$.fragment,t),yt(a.$$.fragment,t),u=!0)},o(t){bt(e.$$.fragment,t),bt(r.$$.fragment,t),bt(o.$$.fragment,t),bt(a.$$.fragment,t),u=!1},d(t){kt(e,t),t&&I(n),kt(r,t),t&&I(i),kt(o,t),t&&I(s),kt(a,t)}}}function e$(t){let e,n;return e=new ri({props:{rows:t[2],striped:!0,$$slots:{default:[t$,({row:t})=>({4:t}),({row:t})=>t?16:0]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.rows=t[2]),48&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function n$(t){let e,n;return e=new vo({props:{path:"/users",query:o$,$$slots:{default:[e$,({data:t,ref:e})=>({2:t,3:e}),({data:t,ref:e})=>(t?4:0)|(e?8:0)]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(t,n){const r={};36&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function r$(t){let e,n;return e=new Ri({props:{$$slots:{default:[n$,({user:t,auth:e})=>({0:t,1:e}),({user:t,auth:e})=>(t?1:0)|(e?2:0)]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(t,n){const r={};32&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function i$(t){let e,n;return e=new wi({props:{firebase:ps,$$slots:{default:[r$]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment)},m(t,r){St(e,t,r),n=!0},p(t,[n]){const r={};32&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){bt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}const o$=t=>t.orderBy("timeCreated");class s$ extends Nt{constructor(t){super(),At(this,t,null,i$,a,{})}}function a$(e){let n,r,i=ui.header+"";return{c(){r=S(),n=new M(r)},m(t,e){n.m(i,t,e),w(t,r,e)},p:t,i:t,o:t,d(t){t&&I(r),t&&n.d()}}}function u$(t,e,n){let{params:r}=e;return console.log(`404: '${r.wild}'`),t.$$set=t=>{"params"in t&&n(0,r=t.params)},[r]}class c$ extends Nt{constructor(t){super(),At(this,t,u$,a$,a,{params:0})}}function l$(e){let n,r,i,o,s;return r=new AI({}),o=new qt({props:{routes:e[0]}}),{c(){n=E("nav"),_t(r.$$.fragment),i=_(),_t(o.$$.fragment)},m(t,e){w(t,n,e),St(r,n,null),w(t,i,e),St(o,t,e),s=!0},p:t,i(t){s||(yt(r.$$.fragment,t),yt(o.$$.fragment,t),s=!0)},o(t){bt(r.$$.fragment,t),bt(o.$$.fragment,t),s=!1},d(t){t&&I(n),kt(r),t&&I(i),kt(o,t)}}}function h$(t){const e={"/":gi,"/chat/:u?/:t?":hI,"/about":dI,"/login":XI,"/dash":s$,"*":c$},n={apiKey:"AIzaSyDpFJ1vMnojgESGXD-yjlQyIXU8GuJNQLA",authDomain:"csachat-9dff3.firebaseapp.com",databaseURL:"https://csachat-9dff3-default-rtdb.firebaseio.com",projectId:"csachat-9dff3",storageBucket:"csachat-9dff3.appspot.com",messagingSenderId:"384915371882",appId:"1:384915371882:web:2a14a7141b635d69381713"};return ps.apps.length||ps.initializeApp(n),[e]}return new class extends Nt{constructor(t){super(),At(this,t,h$,l$,a,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
